"use strict";var B_e=Object.create;var wI=Object.defineProperty;var W_e=Object.getOwnPropertyDescriptor;var G_e=Object.getOwnPropertyNames;var H_e=Object.getPrototypeOf,K_e=Object.prototype.hasOwnProperty;var Mi=(t,e)=>()=>(t&&(e=t(t=0)),e);var _=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),cP=(t,e)=>{for(var r in e)wI(t,r,{get:e[r],enumerable:!0})},Mq=(t,e,r,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of G_e(e))!K_e.call(t,s)&&s!==r&&wI(t,s,{get:()=>e[s],enumerable:!(i=W_e(e,s))||i.enumerable});return t};var Ie=(t,e,r)=>(r=t!=null?B_e(H_e(t)):{},Mq(e||!t||!t.__esModule?wI(r,"default",{value:t,enumerable:!0}):r,t)),Uq=t=>Mq(wI({},"__esModule",{value:!0}),t);var Nq=_((xrt,Lq)=>{"use strict";var $_e=new Set(["ENOTFOUND","ENETUNREACH","UNABLE_TO_GET_ISSUER_CERT","UNABLE_TO_GET_CRL","UNABLE_TO_DECRYPT_CERT_SIGNATURE","UNABLE_TO_DECRYPT_CRL_SIGNATURE","UNABLE_TO_DECODE_ISSUER_PUBLIC_KEY","CERT_SIGNATURE_FAILURE","CRL_SIGNATURE_FAILURE","CERT_NOT_YET_VALID","CERT_HAS_EXPIRED","CRL_NOT_YET_VALID","CRL_HAS_EXPIRED","ERROR_IN_CERT_NOT_BEFORE_FIELD","ERROR_IN_CERT_NOT_AFTER_FIELD","ERROR_IN_CRL_LAST_UPDATE_FIELD","ERROR_IN_CRL_NEXT_UPDATE_FIELD","OUT_OF_MEM","DEPTH_ZERO_SELF_SIGNED_CERT","SELF_SIGNED_CERT_IN_CHAIN","UNABLE_TO_GET_ISSUER_CERT_LOCALLY","UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_CHAIN_TOO_LONG","CERT_REVOKED","INVALID_CA","PATH_LENGTH_EXCEEDED","INVALID_PURPOSE","CERT_UNTRUSTED","CERT_REJECTED","HOSTNAME_MISMATCH"]);Lq.exports=t=>!$_e.has(t&&t.code)});var uB=_((Frt,lB)=>{var aB=require("stream").Stream,Uve=require("util");lB.exports=ys;function ys(){this.source=null,this.dataSize=0,this.maxDataSize=1024*1024,this.pauseStream=!0,this._maxDataSizeExceeded=!1,this._released=!1,this._bufferedEvents=[]}Uve.inherits(ys,aB);ys.create=function(t,e){var r=new this;e=e||{};for(var i in e)r[i]=e[i];r.source=t;var s=t.emit;return t.emit=function(){return r._handleEmit(arguments),s.apply(t,arguments)},t.on("error",function(){}),r.pauseStream&&t.pause(),r};Object.defineProperty(ys.prototype,"readable",{configurable:!0,enumerable:!0,get:function(){return this.source.readable}});ys.prototype.setEncoding=function(){return this.source.setEncoding.apply(this.source,arguments)};ys.prototype.resume=function(){this._released||this.release(),this.source.resume()};ys.prototype.pause=function(){this.source.pause()};ys.prototype.release=function(){this._released=!0,this._bufferedEvents.forEach(function(t){this.emit.apply(this,t)}.bind(this)),this._bufferedEvents=[]};ys.prototype.pipe=function(){var t=aB.prototype.pipe.apply(this,arguments);return this.resume(),t};ys.prototype._handleEmit=function(t){if(this._released){this.emit.apply(this,t);return}t[0]==="data"&&(this.dataSize+=t[1].length,this._checkIfMaxDataSizeExceeded()),this._bufferedEvents.push(t)};ys.prototype._checkIfMaxDataSizeExceeded=function(){if(!this._maxDataSizeExceeded&&!(this.dataSize<=this.maxDataSize)){this._maxDataSizeExceeded=!0;var t="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this.emit("error",new Error(t))}}});var mB=_((Prt,pB)=>{var Lve=require("util"),cB=require("stream").Stream,dB=uB();pB.exports=vr;function vr(){this.writable=!1,this.readable=!0,this.dataSize=0,this.maxDataSize=2*1024*1024,this.pauseStreams=!0,this._released=!1,this._streams=[],this._currentStream=null,this._insideLoop=!1,this._pendingNext=!1}Lve.inherits(vr,cB);vr.create=function(t){var e=new this;t=t||{};for(var r in t)e[r]=t[r];return e};vr.isStreamLike=function(t){return typeof t!="function"&&typeof t!="string"&&typeof t!="boolean"&&typeof t!="number"&&!Buffer.isBuffer(t)};vr.prototype.append=function(t){var e=vr.isStreamLike(t);if(e){if(!(t instanceof dB)){var r=dB.create(t,{maxDataSize:1/0,pauseStream:this.pauseStreams});t.on("data",this._checkDataSize.bind(this)),t=r}this._handleErrors(t),this.pauseStreams&&t.pause()}return this._streams.push(t),this};vr.prototype.pipe=function(t,e){return cB.prototype.pipe.call(this,t,e),this.resume(),t};vr.prototype._getNext=function(){if(this._currentStream=null,this._insideLoop){this._pendingNext=!0;return}this._insideLoop=!0;try{do this._pendingNext=!1,this._realGetNext();while(this._pendingNext)}finally{this._insideLoop=!1}};vr.prototype._realGetNext=function(){var t=this._streams.shift();if(typeof t>"u"){this.end();return}if(typeof t!="function"){this._pipeNext(t);return}var e=t;e(function(r){var i=vr.isStreamLike(r);i&&(r.on("data",this._checkDataSize.bind(this)),this._handleErrors(r)),this._pipeNext(r)}.bind(this))};vr.prototype._pipeNext=function(t){this._currentStream=t;var e=vr.isStreamLike(t);if(e){t.on("end",this._getNext.bind(this)),t.pipe(this,{end:!1});return}var r=t;this.write(r),this._getNext()};vr.prototype._handleErrors=function(t){var e=this;t.on("error",function(r){e._emitError(r)})};vr.prototype.write=function(t){this.emit("data",t)};vr.prototype.pause=function(){this.pauseStreams&&(this.pauseStreams&&this._currentStream&&typeof this._currentStream.pause=="function"&&this._currentStream.pause(),this.emit("pause"))};vr.prototype.resume=function(){this._released||(this._released=!0,this.writable=!0,this._getNext()),this.pauseStreams&&this._currentStream&&typeof this._currentStream.resume=="function"&&this._currentStream.resume(),this.emit("resume")};vr.prototype.end=function(){this._reset(),this.emit("end")};vr.prototype.destroy=function(){this._reset(),this.emit("close")};vr.prototype._reset=function(){this.writable=!1,this._streams=[],this._currentStream=null};vr.prototype._checkDataSize=function(){if(this._updateDataSize(),!(this.dataSize<=this.maxDataSize)){var t="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this._emitError(new Error(t))}};vr.prototype._updateDataSize=function(){this.dataSize=0;var t=this;this._streams.forEach(function(e){e.dataSize&&(t.dataSize+=e.dataSize)}),this._currentStream&&this._currentStream.dataSize&&(this.dataSize+=this._currentStream.dataSize)};vr.prototype._emitError=function(t){this._reset(),this.emit("error",t)}});var gB=_((jrt,Nve)=>{Nve.exports={"application/1d-interleaved-parityfec":{source:"iana"},"application/3gpdash-qoe-report+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/3gpp-ims+xml":{source:"iana",compressible:!0},"application/3gpphal+json":{source:"iana",compressible:!0},"application/3gpphalforms+json":{source:"iana",compressible:!0},"application/a2l":{source:"iana"},"application/ace+cbor":{source:"iana"},"application/activemessage":{source:"iana"},"application/activity+json":{source:"iana",compressible:!0},"application/alto-costmap+json":{source:"iana",compressible:!0},"application/alto-costmapfilter+json":{source:"iana",compressible:!0},"application/alto-directory+json":{source:"iana",compressible:!0},"application/alto-endpointcost+json":{source:"iana",compressible:!0},"application/alto-endpointcostparams+json":{source:"iana",compressible:!0},"application/alto-endpointprop+json":{source:"iana",compressible:!0},"application/alto-endpointpropparams+json":{source:"iana",compressible:!0},"application/alto-error+json":{source:"iana",compressible:!0},"application/alto-networkmap+json":{source:"iana",compressible:!0},"application/alto-networkmapfilter+json":{source:"iana",compressible:!0},"application/alto-updatestreamcontrol+json":{source:"iana",compressible:!0},"application/alto-updatestreamparams+json":{source:"iana",compressible:!0},"application/aml":{source:"iana"},"application/andrew-inset":{source:"iana",extensions:["ez"]},"application/applefile":{source:"iana"},"application/applixware":{source:"apache",extensions:["aw"]},"application/at+jwt":{source:"iana"},"application/atf":{source:"iana"},"application/atfx":{source:"iana"},"application/atom+xml":{source:"iana",compressible:!0,extensions:["atom"]},"application/atomcat+xml":{source:"iana",compressible:!0,extensions:["atomcat"]},"application/atomdeleted+xml":{source:"iana",compressible:!0,extensions:["atomdeleted"]},"application/atomicmail":{source:"iana"},"application/atomsvc+xml":{source:"iana",compressible:!0,extensions:["atomsvc"]},"application/atsc-dwd+xml":{source:"iana",compressible:!0,extensions:["dwd"]},"application/atsc-dynamic-event-message":{source:"iana"},"application/atsc-held+xml":{source:"iana",compressible:!0,extensions:["held"]},"application/atsc-rdt+json":{source:"iana",compressible:!0},"application/atsc-rsat+xml":{source:"iana",compressible:!0,extensions:["rsat"]},"application/atxml":{source:"iana"},"application/auth-policy+xml":{source:"iana",compressible:!0},"application/bacnet-xdd+zip":{source:"iana",compressible:!1},"application/batch-smtp":{source:"iana"},"application/bdoc":{compressible:!1,extensions:["bdoc"]},"application/beep+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/calendar+json":{source:"iana",compressible:!0},"application/calendar+xml":{source:"iana",compressible:!0,extensions:["xcs"]},"application/call-completion":{source:"iana"},"application/cals-1840":{source:"iana"},"application/captive+json":{source:"iana",compressible:!0},"application/cbor":{source:"iana"},"application/cbor-seq":{source:"iana"},"application/cccex":{source:"iana"},"application/ccmp+xml":{source:"iana",compressible:!0},"application/ccxml+xml":{source:"iana",compressible:!0,extensions:["ccxml"]},"application/cdfx+xml":{source:"iana",compressible:!0,extensions:["cdfx"]},"application/cdmi-capability":{source:"iana",extensions:["cdmia"]},"application/cdmi-container":{source:"iana",extensions:["cdmic"]},"application/cdmi-domain":{source:"iana",extensions:["cdmid"]},"application/cdmi-object":{source:"iana",extensions:["cdmio"]},"application/cdmi-queue":{source:"iana",extensions:["cdmiq"]},"application/cdni":{source:"iana"},"application/cea":{source:"iana"},"application/cea-2018+xml":{source:"iana",compressible:!0},"application/cellml+xml":{source:"iana",compressible:!0},"application/cfw":{source:"iana"},"application/city+json":{source:"iana",compressible:!0},"application/clr":{source:"iana"},"application/clue+xml":{source:"iana",compressible:!0},"application/clue_info+xml":{source:"iana",compressible:!0},"application/cms":{source:"iana"},"application/cnrp+xml":{source:"iana",compressible:!0},"application/coap-group+json":{source:"iana",compressible:!0},"application/coap-payload":{source:"iana"},"application/commonground":{source:"iana"},"application/conference-info+xml":{source:"iana",compressible:!0},"application/cose":{source:"iana"},"application/cose-key":{source:"iana"},"application/cose-key-set":{source:"iana"},"application/cpl+xml":{source:"iana",compressible:!0,extensions:["cpl"]},"application/csrattrs":{source:"iana"},"application/csta+xml":{source:"iana",compressible:!0},"application/cstadata+xml":{source:"iana",compressible:!0},"application/csvm+json":{source:"iana",compressible:!0},"application/cu-seeme":{source:"apache",extensions:["cu"]},"application/cwt":{source:"iana"},"application/cybercash":{source:"iana"},"application/dart":{compressible:!0},"application/dash+xml":{source:"iana",compressible:!0,extensions:["mpd"]},"application/dash-patch+xml":{source:"iana",compressible:!0,extensions:["mpp"]},"application/dashdelta":{source:"iana"},"application/davmount+xml":{source:"iana",compressible:!0,extensions:["davmount"]},"application/dca-rft":{source:"iana"},"application/dcd":{source:"iana"},"application/dec-dx":{source:"iana"},"application/dialog-info+xml":{source:"iana",compressible:!0},"application/dicom":{source:"iana"},"application/dicom+json":{source:"iana",compressible:!0},"application/dicom+xml":{source:"iana",compressible:!0},"application/dii":{source:"iana"},"application/dit":{source:"iana"},"application/dns":{source:"iana"},"application/dns+json":{source:"iana",compressible:!0},"application/dns-message":{source:"iana"},"application/docbook+xml":{source:"apache",compressible:!0,extensions:["dbk"]},"application/dots+cbor":{source:"iana"},"application/dskpp+xml":{source:"iana",compressible:!0},"application/dssc+der":{source:"iana",extensions:["dssc"]},"application/dssc+xml":{source:"iana",compressible:!0,extensions:["xdssc"]},"application/dvcs":{source:"iana"},"application/ecmascript":{source:"iana",compressible:!0,extensions:["es","ecma"]},"application/edi-consent":{source:"iana"},"application/edi-x12":{source:"iana",compressible:!1},"application/edifact":{source:"iana",compressible:!1},"application/efi":{source:"iana"},"application/elm+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/elm+xml":{source:"iana",compressible:!0},"application/emergencycalldata.cap+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/emergencycalldata.comment+xml":{source:"iana",compressible:!0},"application/emergencycalldata.control+xml":{source:"iana",compressible:!0},"application/emergencycalldata.deviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.ecall.msd":{source:"iana"},"application/emergencycalldata.providerinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.serviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.subscriberinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.veds+xml":{source:"iana",compressible:!0},"application/emma+xml":{source:"iana",compressible:!0,extensions:["emma"]},"application/emotionml+xml":{source:"iana",compressible:!0,extensions:["emotionml"]},"application/encaprtp":{source:"iana"},"application/epp+xml":{source:"iana",compressible:!0},"application/epub+zip":{source:"iana",compressible:!1,extensions:["epub"]},"application/eshop":{source:"iana"},"application/exi":{source:"iana",extensions:["exi"]},"application/expect-ct-report+json":{source:"iana",compressible:!0},"application/express":{source:"iana",extensions:["exp"]},"application/fastinfoset":{source:"iana"},"application/fastsoap":{source:"iana"},"application/fdt+xml":{source:"iana",compressible:!0,extensions:["fdt"]},"application/fhir+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/fhir+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/fido.trusted-apps+json":{compressible:!0},"application/fits":{source:"iana"},"application/flexfec":{source:"iana"},"application/font-sfnt":{source:"iana"},"application/font-tdpfr":{source:"iana",extensions:["pfr"]},"application/font-woff":{source:"iana",compressible:!1},"application/framework-attributes+xml":{source:"iana",compressible:!0},"application/geo+json":{source:"iana",compressible:!0,extensions:["geojson"]},"application/geo+json-seq":{source:"iana"},"application/geopackage+sqlite3":{source:"iana"},"application/geoxacml+xml":{source:"iana",compressible:!0},"application/gltf-buffer":{source:"iana"},"application/gml+xml":{source:"iana",compressible:!0,extensions:["gml"]},"application/gpx+xml":{source:"apache",compressible:!0,extensions:["gpx"]},"application/gxf":{source:"apache",extensions:["gxf"]},"application/gzip":{source:"iana",compressible:!1,extensions:["gz"]},"application/h224":{source:"iana"},"application/held+xml":{source:"iana",compressible:!0},"application/hjson":{extensions:["hjson"]},"application/http":{source:"iana"},"application/hyperstudio":{source:"iana",extensions:["stk"]},"application/ibe-key-request+xml":{source:"iana",compressible:!0},"application/ibe-pkg-reply+xml":{source:"iana",compressible:!0},"application/ibe-pp-data":{source:"iana"},"application/iges":{source:"iana"},"application/im-iscomposing+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/index":{source:"iana"},"application/index.cmd":{source:"iana"},"application/index.obj":{source:"iana"},"application/index.response":{source:"iana"},"application/index.vnd":{source:"iana"},"application/inkml+xml":{source:"iana",compressible:!0,extensions:["ink","inkml"]},"application/iotp":{source:"iana"},"application/ipfix":{source:"iana",extensions:["ipfix"]},"application/ipp":{source:"iana"},"application/isup":{source:"iana"},"application/its+xml":{source:"iana",compressible:!0,extensions:["its"]},"application/java-archive":{source:"apache",compressible:!1,extensions:["jar","war","ear"]},"application/java-serialized-object":{source:"apache",compressible:!1,extensions:["ser"]},"application/java-vm":{source:"apache",compressible:!1,extensions:["class"]},"application/javascript":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["js","mjs"]},"application/jf2feed+json":{source:"iana",compressible:!0},"application/jose":{source:"iana"},"application/jose+json":{source:"iana",compressible:!0},"application/jrd+json":{source:"iana",compressible:!0},"application/jscalendar+json":{source:"iana",compressible:!0},"application/json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["json","map"]},"application/json-patch+json":{source:"iana",compressible:!0},"application/json-seq":{source:"iana"},"application/json5":{extensions:["json5"]},"application/jsonml+json":{source:"apache",compressible:!0,extensions:["jsonml"]},"application/jwk+json":{source:"iana",compressible:!0},"application/jwk-set+json":{source:"iana",compressible:!0},"application/jwt":{source:"iana"},"application/kpml-request+xml":{source:"iana",compressible:!0},"application/kpml-response+xml":{source:"iana",compressible:!0},"application/ld+json":{source:"iana",compressible:!0,extensions:["jsonld"]},"application/lgr+xml":{source:"iana",compressible:!0,extensions:["lgr"]},"application/link-format":{source:"iana"},"application/load-control+xml":{source:"iana",compressible:!0},"application/lost+xml":{source:"iana",compressible:!0,extensions:["lostxml"]},"application/lostsync+xml":{source:"iana",compressible:!0},"application/lpf+zip":{source:"iana",compressible:!1},"application/lxf":{source:"iana"},"application/mac-binhex40":{source:"iana",extensions:["hqx"]},"application/mac-compactpro":{source:"apache",extensions:["cpt"]},"application/macwriteii":{source:"iana"},"application/mads+xml":{source:"iana",compressible:!0,extensions:["mads"]},"application/manifest+json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["webmanifest"]},"application/marc":{source:"iana",extensions:["mrc"]},"application/marcxml+xml":{source:"iana",compressible:!0,extensions:["mrcx"]},"application/mathematica":{source:"iana",extensions:["ma","nb","mb"]},"application/mathml+xml":{source:"iana",compressible:!0,extensions:["mathml"]},"application/mathml-content+xml":{source:"iana",compressible:!0},"application/mathml-presentation+xml":{source:"iana",compressible:!0},"application/mbms-associated-procedure-description+xml":{source:"iana",compressible:!0},"application/mbms-deregister+xml":{source:"iana",compressible:!0},"application/mbms-envelope+xml":{source:"iana",compressible:!0},"application/mbms-msk+xml":{source:"iana",compressible:!0},"application/mbms-msk-response+xml":{source:"iana",compressible:!0},"application/mbms-protection-description+xml":{source:"iana",compressible:!0},"application/mbms-reception-report+xml":{source:"iana",compressible:!0},"application/mbms-register+xml":{source:"iana",compressible:!0},"application/mbms-register-response+xml":{source:"iana",compressible:!0},"application/mbms-schedule+xml":{source:"iana",compressible:!0},"application/mbms-user-service-description+xml":{source:"iana",compressible:!0},"application/mbox":{source:"iana",extensions:["mbox"]},"application/media-policy-dataset+xml":{source:"iana",compressible:!0,extensions:["mpf"]},"application/media_control+xml":{source:"iana",compressible:!0},"application/mediaservercontrol+xml":{source:"iana",compressible:!0,extensions:["mscml"]},"application/merge-patch+json":{source:"iana",compressible:!0},"application/metalink+xml":{source:"apache",compressible:!0,extensions:["metalink"]},"application/metalink4+xml":{source:"iana",compressible:!0,extensions:["meta4"]},"application/mets+xml":{source:"iana",compressible:!0,extensions:["mets"]},"application/mf4":{source:"iana"},"application/mikey":{source:"iana"},"application/mipc":{source:"iana"},"application/missing-blocks+cbor-seq":{source:"iana"},"application/mmt-aei+xml":{source:"iana",compressible:!0,extensions:["maei"]},"application/mmt-usd+xml":{source:"iana",compressible:!0,extensions:["musd"]},"application/mods+xml":{source:"iana",compressible:!0,extensions:["mods"]},"application/moss-keys":{source:"iana"},"application/moss-signature":{source:"iana"},"application/mosskey-data":{source:"iana"},"application/mosskey-request":{source:"iana"},"application/mp21":{source:"iana",extensions:["m21","mp21"]},"application/mp4":{source:"iana",extensions:["mp4s","m4p"]},"application/mpeg4-generic":{source:"iana"},"application/mpeg4-iod":{source:"iana"},"application/mpeg4-iod-xmt":{source:"iana"},"application/mrb-consumer+xml":{source:"iana",compressible:!0},"application/mrb-publish+xml":{source:"iana",compressible:!0},"application/msc-ivr+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msc-mixer+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msword":{source:"iana",compressible:!1,extensions:["doc","dot"]},"application/mud+json":{source:"iana",compressible:!0},"application/multipart-core":{source:"iana"},"application/mxf":{source:"iana",extensions:["mxf"]},"application/n-quads":{source:"iana",extensions:["nq"]},"application/n-triples":{source:"iana",extensions:["nt"]},"application/nasdata":{source:"iana"},"application/news-checkgroups":{source:"iana",charset:"US-ASCII"},"application/news-groupinfo":{source:"iana",charset:"US-ASCII"},"application/news-transmission":{source:"iana"},"application/nlsml+xml":{source:"iana",compressible:!0},"application/node":{source:"iana",extensions:["cjs"]},"application/nss":{source:"iana"},"application/oauth-authz-req+jwt":{source:"iana"},"application/oblivious-dns-message":{source:"iana"},"application/ocsp-request":{source:"iana"},"application/ocsp-response":{source:"iana"},"application/octet-stream":{source:"iana",compressible:!1,extensions:["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{source:"iana",extensions:["oda"]},"application/odm+xml":{source:"iana",compressible:!0},"application/odx":{source:"iana"},"application/oebps-package+xml":{source:"iana",compressible:!0,extensions:["opf"]},"application/ogg":{source:"iana",compressible:!1,extensions:["ogx"]},"application/omdoc+xml":{source:"apache",compressible:!0,extensions:["omdoc"]},"application/onenote":{source:"apache",extensions:["onetoc","onetoc2","onetmp","onepkg"]},"application/opc-nodeset+xml":{source:"iana",compressible:!0},"application/oscore":{source:"iana"},"application/oxps":{source:"iana",extensions:["oxps"]},"application/p21":{source:"iana"},"application/p21+zip":{source:"iana",compressible:!1},"application/p2p-overlay+xml":{source:"iana",compressible:!0,extensions:["relo"]},"application/parityfec":{source:"iana"},"application/passport":{source:"iana"},"application/patch-ops-error+xml":{source:"iana",compressible:!0,extensions:["xer"]},"application/pdf":{source:"iana",compressible:!1,extensions:["pdf"]},"application/pdx":{source:"iana"},"application/pem-certificate-chain":{source:"iana"},"application/pgp-encrypted":{source:"iana",compressible:!1,extensions:["pgp"]},"application/pgp-keys":{source:"iana",extensions:["asc"]},"application/pgp-signature":{source:"iana",extensions:["asc","sig"]},"application/pics-rules":{source:"apache",extensions:["prf"]},"application/pidf+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pidf-diff+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pkcs10":{source:"iana",extensions:["p10"]},"application/pkcs12":{source:"iana"},"application/pkcs7-mime":{source:"iana",extensions:["p7m","p7c"]},"application/pkcs7-signature":{source:"iana",extensions:["p7s"]},"application/pkcs8":{source:"iana",extensions:["p8"]},"application/pkcs8-encrypted":{source:"iana"},"application/pkix-attr-cert":{source:"iana",extensions:["ac"]},"application/pkix-cert":{source:"iana",extensions:["cer"]},"application/pkix-crl":{source:"iana",extensions:["crl"]},"application/pkix-pkipath":{source:"iana",extensions:["pkipath"]},"application/pkixcmp":{source:"iana",extensions:["pki"]},"application/pls+xml":{source:"iana",compressible:!0,extensions:["pls"]},"application/poc-settings+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/postscript":{source:"iana",compressible:!0,extensions:["ai","eps","ps"]},"application/ppsp-tracker+json":{source:"iana",compressible:!0},"application/problem+json":{source:"iana",compressible:!0},"application/problem+xml":{source:"iana",compressible:!0},"application/provenance+xml":{source:"iana",compressible:!0,extensions:["provx"]},"application/prs.alvestrand.titrax-sheet":{source:"iana"},"application/prs.cww":{source:"iana",extensions:["cww"]},"application/prs.cyn":{source:"iana",charset:"7-BIT"},"application/prs.hpub+zip":{source:"iana",compressible:!1},"application/prs.nprend":{source:"iana"},"application/prs.plucker":{source:"iana"},"application/prs.rdf-xml-crypt":{source:"iana"},"application/prs.xsf+xml":{source:"iana",compressible:!0},"application/pskc+xml":{source:"iana",compressible:!0,extensions:["pskcxml"]},"application/pvd+json":{source:"iana",compressible:!0},"application/qsig":{source:"iana"},"application/raml+yaml":{compressible:!0,extensions:["raml"]},"application/raptorfec":{source:"iana"},"application/rdap+json":{source:"iana",compressible:!0},"application/rdf+xml":{source:"iana",compressible:!0,extensions:["rdf","owl"]},"application/reginfo+xml":{source:"iana",compressible:!0,extensions:["rif"]},"application/relax-ng-compact-syntax":{source:"iana",extensions:["rnc"]},"application/remote-printing":{source:"iana"},"application/reputon+json":{source:"iana",compressible:!0},"application/resource-lists+xml":{source:"iana",compressible:!0,extensions:["rl"]},"application/resource-lists-diff+xml":{source:"iana",compressible:!0,extensions:["rld"]},"application/rfc+xml":{source:"iana",compressible:!0},"application/riscos":{source:"iana"},"application/rlmi+xml":{source:"iana",compressible:!0},"application/rls-services+xml":{source:"iana",compressible:!0,extensions:["rs"]},"application/route-apd+xml":{source:"iana",compressible:!0,extensions:["rapd"]},"application/route-s-tsid+xml":{source:"iana",compressible:!0,extensions:["sls"]},"application/route-usd+xml":{source:"iana",compressible:!0,extensions:["rusd"]},"application/rpki-ghostbusters":{source:"iana",extensions:["gbr"]},"application/rpki-manifest":{source:"iana",extensions:["mft"]},"application/rpki-publication":{source:"iana"},"application/rpki-roa":{source:"iana",extensions:["roa"]},"application/rpki-updown":{source:"iana"},"application/rsd+xml":{source:"apache",compressible:!0,extensions:["rsd"]},"application/rss+xml":{source:"apache",compressible:!0,extensions:["rss"]},"application/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"application/rtploopback":{source:"iana"},"application/rtx":{source:"iana"},"application/samlassertion+xml":{source:"iana",compressible:!0},"application/samlmetadata+xml":{source:"iana",compressible:!0},"application/sarif+json":{source:"iana",compressible:!0},"application/sarif-external-properties+json":{source:"iana",compressible:!0},"application/sbe":{source:"iana"},"application/sbml+xml":{source:"iana",compressible:!0,extensions:["sbml"]},"application/scaip+xml":{source:"iana",compressible:!0},"application/scim+json":{source:"iana",compressible:!0},"application/scvp-cv-request":{source:"iana",extensions:["scq"]},"application/scvp-cv-response":{source:"iana",extensions:["scs"]},"application/scvp-vp-request":{source:"iana",extensions:["spq"]},"application/scvp-vp-response":{source:"iana",extensions:["spp"]},"application/sdp":{source:"iana",extensions:["sdp"]},"application/secevent+jwt":{source:"iana"},"application/senml+cbor":{source:"iana"},"application/senml+json":{source:"iana",compressible:!0},"application/senml+xml":{source:"iana",compressible:!0,extensions:["senmlx"]},"application/senml-etch+cbor":{source:"iana"},"application/senml-etch+json":{source:"iana",compressible:!0},"application/senml-exi":{source:"iana"},"application/sensml+cbor":{source:"iana"},"application/sensml+json":{source:"iana",compressible:!0},"application/sensml+xml":{source:"iana",compressible:!0,extensions:["sensmlx"]},"application/sensml-exi":{source:"iana"},"application/sep+xml":{source:"iana",compressible:!0},"application/sep-exi":{source:"iana"},"application/session-info":{source:"iana"},"application/set-payment":{source:"iana"},"application/set-payment-initiation":{source:"iana",extensions:["setpay"]},"application/set-registration":{source:"iana"},"application/set-registration-initiation":{source:"iana",extensions:["setreg"]},"application/sgml":{source:"iana"},"application/sgml-open-catalog":{source:"iana"},"application/shf+xml":{source:"iana",compressible:!0,extensions:["shf"]},"application/sieve":{source:"iana",extensions:["siv","sieve"]},"application/simple-filter+xml":{source:"iana",compressible:!0},"application/simple-message-summary":{source:"iana"},"application/simplesymbolcontainer":{source:"iana"},"application/sipc":{source:"iana"},"application/slate":{source:"iana"},"application/smil":{source:"iana"},"application/smil+xml":{source:"iana",compressible:!0,extensions:["smi","smil"]},"application/smpte336m":{source:"iana"},"application/soap+fastinfoset":{source:"iana"},"application/soap+xml":{source:"iana",compressible:!0},"application/sparql-query":{source:"iana",extensions:["rq"]},"application/sparql-results+xml":{source:"iana",compressible:!0,extensions:["srx"]},"application/spdx+json":{source:"iana",compressible:!0},"application/spirits-event+xml":{source:"iana",compressible:!0},"application/sql":{source:"iana"},"application/srgs":{source:"iana",extensions:["gram"]},"application/srgs+xml":{source:"iana",compressible:!0,extensions:["grxml"]},"application/sru+xml":{source:"iana",compressible:!0,extensions:["sru"]},"application/ssdl+xml":{source:"apache",compressible:!0,extensions:["ssdl"]},"application/ssml+xml":{source:"iana",compressible:!0,extensions:["ssml"]},"application/stix+json":{source:"iana",compressible:!0},"application/swid+xml":{source:"iana",compressible:!0,extensions:["swidtag"]},"application/tamp-apex-update":{source:"iana"},"application/tamp-apex-update-confirm":{source:"iana"},"application/tamp-community-update":{source:"iana"},"application/tamp-community-update-confirm":{source:"iana"},"application/tamp-error":{source:"iana"},"application/tamp-sequence-adjust":{source:"iana"},"application/tamp-sequence-adjust-confirm":{source:"iana"},"application/tamp-status-query":{source:"iana"},"application/tamp-status-response":{source:"iana"},"application/tamp-update":{source:"iana"},"application/tamp-update-confirm":{source:"iana"},"application/tar":{compressible:!0},"application/taxii+json":{source:"iana",compressible:!0},"application/td+json":{source:"iana",compressible:!0},"application/tei+xml":{source:"iana",compressible:!0,extensions:["tei","teicorpus"]},"application/tetra_isi":{source:"iana"},"application/thraud+xml":{source:"iana",compressible:!0,extensions:["tfi"]},"application/timestamp-query":{source:"iana"},"application/timestamp-reply":{source:"iana"},"application/timestamped-data":{source:"iana",extensions:["tsd"]},"application/tlsrpt+gzip":{source:"iana"},"application/tlsrpt+json":{source:"iana",compressible:!0},"application/tnauthlist":{source:"iana"},"application/token-introspection+jwt":{source:"iana"},"application/toml":{compressible:!0,extensions:["toml"]},"application/trickle-ice-sdpfrag":{source:"iana"},"application/trig":{source:"iana",extensions:["trig"]},"application/ttml+xml":{source:"iana",compressible:!0,extensions:["ttml"]},"application/tve-trigger":{source:"iana"},"application/tzif":{source:"iana"},"application/tzif-leap":{source:"iana"},"application/ubjson":{compressible:!1,extensions:["ubj"]},"application/ulpfec":{source:"iana"},"application/urc-grpsheet+xml":{source:"iana",compressible:!0},"application/urc-ressheet+xml":{source:"iana",compressible:!0,extensions:["rsheet"]},"application/urc-targetdesc+xml":{source:"iana",compressible:!0,extensions:["td"]},"application/urc-uisocketdesc+xml":{source:"iana",compressible:!0},"application/vcard+json":{source:"iana",compressible:!0},"application/vcard+xml":{source:"iana",compressible:!0},"application/vemmi":{source:"iana"},"application/vividence.scriptfile":{source:"apache"},"application/vnd.1000minds.decision-model+xml":{source:"iana",compressible:!0,extensions:["1km"]},"application/vnd.3gpp-prose+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-prose-pc3ch+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-v2x-local-service-information":{source:"iana"},"application/vnd.3gpp.5gnas":{source:"iana"},"application/vnd.3gpp.access-transfer-events+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.bsf+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gmop+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gtpc":{source:"iana"},"application/vnd.3gpp.interworking-data":{source:"iana"},"application/vnd.3gpp.lpp":{source:"iana"},"application/vnd.3gpp.mc-signalling-ear":{source:"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-payload":{source:"iana"},"application/vnd.3gpp.mcdata-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-signalling":{source:"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-floor-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-signed+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-init-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-transmission-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mid-call+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ngap":{source:"iana"},"application/vnd.3gpp.pfcp":{source:"iana"},"application/vnd.3gpp.pic-bw-large":{source:"iana",extensions:["plb"]},"application/vnd.3gpp.pic-bw-small":{source:"iana",extensions:["psb"]},"application/vnd.3gpp.pic-bw-var":{source:"iana",extensions:["pvb"]},"application/vnd.3gpp.s1ap":{source:"iana"},"application/vnd.3gpp.sms":{source:"iana"},"application/vnd.3gpp.sms+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-ext+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.state-and-event-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ussd+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.bcmcsinfo+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.sms":{source:"iana"},"application/vnd.3gpp2.tcap":{source:"iana",extensions:["tcap"]},"application/vnd.3lightssoftware.imagescal":{source:"iana"},"application/vnd.3m.post-it-notes":{source:"iana",extensions:["pwn"]},"application/vnd.accpac.simply.aso":{source:"iana",extensions:["aso"]},"application/vnd.accpac.simply.imp":{source:"iana",extensions:["imp"]},"application/vnd.acucobol":{source:"iana",extensions:["acu"]},"application/vnd.acucorp":{source:"iana",extensions:["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{source:"apache",compressible:!1,extensions:["air"]},"application/vnd.adobe.flash.movie":{source:"iana"},"application/vnd.adobe.formscentral.fcdt":{source:"iana",extensions:["fcdt"]},"application/vnd.adobe.fxp":{source:"iana",extensions:["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{source:"iana"},"application/vnd.adobe.xdp+xml":{source:"iana",compressible:!0,extensions:["xdp"]},"application/vnd.adobe.xfdf":{source:"iana",extensions:["xfdf"]},"application/vnd.aether.imp":{source:"iana"},"application/vnd.afpc.afplinedata":{source:"iana"},"application/vnd.afpc.afplinedata-pagedef":{source:"iana"},"application/vnd.afpc.cmoca-cmresource":{source:"iana"},"application/vnd.afpc.foca-charset":{source:"iana"},"application/vnd.afpc.foca-codedfont":{source:"iana"},"application/vnd.afpc.foca-codepage":{source:"iana"},"application/vnd.afpc.modca":{source:"iana"},"application/vnd.afpc.modca-cmtable":{source:"iana"},"application/vnd.afpc.modca-formdef":{source:"iana"},"application/vnd.afpc.modca-mediummap":{source:"iana"},"application/vnd.afpc.modca-objectcontainer":{source:"iana"},"application/vnd.afpc.modca-overlay":{source:"iana"},"application/vnd.afpc.modca-pagesegment":{source:"iana"},"application/vnd.age":{source:"iana",extensions:["age"]},"application/vnd.ah-barcode":{source:"iana"},"application/vnd.ahead.space":{source:"iana",extensions:["ahead"]},"application/vnd.airzip.filesecure.azf":{source:"iana",extensions:["azf"]},"application/vnd.airzip.filesecure.azs":{source:"iana",extensions:["azs"]},"application/vnd.amadeus+json":{source:"iana",compressible:!0},"application/vnd.amazon.ebook":{source:"apache",extensions:["azw"]},"application/vnd.amazon.mobi8-ebook":{source:"iana"},"application/vnd.americandynamics.acc":{source:"iana",extensions:["acc"]},"application/vnd.amiga.ami":{source:"iana",extensions:["ami"]},"application/vnd.amundsen.maze+xml":{source:"iana",compressible:!0},"application/vnd.android.ota":{source:"iana"},"application/vnd.android.package-archive":{source:"apache",compressible:!1,extensions:["apk"]},"application/vnd.anki":{source:"iana"},"application/vnd.anser-web-certificate-issue-initiation":{source:"iana",extensions:["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{source:"apache",extensions:["fti"]},"application/vnd.antix.game-component":{source:"iana",extensions:["atx"]},"application/vnd.apache.arrow.file":{source:"iana"},"application/vnd.apache.arrow.stream":{source:"iana"},"application/vnd.apache.thrift.binary":{source:"iana"},"application/vnd.apache.thrift.compact":{source:"iana"},"application/vnd.apache.thrift.json":{source:"iana"},"application/vnd.api+json":{source:"iana",compressible:!0},"application/vnd.aplextor.warrp+json":{source:"iana",compressible:!0},"application/vnd.apothekende.reservation+json":{source:"iana",compressible:!0},"application/vnd.apple.installer+xml":{source:"iana",compressible:!0,extensions:["mpkg"]},"application/vnd.apple.keynote":{source:"iana",extensions:["key"]},"application/vnd.apple.mpegurl":{source:"iana",extensions:["m3u8"]},"application/vnd.apple.numbers":{source:"iana",extensions:["numbers"]},"application/vnd.apple.pages":{source:"iana",extensions:["pages"]},"application/vnd.apple.pkpass":{compressible:!1,extensions:["pkpass"]},"application/vnd.arastra.swi":{source:"iana"},"application/vnd.aristanetworks.swi":{source:"iana",extensions:["swi"]},"application/vnd.artisan+json":{source:"iana",compressible:!0},"application/vnd.artsquare":{source:"iana"},"application/vnd.astraea-software.iota":{source:"iana",extensions:["iota"]},"application/vnd.audiograph":{source:"iana",extensions:["aep"]},"application/vnd.autopackage":{source:"iana"},"application/vnd.avalon+json":{source:"iana",compressible:!0},"application/vnd.avistar+xml":{source:"iana",compressible:!0},"application/vnd.balsamiq.bmml+xml":{source:"iana",compressible:!0,extensions:["bmml"]},"application/vnd.balsamiq.bmpr":{source:"iana"},"application/vnd.banana-accounting":{source:"iana"},"application/vnd.bbf.usp.error":{source:"iana"},"application/vnd.bbf.usp.msg":{source:"iana"},"application/vnd.bbf.usp.msg+json":{source:"iana",compressible:!0},"application/vnd.bekitzur-stech+json":{source:"iana",compressible:!0},"application/vnd.bint.med-content":{source:"iana"},"application/vnd.biopax.rdf+xml":{source:"iana",compressible:!0},"application/vnd.blink-idb-value-wrapper":{source:"iana"},"application/vnd.blueice.multipass":{source:"iana",extensions:["mpm"]},"application/vnd.bluetooth.ep.oob":{source:"iana"},"application/vnd.bluetooth.le.oob":{source:"iana"},"application/vnd.bmi":{source:"iana",extensions:["bmi"]},"application/vnd.bpf":{source:"iana"},"application/vnd.bpf3":{source:"iana"},"application/vnd.businessobjects":{source:"iana",extensions:["rep"]},"application/vnd.byu.uapi+json":{source:"iana",compressible:!0},"application/vnd.cab-jscript":{source:"iana"},"application/vnd.canon-cpdl":{source:"iana"},"application/vnd.canon-lips":{source:"iana"},"application/vnd.capasystems-pg+json":{source:"iana",compressible:!0},"application/vnd.cendio.thinlinc.clientconf":{source:"iana"},"application/vnd.century-systems.tcp_stream":{source:"iana"},"application/vnd.chemdraw+xml":{source:"iana",compressible:!0,extensions:["cdxml"]},"application/vnd.chess-pgn":{source:"iana"},"application/vnd.chipnuts.karaoke-mmd":{source:"iana",extensions:["mmd"]},"application/vnd.ciedi":{source:"iana"},"application/vnd.cinderella":{source:"iana",extensions:["cdy"]},"application/vnd.cirpack.isdn-ext":{source:"iana"},"application/vnd.citationstyles.style+xml":{source:"iana",compressible:!0,extensions:["csl"]},"application/vnd.claymore":{source:"iana",extensions:["cla"]},"application/vnd.cloanto.rp9":{source:"iana",extensions:["rp9"]},"application/vnd.clonk.c4group":{source:"iana",extensions:["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{source:"iana",extensions:["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{source:"iana",extensions:["c11amz"]},"application/vnd.coffeescript":{source:"iana"},"application/vnd.collabio.xodocuments.document":{source:"iana"},"application/vnd.collabio.xodocuments.document-template":{source:"iana"},"application/vnd.collabio.xodocuments.presentation":{source:"iana"},"application/vnd.collabio.xodocuments.presentation-template":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{source:"iana"},"application/vnd.collection+json":{source:"iana",compressible:!0},"application/vnd.collection.doc+json":{source:"iana",compressible:!0},"application/vnd.collection.next+json":{source:"iana",compressible:!0},"application/vnd.comicbook+zip":{source:"iana",compressible:!1},"application/vnd.comicbook-rar":{source:"iana"},"application/vnd.commerce-battelle":{source:"iana"},"application/vnd.commonspace":{source:"iana",extensions:["csp"]},"application/vnd.contact.cmsg":{source:"iana",extensions:["cdbcmsg"]},"application/vnd.coreos.ignition+json":{source:"iana",compressible:!0},"application/vnd.cosmocaller":{source:"iana",extensions:["cmc"]},"application/vnd.crick.clicker":{source:"iana",extensions:["clkx"]},"application/vnd.crick.clicker.keyboard":{source:"iana",extensions:["clkk"]},"application/vnd.crick.clicker.palette":{source:"iana",extensions:["clkp"]},"application/vnd.crick.clicker.template":{source:"iana",extensions:["clkt"]},"application/vnd.crick.clicker.wordbank":{source:"iana",extensions:["clkw"]},"application/vnd.criticaltools.wbs+xml":{source:"iana",compressible:!0,extensions:["wbs"]},"application/vnd.cryptii.pipe+json":{source:"iana",compressible:!0},"application/vnd.crypto-shade-file":{source:"iana"},"application/vnd.cryptomator.encrypted":{source:"iana"},"application/vnd.cryptomator.vault":{source:"iana"},"application/vnd.ctc-posml":{source:"iana",extensions:["pml"]},"application/vnd.ctct.ws+xml":{source:"iana",compressible:!0},"application/vnd.cups-pdf":{source:"iana"},"application/vnd.cups-postscript":{source:"iana"},"application/vnd.cups-ppd":{source:"iana",extensions:["ppd"]},"application/vnd.cups-raster":{source:"iana"},"application/vnd.cups-raw":{source:"iana"},"application/vnd.curl":{source:"iana"},"application/vnd.curl.car":{source:"apache",extensions:["car"]},"application/vnd.curl.pcurl":{source:"apache",extensions:["pcurl"]},"application/vnd.cyan.dean.root+xml":{source:"iana",compressible:!0},"application/vnd.cybank":{source:"iana"},"application/vnd.cyclonedx+json":{source:"iana",compressible:!0},"application/vnd.cyclonedx+xml":{source:"iana",compressible:!0},"application/vnd.d2l.coursepackage1p0+zip":{source:"iana",compressible:!1},"application/vnd.d3m-dataset":{source:"iana"},"application/vnd.d3m-problem":{source:"iana"},"application/vnd.dart":{source:"iana",compressible:!0,extensions:["dart"]},"application/vnd.data-vision.rdz":{source:"iana",extensions:["rdz"]},"application/vnd.datapackage+json":{source:"iana",compressible:!0},"application/vnd.dataresource+json":{source:"iana",compressible:!0},"application/vnd.dbf":{source:"iana",extensions:["dbf"]},"application/vnd.debian.binary-package":{source:"iana"},"application/vnd.dece.data":{source:"iana",extensions:["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{source:"iana",compressible:!0,extensions:["uvt","uvvt"]},"application/vnd.dece.unspecified":{source:"iana",extensions:["uvx","uvvx"]},"application/vnd.dece.zip":{source:"iana",extensions:["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{source:"iana",extensions:["fe_launch"]},"application/vnd.desmume.movie":{source:"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{source:"iana"},"application/vnd.dm.delegation+xml":{source:"iana",compressible:!0},"application/vnd.dna":{source:"iana",extensions:["dna"]},"application/vnd.document+json":{source:"iana",compressible:!0},"application/vnd.dolby.mlp":{source:"apache",extensions:["mlp"]},"application/vnd.dolby.mobile.1":{source:"iana"},"application/vnd.dolby.mobile.2":{source:"iana"},"application/vnd.doremir.scorecloud-binary-document":{source:"iana"},"application/vnd.dpgraph":{source:"iana",extensions:["dpg"]},"application/vnd.dreamfactory":{source:"iana",extensions:["dfac"]},"application/vnd.drive+json":{source:"iana",compressible:!0},"application/vnd.ds-keypoint":{source:"apache",extensions:["kpxx"]},"application/vnd.dtg.local":{source:"iana"},"application/vnd.dtg.local.flash":{source:"iana"},"application/vnd.dtg.local.html":{source:"iana"},"application/vnd.dvb.ait":{source:"iana",extensions:["ait"]},"application/vnd.dvb.dvbisl+xml":{source:"iana",compressible:!0},"application/vnd.dvb.dvbj":{source:"iana"},"application/vnd.dvb.esgcontainer":{source:"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess2":{source:"iana"},"application/vnd.dvb.ipdcesgpdd":{source:"iana"},"application/vnd.dvb.ipdcroaming":{source:"iana"},"application/vnd.dvb.iptv.alfec-base":{source:"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{source:"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-container+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-generic+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-msglist+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-request+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-response+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-init+xml":{source:"iana",compressible:!0},"application/vnd.dvb.pfr":{source:"iana"},"application/vnd.dvb.service":{source:"iana",extensions:["svc"]},"application/vnd.dxr":{source:"iana"},"application/vnd.dynageo":{source:"iana",extensions:["geo"]},"application/vnd.dzr":{source:"iana"},"application/vnd.easykaraoke.cdgdownload":{source:"iana"},"application/vnd.ecdis-update":{source:"iana"},"application/vnd.ecip.rlp":{source:"iana"},"application/vnd.eclipse.ditto+json":{source:"iana",compressible:!0},"application/vnd.ecowin.chart":{source:"iana",extensions:["mag"]},"application/vnd.ecowin.filerequest":{source:"iana"},"application/vnd.ecowin.fileupdate":{source:"iana"},"application/vnd.ecowin.series":{source:"iana"},"application/vnd.ecowin.seriesrequest":{source:"iana"},"application/vnd.ecowin.seriesupdate":{source:"iana"},"application/vnd.efi.img":{source:"iana"},"application/vnd.efi.iso":{source:"iana"},"application/vnd.emclient.accessrequest+xml":{source:"iana",compressible:!0},"application/vnd.enliven":{source:"iana",extensions:["nml"]},"application/vnd.enphase.envoy":{source:"iana"},"application/vnd.eprints.data+xml":{source:"iana",compressible:!0},"application/vnd.epson.esf":{source:"iana",extensions:["esf"]},"application/vnd.epson.msf":{source:"iana",extensions:["msf"]},"application/vnd.epson.quickanime":{source:"iana",extensions:["qam"]},"application/vnd.epson.salt":{source:"iana",extensions:["slt"]},"application/vnd.epson.ssf":{source:"iana",extensions:["ssf"]},"application/vnd.ericsson.quickcall":{source:"iana"},"application/vnd.espass-espass+zip":{source:"iana",compressible:!1},"application/vnd.eszigno3+xml":{source:"iana",compressible:!0,extensions:["es3","et3"]},"application/vnd.etsi.aoc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.asic-e+zip":{source:"iana",compressible:!1},"application/vnd.etsi.asic-s+zip":{source:"iana",compressible:!1},"application/vnd.etsi.cug+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvcommand+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-bc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-cod+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-npvr+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvservice+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsync+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvueprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mcid+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mheg5":{source:"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{source:"iana",compressible:!0},"application/vnd.etsi.pstn+xml":{source:"iana",compressible:!0},"application/vnd.etsi.sci+xml":{source:"iana",compressible:!0},"application/vnd.etsi.simservs+xml":{source:"iana",compressible:!0},"application/vnd.etsi.timestamp-token":{source:"iana"},"application/vnd.etsi.tsl+xml":{source:"iana",compressible:!0},"application/vnd.etsi.tsl.der":{source:"iana"},"application/vnd.eu.kasparian.car+json":{source:"iana",compressible:!0},"application/vnd.eudora.data":{source:"iana"},"application/vnd.evolv.ecig.profile":{source:"iana"},"application/vnd.evolv.ecig.settings":{source:"iana"},"application/vnd.evolv.ecig.theme":{source:"iana"},"application/vnd.exstream-empower+zip":{source:"iana",compressible:!1},"application/vnd.exstream-package":{source:"iana"},"application/vnd.ezpix-album":{source:"iana",extensions:["ez2"]},"application/vnd.ezpix-package":{source:"iana",extensions:["ez3"]},"application/vnd.f-secure.mobile":{source:"iana"},"application/vnd.familysearch.gedcom+zip":{source:"iana",compressible:!1},"application/vnd.fastcopy-disk-image":{source:"iana"},"application/vnd.fdf":{source:"iana",extensions:["fdf"]},"application/vnd.fdsn.mseed":{source:"iana",extensions:["mseed"]},"application/vnd.fdsn.seed":{source:"iana",extensions:["seed","dataless"]},"application/vnd.ffsns":{source:"iana"},"application/vnd.ficlab.flb+zip":{source:"iana",compressible:!1},"application/vnd.filmit.zfc":{source:"iana"},"application/vnd.fints":{source:"iana"},"application/vnd.firemonkeys.cloudcell":{source:"iana"},"application/vnd.flographit":{source:"iana",extensions:["gph"]},"application/vnd.fluxtime.clip":{source:"iana",extensions:["ftc"]},"application/vnd.font-fontforge-sfd":{source:"iana"},"application/vnd.framemaker":{source:"iana",extensions:["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{source:"iana",extensions:["fnc"]},"application/vnd.frogans.ltf":{source:"iana",extensions:["ltf"]},"application/vnd.fsc.weblaunch":{source:"iana",extensions:["fsc"]},"application/vnd.fujifilm.fb.docuworks":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.binder":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.container":{source:"iana"},"application/vnd.fujifilm.fb.jfi+xml":{source:"iana",compressible:!0},"application/vnd.fujitsu.oasys":{source:"iana",extensions:["oas"]},"application/vnd.fujitsu.oasys2":{source:"iana",extensions:["oa2"]},"application/vnd.fujitsu.oasys3":{source:"iana",extensions:["oa3"]},"application/vnd.fujitsu.oasysgp":{source:"iana",extensions:["fg5"]},"application/vnd.fujitsu.oasysprs":{source:"iana",extensions:["bh2"]},"application/vnd.fujixerox.art-ex":{source:"iana"},"application/vnd.fujixerox.art4":{source:"iana"},"application/vnd.fujixerox.ddd":{source:"iana",extensions:["ddd"]},"application/vnd.fujixerox.docuworks":{source:"iana",extensions:["xdw"]},"application/vnd.fujixerox.docuworks.binder":{source:"iana",extensions:["xbd"]},"application/vnd.fujixerox.docuworks.container":{source:"iana"},"application/vnd.fujixerox.hbpl":{source:"iana"},"application/vnd.fut-misnet":{source:"iana"},"application/vnd.futoin+cbor":{source:"iana"},"application/vnd.futoin+json":{source:"iana",compressible:!0},"application/vnd.fuzzysheet":{source:"iana",extensions:["fzs"]},"application/vnd.genomatix.tuxedo":{source:"iana",extensions:["txd"]},"application/vnd.gentics.grd+json":{source:"iana",compressible:!0},"application/vnd.geo+json":{source:"iana",compressible:!0},"application/vnd.geocube+xml":{source:"iana",compressible:!0},"application/vnd.geogebra.file":{source:"iana",extensions:["ggb"]},"application/vnd.geogebra.slides":{source:"iana"},"application/vnd.geogebra.tool":{source:"iana",extensions:["ggt"]},"application/vnd.geometry-explorer":{source:"iana",extensions:["gex","gre"]},"application/vnd.geonext":{source:"iana",extensions:["gxt"]},"application/vnd.geoplan":{source:"iana",extensions:["g2w"]},"application/vnd.geospace":{source:"iana",extensions:["g3w"]},"application/vnd.gerber":{source:"iana"},"application/vnd.globalplatform.card-content-mgt":{source:"iana"},"application/vnd.globalplatform.card-content-mgt-response":{source:"iana"},"application/vnd.gmx":{source:"iana",extensions:["gmx"]},"application/vnd.google-apps.document":{compressible:!1,extensions:["gdoc"]},"application/vnd.google-apps.presentation":{compressible:!1,extensions:["gslides"]},"application/vnd.google-apps.spreadsheet":{compressible:!1,extensions:["gsheet"]},"application/vnd.google-earth.kml+xml":{source:"iana",compressible:!0,extensions:["kml"]},"application/vnd.google-earth.kmz":{source:"iana",compressible:!1,extensions:["kmz"]},"application/vnd.gov.sk.e-form+xml":{source:"iana",compressible:!0},"application/vnd.gov.sk.e-form+zip":{source:"iana",compressible:!1},"application/vnd.gov.sk.xmldatacontainer+xml":{source:"iana",compressible:!0},"application/vnd.grafeq":{source:"iana",extensions:["gqf","gqs"]},"application/vnd.gridmp":{source:"iana"},"application/vnd.groove-account":{source:"iana",extensions:["gac"]},"application/vnd.groove-help":{source:"iana",extensions:["ghf"]},"application/vnd.groove-identity-message":{source:"iana",extensions:["gim"]},"application/vnd.groove-injector":{source:"iana",extensions:["grv"]},"application/vnd.groove-tool-message":{source:"iana",extensions:["gtm"]},"application/vnd.groove-tool-template":{source:"iana",extensions:["tpl"]},"application/vnd.groove-vcard":{source:"iana",extensions:["vcg"]},"application/vnd.hal+json":{source:"iana",compressible:!0},"application/vnd.hal+xml":{source:"iana",compressible:!0,extensions:["hal"]},"application/vnd.handheld-entertainment+xml":{source:"iana",compressible:!0,extensions:["zmm"]},"application/vnd.hbci":{source:"iana",extensions:["hbci"]},"application/vnd.hc+json":{source:"iana",compressible:!0},"application/vnd.hcl-bireports":{source:"iana"},"application/vnd.hdt":{source:"iana"},"application/vnd.heroku+json":{source:"iana",compressible:!0},"application/vnd.hhe.lesson-player":{source:"iana",extensions:["les"]},"application/vnd.hl7cda+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.hl7v2+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.hp-hpgl":{source:"iana",extensions:["hpgl"]},"application/vnd.hp-hpid":{source:"iana",extensions:["hpid"]},"application/vnd.hp-hps":{source:"iana",extensions:["hps"]},"application/vnd.hp-jlyt":{source:"iana",extensions:["jlt"]},"application/vnd.hp-pcl":{source:"iana",extensions:["pcl"]},"application/vnd.hp-pclxl":{source:"iana",extensions:["pclxl"]},"application/vnd.httphone":{source:"iana"},"application/vnd.hydrostatix.sof-data":{source:"iana",extensions:["sfd-hdstx"]},"application/vnd.hyper+json":{source:"iana",compressible:!0},"application/vnd.hyper-item+json":{source:"iana",compressible:!0},"application/vnd.hyperdrive+json":{source:"iana",compressible:!0},"application/vnd.hzn-3d-crossword":{source:"iana"},"application/vnd.ibm.afplinedata":{source:"iana"},"application/vnd.ibm.electronic-media":{source:"iana"},"application/vnd.ibm.minipay":{source:"iana",extensions:["mpy"]},"application/vnd.ibm.modcap":{source:"iana",extensions:["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{source:"iana",extensions:["irm"]},"application/vnd.ibm.secure-container":{source:"iana",extensions:["sc"]},"application/vnd.iccprofile":{source:"iana",extensions:["icc","icm"]},"application/vnd.ieee.1905":{source:"iana"},"application/vnd.igloader":{source:"iana",extensions:["igl"]},"application/vnd.imagemeter.folder+zip":{source:"iana",compressible:!1},"application/vnd.imagemeter.image+zip":{source:"iana",compressible:!1},"application/vnd.immervision-ivp":{source:"iana",extensions:["ivp"]},"application/vnd.immervision-ivu":{source:"iana",extensions:["ivu"]},"application/vnd.ims.imsccv1p1":{source:"iana"},"application/vnd.ims.imsccv1p2":{source:"iana"},"application/vnd.ims.imsccv1p3":{source:"iana"},"application/vnd.ims.lis.v2.result+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy.id+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings.simple+json":{source:"iana",compressible:!0},"application/vnd.informedcontrol.rms+xml":{source:"iana",compressible:!0},"application/vnd.informix-visionary":{source:"iana"},"application/vnd.infotech.project":{source:"iana"},"application/vnd.infotech.project+xml":{source:"iana",compressible:!0},"application/vnd.innopath.wamp.notification":{source:"iana"},"application/vnd.insors.igm":{source:"iana",extensions:["igm"]},"application/vnd.intercon.formnet":{source:"iana",extensions:["xpw","xpx"]},"application/vnd.intergeo":{source:"iana",extensions:["i2g"]},"application/vnd.intertrust.digibox":{source:"iana"},"application/vnd.intertrust.nncp":{source:"iana"},"application/vnd.intu.qbo":{source:"iana",extensions:["qbo"]},"application/vnd.intu.qfx":{source:"iana",extensions:["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.conceptitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.knowledgeitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsmessage+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.packageitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.planningitem+xml":{source:"iana",compressible:!0},"application/vnd.ipunplugged.rcprofile":{source:"iana",extensions:["rcprofile"]},"application/vnd.irepository.package+xml":{source:"iana",compressible:!0,extensions:["irp"]},"application/vnd.is-xpr":{source:"iana",extensions:["xpr"]},"application/vnd.isac.fcs":{source:"iana",extensions:["fcs"]},"application/vnd.iso11783-10+zip":{source:"iana",compressible:!1},"application/vnd.jam":{source:"iana",extensions:["jam"]},"application/vnd.japannet-directory-service":{source:"iana"},"application/vnd.japannet-jpnstore-wakeup":{source:"iana"},"application/vnd.japannet-payment-wakeup":{source:"iana"},"application/vnd.japannet-registration":{source:"iana"},"application/vnd.japannet-registration-wakeup":{source:"iana"},"application/vnd.japannet-setstore-wakeup":{source:"iana"},"application/vnd.japannet-verification":{source:"iana"},"application/vnd.japannet-verification-wakeup":{source:"iana"},"application/vnd.jcp.javame.midlet-rms":{source:"iana",extensions:["rms"]},"application/vnd.jisp":{source:"iana",extensions:["jisp"]},"application/vnd.joost.joda-archive":{source:"iana",extensions:["joda"]},"application/vnd.jsk.isdn-ngn":{source:"iana"},"application/vnd.kahootz":{source:"iana",extensions:["ktz","ktr"]},"application/vnd.kde.karbon":{source:"iana",extensions:["karbon"]},"application/vnd.kde.kchart":{source:"iana",extensions:["chrt"]},"application/vnd.kde.kformula":{source:"iana",extensions:["kfo"]},"application/vnd.kde.kivio":{source:"iana",extensions:["flw"]},"application/vnd.kde.kontour":{source:"iana",extensions:["kon"]},"application/vnd.kde.kpresenter":{source:"iana",extensions:["kpr","kpt"]},"application/vnd.kde.kspread":{source:"iana",extensions:["ksp"]},"application/vnd.kde.kword":{source:"iana",extensions:["kwd","kwt"]},"application/vnd.kenameaapp":{source:"iana",extensions:["htke"]},"application/vnd.kidspiration":{source:"iana",extensions:["kia"]},"application/vnd.kinar":{source:"iana",extensions:["kne","knp"]},"application/vnd.koan":{source:"iana",extensions:["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{source:"iana",extensions:["sse"]},"application/vnd.las":{source:"iana"},"application/vnd.las.las+json":{source:"iana",compressible:!0},"application/vnd.las.las+xml":{source:"iana",compressible:!0,extensions:["lasxml"]},"application/vnd.laszip":{source:"iana"},"application/vnd.leap+json":{source:"iana",compressible:!0},"application/vnd.liberty-request+xml":{source:"iana",compressible:!0},"application/vnd.llamagraphics.life-balance.desktop":{source:"iana",extensions:["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{source:"iana",compressible:!0,extensions:["lbe"]},"application/vnd.logipipe.circuit+zip":{source:"iana",compressible:!1},"application/vnd.loom":{source:"iana"},"application/vnd.lotus-1-2-3":{source:"iana",extensions:["123"]},"application/vnd.lotus-approach":{source:"iana",extensions:["apr"]},"application/vnd.lotus-freelance":{source:"iana",extensions:["pre"]},"application/vnd.lotus-notes":{source:"iana",extensions:["nsf"]},"application/vnd.lotus-organizer":{source:"iana",extensions:["org"]},"application/vnd.lotus-screencam":{source:"iana",extensions:["scm"]},"application/vnd.lotus-wordpro":{source:"iana",extensions:["lwp"]},"application/vnd.macports.portpkg":{source:"iana",extensions:["portpkg"]},"application/vnd.mapbox-vector-tile":{source:"iana",extensions:["mvt"]},"application/vnd.marlin.drm.actiontoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.conftoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.license+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.mdcf":{source:"iana"},"application/vnd.mason+json":{source:"iana",compressible:!0},"application/vnd.maxar.archive.3tz+zip":{source:"iana",compressible:!1},"application/vnd.maxmind.maxmind-db":{source:"iana"},"application/vnd.mcd":{source:"iana",extensions:["mcd"]},"application/vnd.medcalcdata":{source:"iana",extensions:["mc1"]},"application/vnd.mediastation.cdkey":{source:"iana",extensions:["cdkey"]},"application/vnd.meridian-slingshot":{source:"iana"},"application/vnd.mfer":{source:"iana",extensions:["mwf"]},"application/vnd.mfmp":{source:"iana",extensions:["mfm"]},"application/vnd.micro+json":{source:"iana",compressible:!0},"application/vnd.micrografx.flo":{source:"iana",extensions:["flo"]},"application/vnd.micrografx.igx":{source:"iana",extensions:["igx"]},"application/vnd.microsoft.portable-executable":{source:"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{source:"iana"},"application/vnd.miele+json":{source:"iana",compressible:!0},"application/vnd.mif":{source:"iana",extensions:["mif"]},"application/vnd.minisoft-hp3000-save":{source:"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{source:"iana"},"application/vnd.mobius.daf":{source:"iana",extensions:["daf"]},"application/vnd.mobius.dis":{source:"iana",extensions:["dis"]},"application/vnd.mobius.mbk":{source:"iana",extensions:["mbk"]},"application/vnd.mobius.mqy":{source:"iana",extensions:["mqy"]},"application/vnd.mobius.msl":{source:"iana",extensions:["msl"]},"application/vnd.mobius.plc":{source:"iana",extensions:["plc"]},"application/vnd.mobius.txf":{source:"iana",extensions:["txf"]},"application/vnd.mophun.application":{source:"iana",extensions:["mpn"]},"application/vnd.mophun.certificate":{source:"iana",extensions:["mpc"]},"application/vnd.motorola.flexsuite":{source:"iana"},"application/vnd.motorola.flexsuite.adsi":{source:"iana"},"application/vnd.motorola.flexsuite.fis":{source:"iana"},"application/vnd.motorola.flexsuite.gotap":{source:"iana"},"application/vnd.motorola.flexsuite.kmr":{source:"iana"},"application/vnd.motorola.flexsuite.ttc":{source:"iana"},"application/vnd.motorola.flexsuite.wem":{source:"iana"},"application/vnd.motorola.iprm":{source:"iana"},"application/vnd.mozilla.xul+xml":{source:"iana",compressible:!0,extensions:["xul"]},"application/vnd.ms-3mfdocument":{source:"iana"},"application/vnd.ms-artgalry":{source:"iana",extensions:["cil"]},"application/vnd.ms-asf":{source:"iana"},"application/vnd.ms-cab-compressed":{source:"iana",extensions:["cab"]},"application/vnd.ms-color.iccprofile":{source:"apache"},"application/vnd.ms-excel":{source:"iana",compressible:!1,extensions:["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{source:"iana",extensions:["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{source:"iana",extensions:["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{source:"iana",extensions:["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{source:"iana",extensions:["xltm"]},"application/vnd.ms-fontobject":{source:"iana",compressible:!0,extensions:["eot"]},"application/vnd.ms-htmlhelp":{source:"iana",extensions:["chm"]},"application/vnd.ms-ims":{source:"iana",extensions:["ims"]},"application/vnd.ms-lrm":{source:"iana",extensions:["lrm"]},"application/vnd.ms-office.activex+xml":{source:"iana",compressible:!0},"application/vnd.ms-officetheme":{source:"iana",extensions:["thmx"]},"application/vnd.ms-opentype":{source:"apache",compressible:!0},"application/vnd.ms-outlook":{compressible:!1,extensions:["msg"]},"application/vnd.ms-package.obfuscated-opentype":{source:"apache"},"application/vnd.ms-pki.seccat":{source:"apache",extensions:["cat"]},"application/vnd.ms-pki.stl":{source:"apache",extensions:["stl"]},"application/vnd.ms-playready.initiator+xml":{source:"iana",compressible:!0},"application/vnd.ms-powerpoint":{source:"iana",compressible:!1,extensions:["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{source:"iana",extensions:["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{source:"iana",extensions:["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{source:"iana",extensions:["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{source:"iana",extensions:["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{source:"iana",extensions:["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{source:"iana",compressible:!0},"application/vnd.ms-printing.printticket+xml":{source:"apache",compressible:!0},"application/vnd.ms-printschematicket+xml":{source:"iana",compressible:!0},"application/vnd.ms-project":{source:"iana",extensions:["mpp","mpt"]},"application/vnd.ms-tnef":{source:"iana"},"application/vnd.ms-windows.devicepairing":{source:"iana"},"application/vnd.ms-windows.nwprinting.oob":{source:"iana"},"application/vnd.ms-windows.printerpairing":{source:"iana"},"application/vnd.ms-windows.wsd.oob":{source:"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.lic-resp":{source:"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.meter-resp":{source:"iana"},"application/vnd.ms-word.document.macroenabled.12":{source:"iana",extensions:["docm"]},"application/vnd.ms-word.template.macroenabled.12":{source:"iana",extensions:["dotm"]},"application/vnd.ms-works":{source:"iana",extensions:["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{source:"iana",extensions:["wpl"]},"application/vnd.ms-xpsdocument":{source:"iana",compressible:!1,extensions:["xps"]},"application/vnd.msa-disk-image":{source:"iana"},"application/vnd.mseq":{source:"iana",extensions:["mseq"]},"application/vnd.msign":{source:"iana"},"application/vnd.multiad.creator":{source:"iana"},"application/vnd.multiad.creator.cif":{source:"iana"},"application/vnd.music-niff":{source:"iana"},"application/vnd.musician":{source:"iana",extensions:["mus"]},"application/vnd.muvee.style":{source:"iana",extensions:["msty"]},"application/vnd.mynfc":{source:"iana",extensions:["taglet"]},"application/vnd.nacamar.ybrid+json":{source:"iana",compressible:!0},"application/vnd.ncd.control":{source:"iana"},"application/vnd.ncd.reference":{source:"iana"},"application/vnd.nearst.inv+json":{source:"iana",compressible:!0},"application/vnd.nebumind.line":{source:"iana"},"application/vnd.nervana":{source:"iana"},"application/vnd.netfpx":{source:"iana"},"application/vnd.neurolanguage.nlu":{source:"iana",extensions:["nlu"]},"application/vnd.nimn":{source:"iana"},"application/vnd.nintendo.nitro.rom":{source:"iana"},"application/vnd.nintendo.snes.rom":{source:"iana"},"application/vnd.nitf":{source:"iana",extensions:["ntf","nitf"]},"application/vnd.noblenet-directory":{source:"iana",extensions:["nnd"]},"application/vnd.noblenet-sealer":{source:"iana",extensions:["nns"]},"application/vnd.noblenet-web":{source:"iana",extensions:["nnw"]},"application/vnd.nokia.catalogs":{source:"iana"},"application/vnd.nokia.conml+wbxml":{source:"iana"},"application/vnd.nokia.conml+xml":{source:"iana",compressible:!0},"application/vnd.nokia.iptv.config+xml":{source:"iana",compressible:!0},"application/vnd.nokia.isds-radio-presets":{source:"iana"},"application/vnd.nokia.landmark+wbxml":{source:"iana"},"application/vnd.nokia.landmark+xml":{source:"iana",compressible:!0},"application/vnd.nokia.landmarkcollection+xml":{source:"iana",compressible:!0},"application/vnd.nokia.n-gage.ac+xml":{source:"iana",compressible:!0,extensions:["ac"]},"application/vnd.nokia.n-gage.data":{source:"iana",extensions:["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{source:"iana",extensions:["n-gage"]},"application/vnd.nokia.ncd":{source:"iana"},"application/vnd.nokia.pcd+wbxml":{source:"iana"},"application/vnd.nokia.pcd+xml":{source:"iana",compressible:!0},"application/vnd.nokia.radio-preset":{source:"iana",extensions:["rpst"]},"application/vnd.nokia.radio-presets":{source:"iana",extensions:["rpss"]},"application/vnd.novadigm.edm":{source:"iana",extensions:["edm"]},"application/vnd.novadigm.edx":{source:"iana",extensions:["edx"]},"application/vnd.novadigm.ext":{source:"iana",extensions:["ext"]},"application/vnd.ntt-local.content-share":{source:"iana"},"application/vnd.ntt-local.file-transfer":{source:"iana"},"application/vnd.ntt-local.ogw_remote-access":{source:"iana"},"application/vnd.ntt-local.sip-ta_remote":{source:"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{source:"iana"},"application/vnd.oasis.opendocument.chart":{source:"iana",extensions:["odc"]},"application/vnd.oasis.opendocument.chart-template":{source:"iana",extensions:["otc"]},"application/vnd.oasis.opendocument.database":{source:"iana",extensions:["odb"]},"application/vnd.oasis.opendocument.formula":{source:"iana",extensions:["odf"]},"application/vnd.oasis.opendocument.formula-template":{source:"iana",extensions:["odft"]},"application/vnd.oasis.opendocument.graphics":{source:"iana",compressible:!1,extensions:["odg"]},"application/vnd.oasis.opendocument.graphics-template":{source:"iana",extensions:["otg"]},"application/vnd.oasis.opendocument.image":{source:"iana",extensions:["odi"]},"application/vnd.oasis.opendocument.image-template":{source:"iana",extensions:["oti"]},"application/vnd.oasis.opendocument.presentation":{source:"iana",compressible:!1,extensions:["odp"]},"application/vnd.oasis.opendocument.presentation-template":{source:"iana",extensions:["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{source:"iana",compressible:!1,extensions:["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{source:"iana",extensions:["ots"]},"application/vnd.oasis.opendocument.text":{source:"iana",compressible:!1,extensions:["odt"]},"application/vnd.oasis.opendocument.text-master":{source:"iana",extensions:["odm"]},"application/vnd.oasis.opendocument.text-template":{source:"iana",extensions:["ott"]},"application/vnd.oasis.opendocument.text-web":{source:"iana",extensions:["oth"]},"application/vnd.obn":{source:"iana"},"application/vnd.ocf+cbor":{source:"iana"},"application/vnd.oci.image.manifest.v1+json":{source:"iana",compressible:!0},"application/vnd.oftn.l10n+json":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessdownload+xml":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessstreaming+xml":{source:"iana",compressible:!0},"application/vnd.oipf.cspg-hexbinary":{source:"iana"},"application/vnd.oipf.dae.svg+xml":{source:"iana",compressible:!0},"application/vnd.oipf.dae.xhtml+xml":{source:"iana",compressible:!0},"application/vnd.oipf.mippvcontrolmessage+xml":{source:"iana",compressible:!0},"application/vnd.oipf.pae.gem":{source:"iana"},"application/vnd.oipf.spdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.oipf.spdlist+xml":{source:"iana",compressible:!0},"application/vnd.oipf.ueprofile+xml":{source:"iana",compressible:!0},"application/vnd.oipf.userprofile+xml":{source:"iana",compressible:!0},"application/vnd.olpc-sugar":{source:"iana",extensions:["xo"]},"application/vnd.oma-scws-config":{source:"iana"},"application/vnd.oma-scws-http-request":{source:"iana"},"application/vnd.oma-scws-http-response":{source:"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.drm-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.imd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.ltkm":{source:"iana"},"application/vnd.oma.bcast.notification+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.provisioningtrigger":{source:"iana"},"application/vnd.oma.bcast.sgboot":{source:"iana"},"application/vnd.oma.bcast.sgdd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sgdu":{source:"iana"},"application/vnd.oma.bcast.simple-symbol-container":{source:"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sprov+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.stkm":{source:"iana"},"application/vnd.oma.cab-address-book+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-feature-handler+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-pcc+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-subs-invite+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-user-prefs+xml":{source:"iana",compressible:!0},"application/vnd.oma.dcd":{source:"iana"},"application/vnd.oma.dcdc":{source:"iana"},"application/vnd.oma.dd2+xml":{source:"iana",compressible:!0,extensions:["dd2"]},"application/vnd.oma.drm.risd+xml":{source:"iana",compressible:!0},"application/vnd.oma.group-usage-list+xml":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+cbor":{source:"iana"},"application/vnd.oma.lwm2m+json":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+tlv":{source:"iana"},"application/vnd.oma.pal+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.detailed-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.final-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.groups+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.invocation-descriptor+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.optimized-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.push":{source:"iana"},"application/vnd.oma.scidm.messages+xml":{source:"iana",compressible:!0},"application/vnd.oma.xcap-directory+xml":{source:"iana",compressible:!0},"application/vnd.omads-email+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-file+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-folder+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omaloc-supl-init":{source:"iana"},"application/vnd.onepager":{source:"iana"},"application/vnd.onepagertamp":{source:"iana"},"application/vnd.onepagertamx":{source:"iana"},"application/vnd.onepagertat":{source:"iana"},"application/vnd.onepagertatp":{source:"iana"},"application/vnd.onepagertatx":{source:"iana"},"application/vnd.openblox.game+xml":{source:"iana",compressible:!0,extensions:["obgx"]},"application/vnd.openblox.game-binary":{source:"iana"},"application/vnd.openeye.oeb":{source:"iana"},"application/vnd.openofficeorg.extension":{source:"apache",extensions:["oxt"]},"application/vnd.openstreetmap.data+xml":{source:"iana",compressible:!0,extensions:["osm"]},"application/vnd.opentimestamps.ots":{source:"iana"},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawing+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{source:"iana",compressible:!1,extensions:["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slide":{source:"iana",extensions:["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{source:"iana",extensions:["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.template":{source:"iana",extensions:["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{source:"iana",compressible:!1,extensions:["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{source:"iana",extensions:["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.theme+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.vmldrawing":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{source:"iana",compressible:!1,extensions:["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{source:"iana",extensions:["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.core-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.relationships+xml":{source:"iana",compressible:!0},"application/vnd.oracle.resource+json":{source:"iana",compressible:!0},"application/vnd.orange.indata":{source:"iana"},"application/vnd.osa.netdeploy":{source:"iana"},"application/vnd.osgeo.mapguide.package":{source:"iana",extensions:["mgp"]},"application/vnd.osgi.bundle":{source:"iana"},"application/vnd.osgi.dp":{source:"iana",extensions:["dp"]},"application/vnd.osgi.subsystem":{source:"iana",extensions:["esa"]},"application/vnd.otps.ct-kip+xml":{source:"iana",compressible:!0},"application/vnd.oxli.countgraph":{source:"iana"},"application/vnd.pagerduty+json":{source:"iana",compressible:!0},"application/vnd.palm":{source:"iana",extensions:["pdb","pqa","oprc"]},"application/vnd.panoply":{source:"iana"},"application/vnd.paos.xml":{source:"iana"},"application/vnd.patentdive":{source:"iana"},"application/vnd.patientecommsdoc":{source:"iana"},"application/vnd.pawaafile":{source:"iana",extensions:["paw"]},"application/vnd.pcos":{source:"iana"},"application/vnd.pg.format":{source:"iana",extensions:["str"]},"application/vnd.pg.osasli":{source:"iana",extensions:["ei6"]},"application/vnd.piaccess.application-licence":{source:"iana"},"application/vnd.picsel":{source:"iana",extensions:["efif"]},"application/vnd.pmi.widget":{source:"iana",extensions:["wg"]},"application/vnd.poc.group-advertisement+xml":{source:"iana",compressible:!0},"application/vnd.pocketlearn":{source:"iana",extensions:["plf"]},"application/vnd.powerbuilder6":{source:"iana",extensions:["pbd"]},"application/vnd.powerbuilder6-s":{source:"iana"},"application/vnd.powerbuilder7":{source:"iana"},"application/vnd.powerbuilder7-s":{source:"iana"},"application/vnd.powerbuilder75":{source:"iana"},"application/vnd.powerbuilder75-s":{source:"iana"},"application/vnd.preminet":{source:"iana"},"application/vnd.previewsystems.box":{source:"iana",extensions:["box"]},"application/vnd.proteus.magazine":{source:"iana",extensions:["mgz"]},"application/vnd.psfs":{source:"iana"},"application/vnd.publishare-delta-tree":{source:"iana",extensions:["qps"]},"application/vnd.pvi.ptid1":{source:"iana",extensions:["ptid"]},"application/vnd.pwg-multiplexed":{source:"iana"},"application/vnd.pwg-xhtml-print+xml":{source:"iana",compressible:!0},"application/vnd.qualcomm.brew-app-res":{source:"iana"},"application/vnd.quarantainenet":{source:"iana"},"application/vnd.quark.quarkxpress":{source:"iana",extensions:["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{source:"iana"},"application/vnd.radisys.moml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conn+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-stream+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-base+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-detect+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-group+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-speech+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-transform+xml":{source:"iana",compressible:!0},"application/vnd.rainstor.data":{source:"iana"},"application/vnd.rapid":{source:"iana"},"application/vnd.rar":{source:"iana",extensions:["rar"]},"application/vnd.realvnc.bed":{source:"iana",extensions:["bed"]},"application/vnd.recordare.musicxml":{source:"iana",extensions:["mxl"]},"application/vnd.recordare.musicxml+xml":{source:"iana",compressible:!0,extensions:["musicxml"]},"application/vnd.renlearn.rlprint":{source:"iana"},"application/vnd.resilient.logic":{source:"iana"},"application/vnd.restful+json":{source:"iana",compressible:!0},"application/vnd.rig.cryptonote":{source:"iana",extensions:["cryptonote"]},"application/vnd.rim.cod":{source:"apache",extensions:["cod"]},"application/vnd.rn-realmedia":{source:"apache",extensions:["rm"]},"application/vnd.rn-realmedia-vbr":{source:"apache",extensions:["rmvb"]},"application/vnd.route66.link66+xml":{source:"iana",compressible:!0,extensions:["link66"]},"application/vnd.rs-274x":{source:"iana"},"application/vnd.ruckus.download":{source:"iana"},"application/vnd.s3sms":{source:"iana"},"application/vnd.sailingtracker.track":{source:"iana",extensions:["st"]},"application/vnd.sar":{source:"iana"},"application/vnd.sbm.cid":{source:"iana"},"application/vnd.sbm.mid2":{source:"iana"},"application/vnd.scribus":{source:"iana"},"application/vnd.sealed.3df":{source:"iana"},"application/vnd.sealed.csf":{source:"iana"},"application/vnd.sealed.doc":{source:"iana"},"application/vnd.sealed.eml":{source:"iana"},"application/vnd.sealed.mht":{source:"iana"},"application/vnd.sealed.net":{source:"iana"},"application/vnd.sealed.ppt":{source:"iana"},"application/vnd.sealed.tiff":{source:"iana"},"application/vnd.sealed.xls":{source:"iana"},"application/vnd.sealedmedia.softseal.html":{source:"iana"},"application/vnd.sealedmedia.softseal.pdf":{source:"iana"},"application/vnd.seemail":{source:"iana",extensions:["see"]},"application/vnd.seis+json":{source:"iana",compressible:!0},"application/vnd.sema":{source:"iana",extensions:["sema"]},"application/vnd.semd":{source:"iana",extensions:["semd"]},"application/vnd.semf":{source:"iana",extensions:["semf"]},"application/vnd.shade-save-file":{source:"iana"},"application/vnd.shana.informed.formdata":{source:"iana",extensions:["ifm"]},"application/vnd.shana.informed.formtemplate":{source:"iana",extensions:["itp"]},"application/vnd.shana.informed.interchange":{source:"iana",extensions:["iif"]},"application/vnd.shana.informed.package":{source:"iana",extensions:["ipk"]},"application/vnd.shootproof+json":{source:"iana",compressible:!0},"application/vnd.shopkick+json":{source:"iana",compressible:!0},"application/vnd.shp":{source:"iana"},"application/vnd.shx":{source:"iana"},"application/vnd.sigrok.session":{source:"iana"},"application/vnd.simtech-mindmapper":{source:"iana",extensions:["twd","twds"]},"application/vnd.siren+json":{source:"iana",compressible:!0},"application/vnd.smaf":{source:"iana",extensions:["mmf"]},"application/vnd.smart.notebook":{source:"iana"},"application/vnd.smart.teacher":{source:"iana",extensions:["teacher"]},"application/vnd.snesdev-page-table":{source:"iana"},"application/vnd.software602.filler.form+xml":{source:"iana",compressible:!0,extensions:["fo"]},"application/vnd.software602.filler.form-xml-zip":{source:"iana"},"application/vnd.solent.sdkm+xml":{source:"iana",compressible:!0,extensions:["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{source:"iana",extensions:["dxp"]},"application/vnd.spotfire.sfs":{source:"iana",extensions:["sfs"]},"application/vnd.sqlite3":{source:"iana"},"application/vnd.sss-cod":{source:"iana"},"application/vnd.sss-dtf":{source:"iana"},"application/vnd.sss-ntf":{source:"iana"},"application/vnd.stardivision.calc":{source:"apache",extensions:["sdc"]},"application/vnd.stardivision.draw":{source:"apache",extensions:["sda"]},"application/vnd.stardivision.impress":{source:"apache",extensions:["sdd"]},"application/vnd.stardivision.math":{source:"apache",extensions:["smf"]},"application/vnd.stardivision.writer":{source:"apache",extensions:["sdw","vor"]},"application/vnd.stardivision.writer-global":{source:"apache",extensions:["sgl"]},"application/vnd.stepmania.package":{source:"iana",extensions:["smzip"]},"application/vnd.stepmania.stepchart":{source:"iana",extensions:["sm"]},"application/vnd.street-stream":{source:"iana"},"application/vnd.sun.wadl+xml":{source:"iana",compressible:!0,extensions:["wadl"]},"application/vnd.sun.xml.calc":{source:"apache",extensions:["sxc"]},"application/vnd.sun.xml.calc.template":{source:"apache",extensions:["stc"]},"application/vnd.sun.xml.draw":{source:"apache",extensions:["sxd"]},"application/vnd.sun.xml.draw.template":{source:"apache",extensions:["std"]},"application/vnd.sun.xml.impress":{source:"apache",extensions:["sxi"]},"application/vnd.sun.xml.impress.template":{source:"apache",extensions:["sti"]},"application/vnd.sun.xml.math":{source:"apache",extensions:["sxm"]},"application/vnd.sun.xml.writer":{source:"apache",extensions:["sxw"]},"application/vnd.sun.xml.writer.global":{source:"apache",extensions:["sxg"]},"application/vnd.sun.xml.writer.template":{source:"apache",extensions:["stw"]},"application/vnd.sus-calendar":{source:"iana",extensions:["sus","susp"]},"application/vnd.svd":{source:"iana",extensions:["svd"]},"application/vnd.swiftview-ics":{source:"iana"},"application/vnd.sycle+xml":{source:"iana",compressible:!0},"application/vnd.syft+json":{source:"iana",compressible:!0},"application/vnd.symbian.install":{source:"apache",extensions:["sis","sisx"]},"application/vnd.syncml+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xsm"]},"application/vnd.syncml.dm+wbxml":{source:"iana",charset:"UTF-8",extensions:["bdm"]},"application/vnd.syncml.dm+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xdm"]},"application/vnd.syncml.dm.notification":{source:"iana"},"application/vnd.syncml.dmddf+wbxml":{source:"iana"},"application/vnd.syncml.dmddf+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["ddf"]},"application/vnd.syncml.dmtnds+wbxml":{source:"iana"},"application/vnd.syncml.dmtnds+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.syncml.ds.notification":{source:"iana"},"application/vnd.tableschema+json":{source:"iana",compressible:!0},"application/vnd.tao.intent-module-archive":{source:"iana",extensions:["tao"]},"application/vnd.tcpdump.pcap":{source:"iana",extensions:["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{source:"iana",compressible:!0},"application/vnd.tmd.mediaflex.api+xml":{source:"iana",compressible:!0},"application/vnd.tml":{source:"iana"},"application/vnd.tmobile-livetv":{source:"iana",extensions:["tmo"]},"application/vnd.tri.onesource":{source:"iana"},"application/vnd.trid.tpt":{source:"iana",extensions:["tpt"]},"application/vnd.triscape.mxs":{source:"iana",extensions:["mxs"]},"application/vnd.trueapp":{source:"iana",extensions:["tra"]},"application/vnd.truedoc":{source:"iana"},"application/vnd.ubisoft.webplayer":{source:"iana"},"application/vnd.ufdl":{source:"iana",extensions:["ufd","ufdl"]},"application/vnd.uiq.theme":{source:"iana",extensions:["utz"]},"application/vnd.umajin":{source:"iana",extensions:["umj"]},"application/vnd.unity":{source:"iana",extensions:["unityweb"]},"application/vnd.uoml+xml":{source:"iana",compressible:!0,extensions:["uoml"]},"application/vnd.uplanet.alert":{source:"iana"},"application/vnd.uplanet.alert-wbxml":{source:"iana"},"application/vnd.uplanet.bearer-choice":{source:"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{source:"iana"},"application/vnd.uplanet.cacheop":{source:"iana"},"application/vnd.uplanet.cacheop-wbxml":{source:"iana"},"application/vnd.uplanet.channel":{source:"iana"},"application/vnd.uplanet.channel-wbxml":{source:"iana"},"application/vnd.uplanet.list":{source:"iana"},"application/vnd.uplanet.list-wbxml":{source:"iana"},"application/vnd.uplanet.listcmd":{source:"iana"},"application/vnd.uplanet.listcmd-wbxml":{source:"iana"},"application/vnd.uplanet.signal":{source:"iana"},"application/vnd.uri-map":{source:"iana"},"application/vnd.valve.source.material":{source:"iana"},"application/vnd.vcx":{source:"iana",extensions:["vcx"]},"application/vnd.vd-study":{source:"iana"},"application/vnd.vectorworks":{source:"iana"},"application/vnd.vel+json":{source:"iana",compressible:!0},"application/vnd.verimatrix.vcas":{source:"iana"},"application/vnd.veritone.aion+json":{source:"iana",compressible:!0},"application/vnd.veryant.thin":{source:"iana"},"application/vnd.ves.encrypted":{source:"iana"},"application/vnd.vidsoft.vidconference":{source:"iana"},"application/vnd.visio":{source:"iana",extensions:["vsd","vst","vss","vsw"]},"application/vnd.visionary":{source:"iana",extensions:["vis"]},"application/vnd.vividence.scriptfile":{source:"iana"},"application/vnd.vsf":{source:"iana",extensions:["vsf"]},"application/vnd.wap.sic":{source:"iana"},"application/vnd.wap.slc":{source:"iana"},"application/vnd.wap.wbxml":{source:"iana",charset:"UTF-8",extensions:["wbxml"]},"application/vnd.wap.wmlc":{source:"iana",extensions:["wmlc"]},"application/vnd.wap.wmlscriptc":{source:"iana",extensions:["wmlsc"]},"application/vnd.webturbo":{source:"iana",extensions:["wtb"]},"application/vnd.wfa.dpp":{source:"iana"},"application/vnd.wfa.p2p":{source:"iana"},"application/vnd.wfa.wsc":{source:"iana"},"application/vnd.windows.devicepairing":{source:"iana"},"application/vnd.wmc":{source:"iana"},"application/vnd.wmf.bootstrap":{source:"iana"},"application/vnd.wolfram.mathematica":{source:"iana"},"application/vnd.wolfram.mathematica.package":{source:"iana"},"application/vnd.wolfram.player":{source:"iana",extensions:["nbp"]},"application/vnd.wordperfect":{source:"iana",extensions:["wpd"]},"application/vnd.wqd":{source:"iana",extensions:["wqd"]},"application/vnd.wrq-hp3000-labelled":{source:"iana"},"application/vnd.wt.stf":{source:"iana",extensions:["stf"]},"application/vnd.wv.csp+wbxml":{source:"iana"},"application/vnd.wv.csp+xml":{source:"iana",compressible:!0},"application/vnd.wv.ssp+xml":{source:"iana",compressible:!0},"application/vnd.xacml+json":{source:"iana",compressible:!0},"application/vnd.xara":{source:"iana",extensions:["xar"]},"application/vnd.xfdl":{source:"iana",extensions:["xfdl"]},"application/vnd.xfdl.webform":{source:"iana"},"application/vnd.xmi+xml":{source:"iana",compressible:!0},"application/vnd.xmpie.cpkg":{source:"iana"},"application/vnd.xmpie.dpkg":{source:"iana"},"application/vnd.xmpie.plan":{source:"iana"},"application/vnd.xmpie.ppkg":{source:"iana"},"application/vnd.xmpie.xlim":{source:"iana"},"application/vnd.yamaha.hv-dic":{source:"iana",extensions:["hvd"]},"application/vnd.yamaha.hv-script":{source:"iana",extensions:["hvs"]},"application/vnd.yamaha.hv-voice":{source:"iana",extensions:["hvp"]},"application/vnd.yamaha.openscoreformat":{source:"iana",extensions:["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{source:"iana",compressible:!0,extensions:["osfpvg"]},"application/vnd.yamaha.remote-setup":{source:"iana"},"application/vnd.yamaha.smaf-audio":{source:"iana",extensions:["saf"]},"application/vnd.yamaha.smaf-phrase":{source:"iana",extensions:["spf"]},"application/vnd.yamaha.through-ngn":{source:"iana"},"application/vnd.yamaha.tunnel-udpencap":{source:"iana"},"application/vnd.yaoweme":{source:"iana"},"application/vnd.yellowriver-custom-menu":{source:"iana",extensions:["cmp"]},"application/vnd.youtube.yt":{source:"iana"},"application/vnd.zul":{source:"iana",extensions:["zir","zirz"]},"application/vnd.zzazz.deck+xml":{source:"iana",compressible:!0,extensions:["zaz"]},"application/voicexml+xml":{source:"iana",compressible:!0,extensions:["vxml"]},"application/voucher-cms+json":{source:"iana",compressible:!0},"application/vq-rtcpxr":{source:"iana"},"application/wasm":{source:"iana",compressible:!0,extensions:["wasm"]},"application/watcherinfo+xml":{source:"iana",compressible:!0,extensions:["wif"]},"application/webpush-options+json":{source:"iana",compressible:!0},"application/whoispp-query":{source:"iana"},"application/whoispp-response":{source:"iana"},"application/widget":{source:"iana",extensions:["wgt"]},"application/winhlp":{source:"apache",extensions:["hlp"]},"application/wita":{source:"iana"},"application/wordperfect5.1":{source:"iana"},"application/wsdl+xml":{source:"iana",compressible:!0,extensions:["wsdl"]},"application/wspolicy+xml":{source:"iana",compressible:!0,extensions:["wspolicy"]},"application/x-7z-compressed":{source:"apache",compressible:!1,extensions:["7z"]},"application/x-abiword":{source:"apache",extensions:["abw"]},"application/x-ace-compressed":{source:"apache",extensions:["ace"]},"application/x-amf":{source:"apache"},"application/x-apple-diskimage":{source:"apache",extensions:["dmg"]},"application/x-arj":{compressible:!1,extensions:["arj"]},"application/x-authorware-bin":{source:"apache",extensions:["aab","x32","u32","vox"]},"application/x-authorware-map":{source:"apache",extensions:["aam"]},"application/x-authorware-seg":{source:"apache",extensions:["aas"]},"application/x-bcpio":{source:"apache",extensions:["bcpio"]},"application/x-bdoc":{compressible:!1,extensions:["bdoc"]},"application/x-bittorrent":{source:"apache",extensions:["torrent"]},"application/x-blorb":{source:"apache",extensions:["blb","blorb"]},"application/x-bzip":{source:"apache",compressible:!1,extensions:["bz"]},"application/x-bzip2":{source:"apache",compressible:!1,extensions:["bz2","boz"]},"application/x-cbr":{source:"apache",extensions:["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{source:"apache",extensions:["vcd"]},"application/x-cfs-compressed":{source:"apache",extensions:["cfs"]},"application/x-chat":{source:"apache",extensions:["chat"]},"application/x-chess-pgn":{source:"apache",extensions:["pgn"]},"application/x-chrome-extension":{extensions:["crx"]},"application/x-cocoa":{source:"nginx",extensions:["cco"]},"application/x-compress":{source:"apache"},"application/x-conference":{source:"apache",extensions:["nsc"]},"application/x-cpio":{source:"apache",extensions:["cpio"]},"application/x-csh":{source:"apache",extensions:["csh"]},"application/x-deb":{compressible:!1},"application/x-debian-package":{source:"apache",extensions:["deb","udeb"]},"application/x-dgc-compressed":{source:"apache",extensions:["dgc"]},"application/x-director":{source:"apache",extensions:["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{source:"apache",extensions:["wad"]},"application/x-dtbncx+xml":{source:"apache",compressible:!0,extensions:["ncx"]},"application/x-dtbook+xml":{source:"apache",compressible:!0,extensions:["dtb"]},"application/x-dtbresource+xml":{source:"apache",compressible:!0,extensions:["res"]},"application/x-dvi":{source:"apache",compressible:!1,extensions:["dvi"]},"application/x-envoy":{source:"apache",extensions:["evy"]},"application/x-eva":{source:"apache",extensions:["eva"]},"application/x-font-bdf":{source:"apache",extensions:["bdf"]},"application/x-font-dos":{source:"apache"},"application/x-font-framemaker":{source:"apache"},"application/x-font-ghostscript":{source:"apache",extensions:["gsf"]},"application/x-font-libgrx":{source:"apache"},"application/x-font-linux-psf":{source:"apache",extensions:["psf"]},"application/x-font-pcf":{source:"apache",extensions:["pcf"]},"application/x-font-snf":{source:"apache",extensions:["snf"]},"application/x-font-speedo":{source:"apache"},"application/x-font-sunos-news":{source:"apache"},"application/x-font-type1":{source:"apache",extensions:["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{source:"apache"},"application/x-freearc":{source:"apache",extensions:["arc"]},"application/x-futuresplash":{source:"apache",extensions:["spl"]},"application/x-gca-compressed":{source:"apache",extensions:["gca"]},"application/x-glulx":{source:"apache",extensions:["ulx"]},"application/x-gnumeric":{source:"apache",extensions:["gnumeric"]},"application/x-gramps-xml":{source:"apache",extensions:["gramps"]},"application/x-gtar":{source:"apache",extensions:["gtar"]},"application/x-gzip":{source:"apache"},"application/x-hdf":{source:"apache",extensions:["hdf"]},"application/x-httpd-php":{compressible:!0,extensions:["php"]},"application/x-install-instructions":{source:"apache",extensions:["install"]},"application/x-iso9660-image":{source:"apache",extensions:["iso"]},"application/x-iwork-keynote-sffkey":{extensions:["key"]},"application/x-iwork-numbers-sffnumbers":{extensions:["numbers"]},"application/x-iwork-pages-sffpages":{extensions:["pages"]},"application/x-java-archive-diff":{source:"nginx",extensions:["jardiff"]},"application/x-java-jnlp-file":{source:"apache",compressible:!1,extensions:["jnlp"]},"application/x-javascript":{compressible:!0},"application/x-keepass2":{extensions:["kdbx"]},"application/x-latex":{source:"apache",compressible:!1,extensions:["latex"]},"application/x-lua-bytecode":{extensions:["luac"]},"application/x-lzh-compressed":{source:"apache",extensions:["lzh","lha"]},"application/x-makeself":{source:"nginx",extensions:["run"]},"application/x-mie":{source:"apache",extensions:["mie"]},"application/x-mobipocket-ebook":{source:"apache",extensions:["prc","mobi"]},"application/x-mpegurl":{compressible:!1},"application/x-ms-application":{source:"apache",extensions:["application"]},"application/x-ms-shortcut":{source:"apache",extensions:["lnk"]},"application/x-ms-wmd":{source:"apache",extensions:["wmd"]},"application/x-ms-wmz":{source:"apache",extensions:["wmz"]},"application/x-ms-xbap":{source:"apache",extensions:["xbap"]},"application/x-msaccess":{source:"apache",extensions:["mdb"]},"application/x-msbinder":{source:"apache",extensions:["obd"]},"application/x-mscardfile":{source:"apache",extensions:["crd"]},"application/x-msclip":{source:"apache",extensions:["clp"]},"application/x-msdos-program":{extensions:["exe"]},"application/x-msdownload":{source:"apache",extensions:["exe","dll","com","bat","msi"]},"application/x-msmediaview":{source:"apache",extensions:["mvb","m13","m14"]},"application/x-msmetafile":{source:"apache",extensions:["wmf","wmz","emf","emz"]},"application/x-msmoney":{source:"apache",extensions:["mny"]},"application/x-mspublisher":{source:"apache",extensions:["pub"]},"application/x-msschedule":{source:"apache",extensions:["scd"]},"application/x-msterminal":{source:"apache",extensions:["trm"]},"application/x-mswrite":{source:"apache",extensions:["wri"]},"application/x-netcdf":{source:"apache",extensions:["nc","cdf"]},"application/x-ns-proxy-autoconfig":{compressible:!0,extensions:["pac"]},"application/x-nzb":{source:"apache",extensions:["nzb"]},"application/x-perl":{source:"nginx",extensions:["pl","pm"]},"application/x-pilot":{source:"nginx",extensions:["prc","pdb"]},"application/x-pkcs12":{source:"apache",compressible:!1,extensions:["p12","pfx"]},"application/x-pkcs7-certificates":{source:"apache",extensions:["p7b","spc"]},"application/x-pkcs7-certreqresp":{source:"apache",extensions:["p7r"]},"application/x-pki-message":{source:"iana"},"application/x-rar-compressed":{source:"apache",compressible:!1,extensions:["rar"]},"application/x-redhat-package-manager":{source:"nginx",extensions:["rpm"]},"application/x-research-info-systems":{source:"apache",extensions:["ris"]},"application/x-sea":{source:"nginx",extensions:["sea"]},"application/x-sh":{source:"apache",compressible:!0,extensions:["sh"]},"application/x-shar":{source:"apache",extensions:["shar"]},"application/x-shockwave-flash":{source:"apache",compressible:!1,extensions:["swf"]},"application/x-silverlight-app":{source:"apache",extensions:["xap"]},"application/x-sql":{source:"apache",extensions:["sql"]},"application/x-stuffit":{source:"apache",compressible:!1,extensions:["sit"]},"application/x-stuffitx":{source:"apache",extensions:["sitx"]},"application/x-subrip":{source:"apache",extensions:["srt"]},"application/x-sv4cpio":{source:"apache",extensions:["sv4cpio"]},"application/x-sv4crc":{source:"apache",extensions:["sv4crc"]},"application/x-t3vm-image":{source:"apache",extensions:["t3"]},"application/x-tads":{source:"apache",extensions:["gam"]},"application/x-tar":{source:"apache",compressible:!0,extensions:["tar"]},"application/x-tcl":{source:"apache",extensions:["tcl","tk"]},"application/x-tex":{source:"apache",extensions:["tex"]},"application/x-tex-tfm":{source:"apache",extensions:["tfm"]},"application/x-texinfo":{source:"apache",extensions:["texinfo","texi"]},"application/x-tgif":{source:"apache",extensions:["obj"]},"application/x-ustar":{source:"apache",extensions:["ustar"]},"application/x-virtualbox-hdd":{compressible:!0,extensions:["hdd"]},"application/x-virtualbox-ova":{compressible:!0,extensions:["ova"]},"application/x-virtualbox-ovf":{compressible:!0,extensions:["ovf"]},"application/x-virtualbox-vbox":{compressible:!0,extensions:["vbox"]},"application/x-virtualbox-vbox-extpack":{compressible:!1,extensions:["vbox-extpack"]},"application/x-virtualbox-vdi":{compressible:!0,extensions:["vdi"]},"application/x-virtualbox-vhd":{compressible:!0,extensions:["vhd"]},"application/x-virtualbox-vmdk":{compressible:!0,extensions:["vmdk"]},"application/x-wais-source":{source:"apache",extensions:["src"]},"application/x-web-app-manifest+json":{compressible:!0,extensions:["webapp"]},"application/x-www-form-urlencoded":{source:"iana",compressible:!0},"application/x-x509-ca-cert":{source:"iana",extensions:["der","crt","pem"]},"application/x-x509-ca-ra-cert":{source:"iana"},"application/x-x509-next-ca-cert":{source:"iana"},"application/x-xfig":{source:"apache",extensions:["fig"]},"application/x-xliff+xml":{source:"apache",compressible:!0,extensions:["xlf"]},"application/x-xpinstall":{source:"apache",compressible:!1,extensions:["xpi"]},"application/x-xz":{source:"apache",extensions:["xz"]},"application/x-zmachine":{source:"apache",extensions:["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{source:"iana"},"application/xacml+xml":{source:"iana",compressible:!0},"application/xaml+xml":{source:"apache",compressible:!0,extensions:["xaml"]},"application/xcap-att+xml":{source:"iana",compressible:!0,extensions:["xav"]},"application/xcap-caps+xml":{source:"iana",compressible:!0,extensions:["xca"]},"application/xcap-diff+xml":{source:"iana",compressible:!0,extensions:["xdf"]},"application/xcap-el+xml":{source:"iana",compressible:!0,extensions:["xel"]},"application/xcap-error+xml":{source:"iana",compressible:!0},"application/xcap-ns+xml":{source:"iana",compressible:!0,extensions:["xns"]},"application/xcon-conference-info+xml":{source:"iana",compressible:!0},"application/xcon-conference-info-diff+xml":{source:"iana",compressible:!0},"application/xenc+xml":{source:"iana",compressible:!0,extensions:["xenc"]},"application/xhtml+xml":{source:"iana",compressible:!0,extensions:["xhtml","xht"]},"application/xhtml-voice+xml":{source:"apache",compressible:!0},"application/xliff+xml":{source:"iana",compressible:!0,extensions:["xlf"]},"application/xml":{source:"iana",compressible:!0,extensions:["xml","xsl","xsd","rng"]},"application/xml-dtd":{source:"iana",compressible:!0,extensions:["dtd"]},"application/xml-external-parsed-entity":{source:"iana"},"application/xml-patch+xml":{source:"iana",compressible:!0},"application/xmpp+xml":{source:"iana",compressible:!0},"application/xop+xml":{source:"iana",compressible:!0,extensions:["xop"]},"application/xproc+xml":{source:"apache",compressible:!0,extensions:["xpl"]},"application/xslt+xml":{source:"iana",compressible:!0,extensions:["xsl","xslt"]},"application/xspf+xml":{source:"apache",compressible:!0,extensions:["xspf"]},"application/xv+xml":{source:"iana",compressible:!0,extensions:["mxml","xhvml","xvml","xvm"]},"application/yang":{source:"iana",extensions:["yang"]},"application/yang-data+json":{source:"iana",compressible:!0},"application/yang-data+xml":{source:"iana",compressible:!0},"application/yang-patch+json":{source:"iana",compressible:!0},"application/yang-patch+xml":{source:"iana",compressible:!0},"application/yin+xml":{source:"iana",compressible:!0,extensions:["yin"]},"application/zip":{source:"iana",compressible:!1,extensions:["zip"]},"application/zlib":{source:"iana"},"application/zstd":{source:"iana"},"audio/1d-interleaved-parityfec":{source:"iana"},"audio/32kadpcm":{source:"iana"},"audio/3gpp":{source:"iana",compressible:!1,extensions:["3gpp"]},"audio/3gpp2":{source:"iana"},"audio/aac":{source:"iana"},"audio/ac3":{source:"iana"},"audio/adpcm":{source:"apache",extensions:["adp"]},"audio/amr":{source:"iana",extensions:["amr"]},"audio/amr-wb":{source:"iana"},"audio/amr-wb+":{source:"iana"},"audio/aptx":{source:"iana"},"audio/asc":{source:"iana"},"audio/atrac-advanced-lossless":{source:"iana"},"audio/atrac-x":{source:"iana"},"audio/atrac3":{source:"iana"},"audio/basic":{source:"iana",compressible:!1,extensions:["au","snd"]},"audio/bv16":{source:"iana"},"audio/bv32":{source:"iana"},"audio/clearmode":{source:"iana"},"audio/cn":{source:"iana"},"audio/dat12":{source:"iana"},"audio/dls":{source:"iana"},"audio/dsr-es201108":{source:"iana"},"audio/dsr-es202050":{source:"iana"},"audio/dsr-es202211":{source:"iana"},"audio/dsr-es202212":{source:"iana"},"audio/dv":{source:"iana"},"audio/dvi4":{source:"iana"},"audio/eac3":{source:"iana"},"audio/encaprtp":{source:"iana"},"audio/evrc":{source:"iana"},"audio/evrc-qcp":{source:"iana"},"audio/evrc0":{source:"iana"},"audio/evrc1":{source:"iana"},"audio/evrcb":{source:"iana"},"audio/evrcb0":{source:"iana"},"audio/evrcb1":{source:"iana"},"audio/evrcnw":{source:"iana"},"audio/evrcnw0":{source:"iana"},"audio/evrcnw1":{source:"iana"},"audio/evrcwb":{source:"iana"},"audio/evrcwb0":{source:"iana"},"audio/evrcwb1":{source:"iana"},"audio/evs":{source:"iana"},"audio/flexfec":{source:"iana"},"audio/fwdred":{source:"iana"},"audio/g711-0":{source:"iana"},"audio/g719":{source:"iana"},"audio/g722":{source:"iana"},"audio/g7221":{source:"iana"},"audio/g723":{source:"iana"},"audio/g726-16":{source:"iana"},"audio/g726-24":{source:"iana"},"audio/g726-32":{source:"iana"},"audio/g726-40":{source:"iana"},"audio/g728":{source:"iana"},"audio/g729":{source:"iana"},"audio/g7291":{source:"iana"},"audio/g729d":{source:"iana"},"audio/g729e":{source:"iana"},"audio/gsm":{source:"iana"},"audio/gsm-efr":{source:"iana"},"audio/gsm-hr-08":{source:"iana"},"audio/ilbc":{source:"iana"},"audio/ip-mr_v2.5":{source:"iana"},"audio/isac":{source:"apache"},"audio/l16":{source:"iana"},"audio/l20":{source:"iana"},"audio/l24":{source:"iana",compressible:!1},"audio/l8":{source:"iana"},"audio/lpc":{source:"iana"},"audio/melp":{source:"iana"},"audio/melp1200":{source:"iana"},"audio/melp2400":{source:"iana"},"audio/melp600":{source:"iana"},"audio/mhas":{source:"iana"},"audio/midi":{source:"apache",extensions:["mid","midi","kar","rmi"]},"audio/mobile-xmf":{source:"iana",extensions:["mxmf"]},"audio/mp3":{compressible:!1,extensions:["mp3"]},"audio/mp4":{source:"iana",compressible:!1,extensions:["m4a","mp4a"]},"audio/mp4a-latm":{source:"iana"},"audio/mpa":{source:"iana"},"audio/mpa-robust":{source:"iana"},"audio/mpeg":{source:"iana",compressible:!1,extensions:["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{source:"iana"},"audio/musepack":{source:"apache"},"audio/ogg":{source:"iana",compressible:!1,extensions:["oga","ogg","spx","opus"]},"audio/opus":{source:"iana"},"audio/parityfec":{source:"iana"},"audio/pcma":{source:"iana"},"audio/pcma-wb":{source:"iana"},"audio/pcmu":{source:"iana"},"audio/pcmu-wb":{source:"iana"},"audio/prs.sid":{source:"iana"},"audio/qcelp":{source:"iana"},"audio/raptorfec":{source:"iana"},"audio/red":{source:"iana"},"audio/rtp-enc-aescm128":{source:"iana"},"audio/rtp-midi":{source:"iana"},"audio/rtploopback":{source:"iana"},"audio/rtx":{source:"iana"},"audio/s3m":{source:"apache",extensions:["s3m"]},"audio/scip":{source:"iana"},"audio/silk":{source:"apache",extensions:["sil"]},"audio/smv":{source:"iana"},"audio/smv-qcp":{source:"iana"},"audio/smv0":{source:"iana"},"audio/sofa":{source:"iana"},"audio/sp-midi":{source:"iana"},"audio/speex":{source:"iana"},"audio/t140c":{source:"iana"},"audio/t38":{source:"iana"},"audio/telephone-event":{source:"iana"},"audio/tetra_acelp":{source:"iana"},"audio/tetra_acelp_bb":{source:"iana"},"audio/tone":{source:"iana"},"audio/tsvcis":{source:"iana"},"audio/uemclip":{source:"iana"},"audio/ulpfec":{source:"iana"},"audio/usac":{source:"iana"},"audio/vdvi":{source:"iana"},"audio/vmr-wb":{source:"iana"},"audio/vnd.3gpp.iufp":{source:"iana"},"audio/vnd.4sb":{source:"iana"},"audio/vnd.audiokoz":{source:"iana"},"audio/vnd.celp":{source:"iana"},"audio/vnd.cisco.nse":{source:"iana"},"audio/vnd.cmles.radio-events":{source:"iana"},"audio/vnd.cns.anp1":{source:"iana"},"audio/vnd.cns.inf1":{source:"iana"},"audio/vnd.dece.audio":{source:"iana",extensions:["uva","uvva"]},"audio/vnd.digital-winds":{source:"iana",extensions:["eol"]},"audio/vnd.dlna.adts":{source:"iana"},"audio/vnd.dolby.heaac.1":{source:"iana"},"audio/vnd.dolby.heaac.2":{source:"iana"},"audio/vnd.dolby.mlp":{source:"iana"},"audio/vnd.dolby.mps":{source:"iana"},"audio/vnd.dolby.pl2":{source:"iana"},"audio/vnd.dolby.pl2x":{source:"iana"},"audio/vnd.dolby.pl2z":{source:"iana"},"audio/vnd.dolby.pulse.1":{source:"iana"},"audio/vnd.dra":{source:"iana",extensions:["dra"]},"audio/vnd.dts":{source:"iana",extensions:["dts"]},"audio/vnd.dts.hd":{source:"iana",extensions:["dtshd"]},"audio/vnd.dts.uhd":{source:"iana"},"audio/vnd.dvb.file":{source:"iana"},"audio/vnd.everad.plj":{source:"iana"},"audio/vnd.hns.audio":{source:"iana"},"audio/vnd.lucent.voice":{source:"iana",extensions:["lvp"]},"audio/vnd.ms-playready.media.pya":{source:"iana",extensions:["pya"]},"audio/vnd.nokia.mobile-xmf":{source:"iana"},"audio/vnd.nortel.vbk":{source:"iana"},"audio/vnd.nuera.ecelp4800":{source:"iana",extensions:["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{source:"iana",extensions:["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{source:"iana",extensions:["ecelp9600"]},"audio/vnd.octel.sbc":{source:"iana"},"audio/vnd.presonus.multitrack":{source:"iana"},"audio/vnd.qcelp":{source:"iana"},"audio/vnd.rhetorex.32kadpcm":{source:"iana"},"audio/vnd.rip":{source:"iana",extensions:["rip"]},"audio/vnd.rn-realaudio":{compressible:!1},"audio/vnd.sealedmedia.softseal.mpeg":{source:"iana"},"audio/vnd.vmx.cvsd":{source:"iana"},"audio/vnd.wave":{compressible:!1},"audio/vorbis":{source:"iana",compressible:!1},"audio/vorbis-config":{source:"iana"},"audio/wav":{compressible:!1,extensions:["wav"]},"audio/wave":{compressible:!1,extensions:["wav"]},"audio/webm":{source:"apache",compressible:!1,extensions:["weba"]},"audio/x-aac":{source:"apache",compressible:!1,extensions:["aac"]},"audio/x-aiff":{source:"apache",extensions:["aif","aiff","aifc"]},"audio/x-caf":{source:"apache",compressible:!1,extensions:["caf"]},"audio/x-flac":{source:"apache",extensions:["flac"]},"audio/x-m4a":{source:"nginx",extensions:["m4a"]},"audio/x-matroska":{source:"apache",extensions:["mka"]},"audio/x-mpegurl":{source:"apache",extensions:["m3u"]},"audio/x-ms-wax":{source:"apache",extensions:["wax"]},"audio/x-ms-wma":{source:"apache",extensions:["wma"]},"audio/x-pn-realaudio":{source:"apache",extensions:["ram","ra"]},"audio/x-pn-realaudio-plugin":{source:"apache",extensions:["rmp"]},"audio/x-realaudio":{source:"nginx",extensions:["ra"]},"audio/x-tta":{source:"apache"},"audio/x-wav":{source:"apache",extensions:["wav"]},"audio/xm":{source:"apache",extensions:["xm"]},"chemical/x-cdx":{source:"apache",extensions:["cdx"]},"chemical/x-cif":{source:"apache",extensions:["cif"]},"chemical/x-cmdf":{source:"apache",extensions:["cmdf"]},"chemical/x-cml":{source:"apache",extensions:["cml"]},"chemical/x-csml":{source:"apache",extensions:["csml"]},"chemical/x-pdb":{source:"apache"},"chemical/x-xyz":{source:"apache",extensions:["xyz"]},"font/collection":{source:"iana",extensions:["ttc"]},"font/otf":{source:"iana",compressible:!0,extensions:["otf"]},"font/sfnt":{source:"iana"},"font/ttf":{source:"iana",compressible:!0,extensions:["ttf"]},"font/woff":{source:"iana",extensions:["woff"]},"font/woff2":{source:"iana",extensions:["woff2"]},"image/aces":{source:"iana",extensions:["exr"]},"image/apng":{compressible:!1,extensions:["apng"]},"image/avci":{source:"iana",extensions:["avci"]},"image/avcs":{source:"iana",extensions:["avcs"]},"image/avif":{source:"iana",compressible:!1,extensions:["avif"]},"image/bmp":{source:"iana",compressible:!0,extensions:["bmp"]},"image/cgm":{source:"iana",extensions:["cgm"]},"image/dicom-rle":{source:"iana",extensions:["drle"]},"image/emf":{source:"iana",extensions:["emf"]},"image/fits":{source:"iana",extensions:["fits"]},"image/g3fax":{source:"iana",extensions:["g3"]},"image/gif":{source:"iana",compressible:!1,extensions:["gif"]},"image/heic":{source:"iana",extensions:["heic"]},"image/heic-sequence":{source:"iana",extensions:["heics"]},"image/heif":{source:"iana",extensions:["heif"]},"image/heif-sequence":{source:"iana",extensions:["heifs"]},"image/hej2k":{source:"iana",extensions:["hej2"]},"image/hsj2":{source:"iana",extensions:["hsj2"]},"image/ief":{source:"iana",extensions:["ief"]},"image/jls":{source:"iana",extensions:["jls"]},"image/jp2":{source:"iana",compressible:!1,extensions:["jp2","jpg2"]},"image/jpeg":{source:"iana",compressible:!1,extensions:["jpeg","jpg","jpe"]},"image/jph":{source:"iana",extensions:["jph"]},"image/jphc":{source:"iana",extensions:["jhc"]},"image/jpm":{source:"iana",compressible:!1,extensions:["jpm"]},"image/jpx":{source:"iana",compressible:!1,extensions:["jpx","jpf"]},"image/jxr":{source:"iana",extensions:["jxr"]},"image/jxra":{source:"iana",extensions:["jxra"]},"image/jxrs":{source:"iana",extensions:["jxrs"]},"image/jxs":{source:"iana",extensions:["jxs"]},"image/jxsc":{source:"iana",extensions:["jxsc"]},"image/jxsi":{source:"iana",extensions:["jxsi"]},"image/jxss":{source:"iana",extensions:["jxss"]},"image/ktx":{source:"iana",extensions:["ktx"]},"image/ktx2":{source:"iana",extensions:["ktx2"]},"image/naplps":{source:"iana"},"image/pjpeg":{compressible:!1},"image/png":{source:"iana",compressible:!1,extensions:["png"]},"image/prs.btif":{source:"iana",extensions:["btif"]},"image/prs.pti":{source:"iana",extensions:["pti"]},"image/pwg-raster":{source:"iana"},"image/sgi":{source:"apache",extensions:["sgi"]},"image/svg+xml":{source:"iana",compressible:!0,extensions:["svg","svgz"]},"image/t38":{source:"iana",extensions:["t38"]},"image/tiff":{source:"iana",compressible:!1,extensions:["tif","tiff"]},"image/tiff-fx":{source:"iana",extensions:["tfx"]},"image/vnd.adobe.photoshop":{source:"iana",compressible:!0,extensions:["psd"]},"image/vnd.airzip.accelerator.azv":{source:"iana",extensions:["azv"]},"image/vnd.cns.inf2":{source:"iana"},"image/vnd.dece.graphic":{source:"iana",extensions:["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{source:"iana",extensions:["djvu","djv"]},"image/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"image/vnd.dwg":{source:"iana",extensions:["dwg"]},"image/vnd.dxf":{source:"iana",extensions:["dxf"]},"image/vnd.fastbidsheet":{source:"iana",extensions:["fbs"]},"image/vnd.fpx":{source:"iana",extensions:["fpx"]},"image/vnd.fst":{source:"iana",extensions:["fst"]},"image/vnd.fujixerox.edmics-mmr":{source:"iana",extensions:["mmr"]},"image/vnd.fujixerox.edmics-rlc":{source:"iana",extensions:["rlc"]},"image/vnd.globalgraphics.pgb":{source:"iana"},"image/vnd.microsoft.icon":{source:"iana",compressible:!0,extensions:["ico"]},"image/vnd.mix":{source:"iana"},"image/vnd.mozilla.apng":{source:"iana"},"image/vnd.ms-dds":{compressible:!0,extensions:["dds"]},"image/vnd.ms-modi":{source:"iana",extensions:["mdi"]},"image/vnd.ms-photo":{source:"apache",extensions:["wdp"]},"image/vnd.net-fpx":{source:"iana",extensions:["npx"]},"image/vnd.pco.b16":{source:"iana",extensions:["b16"]},"image/vnd.radiance":{source:"iana"},"image/vnd.sealed.png":{source:"iana"},"image/vnd.sealedmedia.softseal.gif":{source:"iana"},"image/vnd.sealedmedia.softseal.jpg":{source:"iana"},"image/vnd.svf":{source:"iana"},"image/vnd.tencent.tap":{source:"iana",extensions:["tap"]},"image/vnd.valve.source.texture":{source:"iana",extensions:["vtf"]},"image/vnd.wap.wbmp":{source:"iana",extensions:["wbmp"]},"image/vnd.xiff":{source:"iana",extensions:["xif"]},"image/vnd.zbrush.pcx":{source:"iana",extensions:["pcx"]},"image/webp":{source:"apache",extensions:["webp"]},"image/wmf":{source:"iana",extensions:["wmf"]},"image/x-3ds":{source:"apache",extensions:["3ds"]},"image/x-cmu-raster":{source:"apache",extensions:["ras"]},"image/x-cmx":{source:"apache",extensions:["cmx"]},"image/x-freehand":{source:"apache",extensions:["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{source:"apache",compressible:!0,extensions:["ico"]},"image/x-jng":{source:"nginx",extensions:["jng"]},"image/x-mrsid-image":{source:"apache",extensions:["sid"]},"image/x-ms-bmp":{source:"nginx",compressible:!0,extensions:["bmp"]},"image/x-pcx":{source:"apache",extensions:["pcx"]},"image/x-pict":{source:"apache",extensions:["pic","pct"]},"image/x-portable-anymap":{source:"apache",extensions:["pnm"]},"image/x-portable-bitmap":{source:"apache",extensions:["pbm"]},"image/x-portable-graymap":{source:"apache",extensions:["pgm"]},"image/x-portable-pixmap":{source:"apache",extensions:["ppm"]},"image/x-rgb":{source:"apache",extensions:["rgb"]},"image/x-tga":{source:"apache",extensions:["tga"]},"image/x-xbitmap":{source:"apache",extensions:["xbm"]},"image/x-xcf":{compressible:!1},"image/x-xpixmap":{source:"apache",extensions:["xpm"]},"image/x-xwindowdump":{source:"apache",extensions:["xwd"]},"message/cpim":{source:"iana"},"message/delivery-status":{source:"iana"},"message/disposition-notification":{source:"iana",extensions:["disposition-notification"]},"message/external-body":{source:"iana"},"message/feedback-report":{source:"iana"},"message/global":{source:"iana",extensions:["u8msg"]},"message/global-delivery-status":{source:"iana",extensions:["u8dsn"]},"message/global-disposition-notification":{source:"iana",extensions:["u8mdn"]},"message/global-headers":{source:"iana",extensions:["u8hdr"]},"message/http":{source:"iana",compressible:!1},"message/imdn+xml":{source:"iana",compressible:!0},"message/news":{source:"iana"},"message/partial":{source:"iana",compressible:!1},"message/rfc822":{source:"iana",compressible:!0,extensions:["eml","mime"]},"message/s-http":{source:"iana"},"message/sip":{source:"iana"},"message/sipfrag":{source:"iana"},"message/tracking-status":{source:"iana"},"message/vnd.si.simp":{source:"iana"},"message/vnd.wfa.wsc":{source:"iana",extensions:["wsc"]},"model/3mf":{source:"iana",extensions:["3mf"]},"model/e57":{source:"iana"},"model/gltf+json":{source:"iana",compressible:!0,extensions:["gltf"]},"model/gltf-binary":{source:"iana",compressible:!0,extensions:["glb"]},"model/iges":{source:"iana",compressible:!1,extensions:["igs","iges"]},"model/mesh":{source:"iana",compressible:!1,extensions:["msh","mesh","silo"]},"model/mtl":{source:"iana",extensions:["mtl"]},"model/obj":{source:"iana",extensions:["obj"]},"model/step":{source:"iana"},"model/step+xml":{source:"iana",compressible:!0,extensions:["stpx"]},"model/step+zip":{source:"iana",compressible:!1,extensions:["stpz"]},"model/step-xml+zip":{source:"iana",compressible:!1,extensions:["stpxz"]},"model/stl":{source:"iana",extensions:["stl"]},"model/vnd.collada+xml":{source:"iana",compressible:!0,extensions:["dae"]},"model/vnd.dwf":{source:"iana",extensions:["dwf"]},"model/vnd.flatland.3dml":{source:"iana"},"model/vnd.gdl":{source:"iana",extensions:["gdl"]},"model/vnd.gs-gdl":{source:"apache"},"model/vnd.gs.gdl":{source:"iana"},"model/vnd.gtw":{source:"iana",extensions:["gtw"]},"model/vnd.moml+xml":{source:"iana",compressible:!0},"model/vnd.mts":{source:"iana",extensions:["mts"]},"model/vnd.opengex":{source:"iana",extensions:["ogex"]},"model/vnd.parasolid.transmit.binary":{source:"iana",extensions:["x_b"]},"model/vnd.parasolid.transmit.text":{source:"iana",extensions:["x_t"]},"model/vnd.pytha.pyox":{source:"iana"},"model/vnd.rosette.annotated-data-model":{source:"iana"},"model/vnd.sap.vds":{source:"iana",extensions:["vds"]},"model/vnd.usdz+zip":{source:"iana",compressible:!1,extensions:["usdz"]},"model/vnd.valve.source.compiled-map":{source:"iana",extensions:["bsp"]},"model/vnd.vtu":{source:"iana",extensions:["vtu"]},"model/vrml":{source:"iana",compressible:!1,extensions:["wrl","vrml"]},"model/x3d+binary":{source:"apache",compressible:!1,extensions:["x3db","x3dbz"]},"model/x3d+fastinfoset":{source:"iana",extensions:["x3db"]},"model/x3d+vrml":{source:"apache",compressible:!1,extensions:["x3dv","x3dvz"]},"model/x3d+xml":{source:"iana",compressible:!0,extensions:["x3d","x3dz"]},"model/x3d-vrml":{source:"iana",extensions:["x3dv"]},"multipart/alternative":{source:"iana",compressible:!1},"multipart/appledouble":{source:"iana"},"multipart/byteranges":{source:"iana"},"multipart/digest":{source:"iana"},"multipart/encrypted":{source:"iana",compressible:!1},"multipart/form-data":{source:"iana",compressible:!1},"multipart/header-set":{source:"iana"},"multipart/mixed":{source:"iana"},"multipart/multilingual":{source:"iana"},"multipart/parallel":{source:"iana"},"multipart/related":{source:"iana",compressible:!1},"multipart/report":{source:"iana"},"multipart/signed":{source:"iana",compressible:!1},"multipart/vnd.bint.med-plus":{source:"iana"},"multipart/voice-message":{source:"iana"},"multipart/x-mixed-replace":{source:"iana"},"text/1d-interleaved-parityfec":{source:"iana"},"text/cache-manifest":{source:"iana",compressible:!0,extensions:["appcache","manifest"]},"text/calendar":{source:"iana",extensions:["ics","ifb"]},"text/calender":{compressible:!0},"text/cmd":{compressible:!0},"text/coffeescript":{extensions:["coffee","litcoffee"]},"text/cql":{source:"iana"},"text/cql-expression":{source:"iana"},"text/cql-identifier":{source:"iana"},"text/css":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["css"]},"text/csv":{source:"iana",compressible:!0,extensions:["csv"]},"text/csv-schema":{source:"iana"},"text/directory":{source:"iana"},"text/dns":{source:"iana"},"text/ecmascript":{source:"iana"},"text/encaprtp":{source:"iana"},"text/enriched":{source:"iana"},"text/fhirpath":{source:"iana"},"text/flexfec":{source:"iana"},"text/fwdred":{source:"iana"},"text/gff3":{source:"iana"},"text/grammar-ref-list":{source:"iana"},"text/html":{source:"iana",compressible:!0,extensions:["html","htm","shtml"]},"text/jade":{extensions:["jade"]},"text/javascript":{source:"iana",compressible:!0},"text/jcr-cnd":{source:"iana"},"text/jsx":{compressible:!0,extensions:["jsx"]},"text/less":{compressible:!0,extensions:["less"]},"text/markdown":{source:"iana",compressible:!0,extensions:["markdown","md"]},"text/mathml":{source:"nginx",extensions:["mml"]},"text/mdx":{compressible:!0,extensions:["mdx"]},"text/mizar":{source:"iana"},"text/n3":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["n3"]},"text/parameters":{source:"iana",charset:"UTF-8"},"text/parityfec":{source:"iana"},"text/plain":{source:"iana",compressible:!0,extensions:["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{source:"iana",charset:"UTF-8"},"text/prs.fallenstein.rst":{source:"iana"},"text/prs.lines.tag":{source:"iana",extensions:["dsc"]},"text/prs.prop.logic":{source:"iana"},"text/raptorfec":{source:"iana"},"text/red":{source:"iana"},"text/rfc822-headers":{source:"iana"},"text/richtext":{source:"iana",compressible:!0,extensions:["rtx"]},"text/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"text/rtp-enc-aescm128":{source:"iana"},"text/rtploopback":{source:"iana"},"text/rtx":{source:"iana"},"text/sgml":{source:"iana",extensions:["sgml","sgm"]},"text/shaclc":{source:"iana"},"text/shex":{source:"iana",extensions:["shex"]},"text/slim":{extensions:["slim","slm"]},"text/spdx":{source:"iana",extensions:["spdx"]},"text/strings":{source:"iana"},"text/stylus":{extensions:["stylus","styl"]},"text/t140":{source:"iana"},"text/tab-separated-values":{source:"iana",compressible:!0,extensions:["tsv"]},"text/troff":{source:"iana",extensions:["t","tr","roff","man","me","ms"]},"text/turtle":{source:"iana",charset:"UTF-8",extensions:["ttl"]},"text/ulpfec":{source:"iana"},"text/uri-list":{source:"iana",compressible:!0,extensions:["uri","uris","urls"]},"text/vcard":{source:"iana",compressible:!0,extensions:["vcard"]},"text/vnd.a":{source:"iana"},"text/vnd.abc":{source:"iana"},"text/vnd.ascii-art":{source:"iana"},"text/vnd.curl":{source:"iana",extensions:["curl"]},"text/vnd.curl.dcurl":{source:"apache",extensions:["dcurl"]},"text/vnd.curl.mcurl":{source:"apache",extensions:["mcurl"]},"text/vnd.curl.scurl":{source:"apache",extensions:["scurl"]},"text/vnd.debian.copyright":{source:"iana",charset:"UTF-8"},"text/vnd.dmclientscript":{source:"iana"},"text/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"text/vnd.esmertec.theme-descriptor":{source:"iana",charset:"UTF-8"},"text/vnd.familysearch.gedcom":{source:"iana",extensions:["ged"]},"text/vnd.ficlab.flt":{source:"iana"},"text/vnd.fly":{source:"iana",extensions:["fly"]},"text/vnd.fmi.flexstor":{source:"iana",extensions:["flx"]},"text/vnd.gml":{source:"iana"},"text/vnd.graphviz":{source:"iana",extensions:["gv"]},"text/vnd.hans":{source:"iana"},"text/vnd.hgl":{source:"iana"},"text/vnd.in3d.3dml":{source:"iana",extensions:["3dml"]},"text/vnd.in3d.spot":{source:"iana",extensions:["spot"]},"text/vnd.iptc.newsml":{source:"iana"},"text/vnd.iptc.nitf":{source:"iana"},"text/vnd.latex-z":{source:"iana"},"text/vnd.motorola.reflex":{source:"iana"},"text/vnd.ms-mediapackage":{source:"iana"},"text/vnd.net2phone.commcenter.command":{source:"iana"},"text/vnd.radisys.msml-basic-layout":{source:"iana"},"text/vnd.senx.warpscript":{source:"iana"},"text/vnd.si.uricatalogue":{source:"iana"},"text/vnd.sosi":{source:"iana"},"text/vnd.sun.j2me.app-descriptor":{source:"iana",charset:"UTF-8",extensions:["jad"]},"text/vnd.trolltech.linguist":{source:"iana",charset:"UTF-8"},"text/vnd.wap.si":{source:"iana"},"text/vnd.wap.sl":{source:"iana"},"text/vnd.wap.wml":{source:"iana",extensions:["wml"]},"text/vnd.wap.wmlscript":{source:"iana",extensions:["wmls"]},"text/vtt":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["vtt"]},"text/x-asm":{source:"apache",extensions:["s","asm"]},"text/x-c":{source:"apache",extensions:["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{source:"nginx",extensions:["htc"]},"text/x-fortran":{source:"apache",extensions:["f","for","f77","f90"]},"text/x-gwt-rpc":{compressible:!0},"text/x-handlebars-template":{extensions:["hbs"]},"text/x-java-source":{source:"apache",extensions:["java"]},"text/x-jquery-tmpl":{compressible:!0},"text/x-lua":{extensions:["lua"]},"text/x-markdown":{compressible:!0,extensions:["mkd"]},"text/x-nfo":{source:"apache",extensions:["nfo"]},"text/x-opml":{source:"apache",extensions:["opml"]},"text/x-org":{compressible:!0,extensions:["org"]},"text/x-pascal":{source:"apache",extensions:["p","pas"]},"text/x-processing":{compressible:!0,extensions:["pde"]},"text/x-sass":{extensions:["sass"]},"text/x-scss":{extensions:["scss"]},"text/x-setext":{source:"apache",extensions:["etx"]},"text/x-sfv":{source:"apache",extensions:["sfv"]},"text/x-suse-ymp":{compressible:!0,extensions:["ymp"]},"text/x-uuencode":{source:"apache",extensions:["uu"]},"text/x-vcalendar":{source:"apache",extensions:["vcs"]},"text/x-vcard":{source:"apache",extensions:["vcf"]},"text/xml":{source:"iana",compressible:!0,extensions:["xml"]},"text/xml-external-parsed-entity":{source:"iana"},"text/yaml":{compressible:!0,extensions:["yaml","yml"]},"video/1d-interleaved-parityfec":{source:"iana"},"video/3gpp":{source:"iana",extensions:["3gp","3gpp"]},"video/3gpp-tt":{source:"iana"},"video/3gpp2":{source:"iana",extensions:["3g2"]},"video/av1":{source:"iana"},"video/bmpeg":{source:"iana"},"video/bt656":{source:"iana"},"video/celb":{source:"iana"},"video/dv":{source:"iana"},"video/encaprtp":{source:"iana"},"video/ffv1":{source:"iana"},"video/flexfec":{source:"iana"},"video/h261":{source:"iana",extensions:["h261"]},"video/h263":{source:"iana",extensions:["h263"]},"video/h263-1998":{source:"iana"},"video/h263-2000":{source:"iana"},"video/h264":{source:"iana",extensions:["h264"]},"video/h264-rcdo":{source:"iana"},"video/h264-svc":{source:"iana"},"video/h265":{source:"iana"},"video/iso.segment":{source:"iana",extensions:["m4s"]},"video/jpeg":{source:"iana",extensions:["jpgv"]},"video/jpeg2000":{source:"iana"},"video/jpm":{source:"apache",extensions:["jpm","jpgm"]},"video/jxsv":{source:"iana"},"video/mj2":{source:"iana",extensions:["mj2","mjp2"]},"video/mp1s":{source:"iana"},"video/mp2p":{source:"iana"},"video/mp2t":{source:"iana",extensions:["ts"]},"video/mp4":{source:"iana",compressible:!1,extensions:["mp4","mp4v","mpg4"]},"video/mp4v-es":{source:"iana"},"video/mpeg":{source:"iana",compressible:!1,extensions:["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{source:"iana"},"video/mpv":{source:"iana"},"video/nv":{source:"iana"},"video/ogg":{source:"iana",compressible:!1,extensions:["ogv"]},"video/parityfec":{source:"iana"},"video/pointer":{source:"iana"},"video/quicktime":{source:"iana",compressible:!1,extensions:["qt","mov"]},"video/raptorfec":{source:"iana"},"video/raw":{source:"iana"},"video/rtp-enc-aescm128":{source:"iana"},"video/rtploopback":{source:"iana"},"video/rtx":{source:"iana"},"video/scip":{source:"iana"},"video/smpte291":{source:"iana"},"video/smpte292m":{source:"iana"},"video/ulpfec":{source:"iana"},"video/vc1":{source:"iana"},"video/vc2":{source:"iana"},"video/vnd.cctv":{source:"iana"},"video/vnd.dece.hd":{source:"iana",extensions:["uvh","uvvh"]},"video/vnd.dece.mobile":{source:"iana",extensions:["uvm","uvvm"]},"video/vnd.dece.mp4":{source:"iana"},"video/vnd.dece.pd":{source:"iana",extensions:["uvp","uvvp"]},"video/vnd.dece.sd":{source:"iana",extensions:["uvs","uvvs"]},"video/vnd.dece.video":{source:"iana",extensions:["uvv","uvvv"]},"video/vnd.directv.mpeg":{source:"iana"},"video/vnd.directv.mpeg-tts":{source:"iana"},"video/vnd.dlna.mpeg-tts":{source:"iana"},"video/vnd.dvb.file":{source:"iana",extensions:["dvb"]},"video/vnd.fvt":{source:"iana",extensions:["fvt"]},"video/vnd.hns.video":{source:"iana"},"video/vnd.iptvforum.1dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.1dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.2dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.2dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.ttsavc":{source:"iana"},"video/vnd.iptvforum.ttsmpeg2":{source:"iana"},"video/vnd.motorola.video":{source:"iana"},"video/vnd.motorola.videop":{source:"iana"},"video/vnd.mpegurl":{source:"iana",extensions:["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{source:"iana",extensions:["pyv"]},"video/vnd.nokia.interleaved-multimedia":{source:"iana"},"video/vnd.nokia.mp4vr":{source:"iana"},"video/vnd.nokia.videovoip":{source:"iana"},"video/vnd.objectvideo":{source:"iana"},"video/vnd.radgamettools.bink":{source:"iana"},"video/vnd.radgamettools.smacker":{source:"iana"},"video/vnd.sealed.mpeg1":{source:"iana"},"video/vnd.sealed.mpeg4":{source:"iana"},"video/vnd.sealed.swf":{source:"iana"},"video/vnd.sealedmedia.softseal.mov":{source:"iana"},"video/vnd.uvvu.mp4":{source:"iana",extensions:["uvu","uvvu"]},"video/vnd.vivo":{source:"iana",extensions:["viv"]},"video/vnd.youtube.yt":{source:"iana"},"video/vp8":{source:"iana"},"video/vp9":{source:"iana"},"video/webm":{source:"apache",compressible:!1,extensions:["webm"]},"video/x-f4v":{source:"apache",extensions:["f4v"]},"video/x-fli":{source:"apache",extensions:["fli"]},"video/x-flv":{source:"apache",compressible:!1,extensions:["flv"]},"video/x-m4v":{source:"apache",extensions:["m4v"]},"video/x-matroska":{source:"apache",compressible:!1,extensions:["mkv","mk3d","mks"]},"video/x-mng":{source:"apache",extensions:["mng"]},"video/x-ms-asf":{source:"apache",extensions:["asf","asx"]},"video/x-ms-vob":{source:"apache",extensions:["vob"]},"video/x-ms-wm":{source:"apache",extensions:["wm"]},"video/x-ms-wmv":{source:"apache",compressible:!1,extensions:["wmv"]},"video/x-ms-wmx":{source:"apache",extensions:["wmx"]},"video/x-ms-wvx":{source:"apache",extensions:["wvx"]},"video/x-msvideo":{source:"apache",extensions:["avi"]},"video/x-sgi-movie":{source:"apache",extensions:["movie"]},"video/x-smv":{source:"apache",extensions:["smv"]},"x-conference/x-cooltalk":{source:"apache",extensions:["ice"]},"x-shader/x-fragment":{compressible:!0},"x-shader/x-vertex":{compressible:!0}}});var bB=_((Trt,fB)=>{fB.exports=gB()});var IB=_(Ji=>{"use strict";var NI=bB(),Vve=require("path").extname,yB=/^\s*([^;\s]*)(?:;|\s|$)/,qve=/^text\//i;Ji.charset=hB;Ji.charsets={lookup:hB};Ji.contentType=Bve;Ji.extension=Wve;Ji.extensions=Object.create(null);Ji.lookup=Gve;Ji.types=Object.create(null);Hve(Ji.extensions,Ji.types);function hB(t){if(!t||typeof t!="string")return!1;var e=yB.exec(t),r=e&&NI[e[1].toLowerCase()];return r&&r.charset?r.charset:e&&qve.test(e[1])?"UTF-8":!1}function Bve(t){if(!t||typeof t!="string")return!1;var e=t.indexOf("/")===-1?Ji.lookup(t):t;if(!e)return!1;if(e.indexOf("charset")===-1){var r=Ji.charset(e);r&&(e+="; charset="+r.toLowerCase())}return e}function Wve(t){if(!t||typeof t!="string")return!1;var e=yB.exec(t),r=e&&Ji.extensions[e[1].toLowerCase()];return!r||!r.length?!1:r[0]}function Gve(t){if(!t||typeof t!="string")return!1;var e=Vve("x."+t).toLowerCase().substr(1);return e&&Ji.types[e]||!1}function Hve(t,e){var r=["nginx","apache",void 0,"iana"];Object.keys(NI).forEach(function(s){var o=NI[s],a=o.extensions;if(!(!a||!a.length)){t[s]=a;for(var u=0;u<a.length;u++){var d=a[u];if(e[d]){var p=r.indexOf(NI[e[d]].source),m=r.indexOf(o.source);if(e[d]!=="application/octet-stream"&&(p>m||p===m&&e[d].substr(0,12)==="application/"))continue}e[d]=s}}})}});var _B=_((Ert,xB)=>{xB.exports=Kve;function Kve(t){var e=typeof setImmediate=="function"?setImmediate:typeof process=="object"&&typeof process.nextTick=="function"?process.nextTick:null;e?e(t):setTimeout(t,0)}});var hP=_((krt,OB)=>{var vB=_B();OB.exports=$ve;function $ve(t){var e=!1;return vB(function(){e=!0}),function(i,s){e?t(i,s):vB(function(){t(i,s)})}}});var IP=_((wrt,SB)=>{SB.exports=zve;function zve(t){Object.keys(t.jobs).forEach(Yve.bind(t)),t.jobs={}}function Yve(t){typeof this.jobs[t]=="function"&&this.jobs[t]()}});var xP=_((Rrt,AB)=>{var DB=hP(),Qve=IP();AB.exports=Jve;function Jve(t,e,r,i){var s=r.keyedList?r.keyedList[r.index]:r.index;r.jobs[s]=Xve(e,s,t[s],function(o,a){s in r.jobs&&(delete r.jobs[s],o?Qve(r):r.results[s]=a,i(o,r.results))})}function Xve(t,e,r,i){var s;return t.length==2?s=t(r,DB(i)):s=t(r,e,DB(i)),s}});var _P=_((Mrt,FB)=>{FB.exports=Zve;function Zve(t,e){var r=!Array.isArray(t),i={index:0,keyedList:r||e?Object.keys(t):null,jobs:{},results:r?{}:[],size:r?Object.keys(t).length:t.length};return e&&i.keyedList.sort(r?e:function(s,o){return e(t[s],t[o])}),i}});var vP=_((Urt,PB)=>{var eOe=IP(),tOe=hP();PB.exports=rOe;function rOe(t){Object.keys(this.jobs).length&&(this.index=this.size,eOe(this),tOe(t)(null,this.results))}});var TB=_((Lrt,jB)=>{var iOe=xP(),nOe=_P(),sOe=vP();jB.exports=oOe;function oOe(t,e,r){for(var i=nOe(t);i.index<(i.keyedList||t).length;)iOe(t,e,i,function(s,o){if(s){r(s,o);return}if(Object.keys(i.jobs).length===0){r(null,i.results);return}}),i.index++;return sOe.bind(i,r)}});var OP=_((Nrt,VI)=>{var CB=xP(),aOe=_P(),lOe=vP();VI.exports=uOe;VI.exports.ascending=EB;VI.exports.descending=dOe;function uOe(t,e,r,i){var s=aOe(t,r);return CB(t,e,s,function o(a,u){if(a){i(a,u);return}if(s.index++,s.index<(s.keyedList||t).length){CB(t,e,s,o);return}i(null,s.results)}),lOe.bind(s,i)}function EB(t,e){return t<e?-1:t>e?1:0}function dOe(t,e){return-1*EB(t,e)}});var wB=_((Vrt,kB)=>{var cOe=OP();kB.exports=pOe;function pOe(t,e,r){return cOe(t,e,null,r)}});var MB=_((qrt,RB)=>{RB.exports={parallel:TB(),serial:wB(),serialOrdered:OP()}});var LB=_((Brt,UB)=>{UB.exports=function(t,e){return Object.keys(e).forEach(function(r){t[r]=t[r]||e[r]}),t}});var qB=_((Wrt,VB)=>{var FP=mB(),NB=require("util"),SP=require("path"),mOe=require("http"),gOe=require("https"),fOe=require("url").parse,bOe=require("fs"),yOe=require("stream").Stream,DP=IB(),hOe=MB(),AP=LB();VB.exports=St;NB.inherits(St,FP);function St(t){if(!(this instanceof St))return new St(t);this._overheadLength=0,this._valueLength=0,this._valuesToMeasure=[],FP.call(this),t=t||{};for(var e in t)this[e]=t[e]}St.LINE_BREAK=`\r
`;St.DEFAULT_CONTENT_TYPE="application/octet-stream";St.prototype.append=function(t,e,r){r=r||{},typeof r=="string"&&(r={filename:r});var i=FP.prototype.append.bind(this);if(typeof e=="number"&&(e=""+e),NB.isArray(e)){this._error(new Error("Arrays are not supported."));return}var s=this._multiPartHeader(t,e,r),o=this._multiPartFooter();i(s),i(e),i(o),this._trackLength(s,e,r)};St.prototype._trackLength=function(t,e,r){var i=0;r.knownLength!=null?i+=+r.knownLength:Buffer.isBuffer(e)?i=e.length:typeof e=="string"&&(i=Buffer.byteLength(e)),this._valueLength+=i,this._overheadLength+=Buffer.byteLength(t)+St.LINE_BREAK.length,!(!e||!e.path&&!(e.readable&&e.hasOwnProperty("httpVersion"))&&!(e instanceof yOe))&&(r.knownLength||this._valuesToMeasure.push(e))};St.prototype._lengthRetriever=function(t,e){t.hasOwnProperty("fd")?t.end!=null&&t.end!=1/0&&t.start!=null?e(null,t.end+1-(t.start?t.start:0)):bOe.stat(t.path,function(r,i){var s;if(r){e(r);return}s=i.size-(t.start?t.start:0),e(null,s)}):t.hasOwnProperty("httpVersion")?e(null,+t.headers["content-length"]):t.hasOwnProperty("httpModule")?(t.on("response",function(r){t.pause(),e(null,+r.headers["content-length"])}),t.resume()):e("Unknown stream")};St.prototype._multiPartHeader=function(t,e,r){if(typeof r.header=="string")return r.header;var i=this._getContentDisposition(e,r),s=this._getContentType(e,r),o="",a={"Content-Disposition":["form-data",'name="'+t+'"'].concat(i||[]),"Content-Type":[].concat(s||[])};typeof r.header=="object"&&AP(a,r.header);var u;for(var d in a)a.hasOwnProperty(d)&&(u=a[d],u!=null&&(Array.isArray(u)||(u=[u]),u.length&&(o+=d+": "+u.join("; ")+St.LINE_BREAK)));return"--"+this.getBoundary()+St.LINE_BREAK+o+St.LINE_BREAK};St.prototype._getContentDisposition=function(t,e){var r,i;return typeof e.filepath=="string"?r=SP.normalize(e.filepath).replace(/\\/g,"/"):e.filename||t.name||t.path?r=SP.basename(e.filename||t.name||t.path):t.readable&&t.hasOwnProperty("httpVersion")&&(r=SP.basename(t.client._httpMessage.path||"")),r&&(i='filename="'+r+'"'),i};St.prototype._getContentType=function(t,e){var r=e.contentType;return!r&&t.name&&(r=DP.lookup(t.name)),!r&&t.path&&(r=DP.lookup(t.path)),!r&&t.readable&&t.hasOwnProperty("httpVersion")&&(r=t.headers["content-type"]),!r&&(e.filepath||e.filename)&&(r=DP.lookup(e.filepath||e.filename)),!r&&typeof t=="object"&&(r=St.DEFAULT_CONTENT_TYPE),r};St.prototype._multiPartFooter=function(){return function(t){var e=St.LINE_BREAK,r=this._streams.length===0;r&&(e+=this._lastBoundary()),t(e)}.bind(this)};St.prototype._lastBoundary=function(){return"--"+this.getBoundary()+"--"+St.LINE_BREAK};St.prototype.getHeaders=function(t){var e,r={"content-type":"multipart/form-data; boundary="+this.getBoundary()};for(e in t)t.hasOwnProperty(e)&&(r[e.toLowerCase()]=t[e]);return r};St.prototype.setBoundary=function(t){this._boundary=t};St.prototype.getBoundary=function(){return this._boundary||this._generateBoundary(),this._boundary};St.prototype.getBuffer=function(){for(var t=new Buffer.alloc(0),e=this.getBoundary(),r=0,i=this._streams.length;r<i;r++)typeof this._streams[r]!="function"&&(Buffer.isBuffer(this._streams[r])?t=Buffer.concat([t,this._streams[r]]):t=Buffer.concat([t,Buffer.from(this._streams[r])]),(typeof this._streams[r]!="string"||this._streams[r].substring(2,e.length+2)!==e)&&(t=Buffer.concat([t,Buffer.from(St.LINE_BREAK)])));return Buffer.concat([t,Buffer.from(this._lastBoundary())])};St.prototype._generateBoundary=function(){for(var t="--------------------------",e=0;e<24;e++)t+=Math.floor(Math.random()*10).toString(16);this._boundary=t};St.prototype.getLengthSync=function(){var t=this._overheadLength+this._valueLength;return this._streams.length&&(t+=this._lastBoundary().length),this.hasKnownLength()||this._error(new Error("Cannot calculate proper length in synchronous way.")),t};St.prototype.hasKnownLength=function(){var t=!0;return this._valuesToMeasure.length&&(t=!1),t};St.prototype.getLength=function(t){var e=this._overheadLength+this._valueLength;if(this._streams.length&&(e+=this._lastBoundary().length),!this._valuesToMeasure.length){process.nextTick(t.bind(this,null,e));return}hOe.parallel(this._valuesToMeasure,this._lengthRetriever,function(r,i){if(r){t(r);return}i.forEach(function(s){e+=s}),t(null,e)})};St.prototype.submit=function(t,e){var r,i,s={method:"post"};return typeof t=="string"?(t=fOe(t),i=AP({port:t.port,path:t.pathname,host:t.hostname,protocol:t.protocol},s)):(i=AP(t,s),i.port||(i.port=i.protocol=="https:"?443:80)),i.headers=this.getHeaders(t.headers),i.protocol=="https:"?r=gOe.request(i):r=mOe.request(i),this.getLength(function(o,a){if(o&&o!=="Unknown stream"){this._error(o);return}if(a&&r.setHeader("Content-Length",a),this.pipe(r),e){var u,d=function(p,m){return r.removeListener("error",d),r.removeListener("response",u),e.call(this,p,m)};u=d.bind(this,null),r.on("error",d),r.on("response",u)}}.bind(this)),r};St.prototype._error=function(t){this.error||(this.error=t,this.pause(),this.emit("error",t))};St.prototype.toString=function(){return"[object FormData]"}});var tW=_(eW=>{"use strict";var EOe=require("url").parse,kOe={ftp:21,gopher:70,http:80,https:443,ws:80,wss:443},wOe=String.prototype.endsWith||function(t){return t.length<=this.length&&this.indexOf(t,this.length-t.length)!==-1};function ROe(t){var e=typeof t=="string"?EOe(t):t||{},r=e.protocol,i=e.host,s=e.port;if(typeof i!="string"||!i||typeof r!="string"||(r=r.split(":",1)[0],i=i.replace(/:\d*$/,""),s=parseInt(s)||kOe[r]||0,!MOe(i,s)))return"";var o=Mc("npm_config_"+r+"_proxy")||Mc(r+"_proxy")||Mc("npm_config_proxy")||Mc("all_proxy");return o&&o.indexOf("://")===-1&&(o=r+"://"+o),o}function MOe(t,e){var r=(Mc("npm_config_no_proxy")||Mc("no_proxy")).toLowerCase();return r?r==="*"?!1:r.split(/[,\s]/).every(function(i){if(!i)return!0;var s=i.match(/^(.+):(\d+)$/),o=s?s[1]:i,a=s?parseInt(s[2]):0;return a&&a!==e?!0:/^[.*]/.test(o)?(o.charAt(0)==="*"&&(o=o.slice(1)),!wOe.call(t,o)):t!==o}):!0}function Mc(t){return process.env[t.toLowerCase()]||process.env[t.toUpperCase()]||""}eW.getProxyForUrl=ROe});var iW=_((Git,rW)=>{var Uc=1e3,Lc=Uc*60,Nc=Lc*60,Pu=Nc*24,UOe=Pu*7,LOe=Pu*365.25;rW.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return NOe(t);if(r==="number"&&isFinite(t))return e.long?qOe(t):VOe(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function NOe(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),i=(e[2]||"ms").toLowerCase();switch(i){case"years":case"year":case"yrs":case"yr":case"y":return r*LOe;case"weeks":case"week":case"w":return r*UOe;case"days":case"day":case"d":return r*Pu;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Nc;case"minutes":case"minute":case"mins":case"min":case"m":return r*Lc;case"seconds":case"second":case"secs":case"sec":case"s":return r*Uc;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function VOe(t){var e=Math.abs(t);return e>=Pu?Math.round(t/Pu)+"d":e>=Nc?Math.round(t/Nc)+"h":e>=Lc?Math.round(t/Lc)+"m":e>=Uc?Math.round(t/Uc)+"s":t+"ms"}function qOe(t){var e=Math.abs(t);return e>=Pu?GI(t,e,Pu,"day"):e>=Nc?GI(t,e,Nc,"hour"):e>=Lc?GI(t,e,Lc,"minute"):e>=Uc?GI(t,e,Uc,"second"):t+" ms"}function GI(t,e,r,i){var s=e>=r*1.5;return Math.round(t/r)+" "+i+(s?"s":"")}});var MP=_((Hit,nW)=>{function BOe(t){r.debug=r,r.default=r,r.coerce=d,r.disable=o,r.enable=s,r.enabled=a,r.humanize=iW(),r.destroy=p,Object.keys(t).forEach(m=>{r[m]=t[m]}),r.names=[],r.skips=[],r.formatters={};function e(m){let f=0;for(let y=0;y<m.length;y++)f=(f<<5)-f+m.charCodeAt(y),f|=0;return r.colors[Math.abs(f)%r.colors.length]}r.selectColor=e;function r(m){let f,y=null,v,O;function A(...k){if(!A.enabled)return;let U=A,$=Number(new Date),R=$-(f||$);U.diff=R,U.prev=f,U.curr=$,f=$,k[0]=r.coerce(k[0]),typeof k[0]!="string"&&k.unshift("%O");let z=0;k[0]=k[0].replace(/%([a-zA-Z%])/g,(Q,be)=>{if(Q==="%%")return"%";z++;let ae=r.formatters[be];if(typeof ae=="function"){let re=k[z];Q=ae.call(U,re),k.splice(z,1),z--}return Q}),r.formatArgs.call(U,k),(U.log||r.log).apply(U,k)}return A.namespace=m,A.useColors=r.useColors(),A.color=r.selectColor(m),A.extend=i,A.destroy=r.destroy,Object.defineProperty(A,"enabled",{enumerable:!0,configurable:!1,get:()=>y!==null?y:(v!==r.namespaces&&(v=r.namespaces,O=r.enabled(m)),O),set:k=>{y=k}}),typeof r.init=="function"&&r.init(A),A}function i(m,f){let y=r(this.namespace+(typeof f>"u"?":":f)+m);return y.log=this.log,y}function s(m){r.save(m),r.namespaces=m,r.names=[],r.skips=[];let f,y=(typeof m=="string"?m:"").split(/[\s,]+/),v=y.length;for(f=0;f<v;f++)y[f]&&(m=y[f].replace(/\*/g,".*?"),m[0]==="-"?r.skips.push(new RegExp("^"+m.slice(1)+"$")):r.names.push(new RegExp("^"+m+"$")))}function o(){let m=[...r.names.map(u),...r.skips.map(u).map(f=>"-"+f)].join(",");return r.enable(""),m}function a(m){if(m[m.length-1]==="*")return!0;let f,y;for(f=0,y=r.skips.length;f<y;f++)if(r.skips[f].test(m))return!1;for(f=0,y=r.names.length;f<y;f++)if(r.names[f].test(m))return!0;return!1}function u(m){return m.toString().substring(2,m.toString().length-2).replace(/\.\*\?$/,"*")}function d(m){return m instanceof Error?m.stack||m.message:m}function p(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}nW.exports=BOe});var sW=_((On,HI)=>{On.formatArgs=GOe;On.save=HOe;On.load=KOe;On.useColors=WOe;On.storage=$Oe();On.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();On.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function WOe(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function GOe(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+HI.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,s=>{s!=="%%"&&(r++,s==="%c"&&(i=r))}),t.splice(i,0,e)}On.log=console.debug||console.log||(()=>{});function HOe(t){try{t?On.storage.setItem("debug",t):On.storage.removeItem("debug")}catch{}}function KOe(){let t;try{t=On.storage.getItem("debug")}catch{}return!t&&typeof process<"u"&&"env"in process&&(t=process.env.DEBUG),t}function $Oe(){try{return localStorage}catch{}}HI.exports=MP()(On);var{formatters:zOe}=HI.exports;zOe.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var aW=_((Kit,oW)=>{"use strict";oW.exports=(t,e=process.argv)=>{let r=t.startsWith("-")?"":t.length===1?"-":"--",i=e.indexOf(r+t),s=e.indexOf("--");return i!==-1&&(s===-1||i<s)}});var dW=_(($it,uW)=>{"use strict";var YOe=require("os"),lW=require("tty"),$n=aW(),{env:zr}=process,sl;$n("no-color")||$n("no-colors")||$n("color=false")||$n("color=never")?sl=0:($n("color")||$n("colors")||$n("color=true")||$n("color=always"))&&(sl=1);"FORCE_COLOR"in zr&&(zr.FORCE_COLOR==="true"?sl=1:zr.FORCE_COLOR==="false"?sl=0:sl=zr.FORCE_COLOR.length===0?1:Math.min(parseInt(zr.FORCE_COLOR,10),3));function UP(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}function LP(t,e){if(sl===0)return 0;if($n("color=16m")||$n("color=full")||$n("color=truecolor"))return 3;if($n("color=256"))return 2;if(t&&!e&&sl===void 0)return 0;let r=sl||0;if(zr.TERM==="dumb")return r;if(process.platform==="win32"){let i=YOe.release().split(".");return Number(i[0])>=10&&Number(i[2])>=10586?Number(i[2])>=14931?3:2:1}if("CI"in zr)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(i=>i in zr)||zr.CI_NAME==="codeship"?1:r;if("TEAMCITY_VERSION"in zr)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(zr.TEAMCITY_VERSION)?1:0;if(zr.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in zr){let i=parseInt((zr.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(zr.TERM_PROGRAM){case"iTerm.app":return i>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(zr.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(zr.TERM)||"COLORTERM"in zr?1:r}function QOe(t){let e=LP(t,t&&t.isTTY);return UP(e)}uW.exports={supportsColor:QOe,stdout:UP(LP(!0,lW.isatty(1))),stderr:UP(LP(!0,lW.isatty(2)))}});var pW=_((ni,$I)=>{var JOe=require("tty"),KI=require("util");ni.init=nSe;ni.log=tSe;ni.formatArgs=ZOe;ni.save=rSe;ni.load=iSe;ni.useColors=XOe;ni.destroy=KI.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");ni.colors=[6,2,3,4,5,1];try{let t=dW();t&&(t.stderr||t).level>=2&&(ni.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}ni.inspectOpts=Object.keys(process.env).filter(t=>/^debug_/i.test(t)).reduce((t,e)=>{let r=e.substring(6).toLowerCase().replace(/_([a-z])/g,(s,o)=>o.toUpperCase()),i=process.env[e];return/^(yes|on|true|enabled)$/i.test(i)?i=!0:/^(no|off|false|disabled)$/i.test(i)?i=!1:i==="null"?i=null:i=Number(i),t[r]=i,t},{});function XOe(){return"colors"in ni.inspectOpts?Boolean(ni.inspectOpts.colors):JOe.isatty(process.stderr.fd)}function ZOe(t){let{namespace:e,useColors:r}=this;if(r){let i=this.color,s="\x1B[3"+(i<8?i:"8;5;"+i),o=`  ${s};1m${e} \x1B[0m`;t[0]=o+t[0].split(`
`).join(`
`+o),t.push(s+"m+"+$I.exports.humanize(this.diff)+"\x1B[0m")}else t[0]=eSe()+e+" "+t[0]}function eSe(){return ni.inspectOpts.hideDate?"":new Date().toISOString()+" "}function tSe(...t){return process.stderr.write(KI.format(...t)+`
`)}function rSe(t){t?process.env.DEBUG=t:delete process.env.DEBUG}function iSe(){return process.env.DEBUG}function nSe(t){t.inspectOpts={};let e=Object.keys(ni.inspectOpts);for(let r=0;r<e.length;r++)t.inspectOpts[e[r]]=ni.inspectOpts[e[r]]}$I.exports=MP()(ni);var{formatters:cW}=$I.exports;cW.o=function(t){return this.inspectOpts.colors=this.useColors,KI.inspect(t,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};cW.O=function(t){return this.inspectOpts.colors=this.useColors,KI.inspect(t,this.inspectOpts)}});var dg=_((zit,NP)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?NP.exports=sW():NP.exports=pW()});var gW=_((Yit,mW)=>{var cg;mW.exports=function(){if(!cg){try{cg=dg()("follow-redirects")}catch{}typeof cg!="function"&&(cg=function(){})}cg.apply(null,arguments)}});var vW=_((Qit,GP)=>{var ju=require("url"),VP=ju.URL,sSe=require("http"),oSe=require("https"),yW=require("stream").Writable,hW=require("assert"),IW=gW(),BP=["abort","aborted","connect","error","socket","timeout"],WP=Object.create(null);BP.forEach(function(t){WP[t]=function(e,r,i){this._redirectable.emit(t,e,r,i)}});var aSe=mg("ERR_INVALID_URL","Invalid URL",TypeError),fW=mg("ERR_FR_REDIRECTION_FAILURE","Redirected request failed"),lSe=mg("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded"),uSe=mg("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit"),dSe=mg("ERR_STREAM_WRITE_AFTER_END","write after end");function Sn(t,e){yW.call(this),this._sanitizeOptions(t),this._options=t,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],e&&this.on("response",e);var r=this;this._onNativeResponse=function(i){r._processResponse(i)},this._performRequest()}Sn.prototype=Object.create(yW.prototype);Sn.prototype.abort=function(){_W(this._currentRequest),this.emit("abort")};Sn.prototype.write=function(t,e,r){if(this._ending)throw new dSe;if(!Tu(t)&&!mSe(t))throw new TypeError("data should be a string, Buffer or Uint8Array");if(pg(e)&&(r=e,e=null),t.length===0){r&&r();return}this._requestBodyLength+t.length<=this._options.maxBodyLength?(this._requestBodyLength+=t.length,this._requestBodyBuffers.push({data:t,encoding:e}),this._currentRequest.write(t,e,r)):(this.emit("error",new uSe),this.abort())};Sn.prototype.end=function(t,e,r){if(pg(t)?(r=t,t=e=null):pg(e)&&(r=e,e=null),!t)this._ended=this._ending=!0,this._currentRequest.end(null,null,r);else{var i=this,s=this._currentRequest;this.write(t,e,function(){i._ended=!0,s.end(null,null,r)}),this._ending=!0}};Sn.prototype.setHeader=function(t,e){this._options.headers[t]=e,this._currentRequest.setHeader(t,e)};Sn.prototype.removeHeader=function(t){delete this._options.headers[t],this._currentRequest.removeHeader(t)};Sn.prototype.setTimeout=function(t,e){var r=this;function i(a){a.setTimeout(t),a.removeListener("timeout",a.destroy),a.addListener("timeout",a.destroy)}function s(a){r._timeout&&clearTimeout(r._timeout),r._timeout=setTimeout(function(){r.emit("timeout"),o()},t),i(a)}function o(){r._timeout&&(clearTimeout(r._timeout),r._timeout=null),r.removeListener("abort",o),r.removeListener("error",o),r.removeListener("response",o),e&&r.removeListener("timeout",e),r.socket||r._currentRequest.removeListener("socket",s)}return e&&this.on("timeout",e),this.socket?s(this.socket):this._currentRequest.once("socket",s),this.on("socket",i),this.on("abort",o),this.on("error",o),this.on("response",o),this};["flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach(function(t){Sn.prototype[t]=function(e,r){return this._currentRequest[t](e,r)}});["aborted","connection","socket"].forEach(function(t){Object.defineProperty(Sn.prototype,t,{get:function(){return this._currentRequest[t]}})});Sn.prototype._sanitizeOptions=function(t){if(t.headers||(t.headers={}),t.host&&(t.hostname||(t.hostname=t.host),delete t.host),!t.pathname&&t.path){var e=t.path.indexOf("?");e<0?t.pathname=t.path:(t.pathname=t.path.substring(0,e),t.search=t.path.substring(e))}};Sn.prototype._performRequest=function(){var t=this._options.protocol,e=this._options.nativeProtocols[t];if(!e){this.emit("error",new TypeError("Unsupported protocol "+t));return}if(this._options.agents){var r=t.slice(0,-1);this._options.agent=this._options.agents[r]}var i=this._currentRequest=e.request(this._options,this._onNativeResponse);i._redirectable=this;for(var s of BP)i.on(s,WP[s]);if(this._currentUrl=/^\//.test(this._options.path)?ju.format(this._options):this._options.path,this._isRedirect){var o=0,a=this,u=this._requestBodyBuffers;(function d(p){if(i===a._currentRequest)if(p)a.emit("error",p);else if(o<u.length){var m=u[o++];i.finished||i.write(m.data,m.encoding,d)}else a._ended&&i.end()})()}};Sn.prototype._processResponse=function(t){var e=t.statusCode;this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:t.headers,statusCode:e});var r=t.headers.location;if(!r||this._options.followRedirects===!1||e<300||e>=400){t.responseUrl=this._currentUrl,t.redirects=this._redirects,this.emit("response",t),this._requestBodyBuffers=[];return}if(_W(this._currentRequest),t.destroy(),++this._redirectCount>this._options.maxRedirects){this.emit("error",new lSe);return}var i,s=this._options.beforeRedirect;s&&(i=Object.assign({Host:t.req.getHeader("host")},this._options.headers));var o=this._options.method;((e===301||e===302)&&this._options.method==="POST"||e===303&&!/^(?:GET|HEAD)$/.test(this._options.method))&&(this._options.method="GET",this._requestBodyBuffers=[],qP(/^content-/i,this._options.headers));var a=qP(/^host$/i,this._options.headers),u=ju.parse(this._currentUrl),d=a||u.host,p=/^\w+:/.test(r)?this._currentUrl:ju.format(Object.assign(u,{host:d})),m;try{m=ju.resolve(p,r)}catch(O){this.emit("error",new fW({cause:O}));return}IW("redirecting to",m),this._isRedirect=!0;var f=ju.parse(m);if(Object.assign(this._options,f),(f.protocol!==u.protocol&&f.protocol!=="https:"||f.host!==d&&!pSe(f.host,d))&&qP(/^(?:authorization|cookie)$/i,this._options.headers),pg(s)){var y={headers:t.headers,statusCode:e},v={url:p,method:o,headers:i};try{s(this._options,y,v)}catch(O){this.emit("error",O);return}this._sanitizeOptions(this._options)}try{this._performRequest()}catch(O){this.emit("error",new fW({cause:O}))}};function xW(t){var e={maxRedirects:21,maxBodyLength:10485760},r={};return Object.keys(t).forEach(function(i){var s=i+":",o=r[s]=t[i],a=e[i]=Object.create(o);function u(p,m,f){if(Tu(p)){var y;try{y=bW(new VP(p))}catch{y=ju.parse(p)}if(!Tu(y.protocol))throw new aSe({input:p});p=y}else VP&&p instanceof VP?p=bW(p):(f=m,m=p,p={protocol:s});return pg(m)&&(f=m,m=null),m=Object.assign({maxRedirects:e.maxRedirects,maxBodyLength:e.maxBodyLength},p,m),m.nativeProtocols=r,!Tu(m.host)&&!Tu(m.hostname)&&(m.hostname="::1"),hW.equal(m.protocol,s,"protocol mismatch"),IW("options",m),new Sn(m,f)}function d(p,m,f){var y=a.request(p,m,f);return y.end(),y}Object.defineProperties(a,{request:{value:u,configurable:!0,enumerable:!0,writable:!0},get:{value:d,configurable:!0,enumerable:!0,writable:!0}})}),e}function cSe(){}function bW(t){var e={protocol:t.protocol,hostname:t.hostname.startsWith("[")?t.hostname.slice(1,-1):t.hostname,hash:t.hash,search:t.search,pathname:t.pathname,path:t.pathname+t.search,href:t.href};return t.port!==""&&(e.port=Number(t.port)),e}function qP(t,e){var r;for(var i in e)t.test(i)&&(r=e[i],delete e[i]);return r===null||typeof r>"u"?void 0:String(r).trim()}function mg(t,e,r){function i(s){Error.captureStackTrace(this,this.constructor),Object.assign(this,s||{}),this.code=t,this.message=this.cause?e+": "+this.cause.message:e}return i.prototype=new(r||Error),i.prototype.constructor=i,i.prototype.name="Error ["+t+"]",i}function _W(t){for(var e of BP)t.removeListener(e,WP[e]);t.on("error",cSe),t.abort()}function pSe(t,e){hW(Tu(t)&&Tu(e));var r=t.length-e.length-1;return r>0&&t[r]==="."&&t.endsWith(e)}function Tu(t){return typeof t=="string"||t instanceof String}function pg(t){return typeof t=="function"}function mSe(t){return typeof t=="object"&&"length"in t}GP.exports=xW({http:sSe,https:oSe});GP.exports.wrap=xW});var t2=_((mot,hg)=>{"use strict";var qc={decodeValues:!0,map:!1,silent:!1};function rj(t){return typeof t=="string"&&!!t.trim()}function ij(t,e){var r=t.split(";").filter(rj),i=r.shift(),s=wSe(i),o=s.name,a=s.value;e=e?Object.assign({},qc,e):qc;try{a=e.decodeValues?decodeURIComponent(a):a}catch(d){console.error("set-cookie-parser encountered an error while decoding a cookie with value '"+a+"'. Set options.decodeValues to false to disable this feature.",d)}var u={name:o,value:a};return r.forEach(function(d){var p=d.split("="),m=p.shift().trimLeft().toLowerCase(),f=p.join("=");m==="expires"?u.expires=new Date(f):m==="max-age"?u.maxAge=parseInt(f,10):m==="secure"?u.secure=!0:m==="httponly"?u.httpOnly=!0:m==="samesite"?u.sameSite=f:u[m]=f}),u}function wSe(t){var e="",r="",i=t.split("=");return i.length>1?(e=i.shift(),r=i.join("=")):r=t,{name:e,value:r}}function e2(t,e){if(e=e?Object.assign({},qc,e):qc,!t)return e.map?{}:[];if(t.headers)if(typeof t.headers.getSetCookie=="function")t=t.headers.getSetCookie();else if(t.headers["set-cookie"])t=t.headers["set-cookie"];else{var r=t.headers[Object.keys(t.headers).find(function(s){return s.toLowerCase()==="set-cookie"})];!r&&t.headers.cookie&&!e.silent&&console.warn("Warning: set-cookie-parser appears to have been called on a request object. It is designed to parse Set-Cookie headers from responses, not Cookie headers from requests. Set the option {silent: true} to suppress this warning."),t=r}if(Array.isArray(t)||(t=[t]),e=e?Object.assign({},qc,e):qc,e.map){var i={};return t.filter(rj).reduce(function(s,o){var a=ij(o,e);return s[a.name]=a,s},i)}else return t.filter(rj).map(function(s){return ij(s,e)})}function RSe(t){if(Array.isArray(t))return t;if(typeof t!="string")return[];var e=[],r=0,i,s,o,a,u;function d(){for(;r<t.length&&/\s/.test(t.charAt(r));)r+=1;return r<t.length}function p(){return s=t.charAt(r),s!=="="&&s!==";"&&s!==","}for(;r<t.length;){for(i=r,u=!1;d();)if(s=t.charAt(r),s===","){for(o=r,r+=1,d(),a=r;r<t.length&&p();)r+=1;r<t.length&&t.charAt(r)==="="?(u=!0,r=a,e.push(t.substring(i,o)),i=r):r=o+1}else r+=1;(!u||r>=t.length)&&e.push(t.substring(i,t.length))}return e}hg.exports=e2;hg.exports.parse=e2;hg.exports.parseString=ij;hg.exports.splitCookiesString=RSe});var O2=_((cx,v2)=>{"use strict";Object.defineProperty(cx,"__esModule",{value:!0});var MSe=function(){function t(e,r){for(var i=0;i<r.length;i++){var s=r[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),USe=LSe(["",""],["",""]);function LSe(t,e){return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function NSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var VSe=function(){function t(){for(var e=this,r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return NSe(this,t),this.tag=function(o){for(var a=arguments.length,u=Array(a>1?a-1:0),d=1;d<a;d++)u[d-1]=arguments[d];return typeof o=="function"?e.interimTag.bind(e,o):typeof o=="string"?e.transformEndResult(o):(o=o.map(e.transformString.bind(e)),e.transformEndResult(o.reduce(e.processSubstitutions.bind(e,u))))},i.length>0&&Array.isArray(i[0])&&(i=i[0]),this.transformers=i.map(function(o){return typeof o=="function"?o():o}),this.tag}return MSe(t,[{key:"interimTag",value:function(r,i){for(var s=arguments.length,o=Array(s>2?s-2:0),a=2;a<s;a++)o[a-2]=arguments[a];return this.tag(USe,r.apply(void 0,[i].concat(o)))}},{key:"processSubstitutions",value:function(r,i,s){var o=this.transformSubstitution(r.shift(),i);return"".concat(i,o,s)}},{key:"transformString",value:function(r){var i=function(o,a){return a.onString?a.onString(o):o};return this.transformers.reduce(i,r)}},{key:"transformSubstitution",value:function(r,i){var s=function(a,u){return u.onSubstitution?u.onSubstitution(a,i):a};return this.transformers.reduce(s,r)}},{key:"transformEndResult",value:function(r){var i=function(o,a){return a.onEndResult?a.onEndResult(o):o};return this.transformers.reduce(i,r)}}]),t}();cx.default=VSe;v2.exports=cx.default});var hi=_((Sg,S2)=>{"use strict";Object.defineProperty(Sg,"__esModule",{value:!0});Sg.default=void 0;var qSe=O2(),BSe=WSe(qSe);function WSe(t){return t&&t.__esModule?t:{default:t}}Sg.default=BSe.default;S2.exports=Sg.default});var A2=_((px,D2)=>{"use strict";Object.defineProperty(px,"__esModule",{value:!0});var GSe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return{onEndResult:function(i){if(e==="")return i.trim();if(e=e.toLowerCase(),e==="start"||e==="left")return i.replace(/^\s*/,"");if(e==="end"||e==="right")return i.replace(/\s*$/,"");throw new Error("Side not supported: "+e)}}};px.default=GSe;D2.exports=px.default});var Ii=_((Dg,F2)=>{"use strict";Object.defineProperty(Dg,"__esModule",{value:!0});Dg.default=void 0;var HSe=A2(),KSe=$Se(HSe);function $Se(t){return t&&t.__esModule?t:{default:t}}Dg.default=KSe.default;F2.exports=Dg.default});var j2=_((mx,P2)=>{"use strict";Object.defineProperty(mx,"__esModule",{value:!0});function zSe(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}else return Array.from(t)}var YSe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"initial";return{onEndResult:function(i){if(e==="initial"){var s=i.match(/^[^\S\n]*(?=\S)/gm),o=s&&Math.min.apply(Math,zSe(s.map(function(u){return u.length})));if(o){var a=new RegExp("^.{"+o+"}","gm");return i.replace(a,"")}return i}if(e==="all")return i.replace(/^[^\S\n]+/gm,"");throw new Error("Unknown type: "+e)}}};mx.default=YSe;P2.exports=mx.default});var Gs=_((Ag,T2)=>{"use strict";Object.defineProperty(Ag,"__esModule",{value:!0});Ag.default=void 0;var QSe=j2(),JSe=XSe(QSe);function XSe(t){return t&&t.__esModule?t:{default:t}}Ag.default=JSe.default;T2.exports=Ag.default});var E2=_((gx,C2)=>{"use strict";Object.defineProperty(gx,"__esModule",{value:!0});var ZSe=function(e,r){return{onEndResult:function(s){if(e==null||r==null)throw new Error("replaceResultTransformer requires at least 2 arguments.");return s.replace(e,r)}}};gx.default=ZSe;C2.exports=gx.default});var ul=_((Fg,k2)=>{"use strict";Object.defineProperty(Fg,"__esModule",{value:!0});Fg.default=void 0;var eDe=E2(),tDe=rDe(eDe);function rDe(t){return t&&t.__esModule?t:{default:t}}Fg.default=tDe.default;k2.exports=Fg.default});var R2=_((fx,w2)=>{"use strict";Object.defineProperty(fx,"__esModule",{value:!0});var iDe=function(e,r){return{onSubstitution:function(s,o){if(e==null||r==null)throw new Error("replaceSubstitutionTransformer requires at least 2 arguments.");return s==null?s:s.toString().replace(e,r)}}};fx.default=iDe;w2.exports=fx.default});var pj=_((Pg,M2)=>{"use strict";Object.defineProperty(Pg,"__esModule",{value:!0});Pg.default=void 0;var nDe=R2(),sDe=oDe(nDe);function oDe(t){return t&&t.__esModule?t:{default:t}}Pg.default=sDe.default;M2.exports=Pg.default});var L2=_((bx,U2)=>{"use strict";Object.defineProperty(bx,"__esModule",{value:!0});var aDe=function(e,r){return{onString:function(s){if(e==null||r==null)throw new Error("replaceStringTransformer requires at least 2 arguments.");return s.replace(e,r)}}};bx.default=aDe;U2.exports=bx.default});var V2=_((jg,N2)=>{"use strict";Object.defineProperty(jg,"__esModule",{value:!0});jg.default=void 0;var lDe=L2(),uDe=dDe(lDe);function dDe(t){return t&&t.__esModule?t:{default:t}}jg.default=uDe.default;N2.exports=jg.default});var B2=_((yx,q2)=>{"use strict";Object.defineProperty(yx,"__esModule",{value:!0});var cDe={separator:"",conjunction:"",serial:!1},pDe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:cDe;return{onSubstitution:function(i,s){if(Array.isArray(i)){var o=i.length,a=e.separator,u=e.conjunction,d=e.serial,p=s.match(/(\n?[^\S\n]+)$/);if(p?i=i.join(a+p[1]):i=i.join(a+" "),u&&o>1){var m=i.lastIndexOf(a);i=i.slice(0,m)+(d?a:"")+" "+u+i.slice(m+1)}}return i}}};yx.default=pDe;q2.exports=yx.default});var zn=_((Tg,W2)=>{"use strict";Object.defineProperty(Tg,"__esModule",{value:!0});Tg.default=void 0;var mDe=B2(),gDe=fDe(mDe);function fDe(t){return t&&t.__esModule?t:{default:t}}Tg.default=gDe.default;W2.exports=Tg.default});var H2=_((hx,G2)=>{"use strict";Object.defineProperty(hx,"__esModule",{value:!0});var bDe=function(e){return{onSubstitution:function(i,s){if(e!=null&&typeof e=="string")typeof i=="string"&&i.includes(e)&&(i=i.split(e));else throw new Error("You need to specify a string character to split by.");return i}}};hx.default=bDe;G2.exports=hx.default});var Ix=_((Cg,K2)=>{"use strict";Object.defineProperty(Cg,"__esModule",{value:!0});Cg.default=void 0;var yDe=H2(),hDe=IDe(yDe);function IDe(t){return t&&t.__esModule?t:{default:t}}Cg.default=hDe.default;K2.exports=Cg.default});var Y2=_((xx,z2)=>{"use strict";Object.defineProperty(xx,"__esModule",{value:!0});var $2=function(e){return e!=null&&!Number.isNaN(e)&&typeof e!="boolean"},xDe=function(){return{onSubstitution:function(r){return Array.isArray(r)?r.filter($2):$2(r)?r:""}}};xx.default=xDe;z2.exports=xx.default});var mj=_((Eg,Q2)=>{"use strict";Object.defineProperty(Eg,"__esModule",{value:!0});Eg.default=void 0;var _De=Y2(),vDe=ODe(_De);function ODe(t){return t&&t.__esModule?t:{default:t}}Eg.default=vDe.default;Q2.exports=Eg.default});var X2=_((vx,J2)=>{"use strict";Object.defineProperty(vx,"__esModule",{value:!0});var SDe=hi(),DDe=_x(SDe),ADe=Gs(),FDe=_x(ADe),PDe=zn(),jDe=_x(PDe),TDe=Ii(),CDe=_x(TDe);function _x(t){return t&&t.__esModule?t:{default:t}}var EDe=new DDe.default((0,jDe.default)({separator:","}),FDe.default,CDe.default);vx.default=EDe;J2.exports=vx.default});var eG=_((kg,Z2)=>{"use strict";Object.defineProperty(kg,"__esModule",{value:!0});kg.default=void 0;var kDe=X2(),wDe=RDe(kDe);function RDe(t){return t&&t.__esModule?t:{default:t}}kg.default=wDe.default;Z2.exports=kg.default});var rG=_((Sx,tG)=>{"use strict";Object.defineProperty(Sx,"__esModule",{value:!0});var MDe=hi(),UDe=Ox(MDe),LDe=Gs(),NDe=Ox(LDe),VDe=zn(),qDe=Ox(VDe),BDe=Ii(),WDe=Ox(BDe);function Ox(t){return t&&t.__esModule?t:{default:t}}var GDe=new UDe.default((0,qDe.default)({separator:",",conjunction:"and"}),NDe.default,WDe.default);Sx.default=GDe;tG.exports=Sx.default});var nG=_((wg,iG)=>{"use strict";Object.defineProperty(wg,"__esModule",{value:!0});wg.default=void 0;var HDe=rG(),KDe=$De(HDe);function $De(t){return t&&t.__esModule?t:{default:t}}wg.default=KDe.default;iG.exports=wg.default});var oG=_((Ax,sG)=>{"use strict";Object.defineProperty(Ax,"__esModule",{value:!0});var zDe=hi(),YDe=Dx(zDe),QDe=Gs(),JDe=Dx(QDe),XDe=zn(),ZDe=Dx(XDe),eAe=Ii(),tAe=Dx(eAe);function Dx(t){return t&&t.__esModule?t:{default:t}}var rAe=new YDe.default((0,ZDe.default)({separator:",",conjunction:"or"}),JDe.default,tAe.default);Ax.default=rAe;sG.exports=Ax.default});var lG=_((Rg,aG)=>{"use strict";Object.defineProperty(Rg,"__esModule",{value:!0});Rg.default=void 0;var iAe=oG(),nAe=sAe(iAe);function sAe(t){return t&&t.__esModule?t:{default:t}}Rg.default=nAe.default;aG.exports=Rg.default});var dG=_((Fx,uG)=>{"use strict";Object.defineProperty(Fx,"__esModule",{value:!0});var oAe=hi(),aAe=Gc(oAe),lAe=Gs(),uAe=Gc(lAe),dAe=zn(),cAe=Gc(dAe),pAe=Ii(),mAe=Gc(pAe),gAe=Ix(),fAe=Gc(gAe),bAe=mj(),yAe=Gc(bAe);function Gc(t){return t&&t.__esModule?t:{default:t}}var hAe=new aAe.default((0,fAe.default)(`
`),yAe.default,cAe.default,uAe.default,mAe.default);Fx.default=hAe;uG.exports=Fx.default});var Px=_((Mg,cG)=>{"use strict";Object.defineProperty(Mg,"__esModule",{value:!0});Mg.default=void 0;var IAe=dG(),xAe=_Ae(IAe);function _Ae(t){return t&&t.__esModule?t:{default:t}}Mg.default=xAe.default;cG.exports=Mg.default});var mG=_((Ug,pG)=>{"use strict";Object.defineProperty(Ug,"__esModule",{value:!0});Ug.default=void 0;var vAe=Px(),OAe=SAe(vAe);function SAe(t){return t&&t.__esModule?t:{default:t}}Ug.default=OAe.default;pG.exports=Ug.default});var fG=_((Lg,gG)=>{"use strict";Object.defineProperty(Lg,"__esModule",{value:!0});Lg.default=void 0;var DAe=Px(),AAe=FAe(DAe);function FAe(t){return t&&t.__esModule?t:{default:t}}Lg.default=AAe.default;gG.exports=Lg.default});var yG=_((jx,bG)=>{"use strict";Object.defineProperty(jx,"__esModule",{value:!0});var PAe=hi(),jAe=Kc(PAe),TAe=Gs(),CAe=Kc(TAe),EAe=zn(),kAe=Kc(EAe),wAe=Ii(),RAe=Kc(wAe),MAe=Ix(),UAe=Kc(MAe),LAe=pj(),Hc=Kc(LAe);function Kc(t){return t&&t.__esModule?t:{default:t}}var NAe=new jAe.default((0,UAe.default)(`
`),kAe.default,CAe.default,RAe.default,(0,Hc.default)(/&/g,"&amp;"),(0,Hc.default)(/</g,"&lt;"),(0,Hc.default)(/>/g,"&gt;"),(0,Hc.default)(/"/g,"&quot;"),(0,Hc.default)(/'/g,"&#x27;"),(0,Hc.default)(/`/g,"&#x60;"));jx.default=NAe;bG.exports=jx.default});var IG=_((Ng,hG)=>{"use strict";Object.defineProperty(Ng,"__esModule",{value:!0});Ng.default=void 0;var VAe=yG(),qAe=BAe(VAe);function BAe(t){return t&&t.__esModule?t:{default:t}}Ng.default=qAe.default;hG.exports=Ng.default});var _G=_((Tx,xG)=>{"use strict";Object.defineProperty(Tx,"__esModule",{value:!0});var WAe=hi(),GAe=gj(WAe),HAe=Ii(),KAe=gj(HAe),$Ae=ul(),zAe=gj($Ae);function gj(t){return t&&t.__esModule?t:{default:t}}var YAe=new GAe.default((0,zAe.default)(/(?:\n(?:\s*))+/g," "),KAe.default);Tx.default=YAe;xG.exports=Tx.default});var OG=_((Vg,vG)=>{"use strict";Object.defineProperty(Vg,"__esModule",{value:!0});Vg.default=void 0;var QAe=_G(),JAe=XAe(QAe);function XAe(t){return t&&t.__esModule?t:{default:t}}Vg.default=JAe.default;vG.exports=Vg.default});var DG=_((Cx,SG)=>{"use strict";Object.defineProperty(Cx,"__esModule",{value:!0});var ZAe=hi(),eFe=fj(ZAe),tFe=Ii(),rFe=fj(tFe),iFe=ul(),nFe=fj(iFe);function fj(t){return t&&t.__esModule?t:{default:t}}var sFe=new eFe.default((0,nFe.default)(/(?:\n\s*)/g,""),rFe.default);Cx.default=sFe;SG.exports=Cx.default});var FG=_((qg,AG)=>{"use strict";Object.defineProperty(qg,"__esModule",{value:!0});qg.default=void 0;var oFe=DG(),aFe=lFe(oFe);function lFe(t){return t&&t.__esModule?t:{default:t}}qg.default=aFe.default;AG.exports=qg.default});var jG=_((kx,PG)=>{"use strict";Object.defineProperty(kx,"__esModule",{value:!0});var uFe=hi(),dFe=Ex(uFe),cFe=zn(),pFe=Ex(cFe),mFe=Ii(),gFe=Ex(mFe),fFe=ul(),bFe=Ex(fFe);function Ex(t){return t&&t.__esModule?t:{default:t}}var yFe=new dFe.default((0,pFe.default)({separator:","}),(0,bFe.default)(/(?:\s+)/g," "),gFe.default);kx.default=yFe;PG.exports=kx.default});var CG=_((Bg,TG)=>{"use strict";Object.defineProperty(Bg,"__esModule",{value:!0});Bg.default=void 0;var hFe=jG(),IFe=xFe(hFe);function xFe(t){return t&&t.__esModule?t:{default:t}}Bg.default=IFe.default;TG.exports=Bg.default});var kG=_((Rx,EG)=>{"use strict";Object.defineProperty(Rx,"__esModule",{value:!0});var _Fe=hi(),vFe=wx(_Fe),OFe=zn(),SFe=wx(OFe),DFe=Ii(),AFe=wx(DFe),FFe=ul(),PFe=wx(FFe);function wx(t){return t&&t.__esModule?t:{default:t}}var jFe=new vFe.default((0,SFe.default)({separator:",",conjunction:"or"}),(0,PFe.default)(/(?:\s+)/g," "),AFe.default);Rx.default=jFe;EG.exports=Rx.default});var RG=_((Wg,wG)=>{"use strict";Object.defineProperty(Wg,"__esModule",{value:!0});Wg.default=void 0;var TFe=kG(),CFe=EFe(TFe);function EFe(t){return t&&t.__esModule?t:{default:t}}Wg.default=CFe.default;wG.exports=Wg.default});var UG=_((Ux,MG)=>{"use strict";Object.defineProperty(Ux,"__esModule",{value:!0});var kFe=hi(),wFe=Mx(kFe),RFe=zn(),MFe=Mx(RFe),UFe=Ii(),LFe=Mx(UFe),NFe=ul(),VFe=Mx(NFe);function Mx(t){return t&&t.__esModule?t:{default:t}}var qFe=new wFe.default((0,MFe.default)({separator:",",conjunction:"and"}),(0,VFe.default)(/(?:\s+)/g," "),LFe.default);Ux.default=qFe;MG.exports=Ux.default});var NG=_((Gg,LG)=>{"use strict";Object.defineProperty(Gg,"__esModule",{value:!0});Gg.default=void 0;var BFe=UG(),WFe=GFe(BFe);function GFe(t){return t&&t.__esModule?t:{default:t}}Gg.default=WFe.default;LG.exports=Gg.default});var qG=_((Nx,VG)=>{"use strict";Object.defineProperty(Nx,"__esModule",{value:!0});var HFe=hi(),KFe=Lx(HFe),$Fe=Gs(),zFe=Lx($Fe),YFe=zn(),QFe=Lx(YFe),JFe=Ii(),XFe=Lx(JFe);function Lx(t){return t&&t.__esModule?t:{default:t}}var ZFe=new KFe.default(QFe.default,zFe.default,XFe.default);Nx.default=ZFe;VG.exports=Nx.default});var WG=_((Hg,BG)=>{"use strict";Object.defineProperty(Hg,"__esModule",{value:!0});Hg.default=void 0;var ePe=qG(),tPe=rPe(ePe);function rPe(t){return t&&t.__esModule?t:{default:t}}Hg.default=tPe.default;BG.exports=Hg.default});var HG=_((qx,GG)=>{"use strict";Object.defineProperty(qx,"__esModule",{value:!0});var iPe=hi(),nPe=Vx(iPe),sPe=zn(),oPe=Vx(sPe),aPe=Ii(),lPe=Vx(aPe),uPe=ul(),dPe=Vx(uPe);function Vx(t){return t&&t.__esModule?t:{default:t}}var cPe=new nPe.default(oPe.default,(0,dPe.default)(/(?:\s+)/g," "),lPe.default);qx.default=cPe;GG.exports=qx.default});var $G=_((Kg,KG)=>{"use strict";Object.defineProperty(Kg,"__esModule",{value:!0});Kg.default=void 0;var pPe=HG(),mPe=gPe(pPe);function gPe(t){return t&&t.__esModule?t:{default:t}}Kg.default=mPe.default;KG.exports=Kg.default});var YG=_((Bx,zG)=>{"use strict";Object.defineProperty(Bx,"__esModule",{value:!0});var fPe=hi(),bPe=bj(fPe),yPe=Gs(),hPe=bj(yPe),IPe=Ii(),xPe=bj(IPe);function bj(t){return t&&t.__esModule?t:{default:t}}var _Pe=new bPe.default(hPe.default,xPe.default);Bx.default=_Pe;zG.exports=Bx.default});var JG=_(($g,QG)=>{"use strict";Object.defineProperty($g,"__esModule",{value:!0});$g.default=void 0;var vPe=YG(),OPe=SPe(vPe);function SPe(t){return t&&t.__esModule?t:{default:t}}$g.default=OPe.default;QG.exports=$g.default});var ZG=_((Wx,XG)=>{"use strict";Object.defineProperty(Wx,"__esModule",{value:!0});var DPe=hi(),APe=yj(DPe),FPe=Gs(),PPe=yj(FPe),jPe=Ii(),TPe=yj(jPe);function yj(t){return t&&t.__esModule?t:{default:t}}var CPe=new APe.default((0,PPe.default)("all"),TPe.default);Wx.default=CPe;XG.exports=Wx.default});var tH=_((zg,eH)=>{"use strict";Object.defineProperty(zg,"__esModule",{value:!0});zg.default=void 0;var EPe=ZG(),kPe=wPe(EPe);function wPe(t){return t&&t.__esModule?t:{default:t}}zg.default=kPe.default;eH.exports=zg.default});var Mu=_(Be=>{"use strict";Object.defineProperty(Be,"__esModule",{value:!0});Be.stripIndents=Be.stripIndent=Be.oneLineInlineLists=Be.inlineLists=Be.oneLineCommaListsAnd=Be.oneLineCommaListsOr=Be.oneLineCommaLists=Be.oneLineTrim=Be.oneLine=Be.safeHtml=Be.source=Be.codeBlock=Be.html=Be.commaListsOr=Be.commaListsAnd=Be.commaLists=Be.removeNonPrintingValuesTransformer=Be.splitStringTransformer=Be.inlineArrayTransformer=Be.replaceStringTransformer=Be.replaceSubstitutionTransformer=Be.replaceResultTransformer=Be.stripIndentTransformer=Be.trimResultTransformer=Be.TemplateTag=void 0;var RPe=hi(),MPe=Jt(RPe),UPe=Ii(),LPe=Jt(UPe),NPe=Gs(),VPe=Jt(NPe),qPe=ul(),BPe=Jt(qPe),WPe=pj(),GPe=Jt(WPe),HPe=V2(),KPe=Jt(HPe),$Pe=zn(),zPe=Jt($Pe),YPe=Ix(),QPe=Jt(YPe),JPe=mj(),XPe=Jt(JPe),ZPe=eG(),eje=Jt(ZPe),tje=nG(),rje=Jt(tje),ije=lG(),nje=Jt(ije),sje=Px(),oje=Jt(sje),aje=mG(),lje=Jt(aje),uje=fG(),dje=Jt(uje),cje=IG(),pje=Jt(cje),mje=OG(),gje=Jt(mje),fje=FG(),bje=Jt(fje),yje=CG(),hje=Jt(yje),Ije=RG(),xje=Jt(Ije),_je=NG(),vje=Jt(_je),Oje=WG(),Sje=Jt(Oje),Dje=$G(),Aje=Jt(Dje),Fje=JG(),Pje=Jt(Fje),jje=tH(),Tje=Jt(jje);function Jt(t){return t&&t.__esModule?t:{default:t}}Be.TemplateTag=MPe.default;Be.trimResultTransformer=LPe.default;Be.stripIndentTransformer=VPe.default;Be.replaceResultTransformer=BPe.default;Be.replaceSubstitutionTransformer=GPe.default;Be.replaceStringTransformer=KPe.default;Be.inlineArrayTransformer=zPe.default;Be.splitStringTransformer=QPe.default;Be.removeNonPrintingValuesTransformer=XPe.default;Be.commaLists=eje.default;Be.commaListsAnd=rje.default;Be.commaListsOr=nje.default;Be.html=oje.default;Be.codeBlock=lje.default;Be.source=dje.default;Be.safeHtml=pje.default;Be.oneLine=gje.default;Be.oneLineTrim=bje.default;Be.oneLineCommaLists=hje.default;Be.oneLineCommaListsOr=xje.default;Be.oneLineCommaListsAnd=vje.default;Be.inlineLists=Sje.default;Be.oneLineInlineLists=Aje.default;Be.stripIndent=Pje.default;Be.stripIndents=Tje.default});var fH=_((t_,gH)=>{"use strict";Object.defineProperty(t_,"__esModule",{value:!0});var zje=function(){function t(e,r){for(var i=0;i<r.length;i++){var s=r[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),Yje=Qje(["",""],["",""]);function Qje(t,e){return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function Jje(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Xje=function(){function t(){for(var e=this,r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return Jje(this,t),this.tag=function(o){for(var a=arguments.length,u=Array(a>1?a-1:0),d=1;d<a;d++)u[d-1]=arguments[d];return typeof o=="function"?e.interimTag.bind(e,o):typeof o=="string"?e.transformEndResult(o):(o=o.map(e.transformString.bind(e)),e.transformEndResult(o.reduce(e.processSubstitutions.bind(e,u))))},i.length>0&&Array.isArray(i[0])&&(i=i[0]),this.transformers=i.map(function(o){return typeof o=="function"?o():o}),this.tag}return zje(t,[{key:"interimTag",value:function(r,i){for(var s=arguments.length,o=Array(s>2?s-2:0),a=2;a<s;a++)o[a-2]=arguments[a];return this.tag(Yje,r.apply(void 0,[i].concat(o)))}},{key:"processSubstitutions",value:function(r,i,s){var o=this.transformSubstitution(r.shift(),i);return"".concat(i,o,s)}},{key:"transformString",value:function(r){var i=function(o,a){return a.onString?a.onString(o):o};return this.transformers.reduce(i,r)}},{key:"transformSubstitution",value:function(r,i){var s=function(a,u){return u.onSubstitution?u.onSubstitution(a,i):a};return this.transformers.reduce(s,r)}},{key:"transformEndResult",value:function(r){var i=function(o,a){return a.onEndResult?a.onEndResult(o):o};return this.transformers.reduce(i,r)}}]),t}();t_.default=Xje;gH.exports=t_.default});var xi=_((cf,bH)=>{"use strict";Object.defineProperty(cf,"__esModule",{value:!0});cf.default=void 0;var Zje=fH(),eTe=tTe(Zje);function tTe(t){return t&&t.__esModule?t:{default:t}}cf.default=eTe.default;bH.exports=cf.default});var hH=_((r_,yH)=>{"use strict";Object.defineProperty(r_,"__esModule",{value:!0});var rTe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return{onEndResult:function(i){if(e==="")return i.trim();if(e=e.toLowerCase(),e==="start"||e==="left")return i.replace(/^\s*/,"");if(e==="end"||e==="right")return i.replace(/\s*$/,"");throw new Error("Side not supported: "+e)}}};r_.default=rTe;yH.exports=r_.default});var _i=_((pf,IH)=>{"use strict";Object.defineProperty(pf,"__esModule",{value:!0});pf.default=void 0;var iTe=hH(),nTe=sTe(iTe);function sTe(t){return t&&t.__esModule?t:{default:t}}pf.default=nTe.default;IH.exports=pf.default});var _H=_((i_,xH)=>{"use strict";Object.defineProperty(i_,"__esModule",{value:!0});function oTe(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}else return Array.from(t)}var aTe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"initial";return{onEndResult:function(i){if(e==="initial"){var s=i.match(/^[^\S\n]*(?=\S)/gm),o=s&&Math.min.apply(Math,oTe(s.map(function(u){return u.length})));if(o){var a=new RegExp("^.{"+o+"}","gm");return i.replace(a,"")}return i}if(e==="all")return i.replace(/^[^\S\n]+/gm,"");throw new Error("Unknown type: "+e)}}};i_.default=aTe;xH.exports=i_.default});var $s=_((mf,vH)=>{"use strict";Object.defineProperty(mf,"__esModule",{value:!0});mf.default=void 0;var lTe=_H(),uTe=dTe(lTe);function dTe(t){return t&&t.__esModule?t:{default:t}}mf.default=uTe.default;vH.exports=mf.default});var SH=_((n_,OH)=>{"use strict";Object.defineProperty(n_,"__esModule",{value:!0});var cTe=function(e,r){return{onEndResult:function(s){if(e==null||r==null)throw new Error("replaceResultTransformer requires at least 2 arguments.");return s.replace(e,r)}}};n_.default=cTe;OH.exports=n_.default});var bl=_((gf,DH)=>{"use strict";Object.defineProperty(gf,"__esModule",{value:!0});gf.default=void 0;var pTe=SH(),mTe=gTe(pTe);function gTe(t){return t&&t.__esModule?t:{default:t}}gf.default=mTe.default;DH.exports=gf.default});var FH=_((s_,AH)=>{"use strict";Object.defineProperty(s_,"__esModule",{value:!0});var fTe=function(e,r){return{onSubstitution:function(s,o){if(e==null||r==null)throw new Error("replaceSubstitutionTransformer requires at least 2 arguments.");return s==null?s:s.toString().replace(e,r)}}};s_.default=fTe;AH.exports=s_.default});var wj=_((ff,PH)=>{"use strict";Object.defineProperty(ff,"__esModule",{value:!0});ff.default=void 0;var bTe=FH(),yTe=hTe(bTe);function hTe(t){return t&&t.__esModule?t:{default:t}}ff.default=yTe.default;PH.exports=ff.default});var TH=_((o_,jH)=>{"use strict";Object.defineProperty(o_,"__esModule",{value:!0});var ITe=function(e,r){return{onString:function(s){if(e==null||r==null)throw new Error("replaceStringTransformer requires at least 2 arguments.");return s.replace(e,r)}}};o_.default=ITe;jH.exports=o_.default});var EH=_((bf,CH)=>{"use strict";Object.defineProperty(bf,"__esModule",{value:!0});bf.default=void 0;var xTe=TH(),_Te=vTe(xTe);function vTe(t){return t&&t.__esModule?t:{default:t}}bf.default=_Te.default;CH.exports=bf.default});var wH=_((a_,kH)=>{"use strict";Object.defineProperty(a_,"__esModule",{value:!0});var OTe={separator:"",conjunction:"",serial:!1},STe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:OTe;return{onSubstitution:function(i,s){if(Array.isArray(i)){var o=i.length,a=e.separator,u=e.conjunction,d=e.serial,p=s.match(/(\n?[^\S\n]+)$/);if(p?i=i.join(a+p[1]):i=i.join(a+" "),u&&o>1){var m=i.lastIndexOf(a);i=i.slice(0,m)+(d?a:"")+" "+u+i.slice(m+1)}}return i}}};a_.default=STe;kH.exports=a_.default});var Jn=_((yf,RH)=>{"use strict";Object.defineProperty(yf,"__esModule",{value:!0});yf.default=void 0;var DTe=wH(),ATe=FTe(DTe);function FTe(t){return t&&t.__esModule?t:{default:t}}yf.default=ATe.default;RH.exports=yf.default});var UH=_((l_,MH)=>{"use strict";Object.defineProperty(l_,"__esModule",{value:!0});var PTe=function(e){return{onSubstitution:function(i,s){if(e!=null&&typeof e=="string")typeof i=="string"&&i.includes(e)&&(i=i.split(e));else throw new Error("You need to specify a string character to split by.");return i}}};l_.default=PTe;MH.exports=l_.default});var u_=_((hf,LH)=>{"use strict";Object.defineProperty(hf,"__esModule",{value:!0});hf.default=void 0;var jTe=UH(),TTe=CTe(jTe);function CTe(t){return t&&t.__esModule?t:{default:t}}hf.default=TTe.default;LH.exports=hf.default});var qH=_((d_,VH)=>{"use strict";Object.defineProperty(d_,"__esModule",{value:!0});var NH=function(e){return e!=null&&!Number.isNaN(e)&&typeof e!="boolean"},ETe=function(){return{onSubstitution:function(r){return Array.isArray(r)?r.filter(NH):NH(r)?r:""}}};d_.default=ETe;VH.exports=d_.default});var Rj=_((If,BH)=>{"use strict";Object.defineProperty(If,"__esModule",{value:!0});If.default=void 0;var kTe=qH(),wTe=RTe(kTe);function RTe(t){return t&&t.__esModule?t:{default:t}}If.default=wTe.default;BH.exports=If.default});var GH=_((p_,WH)=>{"use strict";Object.defineProperty(p_,"__esModule",{value:!0});var MTe=xi(),UTe=c_(MTe),LTe=$s(),NTe=c_(LTe),VTe=Jn(),qTe=c_(VTe),BTe=_i(),WTe=c_(BTe);function c_(t){return t&&t.__esModule?t:{default:t}}var GTe=new UTe.default((0,qTe.default)({separator:","}),NTe.default,WTe.default);p_.default=GTe;WH.exports=p_.default});var KH=_((xf,HH)=>{"use strict";Object.defineProperty(xf,"__esModule",{value:!0});xf.default=void 0;var HTe=GH(),KTe=$Te(HTe);function $Te(t){return t&&t.__esModule?t:{default:t}}xf.default=KTe.default;HH.exports=xf.default});var zH=_((g_,$H)=>{"use strict";Object.defineProperty(g_,"__esModule",{value:!0});var zTe=xi(),YTe=m_(zTe),QTe=$s(),JTe=m_(QTe),XTe=Jn(),ZTe=m_(XTe),eCe=_i(),tCe=m_(eCe);function m_(t){return t&&t.__esModule?t:{default:t}}var rCe=new YTe.default((0,ZTe.default)({separator:",",conjunction:"and"}),JTe.default,tCe.default);g_.default=rCe;$H.exports=g_.default});var QH=_((_f,YH)=>{"use strict";Object.defineProperty(_f,"__esModule",{value:!0});_f.default=void 0;var iCe=zH(),nCe=sCe(iCe);function sCe(t){return t&&t.__esModule?t:{default:t}}_f.default=nCe.default;YH.exports=_f.default});var XH=_((b_,JH)=>{"use strict";Object.defineProperty(b_,"__esModule",{value:!0});var oCe=xi(),aCe=f_(oCe),lCe=$s(),uCe=f_(lCe),dCe=Jn(),cCe=f_(dCe),pCe=_i(),mCe=f_(pCe);function f_(t){return t&&t.__esModule?t:{default:t}}var gCe=new aCe.default((0,cCe.default)({separator:",",conjunction:"or"}),uCe.default,mCe.default);b_.default=gCe;JH.exports=b_.default});var eK=_((vf,ZH)=>{"use strict";Object.defineProperty(vf,"__esModule",{value:!0});vf.default=void 0;var fCe=XH(),bCe=yCe(fCe);function yCe(t){return t&&t.__esModule?t:{default:t}}vf.default=bCe.default;ZH.exports=vf.default});var rK=_((y_,tK)=>{"use strict";Object.defineProperty(y_,"__esModule",{value:!0});var hCe=xi(),ICe=ep(hCe),xCe=$s(),_Ce=ep(xCe),vCe=Jn(),OCe=ep(vCe),SCe=_i(),DCe=ep(SCe),ACe=u_(),FCe=ep(ACe),PCe=Rj(),jCe=ep(PCe);function ep(t){return t&&t.__esModule?t:{default:t}}var TCe=new ICe.default((0,FCe.default)(`
`),jCe.default,OCe.default,_Ce.default,DCe.default);y_.default=TCe;tK.exports=y_.default});var h_=_((Of,iK)=>{"use strict";Object.defineProperty(Of,"__esModule",{value:!0});Of.default=void 0;var CCe=rK(),ECe=kCe(CCe);function kCe(t){return t&&t.__esModule?t:{default:t}}Of.default=ECe.default;iK.exports=Of.default});var sK=_((Sf,nK)=>{"use strict";Object.defineProperty(Sf,"__esModule",{value:!0});Sf.default=void 0;var wCe=h_(),RCe=MCe(wCe);function MCe(t){return t&&t.__esModule?t:{default:t}}Sf.default=RCe.default;nK.exports=Sf.default});var aK=_((Df,oK)=>{"use strict";Object.defineProperty(Df,"__esModule",{value:!0});Df.default=void 0;var UCe=h_(),LCe=NCe(UCe);function NCe(t){return t&&t.__esModule?t:{default:t}}Df.default=LCe.default;oK.exports=Df.default});var uK=_((I_,lK)=>{"use strict";Object.defineProperty(I_,"__esModule",{value:!0});var VCe=xi(),qCe=rp(VCe),BCe=$s(),WCe=rp(BCe),GCe=Jn(),HCe=rp(GCe),KCe=_i(),$Ce=rp(KCe),zCe=u_(),YCe=rp(zCe),QCe=wj(),tp=rp(QCe);function rp(t){return t&&t.__esModule?t:{default:t}}var JCe=new qCe.default((0,YCe.default)(`
`),HCe.default,WCe.default,$Ce.default,(0,tp.default)(/&/g,"&amp;"),(0,tp.default)(/</g,"&lt;"),(0,tp.default)(/>/g,"&gt;"),(0,tp.default)(/"/g,"&quot;"),(0,tp.default)(/'/g,"&#x27;"),(0,tp.default)(/`/g,"&#x60;"));I_.default=JCe;lK.exports=I_.default});var cK=_((Af,dK)=>{"use strict";Object.defineProperty(Af,"__esModule",{value:!0});Af.default=void 0;var XCe=uK(),ZCe=eEe(XCe);function eEe(t){return t&&t.__esModule?t:{default:t}}Af.default=ZCe.default;dK.exports=Af.default});var mK=_((x_,pK)=>{"use strict";Object.defineProperty(x_,"__esModule",{value:!0});var tEe=xi(),rEe=Mj(tEe),iEe=_i(),nEe=Mj(iEe),sEe=bl(),oEe=Mj(sEe);function Mj(t){return t&&t.__esModule?t:{default:t}}var aEe=new rEe.default((0,oEe.default)(/(?:\n(?:\s*))+/g," "),nEe.default);x_.default=aEe;pK.exports=x_.default});var fK=_((Ff,gK)=>{"use strict";Object.defineProperty(Ff,"__esModule",{value:!0});Ff.default=void 0;var lEe=mK(),uEe=dEe(lEe);function dEe(t){return t&&t.__esModule?t:{default:t}}Ff.default=uEe.default;gK.exports=Ff.default});var yK=_((__,bK)=>{"use strict";Object.defineProperty(__,"__esModule",{value:!0});var cEe=xi(),pEe=Uj(cEe),mEe=_i(),gEe=Uj(mEe),fEe=bl(),bEe=Uj(fEe);function Uj(t){return t&&t.__esModule?t:{default:t}}var yEe=new pEe.default((0,bEe.default)(/(?:\n\s*)/g,""),gEe.default);__.default=yEe;bK.exports=__.default});var IK=_((Pf,hK)=>{"use strict";Object.defineProperty(Pf,"__esModule",{value:!0});Pf.default=void 0;var hEe=yK(),IEe=xEe(hEe);function xEe(t){return t&&t.__esModule?t:{default:t}}Pf.default=IEe.default;hK.exports=Pf.default});var _K=_((O_,xK)=>{"use strict";Object.defineProperty(O_,"__esModule",{value:!0});var _Ee=xi(),vEe=v_(_Ee),OEe=Jn(),SEe=v_(OEe),DEe=_i(),AEe=v_(DEe),FEe=bl(),PEe=v_(FEe);function v_(t){return t&&t.__esModule?t:{default:t}}var jEe=new vEe.default((0,SEe.default)({separator:","}),(0,PEe.default)(/(?:\s+)/g," "),AEe.default);O_.default=jEe;xK.exports=O_.default});var OK=_((jf,vK)=>{"use strict";Object.defineProperty(jf,"__esModule",{value:!0});jf.default=void 0;var TEe=_K(),CEe=EEe(TEe);function EEe(t){return t&&t.__esModule?t:{default:t}}jf.default=CEe.default;vK.exports=jf.default});var DK=_((D_,SK)=>{"use strict";Object.defineProperty(D_,"__esModule",{value:!0});var kEe=xi(),wEe=S_(kEe),REe=Jn(),MEe=S_(REe),UEe=_i(),LEe=S_(UEe),NEe=bl(),VEe=S_(NEe);function S_(t){return t&&t.__esModule?t:{default:t}}var qEe=new wEe.default((0,MEe.default)({separator:",",conjunction:"or"}),(0,VEe.default)(/(?:\s+)/g," "),LEe.default);D_.default=qEe;SK.exports=D_.default});var FK=_((Tf,AK)=>{"use strict";Object.defineProperty(Tf,"__esModule",{value:!0});Tf.default=void 0;var BEe=DK(),WEe=GEe(BEe);function GEe(t){return t&&t.__esModule?t:{default:t}}Tf.default=WEe.default;AK.exports=Tf.default});var jK=_((F_,PK)=>{"use strict";Object.defineProperty(F_,"__esModule",{value:!0});var HEe=xi(),KEe=A_(HEe),$Ee=Jn(),zEe=A_($Ee),YEe=_i(),QEe=A_(YEe),JEe=bl(),XEe=A_(JEe);function A_(t){return t&&t.__esModule?t:{default:t}}var ZEe=new KEe.default((0,zEe.default)({separator:",",conjunction:"and"}),(0,XEe.default)(/(?:\s+)/g," "),QEe.default);F_.default=ZEe;PK.exports=F_.default});var CK=_((Cf,TK)=>{"use strict";Object.defineProperty(Cf,"__esModule",{value:!0});Cf.default=void 0;var eke=jK(),tke=rke(eke);function rke(t){return t&&t.__esModule?t:{default:t}}Cf.default=tke.default;TK.exports=Cf.default});var kK=_((j_,EK)=>{"use strict";Object.defineProperty(j_,"__esModule",{value:!0});var ike=xi(),nke=P_(ike),ske=$s(),oke=P_(ske),ake=Jn(),lke=P_(ake),uke=_i(),dke=P_(uke);function P_(t){return t&&t.__esModule?t:{default:t}}var cke=new nke.default(lke.default,oke.default,dke.default);j_.default=cke;EK.exports=j_.default});var RK=_((Ef,wK)=>{"use strict";Object.defineProperty(Ef,"__esModule",{value:!0});Ef.default=void 0;var pke=kK(),mke=gke(pke);function gke(t){return t&&t.__esModule?t:{default:t}}Ef.default=mke.default;wK.exports=Ef.default});var UK=_((C_,MK)=>{"use strict";Object.defineProperty(C_,"__esModule",{value:!0});var fke=xi(),bke=T_(fke),yke=Jn(),hke=T_(yke),Ike=_i(),xke=T_(Ike),_ke=bl(),vke=T_(_ke);function T_(t){return t&&t.__esModule?t:{default:t}}var Oke=new bke.default(hke.default,(0,vke.default)(/(?:\s+)/g," "),xke.default);C_.default=Oke;MK.exports=C_.default});var NK=_((kf,LK)=>{"use strict";Object.defineProperty(kf,"__esModule",{value:!0});kf.default=void 0;var Ske=UK(),Dke=Ake(Ske);function Ake(t){return t&&t.__esModule?t:{default:t}}kf.default=Dke.default;LK.exports=kf.default});var qK=_((E_,VK)=>{"use strict";Object.defineProperty(E_,"__esModule",{value:!0});var Fke=xi(),Pke=Lj(Fke),jke=$s(),Tke=Lj(jke),Cke=_i(),Eke=Lj(Cke);function Lj(t){return t&&t.__esModule?t:{default:t}}var kke=new Pke.default(Tke.default,Eke.default);E_.default=kke;VK.exports=E_.default});var WK=_((wf,BK)=>{"use strict";Object.defineProperty(wf,"__esModule",{value:!0});wf.default=void 0;var wke=qK(),Rke=Mke(wke);function Mke(t){return t&&t.__esModule?t:{default:t}}wf.default=Rke.default;BK.exports=wf.default});var HK=_((k_,GK)=>{"use strict";Object.defineProperty(k_,"__esModule",{value:!0});var Uke=xi(),Lke=Nj(Uke),Nke=$s(),Vke=Nj(Nke),qke=_i(),Bke=Nj(qke);function Nj(t){return t&&t.__esModule?t:{default:t}}var Wke=new Lke.default((0,Vke.default)("all"),Bke.default);k_.default=Wke;GK.exports=k_.default});var $K=_((Rf,KK)=>{"use strict";Object.defineProperty(Rf,"__esModule",{value:!0});Rf.default=void 0;var Gke=HK(),Hke=Kke(Gke);function Kke(t){return t&&t.__esModule?t:{default:t}}Rf.default=Hke.default;KK.exports=Rf.default});var Dn=_(We=>{"use strict";Object.defineProperty(We,"__esModule",{value:!0});We.stripIndents=We.stripIndent=We.oneLineInlineLists=We.inlineLists=We.oneLineCommaListsAnd=We.oneLineCommaListsOr=We.oneLineCommaLists=We.oneLineTrim=We.oneLine=We.safeHtml=We.source=We.codeBlock=We.html=We.commaListsOr=We.commaListsAnd=We.commaLists=We.removeNonPrintingValuesTransformer=We.splitStringTransformer=We.inlineArrayTransformer=We.replaceStringTransformer=We.replaceSubstitutionTransformer=We.replaceResultTransformer=We.stripIndentTransformer=We.trimResultTransformer=We.TemplateTag=void 0;var $ke=xi(),zke=Xt($ke),Yke=_i(),Qke=Xt(Yke),Jke=$s(),Xke=Xt(Jke),Zke=bl(),ewe=Xt(Zke),twe=wj(),rwe=Xt(twe),iwe=EH(),nwe=Xt(iwe),swe=Jn(),owe=Xt(swe),awe=u_(),lwe=Xt(awe),uwe=Rj(),dwe=Xt(uwe),cwe=KH(),pwe=Xt(cwe),mwe=QH(),gwe=Xt(mwe),fwe=eK(),bwe=Xt(fwe),ywe=h_(),hwe=Xt(ywe),Iwe=sK(),xwe=Xt(Iwe),_we=aK(),vwe=Xt(_we),Owe=cK(),Swe=Xt(Owe),Dwe=fK(),Awe=Xt(Dwe),Fwe=IK(),Pwe=Xt(Fwe),jwe=OK(),Twe=Xt(jwe),Cwe=FK(),Ewe=Xt(Cwe),kwe=CK(),wwe=Xt(kwe),Rwe=RK(),Mwe=Xt(Rwe),Uwe=NK(),Lwe=Xt(Uwe),Nwe=WK(),Vwe=Xt(Nwe),qwe=$K(),Bwe=Xt(qwe);function Xt(t){return t&&t.__esModule?t:{default:t}}We.TemplateTag=zke.default;We.trimResultTransformer=Qke.default;We.stripIndentTransformer=Xke.default;We.replaceResultTransformer=ewe.default;We.replaceSubstitutionTransformer=rwe.default;We.replaceStringTransformer=nwe.default;We.inlineArrayTransformer=owe.default;We.splitStringTransformer=lwe.default;We.removeNonPrintingValuesTransformer=dwe.default;We.commaLists=pwe.default;We.commaListsAnd=gwe.default;We.commaListsOr=bwe.default;We.html=hwe.default;We.codeBlock=xwe.default;We.source=vwe.default;We.safeHtml=Swe.default;We.oneLine=Awe.default;We.oneLineTrim=Pwe.default;We.oneLineCommaLists=Twe.default;We.oneLineCommaListsOr=Ewe.default;We.oneLineCommaListsAnd=wwe.default;We.inlineLists=Mwe.default;We.oneLineInlineLists=Lwe.default;We.stripIndent=Vwe.default;We.stripIndents=Bwe.default});var en=_(Qr=>{"use strict";Object.defineProperty(Qr,"__esModule",{value:!0});Qr.OptionalStatus=Qr.ViewSubscriptionError=Qr.OutdatedSchemaError=Qr.AuthError=Qr.argumentsEqual=Qr.argumentDefByName=Qr.ViewPriority=Qr.isArgumentRef=void 0;function iRe(t){return t!==null&&typeof t=="object"&&"type"in t}Qr.isArgumentRef=iRe;var w6;(function(t){t.P0="p0",t.P1="p1",t.P2="p2",t.P3="p3"})(w6||(Qr.ViewPriority=w6={}));function nRe(t,e){if(t){for(let r of t)if(r.name===e)return r}return null}Qr.argumentDefByName=nRe;function sRe(t,e){if(t===e)return!0;if(t==null||e===null||e===void 0||t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}function oRe(t,e){for(let r in t){let i=t[r],s=e[r];if(i===void 0){if(s!==void 0)return!1}else if(i instanceof Array){if(!(s instanceof Array)||!sRe(i,s))return!1}else if(i!==s)return!1}return Object.keys(t).length===Object.keys(e).length}Qr.argumentsEqual=oRe;var Wj=class extends Error{};Qr.AuthError=Wj;var Gj=class extends Error{};Qr.OutdatedSchemaError=Gj;var Hj=class extends Error{constructor(e){super(),this.errorCode=e}};Qr.ViewSubscriptionError=Hj;var R6;(function(t){t.Error="error",t.Loaded="loaded"})(R6||(Qr.OptionalStatus=R6={}))});var An=_(tt=>{"use strict";var aRe=tt&&tt.__awaiter||function(t,e,r,i){function s(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function u(m){try{p(i.next(m))}catch(f){a(f)}}function d(m){try{p(i.throw(m))}catch(f){a(f)}}function p(m){m.done?o(m.value):s(m.value).then(u,d)}p((i=i.apply(t,e||[])).next())})};Object.defineProperty(tt,"__esModule",{value:!0});tt.safeError=tt.serializeError=tt.plain=tt.retryWithExponentialBackoff=tt.ExponentialBackoff=tt.RetriesExhaustedError=tt.logIfItTakesTooLong=tt.setTimeoutCaptureStackTrace=tt.sleep=tt.once=tt.noop=tt.missingFieldsEqual=tt.projectedInstancesEqual=tt.jsonBlobsEqual=tt.union=tt.assertNever=tt.assertNotNullish=tt.assert=tt.assertWithoutCrashingOnClient=tt.promiseResolveReject=tt.isEmpty=void 0;function lRe(t){for(let e in t)if(t.hasOwnProperty(e))return!1;return!0}tt.isEmpty=lRe;function uRe(){let t,e;return[new Promise((i,s)=>{t=i,e=s}),t,e]}tt.promiseResolveReject=uRe;function M6(t,e){if(!Boolean(t)){let r=new Error(e);setTimeout(()=>{throw r})}}tt.assertWithoutCrashingOnClient=M6;function dRe(t,e){if(!Boolean(t))throw new Error(e||"assertion failure")}tt.assert=dRe;function cRe(t,e){if(t==null)throw new Error(e||"assertion failure")}tt.assertNotNullish=cRe;function pRe(t){}tt.assertNever=pRe;function mRe(...t){let e=new Set;for(let r of t)for(let i of r)e.add(i);return e}tt.union=mRe;function gRe(t,e){try{return JSON.stringify(t)===JSON.stringify(e)}catch{return M6(!1,"Comparison of embedded objects failed"),!1}}tt.jsonBlobsEqual=gRe;function fRe(t,e,r){var i,s;for(let o of r){let a=o[0];if(o[1].def.type.kind==="datetime"){if(((i=t[a])===null||i===void 0?void 0:i.getTime())!==((s=e[a])===null||s===void 0?void 0:s.getTime()))return!1}else if(t[a]!==e[a])return!1}return!0}tt.projectedInstancesEqual=fRe;function bRe(t,e){if(t.length!==e.length)return!1;let r=!0;return t.forEach(i=>{e.find(s=>s.fieldName===i.fieldName&&s.info===i.info)||(r=!1)}),r}tt.missingFieldsEqual=bRe;function yRe(){}tt.noop=yRe;function hRe(t){let e=!1;return function(){e||(e=!0,t())}}tt.once=hRe;function Kj(t){return new Promise(e=>setTimeout(e,t))}tt.sleep=Kj;function IRe(t,e){let r=new Error;setTimeout(()=>{try{t()}catch(i){throw i.cause=r,i}},e)}tt.setTimeoutCaptureStackTrace=IRe;function xRe(t,e,r){let i=Symbol("timeout");return Promise.race([t.catch(()=>{}),Kj(r).then(()=>i)]).then(s=>{s===i&&e()}),t}tt.logIfItTakesTooLong=xRe;var B_=class extends Error{};tt.RetriesExhaustedError=B_;var op=class{constructor(e){this.config=e,op.validateConfig(e),this.timeoutMs=e.backoffInitialMs*(1+this.jitter()),this.count=0}nextBackoffMs(){if(!this.shouldAttempt())throw new B_("Max attempt exhausted");let e=this.timeoutMs;return this.timeoutMs*=this.config.backoffMultiplier+this.jitter(),this.timeoutMs=Math.min(this.timeoutMs,this.config.backoffMaxMs),this.count+=1,e}shouldAttempt(){return this.config.maxAttempt===void 0||this.config.maxAttempt>this.count}reset(){this.timeoutMs=this.config.backoffInitialMs,this.count=0}attemptsSoFar(){return this.count}jitter(){return(Math.random()-.5)*this.config.spreadMultiplier}static validateConfig(e){if(e.backoffInitialMs<=0)throw new Error("backoffInitialMs must be > 0");if(e.backoffMaxMs<=0)throw new Error("backoffMaxMs must be > 0");if(e.backoffMultiplier<1)throw new Error("backoffMultiplier must be >= 1");if(e.spreadMultiplier<0||e.spreadMultiplier>=2)throw new Error("To ensure positive initial timeout, spreadMultiplier must be between 0 (inclusive) and 2 (exclusive)");if(e.backoffMultiplier-.5*e.spreadMultiplier<1)throw new Error("To ensure positive and non-shrinking exponential timeout, increase backoffMultiplier or decrease spreadMultiplier such that (backoffMultiplier - 0.5 * spreadMultiplier) >= 1")}};tt.ExponentialBackoff=op;var _Re=(t,e,r)=>aRe(void 0,void 0,void 0,function*(){let{onRetry:i}=r,s=new op(e),o;for(;s.shouldAttempt();)try{return yield t()}catch(a){o=a,i?.(a),yield Kj(s.nextBackoffMs())}throw o});tt.retryWithExponentialBackoff=_Re;function vRe(t){return JSON.parse(JSON.stringify(t))}tt.plain=vRe;function ORe(t,e){return e instanceof Error?{name:e.name,message:e.message,stack:e.stack}:e}tt.serializeError=ORe;function SRe(t){return t instanceof Error?t:new Error(String(t))}tt.safeError=SRe});var $j=_(ap=>{"use strict";Object.defineProperty(ap,"__esModule",{value:!0});ap.expressionArgumentRefs=ap.expressionFields=void 0;var DRe=en();function ARe(t){let e=new Set,r=i=>{switch(i.type){case"binary":case"in":e.add(i.left);break;case"or":case"and":i.expressions.forEach(r);break}};return t&&r(t),e}ap.expressionFields=ARe;function FRe(t){let e=[],r=i=>{switch(i.type){case"binary":case"in":(0,DRe.isArgumentRef)(i.right)&&e.push(i.right);break;case"or":case"and":i.expressions.forEach(r);break}};return t&&r(t),e}ap.expressionArgumentRefs=FRe});var Bu=_(_t=>{"use strict";Object.defineProperty(_t,"__esModule",{value:!0});_t.prettyLoc=_t.find=_t.visitView=_t.unwrap=_t.optional=_t.alias=_t.parent=_t.session=_t.viewArg=_t.fieldArg=_t.isComputedField=_t.isEmbeddedObjectField=_t.isObjectField=_t.ifExistsPredicate=_t.isFieldDecorated=_t._=void 0;var PRe=en();_t._=null;function Vf(t){return!!t&&"fields"in t}_t.isFieldDecorated=Vf;function jRe(t){return t===null?!1:Object.keys(t).every(e=>{let r=t[e];return r?Array.isArray(r)?r.length>0:!0:!1})}_t.ifExistsPredicate=jRe;function TRe(t){return t.type.kind==="object"||t.type.kind==="objects"}_t.isObjectField=TRe;function CRe(t){return"embedded"in t&&t.embedded}_t.isEmbeddedObjectField=CRe;function ERe(t){return"computed"in t}_t.isComputedField=ERe;var kRe=t=>({type:"field",ref:t});_t.fieldArg=kRe;var wRe=t=>({type:"view",ref:t});_t.viewArg=wRe;var RRe=t=>({type:"session",ref:t});_t.session=RRe;var MRe=t=>({type:"parent",ref:t});_t.parent=MRe;function URe(t,e){return e&&Vf(e)?{aliasedField:t,optional:e.optional,fields:e.fields}:{aliasedField:t,fields:e}}_t.alias=URe;function LRe(t){return t?Vf(t)?t.aliasedField?{aliasedField:t.aliasedField,optional:!0,fields:t.fields}:{optional:!0,fields:t.fields}:{optional:!0,fields:t}:{optional:!0,fields:null}}_t.optional=LRe;function NRe(t,e){return t.status===PRe.OptionalStatus.Error?e:t.data}_t.unwrap=NRe;function VRe(t,e,r){let i=(s,o,a)=>{if(s)Array.isArray(s)?(r(s,o,a),i(s[1],o,a)):Object.keys(s).map(u=>{let d=s[u],p=[...o,u];if(Vf(d)){let m=d?.optional?p:a?.nearestOptionalParent,f=d?.aliasedField;e(d,p,{nearestOptionalParent:m,alias:f}),d&&(r(d.fields,p,{nearestOptionalParent:m,alias:f}),i(d.fields,p,{nearestOptionalParent:m,alias:f}))}else r(d,p,{nearestOptionalParent:a?.nearestOptionalParent}),i(d,p,{nearestOptionalParent:a?.nearestOptionalParent})});else return};i(t.fields,["root"])}_t.visitView=VRe;function qRe(t,e){let r=(s,o)=>{let a=o[0];if(a!==void 0)if(s){if(Array.isArray(s))return r(s[1],o);{let u=s[a];return o.length<=1?u:u===void 0?void 0:Vf(u)?i(u,o.slice(1)):r(u,o.slice(1))}}else return},i=(s,o)=>{if(o[0]!==void 0&&s)return r(s.fields,o)};return e[0]==="root"?r(t.fields,e.slice(1)):r(t.fields,e)}_t.find=qRe;function BRe(t){return t.join(".")}_t.prettyLoc=BRe});var Qo=_(Yj=>{"use strict";Object.defineProperty(Yj,"__esModule",{value:!0});var zj=class extends Error{constructor(e){super(e),Object.setPrototypeOf(this,new.target.prototype)}};Yj.default=zj});var G_=_(W_=>{"use strict";Object.defineProperty(W_,"__esModule",{value:!0});W_.parseAndValidateArg=void 0;function Qj(t,e,r,i=!0){let{type:s,name:o}=e,a=o;if(r===void 0)return{argName:a,type:"error",msg:"must not be undefined"};if(r===null){if(!e.nullable)return{argName:a,type:"error",msg:"must not be null"}}else if(s.kind==="list"){if(!(r instanceof Array))return{argName:a,type:"error",msg:"expected an array"};let u=[];for(let d in r){let p=Qj(t,{name:`${o}[${d}]`,type:s.ofType},r[d],i);if(p.type==="error")return p;u.push(p.parsedValue)}return{argName:a,type:"parsing",value:r,parsedValue:u}}else if(s.kind==="map"){if(typeof r!="object"||r instanceof Array||r instanceof Date)return{argName:a,type:"error",msg:"expected a map"};let u={};for(let d in r){let p=Qj(t,{name:`${o}["${d}"]`,type:s.valueType},r[d],i);if(p.type==="error")return p;u[d]=p.parsedValue}return{argName:a,type:"parsing",value:r,parsedValue:u}}else if(s.kind==="enum"){let u=t.enumDef(s);if(typeof r!="string"||!u.isValidValue(r))return{argName:a,type:"error",msg:`expected one of: ${u.values.join(", ")}`}}else{let u,d;switch(s.kind){case"datetime":case"date":i?(u=`string representation of ${s.kind}`,d=m=>{if(typeof m!="string")return null;let f=Date.parse(m);return Number.isNaN(f)?null:new Date(f)}):(u="Date",d=m=>m instanceof Date?m:null);break;case"bigint":u="string representation of bigint",d=m=>typeof m!="string"?null:/^-?[0-9]+$/.test(m)?m:null;break;case"uuid":u="string representation of uuid",d=m=>typeof m!="string"?null:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/.test(m)?m:null;break;case"string":u="string",d=m=>typeof m=="string"?m:null;break;case"int":case"float":u="number",d=m=>typeof m=="number"?m:null;break;case"bool":u="boolean",d=m=>typeof m=="boolean"?m:null;break}let p=d(r);return p===null?{argName:a,type:"error",msg:`expected ${u}, got ${typeof r} from ${JSON.stringify(r)}`}:{argName:a,type:"parsing",value:r,parsedValue:p}}return{argName:a,type:"parsing",value:r,parsedValue:r}}W_.parseAndValidateArg=Qj});var Gu=_(Zn=>{"use strict";var WRe=Zn&&Zn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Zn,"__esModule",{value:!0});Zn.compatibleTypes=Zn.validateArgumentDefs=Zn.validateArgs=Zn.pathError=void 0;var qf=Dn(),U6=WRe(Qo()),Jj=en(),GRe=G_();function Wu(t,e){return new U6.default(`${t.join(".")} - ${e}`)}Zn.pathError=Wu;function HRe(t,e,r,i,s,o){for(let a in e){let u=e[a],d=(0,Jj.argumentDefByName)(r,a);if(!d)throw Wu(t,(0,qf.oneLine)`
        Found arg with name '${a}', but the field doesn't accept an
        arg with this name`);if((0,Jj.isArgumentRef)(u)){let p=(0,Jj.argumentDefByName)(u.type==="session"?o.session.args:i,u.ref);if(!p)throw Wu(t,(0,qf.oneLine)`
          Found arg with name '${u.ref}', but there isn't a declaration of
          an arg with this name`);if(p.nullable&&!d.nullable)throw Wu(t,(0,qf.oneLine)`
          Query arg '${u.ref}' is nullable but used as a field argument that
          is not nullable`);if(!H_(p.type,d.type)&&!o.legacyConfig.isTypeConversionExempted(s?"computedFieldArg":"viewArg",p.type.kind,d.type.kind,t.join(".")+"."+p.name))throw Wu(t,(0,qf.oneLine)`
          Query arg '${p.name}' of type ${p.type.kind} is being
          used for field argument '${d.name}' of type
          ${d.type.kind}`)}else{let p=(0,GRe.parseAndValidateArg)(o,d,u);if(p.type==="error")throw Wu(t,`Arg '${p.argName}': ${p.msg}`)}}for(let{name:a}of r)if(e[a]===void 0)throw Wu(t,`Argument '${a}' is required`)}Zn.validateArgs=HRe;function KRe(t,e){let r=new Set;for(let{name:i}of e){if(r.has(i))throw new U6.default((0,qf.oneLine)`
        ${t} declares multiple arguments named '${i}'
      `);r.add(i)}}Zn.validateArgumentDefs=KRe;function H_(t,e){return t.kind==="map"&&e.kind==="map"?H_(t.valueType,e.valueType):t.kind==="list"&&e.kind==="list"?H_(t.ofType,e.ofType):t.kind==="object"&&e.kind==="object"||t.kind==="objects"&&e.kind==="objects"?t.name===e.name:t.kind===e.kind||t.kind==="date"&&e.kind==="datetime"||t.kind==="bigint"&&e.kind==="string"||t.kind==="uuid"&&e.kind==="string"}Zn.compatibleTypes=H_});var Zj=_(Hu=>{"use strict";var $Re=Hu&&Hu.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Hu,"__esModule",{value:!0});Hu.isScalarFieldDef=void 0;var zRe=$Re(Qo()),YRe=Dn(),QRe=up(),JRe=lp(),Xj=class{constructor(e){this.name=e.name,this.type=e.type,this.nullable=e.nullable||!1,this.deprecated=e.deprecated}validate(e,r){if(this.type.kind==="enum"&&!e.enums.has(this.type.name))throw new zRe.default((0,YRe.oneLine)`
        field '${this.name}' of object type '${r.name}' refers to undefined
        enum type '${this.type.name}'`)}};Hu.default=Xj;function XRe(t){return!(0,QRe.isObjectFieldDef)(t)&&!(0,JRe.isComputedFieldDef)(t)}Hu.isScalarFieldDef=XRe});var tT=_(Bf=>{"use strict";var Q_=Bf&&Bf.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Bf,"__esModule",{value:!0});var ZRe=An(),K_=Bu(),L6=Q_(up()),eMe=Q_(Zj()),tMe=Q_(lp()),$_=Q_(Qo()),z_=Dn(),eT=class{constructor(e){this.queriedFields=[],this.pendingComputedFields=new Set,this.name=e.name,this.fields=new Map,this.embedded=e.embedded,this.naturalKey=e.naturalKey,this.annotations=e.annotations,this.deprecated=e.deprecated;for(let r of e.fields)(0,K_.isObjectField)(r)?(this.fields.set(r.name,new L6.default(r)),(0,K_.isEmbeddedObjectField)(r)&&this.queriedFields.push(r.name)):(0,K_.isComputedField)(r)?this.pendingComputedFields.add(r.name):(this.fields.set(r.name,new eMe.default(r)),this.queriedFields.push(r.name));this.needsTransform=e.fields.some(({type:r})=>Y_(r)||r.kind==="list"&&Y_(r.ofType))}constructComputedFields(e,r){for(let i of e.fields)(0,K_.isComputedField)(i)&&(this.fields.set(i.name,new tMe.default(i,this,r)),this.pendingComputedFields.delete(i.name))}validate(e){if(this.name==="root")for(let r of this.fields.values())if(r instanceof L6.default){if(r.embedded)throw new $_.default((0,z_.oneLine)`
               root fields cannot be embedded type, but '${r.name}'
               is embedded`)}else throw new $_.default((0,z_.oneLine)`
            root fields must be of object type, but '${r.name}' is
            '${r.type.kind}'`);else this.embedded||this.fieldDef("id");for(let r of this.fields.values())r.validate(e,this)}fieldDef(e){let r=this.fields.get(e);if(r)return r;throw this.pendingComputedFields.has(e)?new $_.default((0,z_.oneLine)`
        field '${e}' is a computed field of '${this.name}', but computed fields haven't yet been constructed.
        You may need to re-order objects in the Schema definition.
      `):new $_.default((0,z_.oneLine)`
      field '${e}' isn't present in object type '${this.name}'`)}readPlainObject(e){if(!this.needsTransform)return e;let r={id:e.id};for(let[i,{type:s}]of this.fields.entries()){if(!(i in e))continue;let o=e[i];r[i]=this.readPlainObjectField(i,o,s)}return r}readPlainObjectField(e,r,i){if(!this.needsTransform)return r;if(i||(i=this.fields.get(e).type),r!==null){if(Y_(i))return N6(r);if(i.kind==="list"&&Y_(i.ofType))return r.map(N6)}return r}};Bf.default=eT;function Y_(t){return t.kind==="date"||t.kind==="datetime"}function N6(t){return(0,ZRe.assert)(typeof t=="string"),new Date(t)}});var V6=_(dp=>{"use strict";Object.defineProperty(dp,"__esModule",{value:!0});dp.err=dp.ok=void 0;var rMe=t=>({type:"ok",value:t,unwrap(){return t},unwrapErr(){throw new Error(`Expected Err, found Ok(${t})`)}});dp.ok=rMe;var iMe=t=>({type:"err",error:t,unwrap(){throw t instanceof Error?t:new Error(`Expected Ok, found Err(${t})`)},unwrapErr(){return t}});dp.err=iMe});var sT=_(Wf=>{"use strict";var nT=Wf&&Wf.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Wf,"__esModule",{value:!0});var nMe=en(),sMe=nT(oT()),oMe=G_(),aMe=nT(up()),rT=nT(Qo()),lMe=Gu(),q6=Dn(),cp=V6(),iT=class{constructor(e,r,i,s,o,a,u){this.name=e,this.metadata=o,this.context=a,this.rootShapeOverride=u,this.annotations=r.annotations,this.dslDef=Object.freeze(JSON.parse(JSON.stringify(r))),this.fields=r.fields,this.root=new sMe.default({parent:this,objectDef:i,objectFieldDef:new aMe.default({name:e,type:{kind:"object",name:i.name}}),fieldArgs:{},fields:r.fields,viewArgs:r.args||[],schema:s,metadata:{shouldValidateDeprecated:!!o?.shouldValidateDeprecated,shouldUseMissingFields:!!o?.shouldUseMissingFields},context:a,shapeOverride:u}),this.args=r.args||[],this.props=r.props,this.schema=s,(0,lMe.validateArgumentDefs)(`View '${e}'`,this.args)}get path(){var e;return this.isComputedFieldDependency?[(e=this.metadata)===null||e===void 0?void 0:e.computedObjectName]:[]}get isComputedFieldDependency(){var e;return!!(!((e=this.metadata)===null||e===void 0)&&e.isComputedFieldDependency)}_parseAndValidateArguments(e,r){let i={};for(let s in e){if(s==="__requestId"){i[s]=e[s];continue}let o=e[s],a=(0,nMe.argumentDefByName)(this.args,s);if(a){let u=(0,oMe.parseAndValidateArg)(this.schema,a,o,r);if(u.type==="error")return(0,cp.err)(new rT.default((0,q6.oneLine)`
View '${this.name}': argument error: '${u.argName}' '${u.msg}'`));i[s]=u.parsedValue}else return(0,cp.err)(new rT.default((0,q6.oneLine)`
View '${this.name}': argument error: '${s}' is not a valid argument
`))}for(let{name:s}of this.args)if(e[s]===void 0)return(0,cp.err)(new rT.default(`View '${this.name}': Missing argument '${s}'`));return(0,cp.ok)(i)}parseAndValidateArguments(e){return this._parseAndValidateArguments(e,!0)}validateArguments(e){let r=this._parseAndValidateArguments(e,!1);return r.type==="ok"?(0,cp.ok)(void 0):(0,cp.err)(r.error)}hasStaticQueries(){var e;let r=[this.root];for(;r.length;){let i=r.pop();if(((e=i.objectFieldDef.resolver)===null||e===void 0?void 0:e.realtimePolicy.type)==="Static")return!0;for(let s of i.queries.values()||[])r.push(s)}return!1}};Wf.default=iT});var lp=_(Fn=>{"use strict";var uMe=Fn&&Fn.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,s)}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),dMe=Fn&&Fn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),cMe=Fn&&Fn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&uMe(e,t,r);return dMe(e,t),e},G6=Fn&&Fn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Fn,"__esModule",{value:!0});Fn.isComputedFieldDef=void 0;var B6=G6(tT()),W6=G6(sT()),J_=cMe(Bu()),pMe=Gu(),mMe=Zj(),aT=class{constructor(e,r,i){if(this.objectDef=r,this.name=e.name,this.type=e.type,this.nullable=!1,this.deprecated=e.deprecated,this.dependencies=e.dependencies,!r.naturalKey){this.args=(e.args||[]).concat([{name:"_rootId",type:{kind:"string"}}]),this.view=new W6.default(this.name,{fields:{root:[{_rootId:J_.viewArg("_rootId")},e.dependencies]},args:this.args},new B6.default({name:"root",fields:[{name:"root",args:[{name:"_rootId",type:{kind:"string"}}],type:{kind:"object",name:r.name},filter:["id","=",J_.fieldArg("_rootId")]}]}),i,{isComputedFieldDependency:!0,computedObjectName:r.name,shouldUseMissingFields:!0});return}let s=[],o={};Array.from(r.naturalKey).forEach(d=>{let p=r.fields.get(d);if(!p)throw new Error(`cannot create computed field def for ${e.name}; natural key ${d} is not found on object def for ${r.name}`);if(!(0,mMe.isScalarFieldDef)(p))throw new Error(`cannot create computed field def for ${e.name}; natural key ${p.name} is not of scalar type on object def for ${r.name}`);s.push({name:"_nk_"+d,type:p.type}),o["_nk_"+d]=J_.viewArg("_nk_"+d)}),this.args=(e.args||[]).concat(...s);let a,u=[];Array.from(r.naturalKey).forEach(d=>{u.push([d,"=",J_.fieldArg("_nk_"+d)])}),u.length>1?a={and:u}:a=u[0],this.view=new W6.default(this.name,{fields:{root:[o,e.dependencies]},args:this.args},new B6.default({name:"root",fields:[{name:"root",args:s,type:{kind:"object",name:r.name},filter:a}]}),i,{isComputedFieldDependency:!0,computedObjectName:r.name,shouldUseMissingFields:!0},void 0,i.scopedQueryShapeFromRoot(r.name))}get displayName(){return`${this.objectDef.name}.${this.name}`}validate(e,r){(0,pMe.validateArgumentDefs)(`Computed field '${this.name}' of object type '${r.name}'`,this.args)}};Fn.default=aT;function gMe(t){return typeof t.view=="object"}Fn.isComputedFieldDef=gMe});var up=_(Pn=>{"use strict";var fMe=Pn&&Pn.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,s)}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),bMe=Pn&&Pn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),yMe=Pn&&Pn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&fMe(e,t,r);return bMe(e,t),e},hMe=Pn&&Pn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Pn,"__esModule",{value:!0});Pn.isObjectFieldDef=void 0;var qr=en(),IMe=yMe(Bu()),H6=$j(),sr=hMe(Qo()),lT=Gu(),Sr=Dn(),xMe=lp(),uT=class{constructor(e){if(this.name=e.name,this.type=e.type,this.nullable=e.nullable||!1,this.deprecated=e.deprecated,IMe.isEmbeddedObjectField(e))this.embedded=!0,this.args=[],this.checkCanRead=void 0;else{if(this.embedded=!1,this.args=e.args||[],this.expectedMaxCount=e.expectedMaxCount,this.filter=e.filter?dT(e.filter):void 0,e.neverCheckCanRead&&e.checkCanRead)throw new Error("neverCheckCanRead: true cannot be declared alongside checkCanRead.");this.neverCheckCanRead=e.neverCheckCanRead||!1,this.checkCanRead=e.checkCanRead||void 0,this.pagination=e.pagination,this.resolver=e.resolver}this.orderBy=vMe(e.orderBy)}isNullable(){return this.nullable}isList(){return this.type.kind==="objects"}get filterFields(){let e=new Set;for(let{type:r,ref:i}of(0,H6.expressionArgumentRefs)(this.filter))r==="parent"&&e.add(i);return e}get dependentFields(){let e=new Set;if(this.orderBy&&this.orderBy!=="Unordered")for(let[r]of this.orderBy)e.add(r);for(let r of(0,H6.expressionFields)(this.filter))e.add(r);return e}validate(e,r){var i,s,o,a,u,d,p,m,f,y,v,O,A,k,U,$,R,z,fe,Q,be,ae,re;e.objects.has(this.type.name)||this.throwFieldError(r,`refers to undefined object type '${this.type.name}'`);let ve=new Set;if(this.checkCanRead){Object.keys(this.checkCanRead).length===0&&this.throwFieldError(r,"uses checkCanRead attribute and it doesn't take any arguments. checkCanRead must take arguments such as { userId: fieldArg('userId') } or { userId: session('userId') }. This also means the corresponding canRead field must take these arguments as well.");for(let C in this.checkCanRead){let N=this.checkCanRead[C];(0,qr.isArgumentRef)(N)&&(!(0,qr.argumentDefByName)(this.args,N.ref)&&!(0,qr.argumentDefByName)(e.session.args,N.ref)?this.throwFieldError(r,`uses argument '${N.ref}' in its checkCanRead call but does not declare it`):ve.add(N.ref))}}let K=e.objectDef(this.type);this.embedded&&!K.embedded&&this.throwFieldError(r,`refers to object '${this.type.name}' as an embedded field, but object '${this.type.name}' is not marked as embedded`),K.embedded&&!this.embedded&&this.throwFieldError(r,`refers to embedded object type '${this.type.name}' without marking as embedded. Add embedded: true`),this.isResolvable(r)||this.throwFieldError(r,"does not contain a filter or resolver and is not embedded"),this.checkCanRead&&(!this.checkCanRead.fieldName&&!K.fields.has("canRead")&&this.throwFieldError(r,`has checkCanRead set to true but '${K.name}' does not have a 'canRead' field`),this.checkCanRead.fieldName&&!K.fields.has(this.checkCanRead.fieldName.toString())&&this.throwFieldError(r,`has checkCanRead set to true and with fieldName set to '${this.checkCanRead.fieldName.toString()}' but '${K.name}' does not have a this field`),this.checkCanRead.fieldName&&K.fields.get(this.checkCanRead.fieldName.toString()).type.kind!=="bool"&&this.throwFieldError(r,`has checkCanRead set to true and with fieldName set to '${this.checkCanRead.fieldName.toString()}' but '${this.checkCanRead.fieldName.toString()}' return type is not bool`)),(0,lT.validateArgumentDefs)(`field '${this.name}' of object type '${r.name}'`,this.args);let Ae=C=>{let N=K.fields.get(C.left);return N||this.throwFilterError(r,`refers to field '${C.left}', which does not exist on object '${this.type.name}'`),N},Ce=C=>{if((0,qr.isArgumentRef)(C.right)&&C.right.type==="field"){let N=(0,qr.argumentDefByName)(this.args,C.right.ref);return N||this.throwFieldError(r,`uses argument '${C.right.ref}' in its filter but does not declare it`),ve.add(C.right.ref),N}if((0,qr.isArgumentRef)(C.right)&&C.right.type==="parent"){let N=r.fields.get(C.right.ref);return N||this.throwFieldError(r,`refers to unknown parent field '${C.right.ref}' in its filter`),N}throw new sr.default((0,Sr.oneLine)`
        Filter condition of '${this.name}' in object type ${r.name} expects an argument or parent field,
        but is a ${typeof C.right} with the value '${C.right}'`)},Ue=C=>{if(!C)return;let N=null,ce=null;switch(C.type){case"binary":if(N=Ae(C),["list","map","object","objects"].indexOf(N.type.kind)>-1)throw new sr.default((0,Sr.oneLine)`
              Cannot filter on field '${C.left}' in object type '${r.name}'. Filter on type
              '${N.type.kind}' is not supported.`);if((N.type.kind==="date"||N.type.kind==="datetime")&&(C.op==="="||C.op==="<>")&&C.right!==null)throw new sr.default((0,Sr.oneLine)`
              Cannot filter on field '${C.left}' in object type '${r.name}'. '${C.op}' filter
              on type '${N.type.kind}' is not is not supported for non-null values.`);if((0,xMe.isComputedFieldDef)(N))throw new sr.default((0,Sr.oneLine)`
              Cannot filter on field '${C.left}' in object type '${r.name}'. Filters on computed fields
              are not supported since filter conditions get translated directly to SQL queries and there are no
              column in the database corresponding directly to the computed field.`);if((0,qr.isArgumentRef)(C.right)){if(ce=Ce(C),!(0,lT.compatibleTypes)(ce.type,N.type)&&!e.legacyConfig.isTypeConversionExempted("filterArg",ce.type.kind,N.type.kind,`${r.name}.${this.name}.${C.left}`))throw new sr.default((0,Sr.oneLine)`
                Cannot filter on field '${C.left}' in object type '${r.name}' due to inconsistent type.
                LHS is a '${N.type.kind}' but RHS is a '${ce.type.kind}'`)}else if(C.right!==null)switch(N.type.kind){case"int":case"float":if(typeof C.right!="number")throw new sr.default((0,Sr.oneLine)`
                      Cannot filter on field '${C.left}' in object type '${r.name}' due to inconsistent type.
                      LHS is a number but RHS is a '${typeof C.right}'`);break;case"string":case"bigint":case"uuid":if(typeof C.right!="string")throw new sr.default((0,Sr.oneLine)`
                      Cannot filter on field '${C.left}' in object type '${r.name}' due to inconsistent type.
                      LHS is a string but RHS is a '${typeof C.right}'`);break;case"enum":if(typeof C.right!="string")throw new sr.default((0,Sr.oneLine)`
                      Cannot filter on field '${C.left}' in object type '${r.name}' due to inconsistent type.
                      LHS is a string but RHS is a '${typeof C.right}'`);let se=e.enumDef(N.type);if(!se.isValidValue(C.right))throw new sr.default((0,Sr.oneLine)`
                      Cannot filter on field '${C.left}' in object type '${r.name}' due to invalid enum value '${C.right}'.
                      Expecting one of ${se.values.join(", ")}`);break;case"bool":if(typeof C.right!="boolean")throw new sr.default((0,Sr.oneLine)`
                      Cannot filter on field '${C.left}' in object type '${r.name}' due to inconsistent type.
                      LHS is a boolean but RHS is a '${typeof C.right}'`);break;case"datetime":case"date":if(!(C.right instanceof Date))throw new sr.default((0,Sr.oneLine)`
                      Cannot filter on field '${C.left}' in object type '${r.name}' due to inconsistent type.
                      LHS is a date but RHS is a '${typeof C.right}'`);break;default:throw new sr.default((0,Sr.oneLine)`
                    Filter on field '${C.left}' in object type '${r.name}' has unexpected type ${N.type.kind}`)}else if([">","<",">=","<="].indexOf(C.op)>-1)throw new sr.default((0,Sr.oneLine)`
                  Cannot filter on field '${C.left}' in object type '${r.name}'. '${C.op}' filter
                  on type '${N.type.kind}' is not is not supported for null values.`);break;case"in":if(N=Ae(C),["list","map","object","objects","date","datetime"].indexOf(N.type.kind)>-1)throw new sr.default((0,Sr.oneLine)`
              Cannot filter on field '${C.left}' in object type '${r.name}'. Filter on type
              ${N.type.kind} is not supported.`);if((0,qr.isArgumentRef)(C.right)){if(ce=Ce(C),ce.type.kind!=="list")throw new sr.default((0,Sr.oneLine)`
                Cannot filter on field '${C.left}' in object type '${r.name}' because
                argument ${C.right.ref} has invalid type ${ce.type.kind}`);if(!(0,lT.compatibleTypes)(ce.type.ofType,N.type))throw new sr.default((0,Sr.oneLine)`
                Cannot filter on field '${C.left}' in object type '${r.name}' due to inconsistent type.
                LHS is a '${N.type.kind}' but RHS is a list of '${ce.type.ofType.kind}'`)}else if(C.right.length>0)switch(N.type.kind){case"int":case"float":if(typeof C.right[0]!="number")throw new sr.default((0,Sr.oneLine)`
                      Cannot filter on field '${C.left}' in object type '${r.name}' due to inconsistent type.
                      LHS is a number but RHS is a list of ${typeof C.right[0]}`);break;case"string":if(typeof C.right[0]!="string")throw new sr.default((0,Sr.oneLine)`
                      Cannot filter on field '${C.left}' in object type '${r.name}' due to inconsistent type.
                      LHS is a string but RHS is a list of ${typeof C.right[0]}`);break;case"enum":if(typeof C.right[0]!="string")throw new sr.default((0,Sr.oneLine)`
                      Cannot filter on field '${C.left}' in object type '${r.name}' due to inconsistent type.
                      LHS is a string but RHS is a list of ${typeof C.right[0]}`);let se=e.enumDef(N.type);for(let De of C.right)if(!se.isValidValue(De))throw new sr.default((0,Sr.oneLine)`
                        Cannot filter on field '${C.left}' in object type '${r.name}' due to invalid enum value '${De}'.
                        Expecting one of ${se.values.join(", ")}`);break;case"bool":if(typeof C.right[0]!="boolean")throw new sr.default((0,Sr.oneLine)`
                      Cannot filter on field '${C.left}' in object type '${r.name}' due to inconsistent type.
                      LHS is a boolean but RHS is a list of ${typeof C.right[0]}`);break;default:throw new sr.default((0,Sr.oneLine)`
                    Filter on field '${C.left}' in object type '${r.name}' has unexpected type ${N.type.kind}`)}break;case"or":case"and":C.expressions.map(se=>Ue(se))}};Ue(this.filter),this.resolver&&!(!((i=this.resolver.queryParams)===null||i===void 0)&&i.userId&&(0,qr.isArgumentRef)(this.resolver.queryParams.userId))&&this.throwFieldError(r,`uses resolver and it doesn't define userId in its queryParams attribute.
      This is required. Please choose one of the following options and add to queryParams:
      1. If current userId comes from viewArgs, e.g. session('userId'):
         queryParams: { userId: fieldArg('userId') }
         and add an field arg to ${this.name} object field. When using it in views, fill the arg with session('userId').
      2. If current userId can come from parent object:
         queryParams: { userId: parent('the_user_id_field_name') }
      `);for(let C in((s=this.resolver)===null||s===void 0?void 0:s.queryParams)||{}){let N=(o=this.resolver)===null||o===void 0?void 0:o.queryParams[C];!N||!(0,qr.isArgumentRef)(N)||(N.type==="field"&&((0,qr.argumentDefByName)(this.args,N.ref)||this.throwFieldError(r,`uses argument ${N.ref}' in its resolver config but does not declare it`),ve.add(N.ref)),N.type==="parent"&&!r.fields.get(N.ref)&&this.throwFieldError(r,`refers to unknown parent field '${N.ref}' in its resolver config`))}if(((a=this.resolver)===null||a===void 0?void 0:a.realtimePolicy.type)==="RedisPubsub")for(let C of((u=this.resolver)===null||u===void 0?void 0:u.realtimePolicy.channelPostfix)||[])(0,qr.isArgumentRef)(C)&&(C.type==="field"&&((0,qr.argumentDefByName)(this.args,C.ref)||this.throwFieldError(r,`uses argument '${C.ref}' in its resolver config but does not declare it`),ve.add(C.ref)),C.type==="parent"&&!r.fields.get(C.ref)&&this.throwFieldError(r,`refers to unknown parent field '${C.ref}' in its resolver config`));if(!((d=this.pagination)===null||d===void 0)&&d.firstPageSize&&(0,qr.isArgumentRef)((p=this.pagination)===null||p===void 0?void 0:p.firstPageSize)){let C=(0,qr.argumentDefByName)(this.args,(m=this.pagination)===null||m===void 0?void 0:m.firstPageSize.ref);C||this.throwFieldError(r,`uses argument '${(f=this.pagination)===null||f===void 0?void 0:f.firstPageSize.ref}' in its pagination config but does not declare it`),C.type.kind!=="int"&&this.throwFieldError(r,`uses argument '${(y=this.pagination)===null||y===void 0?void 0:y.firstPageSize.ref}' in its pagination config but it's not int type. It's ${C.type.kind}`),ve.add((v=this.pagination)===null||v===void 0?void 0:v.firstPageSize.ref)}if(!((O=this.pagination)===null||O===void 0)&&O.selectedCursorColumn&&(0,qr.isArgumentRef)((A=this.pagination)===null||A===void 0?void 0:A.selectedCursorColumn)){let C=(0,qr.argumentDefByName)(this.args,(k=this.pagination)===null||k===void 0?void 0:k.selectedCursorColumn.ref);C||this.throwFieldError(r,`uses argument '${(U=this.pagination)===null||U===void 0?void 0:U.selectedCursorColumn.ref}' in its pagination cursor column config but does not declare it`),C.type.kind!=="string"&&this.throwFieldError(r,`uses argument '${($=this.pagination)===null||$===void 0?void 0:$.selectedCursorColumn.ref}' in its pagination cursor column config but it's not string type. It's ${C.type.kind}`),ve.add((R=this.pagination)===null||R===void 0?void 0:R.selectedCursorColumn.ref)}if(!((z=this.pagination)===null||z===void 0)&&z.sortOrder&&(0,qr.isArgumentRef)((fe=this.pagination)===null||fe===void 0?void 0:fe.sortOrder)){let C=(0,qr.argumentDefByName)(this.args,(Q=this.pagination)===null||Q===void 0?void 0:Q.sortOrder.ref);C||this.throwFieldError(r,`uses argument '${(be=this.pagination)===null||be===void 0?void 0:be.sortOrder.ref}' in its pagination sort order config but does not declare it`),C.type.kind!=="string"&&this.throwFieldError(r,`uses argument '${(ae=this.pagination)===null||ae===void 0?void 0:ae.sortOrder.ref}' in its pagination sort order config but it's not string type. It's ${C.type.kind}`),ve.add((re=this.pagination)===null||re===void 0?void 0:re.sortOrder.ref)}for(let C of this.args)if(!ve.has(C.name)){if(C.name==="initialPageSize")continue;this.throwFieldError(r,`declares argument '${C.name}' but does not use it`)}}throwFilterError(e,r){throw new sr.default(`filter condition of '${this.name}' of type '${this.type.name}' on '${e.name}' ${r}`)}throwFieldError(e,r){throw new sr.default(`field '${this.name}' of type '${this.type.name}' on '${e.name}' ${r}`)}isResolvable(e){return this.filter||this.resolver||this.embedded&&e.name!=="root"}};Pn.default=uT;function _Me(t){return typeof t.embedded=="boolean"}Pn.isObjectFieldDef=_Me;function vMe(t){if(t)return t==="Unordered"?"Unordered":t.map(e=>e instanceof Array?e:[e,"ASC"])}function dT(t){if("or"in t)return{type:"or",expressions:t.or.map(dT)};if("and"in t)return{type:"and",expressions:t.and.map(dT)};let[e,r,i]=t;switch(r){case"in":return{type:"in",left:e,right:i};default:return{type:"binary",left:e,op:r,right:i}}}});var X_=_(pT=>{"use strict";Object.defineProperty(pT,"__esModule",{value:!0});var K6=en(),cT=class{constructor(e={},r={},i){var s;this.sessionArgs=e,this.viewArgs=r,this.options=i,this.statsCollector={queryNodes:0,instanceNodes:0,computations:0,queriesSubscribed:0,hiddenInstances:0,errorsNullableSoaked:0},this.overrides=null,!((s=this.options)===null||s===void 0)&&s.inheritedStats&&(this.statsCollector=this.options.inheritedStats)}get tracingContext(){var e;return(e=this.options)===null||e===void 0?void 0:e.tracingContext}get isContextForComputedField(){var e;return(e=this.options)===null||e===void 0?void 0:e.isContextForComputedField}substituteFieldArgument(e){return(0,K6.isArgumentRef)(e)?e.type==="session"?this.sessionArgs[e.ref]:this.viewArgs[e.ref]:e}substituteExpressionArgument(e,r,i){return(0,K6.isArgumentRef)(e)?e.type==="parent"?i[e.ref]:this.substituteFieldArgument(r[e.ref]):e}substituteExpression(e,r,i){let s=o=>{switch(o.type){case"binary":return Object.assign(Object.assign({},o),{right:this.substituteExpressionArgument(o.right,r,i)});case"in":return Object.assign(Object.assign({},o),{right:this.substituteExpressionArgument(o.right,r,i)});case"or":case"and":return Object.assign(Object.assign({},o),{expressions:o.expressions.map(s)})}};return e?s(e):void 0}substituteIndexingHint(e,r,i){if(!e)return null;if(Array.isArray(e.values))return e;let s=this.substituteExpressionArgument(e.values,r,i);return!Array.isArray(s)&&typeof s=="object"&&s!==null?null:{field:e.field,values:Array.isArray(s)?s:[s]}}};pT.default=cT});var $6=_(gT=>{"use strict";Object.defineProperty(gT,"__esModule",{value:!0});var mT=class{constructor(e,r,i){this.computationDef=e,this.context=r;let s={};for(let o in r.viewArgs){let a=r.viewArgs[o];o.startsWith("_nk_")||(s[o]=a)}this.computationId=JSON.stringify([this.objectName,this.fieldName,i,s])}get fieldDef(){return this.computationDef.computedFieldDef}get objectName(){return this.fieldDef.objectDef.name}get fieldName(){return this.fieldDef.name}trackEvent(e,r){var i;(i=this.context.tracingContext)===null||i===void 0||i.trackComputationEvent(this,e,r)}};gT.default=mT});var Y6=_(Gf=>{"use strict";var z6=Gf&&Gf.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Gf,"__esModule",{value:!0});var OMe=Gu(),SMe=z6(X_()),DMe=z6($6()),fT=class{constructor(e,r,i,s,o,a,u){this.parent=e,this.computedFieldDef=r,this.fieldArgs=i,this.viewArgs=s,this.optional=u;let d=this.computedFieldDef.name;(0,OMe.validateArgs)([...a,d],Object.assign(Object.assign({},this.fieldArgs),this.dummyArgs(e.objectDef)),this.computedFieldDef.args,this.viewArgs,!0,o)}dummyArgs(e){if(e.naturalKey){let r={};return Array.from(e.naturalKey).forEach(i=>{switch(e.fields.get(i).type.kind){case"string":r["_nk_"+i]="";break;case"bigint":r["_nk_"+i]="0";break;case"uuid":r["_nk_"+i]="00000000-0000-0000-0000-000000000000";break;case"int":case"float":r["_nk_"+i]=0;break;case"bool":r["_nk_"+i]=!1;break;case"enum":case"list":case"map":r["_nk_"+i]=[];break;default:throw new Error("this natural key type is unsupported, add a dummy type to this switch for computed fields to work")}}),r}return{_rootId:""}}parameterizedComputation(e,r,i){var s;let o={_rootId:r.id};Array.from(i||[]).forEach(a=>{o["_nk_"+a]=r[a]});for(let a in this.fieldArgs){let u=this.fieldArgs[a];o[a]=e.substituteFieldArgument(u)}return new DMe.default(this,new SMe.default(e.sessionArgs,o,{logger:(s=e.options)===null||s===void 0?void 0:s.logger,tracingContext:e.tracingContext,isContextForComputedField:!0,inheritedStats:e.statsCollector}),r.id)}};Gf.default=fT});var Q6=_(yT=>{"use strict";Object.defineProperty(yT,"__esModule",{value:!0});var bT=class{constructor(e,r){this.def=e,this.optional=r}};yT.default=bT});var oT=_(Kf=>{"use strict";var $f=Kf&&Kf.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Kf,"__esModule",{value:!0});var hT=en(),Z_=Bu(),AMe=$f(up()),FMe=$f(lp()),J6=$f(Y6()),ev=Gu(),tv=$f(Qo()),PMe=$f(Q6()),Hf=class{isNullable(){return this.objectFieldDef.isNullable()}isList(){return this.objectFieldDef.isList()}get path(){return[...this.parent.path,this.objectFieldDef.name]}get name(){return this.objectDef.name}get missingOptionalFields(){var e;if(!(!((e=this.metadata)===null||e===void 0)&&e.shouldUseMissingFields))throw new Error("invalid missingOptionalFields access with shouldUseMissingFields=false, are you trying to call missingOptionalFields from the Livegraph client? The client should only inspect missing fields via a QueryObserver.");return Array.from(this._missingOptionalFields.values())}constructor({parent:e,objectDef:r,objectFieldDef:i,fieldArgs:s,fields:o,viewArgs:a,schema:u,metadata:d,optional:p,context:m,shapeOverride:f}){var y,v,O;this.queries=new Map,this.computations=new Map,this.projectedFields=new Map,this.transmittedFields=new Set,this.aliasMappings=new Map,this.optionalFields=new Set,this._missingOptionalFields=new Map,this.parent=e,this.objectDef=r,this.objectFieldDef=i,this.fieldArgs=s,this.optional=p,this.context=m,this.metadata=d,this.shape=f??u.scopedQueryShape(this.parent.name,this.objectFieldDef.name);for(let k of i.args)k.name in this.fieldArgs||(k.defaultValue!==void 0?this.fieldArgs=Object.assign(Object.assign({},this.fieldArgs),{[k.name]:k.defaultValue}):k.name==="initialPageSize"&&(this.fieldArgs=Object.assign(Object.assign({},this.fieldArgs),{initialPageSize:0})));if(d?.shouldValidateDeprecated&&this.objectDef.deprecated)throw new tv.default(`Object ${this.objectDef.name} was deprecated on ${this.objectDef.deprecated.date} and cannot be used in views. Reason: ${this.objectDef.deprecated.reason}`);(0,ev.validateArgs)(this.path,this.fieldArgs,i.args,a,this.isComputedFieldDependency,u);for(let k in o){let U=k,$=o[k],R=!1;$&&(0,Z_.isFieldDecorated)($)&&($.aliasedField&&(U=$.aliasedField,this.aliasMappings.set(U,k)),R=!!$.optional,R&&this.optionalFields.add(U),$=$.fields);let[z,fe]=Array.isArray($)?$:[{},$],Q;try{Q=this.objectDef.fieldDef(U)}catch(be){if(be instanceof tv.default)if(R&&d?.shouldUseMissingFields){this._missingOptionalFields.set(U,{fieldName:U,info:be.message}),this.transmittedFields.add(U);continue}else throw be}if(Q){if(d?.shouldValidateDeprecated&&Q.deprecated)throw new tv.default(`The field ${U} was deprecated on ${Q.deprecated.date} and cannot be used in views. Reason: ${Q.deprecated.reason}`);if(Q instanceof AMe.default){if(fe===Z_._)throw(0,ev.pathError)(this.path,`expected nested fields for '${U}' but got '_'`);try{let be=this.isComputedFieldDependency&&this.name==="root"&&Q.name==="root";this.queries.set(U,new Hf({parent:this,objectDef:u.objectDef(Q.type),objectFieldDef:Q,fieldArgs:z,fields:fe,viewArgs:a,schema:u,metadata:d,optional:R,shapeOverride:be?f:void 0}))}catch(be){if(R&&be instanceof tv.default&&d?.shouldUseMissingFields){this._missingOptionalFields.set(U,{fieldName:U,info:be.message}),this.transmittedFields.add(U);continue}else throw be}Q.embedded&&this.transmittedFields.add(U);for(let be of Q.filterFields)this.transmittedFields.add(be)}else if(Q instanceof FMe.default){if(fe!==Z_._)throw(0,ev.pathError)(this.path,`cannot query field '${U}'`);this.computations.set(U,new J6.default(this,Q,z,a,u,this.path,R))}else{if(fe!==Z_._)throw(0,ev.pathError)(this.path,`cannot query field '${U}'`);this.projectedFields.set(U,new PMe.default(Q,R)),this.transmittedFields.add(U)}}}r.name!=="root"&&this.transmittedFields.add("id");let{checkCanRead:A}=this.objectFieldDef;if(A){let k={};for(let $ in A){if($==="fieldName")continue;let R=A[$];(0,hT.isArgumentRef)(R)&&this.fieldArgs[R.ref]?k[$]=this.fieldArgs[R.ref]:k[$]=R}let U="canRead";A.fieldName&&(U=A.fieldName.toString()),this.permissionComputation=new J6.default(this,this.objectDef.fieldDef(U),k,a,u,this.path)}for(let k of this.objectFieldDef.dependentFields)this.transmittedFields.add(k);(O=(v=(y=this.context)===null||y===void 0?void 0:y.options)===null||v===void 0?void 0:v.logger)===null||O===void 0||O.debug("VIEW_QUERY_DEF.CREATE",this.debugFields)}get debugFields(){var e;return{parent:this.parent.name,queryReturnType:this.objectDef.name,field:this.objectFieldDef.name,optional:this.optional,queryFields:JSON.stringify(Array.from(this.queries.keys())),projectedBaseFields:JSON.stringify(Array.from(this.projectedFields.keys())),canonicalShapeID:(e=this.shape)===null||e===void 0?void 0:e.id}}dealias(e){return this.aliasMappings.get(e)||e}missingOptionalFieldsForEmbeddedInstance(e){let r=[];for(let i of this.optionalFields.values())e[i]===void 0&&r.push({fieldName:i,info:`optional field '${i}' was missing in instance of object '${this.objectDef.name}'`});return r}projectInstance(e){let r={};if(this.objectFieldDef.embedded)for(let i of this.projectedFields.keys())r[this.dealias(i)]=i in e?e[i]:null;else for(let i of this.projectedFields.keys())r[this.dealias(i)]=e[i];for(let i of this.projectedFields.keys())this.optionalFields.has(i)&&(r[this.dealias(i)]={status:hT.OptionalStatus.Loaded,data:r[this.dealias(i)]});return r}projectResults(e){let r={},i=[...this.projectedFields.keys(),...this.computations.keys(),...this.queries.keys()];for(let s of i){let o=this.dealias(s);o in e?r[o]=e[o]:this.objectFieldDef.embedded&&(r[o]=null)}return r}getMissingProjectedFields(e){let r=[...this.projectedFields.keys(),...this.computations.keys(),...this.queries.keys()],i=[];for(let s of r){let o=this.dealias(s);e[o]===void 0&&i.push(o)}return i}get indexingHint(){if(this._indexingHint!==void 0)return this._indexingHint;if(!this.objectFieldDef.filter)return this._indexingHint=null,null;let e=(i,s)=>{let o=[d=>!!d&&d.field==="id",d=>!!d&&this.objectDef.fieldDef(d.field).type.kind==="string",d=>d!==null,d=>!0],a=o.findIndex(d=>d(i)),u=o.findIndex(d=>d(s));return a<=u?i:s},r=i=>i.type==="or"?null:i.type==="and"?i.expressions.map(r).reduce((s,o)=>e(s,o)):i.type==="in"?{field:i.left,values:i.right}:i.op==="="?{field:i.left,values:(0,hT.isArgumentRef)(i.right)?i.right:[i.right]}:null;return this._indexingHint=r(this.objectFieldDef.filter)||null,this._indexingHint}get isComputedFieldDependency(){return this.parent.isComputedFieldDependency}};Kf.default=Hf});var X6=_(xT=>{"use strict";Object.defineProperty(xT,"__esModule",{value:!0});var IT=class{constructor({fields:e,filter:r,limit:i}){this.fields=e,this.limit=i,this.filter=r}matches(e){if(!this.filter)return!0;let r=i=>{switch(i.type){case"binary":let s=e[i.left],o=i.right;switch(i.op){case"=":return s===o;case"<>":return s!==o}if(s===null||o===null)return!1;switch(i.op){case">":return s>o;case">=":return s>=o;case"<":return s<o;case"<=":return s<=o}case"in":let a=e[i.left];return i.right.some(d=>d===a);case"or":return i.expressions.some(r);case"and":return i.expressions.every(r)}};return r(this.filter)}singleMatchingId(){if(this.filter&&this.filter.type==="binary"){let{left:e,right:r}=this.filter;if(e==="id"&&typeof r=="string")return r}return null}};xT.default=IT});var iv=_(Ku=>{"use strict";var vT=Ku&&Ku.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ku,"__esModule",{value:!0});Ku.queriedObjectType=void 0;var rv=en(),Z6=$j(),e8=vT(oT()),jMe=vT(X6()),TMe=vT(up()),CMe=200,_T=class{constructor(e,r,i,s){var o;this.queryDef=e,this.context=r,this.parent=i,this.paginationArgs=s;let a=[];for(let d of this.queryDef.objectFieldDef.args){let p=this.queryDef.fieldArgs[d.name];(0,rv.isArgumentRef)(p)?p.type==="session"?a.push(this.context.sessionArgs[p.ref]):a.push(this.context.viewArgs[p.ref]):a.push(p)}this.usedResolverValues=(0,Z6.expressionArgumentRefs)(this.filter).filter(({type:d})=>d==="parent").map(({ref:d})=>i[d]),this.usedResolverValues.push(...this.getUsedHttpResolverValues());let u=[a,this.usedResolverValues];this.isStaticQuery()&&r.viewArgs.__requestId&&u.push(r.viewArgs.__requestId),this.isPaginationQuery()&&u.push(s),this.queryId=EMe(this.queryDef,u),this._substituted=new jMe.default({fields:this.queryDef.objectDef.queriedFields,filter:this.context.substituteExpression(this.filter,this.queryDef.fieldArgs,i)||null,limit:(o=this.queryDef.objectFieldDef.expectedMaxCount)!==null&&o!==void 0?o:CMe}),this.indexingHint=this.context.substituteIndexingHint(this.queryDef.indexingHint,this.queryDef.fieldArgs,i)}queryInfo(){return{objectName:this.queryDef.objectDef.name,parent:{objectName:this.queryDef.parent instanceof e8.default?this.queryDef.parent.objectDef.name:null,fieldName:this.queryDef.objectFieldDef.name}}}get objectName(){return this.queryDef.objectFieldDef.type.name}get filter(){return this.queryDef.objectFieldDef.filter}get orderBy(){return this.queryDef.objectFieldDef.orderBy}substituted(){return this._substituted}getResolvedHttpResolverConfig(){let e=this.queryDef.objectFieldDef.resolver;if(e?.type!=="HTTP")return null;let r={};for(let s in e.queryParams){let o=e.queryParams[s],a=this.context.substituteExpressionArgument(o,this.queryDef.fieldArgs,this.parent);r[s]=a}let i=[];if(e.realtimePolicy.type==="RedisPubsub"){let s=e.realtimePolicy.channelPostfix;for(let o of s){let a=this.context.substituteExpressionArgument(o,this.queryDef.fieldArgs,this.parent);i.push(a)}}return Object.assign(Object.assign({},e),{queryParams:r,realtimePolicy:e.realtimePolicy.type==="RedisPubsub"?Object.assign(Object.assign({},e.realtimePolicy),{channelPostfix:i}):e.realtimePolicy})}getUsedHttpResolverValues(){let e=this.queryDef.objectFieldDef.resolver;if(e?.type!=="HTTP")return[];let r=[];for(let i of Object.keys(e.queryParams).sort()){let s=e.queryParams[i];if(!(0,rv.isArgumentRef)(s)||s.type!=="parent")continue;let o=this.context.substituteExpressionArgument(s,this.queryDef.fieldArgs,this.parent);r.push(o)}if(e.realtimePolicy.type==="RedisPubsub"){let i=e.realtimePolicy.channelPostfix;for(let s of i){if(!(0,rv.isArgumentRef)(s)||s.type!=="parent")continue;let o=this.context.substituteExpressionArgument(s,this.queryDef.fieldArgs,this.parent);r.push(o)}}return r}isContextStale(e){return(0,Z6.expressionArgumentRefs)(this.filter).filter(({type:r})=>r==="parent").some(({ref:r},i)=>this.usedResolverValues[i]!==e[r])}isPaginationQuery(){return this.paginationArgs!==void 0}isStaticQuery(){var e;return((e=this.queryDef.objectFieldDef.resolver)===null||e===void 0?void 0:e.realtimePolicy.type)==="Static"}getBinaryFilterResolvedParentValue(e){return!this.filter||this.filter.type!=="binary"||!(0,rv.isArgumentRef)(this.filter.right)||this.filter.left!==e||this.filter.right.type!=="parent"?null:this.parent[this.filter.right.ref]}getFirstPageSizeOrDefault(e){var r;let i=(r=this.queryDef.objectFieldDef.pagination)===null||r===void 0?void 0:r.firstPageSize;if(!i)return e;let s=this.context.substituteFieldArgument(i);return typeof s=="number"?s:e}getSelectedCursorColumns(){var e,r;let i=(e=this.queryDef.objectFieldDef.pagination)===null||e===void 0?void 0:e.selectedCursorColumn;if(!i)return null;let s=this.context.substituteFieldArgument(i),o=(r=this.queryDef.objectFieldDef.pagination)===null||r===void 0?void 0:r.cursorColumnSet;return typeof s=="string"&&o&&o[s]||null}getPaginationSortOrder(){var e;let r=(e=this.queryDef.objectFieldDef.pagination)===null||e===void 0?void 0:e.sortOrder;if(!r)return null;let i=this.context.substituteFieldArgument(r);return i==="ASC"||i==="DESC"?i:null}order(){let e=this.orderBy;return e==="Unordered"?null:(r,i)=>{for(let[s,o]of[...e||[],["id","ASC"]]){let a=r[s],u=i[s];if(!(a===null&&u===null)){if(a===null)return o==="ASC"?1:-1;if(u===null||a<u)return o==="ASC"?-1:1;if(a>u)return o==="ASC"?1:-1}}return 0}}};Ku.default=_T;function EMe(t,e){let r=t.parent instanceof e8.default?t.parent.objectDef.name:null;return t.isComputedFieldDependency&&r==="root"&&t.objectFieldDef.name==="root"?JSON.stringify(["computed","root",t.objectDef.name].concat(e)):JSON.stringify([r,t.objectFieldDef.name].concat(e))}function kMe(t,e){let r=JSON.parse(e);if(r[0]==="computed")return{kind:"object",name:r[2]};let i=r[0],s=r[1],a=t.objectDef({kind:"object",name:i}).fieldDef(s);if(!(a instanceof TMe.default))throw new Error(`queryId ${e} references a non-object field`);return a.type}Ku.queriedObjectType=kMe});var sv=_(nv=>{"use strict";Object.defineProperty(nv,"__esModule",{value:!0});nv.addLiveViewStats=void 0;function wMe(t,e){e&&(t.queryNodes+=e.queryNodes,t.instanceNodes+=e.instanceNodes,t.maxDepth=Math.max(t.maxDepth,e.maxDepth+1),t.computations+=e.computations,t.failedQueries+=e.failedQueries)}nv.addLiveViewStats=wMe});var ST=_(zf=>{"use strict";var t8=zf&&zf.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(zf,"__esModule",{value:!0});var RMe=An(),ov=t8(av()),MMe=t8(iv()),UMe=sv(),OT=class{constructor({parent:e,queryDef:r,observable:i,context:s}){var o,a;this.children=[],this._status={type:"loading"},this.initStats=null,this.nextCursor={start:null,end:null},this.previousPageCountsForReconnection=null,this.isPaginatedNodeFetching=!1,this.clientIsFetching=!1,this.parent=e,this.queryDef=r,this.observable=i,this.context=s,this.query=new MMe.default(r,s,e.instance),this.isPaginatedNodeFetching=!0,this.clientIsFetching=!0;let u=ov.default.DEFAULT_INITIAL_COUNT;this.children.push(new ov.default({parent:this,queryDef:this.queryDef,observable:this.observable,context:this.context,paginationData:{before:this.nextCursor.start,after:this.nextCursor.end,count:u}})),(a=(o=this.context.options)===null||o===void 0?void 0:o.paginationQueryNodeMap)===null||a===void 0||a.set(this.query.queryId,this)}get fieldName(){return this.queryDef.objectFieldDef.name}get path(){return[...this.parent.path,"pagination-"+this.fieldName]}result(){if(this._status.type==="loading")return{status:"loading",data:null,errors:null};if(this._status.type==="failed"){let o=this._status.error.code;return this._result={status:"errors",data:null,errors:[{code:o,path:[this.fieldName],error:new Error(this._status.error.message)}]},this._result}if(this._result)return this._result;let e=[],r=[],i=!0;for(let o of this.children){let a=o.result();switch(a.status){case"loading":return this._result=a,this._result;case"errors":{i=!1;for(let u of a.errors)r.push(Object.assign(Object.assign({},u),{path:[this.fieldName,...u.path]}));break}case"loaded":{for(let u of a.errors)r.push(Object.assign(Object.assign({},u),{path:[this.fieldName,...u.path]}));Array.isArray(a.data)?e.push(...a.data):a.data&&e.push(a.data);break}}}if(!i)return this._result={status:"errors",data:null,errors:r},this.clientIsFetching=!1,this._result;let s=Object.assign(e,{loadNext:o=>{(0,RMe.assertNotNullish)(this._result,"Load next should never be called on a loading node"),this._result=Object.assign({},this._result),this._result.data.isLoadingNextPage=!0,this.parent.resetResult(),this.parent.resultsUpdated(),this.loadNextPage(o)},hasNextPage:()=>this.hasNextPage(),isLoadingNextPage:!1});return this._result={status:"loaded",errors:r,data:s},this.clientIsFetching=!1,this._result}resultsUpdated(){this.children.every(e=>e.isLoaded())&&(this._status.type="loaded"),this._status.type!=="loading"&&this.parent.resultsUpdated()}resetResult(){this._result=void 0,this.parent.resetResult()}identifier(){return{viewArgs:this.context.viewArgs,sessionArgs:this.context.sessionArgs,queryId:this.query.queryId}}onError(e){this.resetResult(),this._status={type:"failed",error:e},this.parent.resultsUpdated(),this.isPaginatedNodeFetching=!1}hasNextPage(){return!!this.nextCursor.end}isLoadingNextPage(){return this.clientIsFetching}loadNextPage(e){var r,i,s,o;if(this.isPaginatedNodeFetching){(i=(r=this.context.options)===null||r===void 0?void 0:r.logger)===null||i===void 0||i.error(new Error(`Trying to fetch next page for query ${this.query.queryId} when there is an ongoing fetch more request.`));return}if(this.isPaginatedNodeFetching=!0,this.clientIsFetching=!0,!this.hasNextPage()){(o=(s=this.context.options)===null||s===void 0?void 0:s.logger)===null||o===void 0||o.error(new Error(`Trying to fetch next page for query ${this.query.queryId} when there are no more pages left`));return}this.children.push(new ov.default({parent:this,queryDef:this.queryDef,observable:this.observable,context:this.context,paginationData:{before:this.nextCursor.start,after:this.nextCursor.end,count:e}})),this.observable.requestPaginationChange(this.query,e)}destroy(){var e,r;for(let i of this.children)i.destroy();(r=(e=this.context.options)===null||e===void 0?void 0:e.paginationQueryNodeMap)===null||r===void 0||r.delete(this.query.queryId)}recreateIfStale(e,r){for(let i=0;i<this.children.length;i++){let s=this.children[i],o=s.recreateIfStale(e,r);o&&(s.destroy(),this.children[i]=o)}}onPaginationResults(e){if(this.isPaginatedNodeFetching=!1,this.nextCursor=e,this.previousPageCountsForReconnection)if(this.previousPageCountsForReconnection.length&&this.nextCursor.end){let r=this.previousPageCountsForReconnection.shift();this.loadNextPage(r)}else this.previousPageCountsForReconnection=null}isLoaded(){return this._status.type==="loaded"}getInitStats(){if(this.initStats)return this.initStats;if(!this.isLoaded())return null;this.initStats={queryNodes:1,instanceNodes:0,maxDepth:1,computations:0,failedQueries:0};for(let e of this.children.values())(0,UMe.addLiveViewStats)(this.initStats,e.getInitStats());return this.initStats}startReconnectionState(){this.previousPageCountsForReconnection=this.children.map(r=>r.paginationArgs.count);for(let r of this.children)r.destroy();this.children=[],this.nextCursor={start:null,end:null};let e=this.previousPageCountsForReconnection.shift();this.children.push(new ov.default({parent:this,queryDef:this.queryDef,observable:this.observable,context:this.context,paginationData:{before:this.nextCursor.start,after:this.nextCursor.end,count:e}})),this.isPaginatedNodeFetching=!0,this.clientIsFetching=!0}onInitialResults(e,r,i){throw new Error("PaginationNode should never directly receive results.")}onAddResult(e){throw new Error("Method not implemented.")}onRemoveResult(e,r){throw new Error("Method not implemented.")}onUpdateResult(e){throw new Error("Method not implemented.")}detachChild(e){throw new Error("Method not implemented.")}restoreChild(e){throw new Error("Method not implemented.")}overridesChanged(){throw new Error("Method not implemented.")}getLoadingPathsForDebugging(){let e=[];this._status.type==="loading"&&e.push(this.fieldName);for(let r of this.children.values())e.push(...r.getLoadingPathsForDebugging());return e}resultWithLoadingStates(){throw new Error("Method not implemented.")}};zf.default=OT});var av=_(Ui=>{"use strict";var AT=Ui&&Ui.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ui,"__esModule",{value:!0});Ui.isLiveViewQueryNode=Ui.FAKE_PAGINATION_CHANGE_DELAY=Ui.DISABLED=Ui.LOADING=void 0;var r8=AT(iv()),DT=AT(lv()),LMe=sv(),Xs=An(),i8=AT(ST());Ui.LOADING=Object.freeze({status:"loading",data:null,errors:null});Ui.DISABLED=Object.freeze({status:"disabled",data:null,errors:null});var NMe=new Map;Ui.FAKE_PAGINATION_CHANGE_DELAY=1e3;var $u=class{constructor({parent:e,queryDef:r,observable:i,context:s,paginationData:o}){var a,u;this.children=new Map,this.detachedChildren=new Set,this._isLoaded=!1,this._status={type:"loading"},this.initStats=null,this.parent=e,this.observable=i,this.context=s,this.unsubscribe=()=>{};let d;e instanceof i8.default&&o?(d=this.parent.parent.instance,this.paginationArgs=o,this.query=new r8.default(r,s,d,{before:o.before,after:o.after,count:o.count})):((0,Xs.assert)(e instanceof DT.default),d=e.instance,this.query=new r8.default(r,s,d)),s.statsCollector.queryNodes++;let{objectFieldDef:p}=r;if(this.isEmbedded||p.name in d){let m=d[p.name],f=d.id;if(!m)this.onInitialResults({},!1,void 0,[]);else if(Array.isArray(m)){let y={};m.forEach((O,A)=>{var k,U;let $=`${f}-${A.toString().padStart(10,"0")}`;O instanceof Object?y[$]=Object.assign({id:$},O):typeof O=="string"?y[$]={id:O}:(U=(k=this.context.options)===null||k===void 0?void 0:k.logger)===null||U===void 0||U.warn("EMBEDDED_INSTANCE_INVALID_TYPE",this.query.queryId,O)});let v=[];for(let O in d){v=this.query.queryDef.missingOptionalFieldsForEmbeddedInstance(y[O]);break}this.onInitialResults(y,!1,void 0,v)}else{let y=`${f}-${0}`,v=Object.assign({id:y},m),O=this.query.queryDef.missingOptionalFieldsForEmbeddedInstance(v);this.onInitialResults({[y]:v},!1,void 0,O)}}else this.unsubscribe=this.observable.subscribeQuery(this.query,this);(u=(a=this.context.options)===null||a===void 0?void 0:a.logger)===null||u===void 0||u.debug("VIEW_QUERY_NODE.CREATE",this.debugFields)}get isEmbedded(){return this.query.queryDef.objectFieldDef.embedded}get fieldName(){return this.query.queryDef.objectFieldDef.name}get path(){return[...this.parent.path,this.fieldName]}get debugFields(){var e;return{query:this.query.queryId,canonicalShapeID:(e=this.query.queryDef.shape)===null||e===void 0?void 0:e.id,path:this.path,embedded:this.isEmbedded}}identifier(){return{viewArgs:this.context.viewArgs,sessionArgs:this.context.sessionArgs}}overridesChanged(){var e;!((e=this.context.overrides)===null||e===void 0)&&e.has(this.query.objectName)&&this.resetResult();for(let[r,i]of this.children)i.overridesChanged()}destroy(){for(let e of this.children.values())e.destroy();this.unsubscribe()}onError(e){this.resetResult(),this._status={type:"failed",error:e},this.parent.resultsUpdated()}onInitialResults(e,r,i,s){var o,a;i&&((0,Xs.assert)(this.parent instanceof i8.default),this.parent.onPaginationResults(i)),(a=(o=this.context.options)===null||o===void 0?void 0:o.logger)===null||a===void 0||a.debug("VIEW_QUERY_NODE.INITIAL_RESULT",this.query.queryId,e),r&&this.context.statsCollector.queriesSubscribed++,(0,Xs.assert)(this._status.type!=="loaded","Unexpected initial results on already loaded node");for(let u in e)this.children.set(u,new DT.default(this,this.context,e[u],this.query.queryDef,s||[]));this._status={type:"loaded"},this.resetResult(),this.parent.resultsUpdated()}onAddResult(e,r){var i,s;(s=(i=this.context.options)===null||i===void 0?void 0:i.logger)===null||s===void 0||s.debug("VIEW_QUERY_NODE.ADD_RESULT",this.query.queryId,e),(0,Xs.assert)(this._status.type==="loaded","Unexpected incremental results on node that hasn't loaded yet"),this.children.set(e.id,new DT.default(this,this.context,e,this.query.queryDef,r||[])),this.resetResult(),this.parent.resultsUpdated()}onUpdateResult(e,r){var i,s;if((s=(i=this.context.options)===null||i===void 0?void 0:i.logger)===null||s===void 0||s.debug("VIEW_QUERY_NODE.UPDATE_RESULT",this.query.queryId,e),(0,Xs.assert)(this._status.type==="loaded","Unexpected incremental results on node that hasn't loaded yet"),(0,Xs.assert)(this.children.has(e.id)||e.uuid&&this.children.has(e.uuid),`onUpdateResult: this.children.has(instance.id) = ${this.children.has(e.id)}, instance.id = ${e.id}
       (instance.uuid && this.children.has(instance.uuid)) = ${e.uuid&&this.children.has(e.uuid)}, instance.uuid = ${e.uuid}`),e.uuid&&this.children.has(e.uuid)&&e.id!==e.uuid){let o=this.children.get(e.uuid);this.children.delete(e.uuid),this.children.set(e.id,o)}this.children.get(e.id).onUpdateResult(e,r||[])&&this.parent.resultsUpdated()}onRemoveResult(e){var r,i;let{id:s}=e;if((i=(r=this.context.options)===null||r===void 0?void 0:r.logger)===null||i===void 0||i.debug("VIEW_QUERY_NODE.REMOVE_RESULT",this.query.queryId,e),(0,Xs.assert)(this._status.type==="loaded","Unexpected incremental results on node that hasn't loaded yet"),(0,Xs.assert)(this.children.has(e.id)||e.uuid&&this.children.has(e.uuid),`onRemoveResult: this.children.has(instance.id) = ${this.children.has(e.id)}, instance.id = ${e.id}
       (instance.uuid && this.children.has(instance.uuid)) = ${e.uuid&&this.children.has(e.uuid)}, instance.uuid = ${e.uuid}`),e.uuid&&this.children.has(e.uuid)&&e.id!==e.uuid){let o=this.children.get(e.uuid);this.children.delete(e.uuid),this.children.set(e.id,o)}this.children.get(s).destroy(),this.children.delete(s),this.detachedChildren.delete(s),this.resetResult(),this.parent.resultsUpdated()}detachChild({id:e}){this.detachedChildren.add(e),this.resetResult(),this.parent.resultsUpdated()}restoreChild({id:e}){this.detachedChildren.delete(e),this.resetResult()}resultsUpdated(){this._status.type!=="loading"&&this.parent.resultsUpdated()}recreateIfStale(e,r){if(this.isEmbedded){if((0,Xs.jsonBlobsEqual)(e[this.query.queryDef.objectFieldDef.name],r[this.query.queryDef.objectFieldDef.name]))return}else if(!this.query.isContextStale(r))return;return new $u({parent:this.parent,queryDef:this.query.queryDef,observable:this.observable,context:this.context})}getLoadingPathsForDebugging(){let e=[];this._status.type==="loading"&&e.push(this.fieldName);let r=[...this.children.values()].filter(s=>!this.detachedChildren.has(s.instance.id)),i=this.query.order();i&&r.sort(({instance:s},{instance:o})=>i(s,o));for(let s of r){let o=s.getLoadingPathsForDebugging();e.push(...o.map(a=>`${this.fieldName}["${s.instance.id}"].${a}`))}return e}result(){var e,r,i,s,o,a,u,d;if(this._status.type==="loading")return Ui.LOADING;if(this._status.type==="failed"){let U=this._status.error.code;return this._result={status:"errors",data:null,errors:[{code:U,path:[this.fieldName],error:new Error(this._status.error.message)}]},this._result}if(this._result)return this._result;let p=[...this.children.values()].filter(U=>!this.detachedChildren.has(U.instance.id)),m=((e=this.context.overrides)===null||e===void 0?void 0:e.get(this.query.objectName))||NMe,f=[];for(let U of p){let $=U.instance,R=U.result();if(R.status==="loaded"){let z=m.get(U.instance.id);if(z){if(z.type==="delete")continue;if(z.type==="create")continue;if(z.type==="update")if($=Object.assign(Object.assign({},$),z.delta),this.query.substituted().matches($))R.data=this.query.queryDef.projectResults(Object.assign(Object.assign({},R.data),z.delta));else continue;else(0,Xs.assertNever)(z)}}f.push({instance:$,result:R})}for(let[U,$]of m)$.type==="create"&&this.query.substituted().matches($.instance)&&f.push({instance:$.instance,result:{status:"loaded",data:this.query.queryDef.projectResults($.instance),errors:[]}});let y=this.query.order();y&&f.sort(({instance:U},{instance:$})=>y(U,$));let{fieldName:v}=this,O=[],A=[],k=!0;for(let{result:U}of f)switch(U.status){case"loading":return this._result=U,this._result;case"errors":k=!1;for(let $ of U.errors)O.push(Object.assign(Object.assign({},$),{path:[v,...$.path]}));break;case"loaded":for(let $ of U.errors)O.push(Object.assign(Object.assign({},$),{path:[v,...$.path]}));A.push(U.data);break}if(!k)return this.query.queryDef.isNullable()?(this.context.statsCollector.errorsNullableSoaked++,(i=(r=this.context.options)===null||r===void 0?void 0:r.logger)===null||i===void 0||i.info("VIEW_QUERY_NODE.NULLABLE_ERROR_SOAK",Object.assign({errors:O},this.debugFields)),this._result={status:"loaded",errors:O,data:null}):this._result={status:"errors",data:null,errors:O},this._result;if(A.length){let U=this.query.queryDef.getMissingProjectedFields(A[0]);if(U.length&&(!((s=this.context.options)===null||s===void 0)&&s.enableCrossViewIncompleteInstanceCheck))return(a=(o=this.context.options)===null||o===void 0?void 0:o.logger)===null||a===void 0||a.debug("CROSS_VIEW_INCOMPLETE_INSTANCES",this.query.queryInfo(),U,"ff_enabled_and_set_loading"),this._result=Ui.LOADING,this._result;(d=(u=this.context.options)===null||u===void 0?void 0:u.logger)===null||d===void 0||d.debug("CROSS_VIEW_INCOMPLETE_INSTANCES",this.query.queryInfo(),U,"set_loaded")}return this.query.queryDef.isList()?(this._result={status:"loaded",errors:O,data:A},this._result):A.length>0?(this._result={status:"loaded",errors:O,data:A[0]},this._result):this.query.queryDef.isNullable()?(this._result={status:"loaded",errors:O,data:null},this._result):(this._result={status:"errors",data:null,errors:[...O,{code:"nonNullableResult",path:[v]}]},this._result)}resultWithLoadingStates(){let e=this.result();return{id:this.query.queryId,status:e.status,children:Array.from(this.children.entries()).map(([r,i])=>i.resultWithLoadingStates()),data:e.status==="errors"?e.errors:void 0}}resetResult(){this._result=void 0,this._isLoaded=!1,this.parent.resetResult()}isLoaded(){if(this._status.type==="loading")return!1;if(this._isLoaded)return!0;for(let e of this.children.values())if(!e.isLoaded())return!1;return this._isLoaded=!0,this._isLoaded}getQueryIds(){let e=[this.query.queryId];for(let[r,i]of this.children)e.push(...i.getQueryIds());return e}getInitStats(){if(this.initStats)return this.initStats;if(!this.isLoaded())return null;this.initStats={queryNodes:1,instanceNodes:0,maxDepth:1,computations:0,failedQueries:this._status.type==="failed"?1:0};for(let e of this.children.values())(0,LMe.addLiveViewStats)(this.initStats,e.getInitStats());return this.initStats}};$u.DEFAULT_INITIAL_COUNT=10;Ui.default=$u;function VMe(t){return t instanceof $u}Ui.isLiveViewQueryNode=VMe});var FT=_(Yf=>{"use strict";Object.defineProperty(Yf,"__esModule",{value:!0});Yf.isLiveViewComputationNode=void 0;var qMe=Object.freeze({status:"loading"}),uv=class{constructor({parent:e,computationDef:r,observable:i,context:s,instance:o}){this.initStats=null,this.parent=e,this.observable=i,this.computation=r.parameterizedComputation(s,o,e.queryDef.objectDef.naturalKey),this.computation.trackEvent("LiveViewComputationNode.constructor");let a=r.computedFieldDef.name;a in o?(this.unsubscribe=()=>{},this.onUpdateResult(o[a])):this.unsubscribe=i.subscribeComputation(this.computation,this)}get path(){return[...this.parent.path,this.computation.computationId]}get fieldName(){return this.computation.fieldName}overridesChanged(){}destroy(){this.unsubscribe()}onUpdateResult(e){this.computation.trackEvent("LiveViewComputationNode.onUpdateResult"),this._result={status:"loaded",errors:[],data:e},this.parent.resetResult(),this.parent.resultsUpdated()}onErrors(e){this.computation.trackEvent("LiveViewComputationNode.onErrors",e);let{name:r}=this.computation.fieldDef;this._result={status:"errors",data:null,errors:e.map(i=>Object.assign(Object.assign({},i),{path:[r,...i.path]}))},this.parent.resetResult(),this.parent.resultsUpdated()}recreateIfStale(e,r){}getLoadingPathsForDebugging(){return this._result?[]:[this.computation.fieldDef.name]}result(){return this._result?this._result:qMe}resultWithLoadingStates(){let e=this.result();return{id:this.computation.computationId,status:e.status,children:[],data:e.status==="errors"?e.errors:void 0}}isLoaded(){return!!this._result}getInitStats(){return this.initStats?this.initStats:this.isLoaded()?(this.initStats={queryNodes:0,instanceNodes:0,maxDepth:1,computations:1,failedQueries:0},this.initStats):null}};Yf.default=uv;function BMe(t){return t instanceof uv}Yf.isLiveViewComputationNode=BMe});var lv=_(Is=>{"use strict";var WMe=Is&&Is.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,s)}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),GMe=Is&&Is.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o8=Is&&Is.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&WMe(e,t,r);return GMe(e,t),e},HMe=Is&&Is.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Is,"__esModule",{value:!0});var PT=en(),n8=o8(av()),jT=o8(FT()),KMe=sv(),s8=An(),$Me=HMe(ST()),TT=class{constructor(e,r,i,s,o){var a,u;this.parent=e,this.context=r,this.instance=i,this.queryDef=s,this.missingOptionalFields=o,this.children=[],this._isLoaded=!1,this.initStats=null,r.statsCollector.instanceNodes++;for(let[d,p]of s.queries.entries())this.missingOptionalFields.some(f=>d===f.fieldName)||(p.objectFieldDef.pagination?this.children.push(new $Me.default({parent:this,queryDef:p,observable:e.observable,context:r})):this.children.push(new n8.default({parent:this,queryDef:p,observable:e.observable,context:r})));for(let[d,p]of s.computations.entries())this.missingOptionalFields.some(f=>d===f.fieldName)||this.children.push(new jT.default({parent:this,computationDef:p,observable:e.observable,context:r,instance:i}));(u=(a=r.options)===null||a===void 0?void 0:a.logger)===null||u===void 0||u.debug("VIEW_INSTANCE_NODE.CREATE",this.debugFields)}get debugFields(){return{object:this.queryDef.name,parent:this.parent.path,instanceFields:JSON.stringify(Array.from(Object.getOwnPropertyNames(this.instance))),queryFields:JSON.stringify(Array.from(this.queryDef.queries.keys())),projectedBaseFields:JSON.stringify(Array.from(this.queryDef.projectedFields.keys()))}}get path(){return[...this.parent.path,this.instance.id||"root"]}get queriedChildren(){return this.children.filter(n8.isLiveViewQueryNode)}get computedChildren(){return this.children.filter(jT.isLiveViewComputationNode)}overridesChanged(){for(let e of this.children)e.overridesChanged()}destroy(){for(let e of this.children)e.destroy()}resultsUpdated(){this.parent.resultsUpdated()}onUpdateResult(e,r){let i=(0,s8.projectedInstancesEqual)(e,this.instance,this.queryDef.projectedFields)&&(0,s8.missingFieldsEqual)(this.missingOptionalFields,r),s=this.instance;this.instance=e;for(let o=0;o<this.children.length;o++){let a=this.children[o],u=a.recreateIfStale(s,e);u&&(a.destroy(),this.children[o]=u)}return i?!1:(this.missingOptionalFields=r,this.resetResult(),!0)}getLoadingPathsForDebugging(){let e=[];for(let r of this.children){let i=r.getLoadingPathsForDebugging();e.push.apply(e,i)}return e}result(){if(this._result)return this._result;let e=[],r=this.queryDef.projectInstance(this.instance),i=!0;for(let s of this.children){let o=s.result();switch(o.status){case"loading":if(this.queryDef.optionalFields.has(s.fieldName)&&this.queryDef.name==="root"){r[this.queryDef.dealias(s.fieldName)]={status:PT.OptionalStatus.Error,error:`'root.${s.fieldName}' is missing, marked optional. Check server logs for more details.`};continue}return this._result=o,this._result;case"errors":i=!1,e.push.apply(e,o.errors);break;case"loaded":s.fieldName in this.instance&&s instanceof jT.default?r[this.queryDef.dealias(s.fieldName)]=this.instance[s.fieldName]:(e.push.apply(e,o.errors),r[this.queryDef.dealias(s.fieldName)]=o.data),this.queryDef.optionalFields.has(s.fieldName)&&(r[this.queryDef.dealias(s.fieldName)]={status:PT.OptionalStatus.Loaded,data:o.data});break}}for(let s of this.missingOptionalFields)r[this.queryDef.dealias(s.fieldName)]={status:PT.OptionalStatus.Error,error:s.info||""};return i?this._result={status:"loaded",errors:e,data:r}:this._result={status:"errors",data:null,errors:e},this._result}resultWithLoadingStates(){return{id:this.instance.id,status:this.result().status,children:this.children.map(e=>e.resultWithLoadingStates()),data:this.instance}}resetResult(){this._result=void 0,this._isLoaded=!1,this.parent.resetResult()}isLoaded(){if(this._isLoaded)return!0;for(let e of this.children)if(!e.isLoaded())return!1;return this._isLoaded=!0,this._isLoaded}getQueryIds(){let e=[];for(let r of this.queriedChildren)e.push(...r.getQueryIds());return e}getInitStats(){if(this.initStats)return this.initStats;if(!this.isLoaded())return null;this.initStats={queryNodes:0,instanceNodes:1,maxDepth:1,computations:0,failedQueries:0};for(let e of this.children)(0,KMe.addLiveViewStats)(this.initStats,e.getInitStats());return this.initStats}};Is.default=TT});var a8=_(dv=>{"use strict";Object.defineProperty(dv,"__esModule",{value:!0});dv.stableStringify=void 0;function zMe(t){let e=[],r=i=>{if(i&&i.toJSON&&typeof i.toJSON=="function"&&(i=i.toJSON()),i===void 0)return;if(typeof i=="number")return isFinite(i)?""+i:"null";if(typeof i!="object")return JSON.stringify(i);if(Array.isArray(i)){let u="[";for(let d=0;d<i.length;d++)d&&(u+=","),u+=r(i[d])||"null";return u+"]"}if(i===null)return"null";if(e.indexOf(i)!==-1)throw new TypeError("Converting circular structure to JSON");let s=e.push(i)-1,o=Object.keys(i).sort(),a="";for(let u of o){let d=r(i[u]);d&&(a&&(a+=","),a+=JSON.stringify(u)+":"+d)}return e.splice(s,1),"{"+a+"}"};return r(t)}dv.stableStringify=zMe});var ET=_(zu=>{"use strict";var YMe=zu&&zu.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(zu,"__esModule",{value:!0});zu.liveViewKey=void 0;var QMe=YMe(lv()),JMe=An(),XMe=a8();function ZMe(t,e){return(0,XMe.stableStringify)([t,e])}zu.liveViewKey=ZMe;var CT=class{constructor(e,r,i,s,o){this.key=e,this.viewDef=r,this.context=i,this.observable=s,this.cancelNextTick=()=>{},this.initResultReady=!1,o=o||{},this.root=new QMe.default(this,i,{},r.root,[]),(0,JMe.assert)(!o.onResultsResolved||o.onNextTick),this.root.children.length===0&&o.onNextTick&&(this.cancelNextTick=o.onNextTick(()=>this.resultsUpdated())),this.onResultsResolved=o.onResultsResolved}get path(){return[this.key]}get viewArgs(){return this.context.viewArgs}resultsUpdated(){this.onResultsResolved&&this.onResultsResolved(this.result()),this.reportTime()}overridesChanged(){this.root.overridesChanged()}destroy(){this.cancelNextTick(),this.root.destroy()}result(){return this.root.result()}resultWithLoadingStates(){return this.root.resultWithLoadingStates()}resetResult(){}isLoaded(){return this.root.isLoaded()}getQueryIds(){return this.root.getQueryIds()}reportTime(){let{tracingContext:e}=this.context;if(e&&!this.initResultReady&&this.isLoaded()){this.initResultReady=!0;let r=Date.now()-e.startTime,i=this.root.getInitStats();i&&e.viewInitReporter(e.viewName,this.context.viewArgs,this.context.sessionArgs,i,this.context.statsCollector,!!this.context.isContextForComputedField,r,this.context.tracingContext.originalViewName)}}};zu.default=CT});var UT=_(pp=>{"use strict";Object.defineProperty(pp,"__esModule",{value:!0});pp.DefaultMap=pp.EntryMap=void 0;var cv=class{constructor(e,r){this.key=e,this.value=r}orInsert(){return this.value}orInsertWith(){return this.value}andModify(e){return e(this.value),this}},pv=class{constructor(e,r){this.key=e,this.map=r}orInsert(e){return this.map.set(this.key,e),e}orInsertWith(e){return this.orInsert(e())}andModify(){return this}},kT=class extends Map{entry(e){return this.has(e)?new cv(e,this.get(e)):new pv(e,this)}};pp.EntryMap=kT;var wT=class extends cv{orDefault(){return this.value}},RT=class extends pv{orDefault(){return this.orInsert(this.map.default(this.key))}},MT=class extends Map{constructor(e,r){super(r),this.default=e}entry(e){return this.has(e)?new wT(e,this.get(e)):new RT(e,this)}};pp.DefaultMap=MT});var l8=_(NT=>{"use strict";Object.defineProperty(NT,"__esModule",{value:!0});var eUe=An(),LT=class{constructor(e,r){this.serverId=null,this.shadowMutations=new Set,this.shadowQueries=new Set,this.serverQueries=new Set,this.serverIdResolveList=[],this.serverFields=e,this.shadowFields=e,r||(this.serverId=e.id)}fields(){return this.shadowMutations.size===0?this.serverFields:this.shadowFields}dependentQueries(){return this.shadowMutations.size===0?this.serverQueries:this.shadowQueries}resolvePendingServerIdList(e){this.serverId=e.id;for(let r of this.serverIdResolveList)r(this.serverId);this.serverIdResolveList=[]}applyMutation(e){if(this.serverFields=Object.assign(Object.assign({},this.serverFields),e),this.shadowFields=Object.assign(Object.assign({},this.shadowFields),{id:e.id}),this.resolvePendingServerIdList(e),this.shadowMutations.size===0)for(let r of this.dependentQueries().values())for(let i of r.observers)i.onUpdateResult(this.serverFields,r.missingFields)}applyShadowMutation(e,r,i){this.shadowMutations.size===0&&(this.shadowFields=Object.assign({},this.serverFields),this.shadowQueries=new Set(this.serverQueries)),this.shadowMutations.add(e),i&&(this.shadowFields=Object.assign(Object.assign(Object.assign({},this.shadowFields),i),r))}removeShadowMutation(e,r){r?this.shadowMutations.delete(e):this.shadowMutations=new Set}getServerSideId(){if(this.serverId)return Promise.resolve(this.serverId);let[e,r]=(0,eUe.promiseResolveReject)();return this.serverIdResolveList.push(r),e}};NT.default=LT});var u8=_(Qf=>{"use strict";var tUe=Qf&&Qf.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Qf,"__esModule",{value:!0});var Jo=An(),mv=UT(),VT=tUe(l8()),qT=class{constructor(e,r){this.objectDef=e,this.emitter=r,this.instanceStates=new mv.EntryMap,this.instanceStatesByUuid=new mv.EntryMap,this.shadowInstances=new Set,this.queryStates=new mv.EntryMap,this.possiblyOrphanedQueryResults=new mv.EntryMap,this.possiblyOrphanInstances=new Set}getAllQueryIds(){return Array.from(this.queryStates.keys())}addInstance(e,r){if(this.emitter.emit({type:"STORE.ADD_INSTANCE",objectName:this.objectDef.name,instance:r.fields()}),(0,Jo.assert)(e.results.type!=="failed"),!e.results.instances.has(r)){if(e.results.instances.add(r),e.results.type==="loaded")for(let i of e.observers)i.onAddResult(r.fields(),e.missingFields);r.dependentQueries().add(e)}}removeInstance(e,r,i){if(this.emitter.emit({type:"STORE.REMOVE_INSTANCE",objectName:this.objectDef.name,instance:r.fields()}),(0,Jo.assert)(e.results.type!=="failed"),!e.results.instances.has(r)){(0,Jo.assertWithoutCrashingOnClient)(!1,"tried to remove instance that does not exist");return}e.results.instances.delete(r);for(let s of e.observers)i?s.onRemoveResult(r.fields()):s.detachChild(r.fields());r.dependentQueries().delete(e)}applyShadowMutationAdd(e,r,i){let s=this.instanceStates.entry(r).orInsertWith(()=>new VT.default({id:r},!0));this.shadowInstances.add(s),s.applyShadowMutation(e,{id:r},i);let o=[];for(let[a,u]of this.queryStates.entries())u.query.matches(s.fields())&&u.results.type!=="failed"&&(o.push(a),this.addInstance(u,s));return o}applyShadowMutationAddWithUUID(e,r,i){let s=this.instanceStatesByUuid.entry(r).orInsertWith(()=>new VT.default({id:r,uuid:r},!0));this.shadowInstances.add(s),s.applyShadowMutation(e,{uuid:r},Object.assign(Object.assign({},i),{id:r}));let o=[];for(let[a,u]of this.queryStates.entries())u.query.matches(s.fields())&&u.results.type!=="failed"&&(o.push(a),this.addInstance(u,s));return o}applyShadowMutationDelete(e,r,i){this.shadowInstances.add(i),i.applyShadowMutation(e,{id:r},null);let s=[];for(let o of i.dependentQueries().values())o.results.type!=="failed"&&(this.removeInstance(o,i,!1),s.push(o.queryId));return s}applyShadowMutationDeleteWithUUID(e,r,i){this.shadowInstances.add(i),i.applyShadowMutation(e,{uuid:r},null);let s=[];for(let o of i.dependentQueries().values())o.results.type!=="failed"&&(this.removeInstance(o,i,!1),s.push(o.queryId));return s}applyShadowMutationUpdate(e,r,i,s){this.shadowInstances.add(i),i.applyShadowMutation(e,{id:r},s);let o=i.fields(),a=[];for(let u of this.queryStates.values())if(u.results.type!=="failed")if(u.results.instances.has(i)){if(!u.query.matches(o))this.removeInstance(u,i,!1);else for(let d of u.observers)d.onUpdateResult(o,u.missingFields);a.push(u.queryId)}else u.query.matches(o)&&(this.addInstance(u,i),a.push(u.queryId));return a}applyShadowMutationUpdateWithUUID(e,r,i,s){this.shadowInstances.add(i),i.applyShadowMutation(e,{uuid:r},s);let o=i.fields(),a=[];for(let u of this.queryStates.values())if(u.results.type!=="failed")if(u.results.instances.has(i)){if(!u.query.matches(o))this.removeInstance(u,i,!1);else for(let d of u.observers)d.onUpdateResult(o,u.missingFields);a.push(u.queryId)}else u.query.matches(o)&&(this.addInstance(u,i),a.push(u.queryId));return a}removeShadowMutations(e,r,i){for(let s in r){let o=this.instanceStates.get(s);if(o!==void 0&&o.shadowMutations.has(e)&&(o.removeShadowMutation(e,i),o.shadowMutations.size===0)){this.shadowInstances.delete(o);let a=o.fields();for(let u of o.dependentQueries().values())for(let d of u.observers)d.restoreChild(a);for(let u of this.queryStates.values())if(u.results.type!=="failed")if(u.results.instances.has(o))if(!o.dependentQueries().has(u))this.removeInstance(u,o,!0);else for(let d of u.observers)d.onUpdateResult(a,u.missingFields);else o.dependentQueries().has(u)&&this.addInstance(u,o);this.checkOrphanInstance(o)}}}removeShadowMutationsWithUUID(e,r,i){for(let s in r){let o=this.instanceStatesByUuid.get(s);if(o!==void 0&&o.shadowMutations.has(e)&&(o.removeShadowMutation(e,i),o.shadowMutations.size===0)){this.shadowInstances.delete(o);let a=o.fields();for(let u of o.dependentQueries().values())for(let d of u.observers)d.restoreChild(a);for(let u of this.queryStates.values())if(u.results.type!=="failed")if(u.results.instances.has(o))if(!o.dependentQueries().has(u))this.removeInstance(u,o,!0);else for(let d of u.observers)d.onUpdateResult(a,u.missingFields);else o.dependentQueries().has(u)&&this.addInstance(u,o);this.checkOrphanInstance(o)}}}resolvePendingServerIdList(e){for(let r in e){let i=this.objectDef.readPlainObject(e[r]);i.uuid&&this.instanceStatesByUuid.has(i.uuid)&&this.instanceStatesByUuid.get(i.uuid).resolvePendingServerIdList(i)}}applyMutations(e,r){for(let i in e){let s=this.objectDef.readPlainObject(e[i]);if(this.instanceStates.has(i))this.instanceStates.get(i).applyMutation(s);else if(s.uuid&&this.instanceStatesByUuid.has(s.uuid)){let o=this.instanceStatesByUuid.get(s.uuid);this.instanceStates.set(s.id,o),o.applyMutation(s)}else{let o=new VT.default(s,!1);s.uuid&&this.instanceStatesByUuid.set(s.uuid,o),this.instanceStates.set(s.id,o),this.possiblyOrphanInstances.add(o)}}for(let i in r){let s=r[i];if(!this.queryStates.has(i)){this.possiblyOrphanedQueryResults.set(i,s);continue}let o=this.queryStates.get(i);this.setQueryStateResults(o,s,e)}}subscribe(e,r){let i=this.queryStates.entry(e.queryId).orInsertWith(()=>({queryId:e.queryId,results:{type:"loading",instances:new Set},query:e.substituted(),observers:new Set,missingFields:[]}));if((0,Jo.assert)(!i.observers.has(r)),i.observers.add(r),this.possiblyOrphanedQueryResults.has(e.queryId))this.setQueryStateResults(i,this.possiblyOrphanedQueryResults.get(e.queryId)),this.possiblyOrphanedQueryResults.delete(e.queryId);else if(i.results.type==="loaded"){let s={};for(let o of i.results.instances.values()){let a=o.fields();s[a.id]=a}r.onInitialResults(s,!1,void 0,i.missingFields)}else i.results.type==="failed"&&r.onError(i.results.error);return()=>{if((0,Jo.assert)(i.observers.has(r)),i.observers.delete(r),i.observers.size===0){if(i.results.type!=="failed")for(let s of i.results.instances.values())s.dependentQueries().delete(i),this.checkOrphanInstance(s);this.queryStates.delete(e.queryId)}}}getIdFromUuid(e){if(!this.instanceStatesByUuid.has(e))throw new Error(`uuid ${e} doesn't exist in object store ${this.objectDef.name}`);return this.instanceStatesByUuid.get(e).getServerSideId()}setQueryStateResults(e,r,i){if("error"in r){e.results={type:"failed",error:r.error};for(let d of e.observers)d.onError(r.error);return}let{results:s,fullResults:o,pagination:a,missingFields:u}=r;if(e.missingFields=u||[],e.results.type==="loaded"){for(let d in s){this.instanceStates.has(d)||(0,Jo.assert)(this.instanceStates.has(d),`objectId ${d} is missing from ${this.objectDef.name} store. queryResults is ${JSON.stringify(r)}`);let p=this.instanceStates.get(d);if(this.shadowInstances.has(p)){s[d]===!0?p.serverQueries.add(e):p.serverQueries.delete(e);continue}s[d]===!0?this.addInstance(e,p):(this.removeInstance(e,p,!0),this.possiblyOrphanInstances.add(p))}if(o){for(let d of e.results.instances)!this.shadowInstances.has(d)&&!s[d.fields().id]&&(this.removeInstance(e,d,!0),this.possiblyOrphanInstances.add(d));for(let d of this.shadowInstances.values())s[d.fields().id]||d.serverQueries.delete(e)}}else{(0,Jo.assert)(o),e.results={type:"loaded",instances:e.results.type==="loading"?e.results.instances:new Set};let d={};for(let p in s){(0,Jo.assert)(s[p]),(0,Jo.assert)(this.instanceStates.has(p));let m=this.instanceStates.get(p);m.serverQueries.add(e),this.shadowInstances.has(m)||(d[p]=m.fields(),e.results.instances.add(m))}for(let p of this.shadowInstances.values()){let m=p.fields();e.query.matches(m)&&(d[m.id]=m)}for(let p of e.observers)p.onInitialResults(d,!0,a,u)}}cleanupOrphans(){this.possiblyOrphanedQueryResults.clear();for(let e of this.possiblyOrphanInstances)this.checkOrphanInstance(e)}checkOrphanInstance(e){let r=this.instanceStates.has(e.fields().id),i=this.instanceStates.get(e.fields().id)===e,s=e.dependentQueries().size===0,o=this.shadowInstances.has(e);if(r&&i&&s&&!o){this.instanceStates.delete(e.fields().id);let a=e.fields().uuid;a&&this.instanceStatesByUuid.delete(a)}}};Qf.default=qT});var d8=_(WT=>{"use strict";Object.defineProperty(WT,"__esModule",{value:!0});var rUe=An(),iUe=UT(),BT=class{constructor(e){this.objectDef=e,this.states=new iUe.DefaultMap(()=>({state:{type:"loading"},observers:new Set}))}applyMutations(e){for(let r in e){let i=e[r],s=this.states.entry(r).orDefault();if("error"in i)s.state={type:"failed",errors:[{code:"computedFieldError",path:["computedFieldFunction"],error:new Error(i.error.message)}]};else{let{value:o}=i,{fieldName:a}=i;this.objectDef.fields.has(a)&&(o=this.objectDef.readPlainObjectField(a,o),s.state={type:"loaded",value:o})}for(let o of s.observers.values())s.state.type==="loaded"?o.onUpdateResult(s.state.value):s.state.type==="failed"&&o.onErrors(s.state.errors)}}subscribe({computationId:e},r){let i=this.states.entry(e).orDefault();return(0,rUe.assert)(!i.observers.has(r)),i.observers.add(r),i.state.type==="loaded"?r.onUpdateResult(i.state.value):i.state.type==="failed"&&r.onErrors(i.state.errors),()=>{i.observers.delete(r),i.observers.size===0&&this.states.delete(e)}}};WT.default=BT});var c8=_(hl=>{"use strict";Object.defineProperty(hl,"__esModule",{value:!0});hl.InitialOnlyQueryComputationObserver=hl.InitialOnlyQueryObserver=hl.InitialOnlyQuerySubscriptionObservable=void 0;var GT=class{constructor(e){this.observable=e}subscribeQuery(e,r){return this.observable.subscribeQuery(e,new gv(r))}subscribeComputation(e,r){return this.observable.subscribeComputation(e,new fv(r))}requestPaginationChange(e,r){}};hl.InitialOnlyQuerySubscriptionObservable=GT;var gv=class{constructor(e){this.next=e}onInitialResults(e,r){this.next.onInitialResults(e,r)}onAddResult(e){}onRemoveResult(e,r){}onUpdateResult(e){}onError(e){}detachChild(e){}restoreChild(e){}identifier(){return this.next.identifier()}};hl.InitialOnlyQueryObserver=gv;var fv=class{constructor(e){this.next=e,this.receivedInitialResults=!1}onUpdateResult(e){this.receivedInitialResults||(this.next.onUpdateResult(e),this.receivedInitialResults=!0)}onErrors(e){}};hl.InitialOnlyQueryComputationObserver=fv});var g8=_(mp=>{"use strict";var m8=mp&&mp.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(mp,"__esModule",{value:!0});mp.ViewSubscriptionObservers=void 0;var nUe=m8(X_()),p8=m8(ET()),sUe=An(),oUe=c8(),HT=class{constructor(e,r,i,s,o,a){this.key=e,this.viewRef=r,this.observable=o,this.traceId=a,this.frozenView=null,this.subscriptions=[],this.view=new p8.default(e,i,s,o)}getSubscriptionObservers(){return this.subscriptions}addSubscription(e){this.subscriptions.push(e)}removeSubscription(e){this.subscriptions=this.subscriptions.filter(r=>r!==e)}updateOverrides(e){if(!this.frozenView){let r=this.view.result().status==="loaded";this.frozenView=new p8.default(this.key,this.view.viewDef,new nUe.default(this.view.context.sessionArgs,this.view.context.viewArgs,this.view.context.options),new oUe.InitialOnlyQuerySubscriptionObservable(this.observable)),r&&(0,sUe.assert)(this.frozenView.result().status==="loaded")}this.frozenView.context.overrides=e,this.frozenView.overridesChanged()}resolveOptimisticUpdates(){this.frozenView=null}viewArgs(){return this.view.viewArgs}activeView(){return this.frozenView?this.frozenView:this.view}destroy(){this.view.destroy()}};mp.ViewSubscriptionObservers=HT});var f8=_(bv=>{"use strict";Object.defineProperty(bv,"__esModule",{value:!0});bv.overridesFromMutations=void 0;function aUe(t){let e=new Map;for(let r of t)for(let i in r.mutations){let s=r.mutations[i],o=e.get(i);o||(o=new Map,e.set(i,o));for(let a in s){let u=s[a];if(!u||r.type==="delete")o.set(a,{type:"delete"});else if(r.type==="create")o.has(a)&&console.warn(`Optimistically creating ${i} with id ${a} detected but an optimistic operation with that ID already exists.`),o.set(a,{type:"create",instance:Object.assign({id:a},u)});else{let d=o.get(a);d?d.type==="create"?o.set(a,{type:"create",instance:Object.assign(Object.assign({},d.instance),u)}):d.type==="update"&&o.set(a,{type:"update",delta:Object.assign(Object.assign({},d.delta),u)}):o.set(a,{type:"update",delta:u})}}}return e}bv.overridesFromMutations=aUe});var $T=_(Yu=>{"use strict";var lUe=Yu&&Yu.__awaiter||function(t,e,r,i){function s(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function u(m){try{p(i.next(m))}catch(f){a(f)}}function d(m){try{p(i.throw(m))}catch(f){a(f)}}function p(m){m.done?o(m.value):s(m.value).then(u,d)}p((i=i.apply(t,e||[])).next())})},fp=Yu&&Yu.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Yu,"__esModule",{value:!0});var yv=An(),b8=ET(),uUe=fp(u8()),dUe=fp(d8()),cUe=fp(X_()),y8=lp(),h8=fp(lv()),pUe=fp(av()),mUe=fp(FT()),gUe=g8(),I8=f8(),KT=class{constructor(e){this.emitter=e}criticalAndPage(e){}error(e){}warn(e){}info(e){}debug(e,...r){switch(e){case"VIEW_QUERY_NODE.ADD_RESULT":case"VIEW_QUERY_NODE.UPDATE_RESULT":case"VIEW_QUERY_NODE.REMOVE_RESULT":this.emitter.emit({type:e,queryId:r[0],instance:r[1]});break;case"VIEW_QUERY_NODE.INITIAL_RESULT":this.emitter.emit({type:e,queryId:r[0],instances:r[1]});break;case"CROSS_VIEW_INCOMPLETE_INSTANCES":this.emitter.emit({type:e,queryInfo:r[0],missingProjectedFields:r[1],status:r[2]});break;default:}}},gp=class{constructor(e,r,i,s,o,a){this.args=e,this.schema=r,this.viewRegistry=i,this.emitter=s,this.onPaginationChange=o,this.enableCrossViewIncompleteInstanceCheck=a,this.viewSubscriptions=new Map,this.failedViewSubscriptions=new Map,this.nextSubscriptionId=1,this.orderedMutationsByView=new Map,this.paginationQueryNodeMap=new Map,this.stores={},this.isInMutationBatch=!1,this.shouldNotifyOnMutationBatchCompletion=!1,this.contextLogger=new KT(this.emitter);for(let[u,d]of r.objects)this.stores[u]={queries:new uUe.default(d,this.emitter),computations:new dUe.default(d)}}getAllQueryIds(){let e=[];for(let r in this.stores){let i=this.stores[r];i&&e.push(...i.queries.getAllQueryIds())}return e}resolvePendingServerIdList(e){for(let r in e){let{instances:i}=e[r],s=this.getStores(r);s&&s.queries.resolvePendingServerIdList(i)}}applyMutations(e){this.emitter.emit({type:"SESSION.APPLY_MUTATIONS",mutations:e});for(let r in e){let{instances:i,queries:s,computations:o}=e[r],a=this.getStores(r);a&&(a.queries.applyMutations(i,s),a.computations.applyMutations(o))}this.notifyObservers();for(let r in e){let i=this.getStores(r);i&&i.queries.cleanupOrphans()}}applyShadowMutations(e,r,i){var s;this.emitter.emit({type:"SESSION.APPLY_SHADOW_MUTATIONS",transactionId:e,mutations:r,operationType:i});let o=new Set,a={};for(let[d,p]of this.viewSubscriptions.entries())a[d]=p.activeView().root.result().status;for(let d in r){let p=this.getStores(d);if(!p)continue;let m=r[d];for(let f in r[d]){let y=p.queries.instanceStates.get(f),v=m[f];for(let O in v){let A=(s=this.schema.objects.get(d))===null||s===void 0?void 0:s.fields.get(O);A&&(0,y8.isComputedFieldDef)(A)&&console.warn(`Optimistic updates for computed fields are not supported. Optimistically updating computed field '${O}' on object '${d}' may not work`)}if(y===void 0){if(i==="update"||i==="delete"){console.warn(`Update triggered on non-existent instance of object type ${d}, id ${f}`);continue}(0,yv.assert)(v);for(let O of p.queries.applyShadowMutationAdd(e,f,v))o.add(O)}else if(v===null)for(let O of p.queries.applyShadowMutationDelete(e,f,y))o.add(O);else for(let O of p.queries.applyShadowMutationUpdate(e,f,y,v))o.add(O)}}let u=[];for(let[d,p]of this.viewSubscriptions.entries())a[d]==="loaded"&&p.activeView().root.result().status==="loading"&&u.push(p.activeView().root.queryDef.objectFieldDef.name);return u.length>0&&console.error(`[LG Realtime] It seems like an optimistic update did not provide sufficient data to generate a complete view result. This caused the view(s): ${u.join()} to appear as if they had been dropped. If you need to update a subtree(an object and its children objects), the full children instances need to be included.`),this.notifyObservers(),Array.from(o.values())}removeShadowMutations(e,r,i){this.emitter.emit({type:"SESSION.REMOVE_SHADOW_MUTATIONS",transactionId:e,mutations:r,success:i});for(let s in r){let o=this.getStores(s);o&&o.queries.removeShadowMutations(e,r[s],i)}this.notifyObservers()}applyShadowMutationsWithUUID(e,r,i){var s;this.emitter.emit({type:"SESSION.APPLY_SHADOW_MUTATIONS",transactionId:e,mutations:r,operationType:i});let o=new Set,a={};for(let[d,p]of this.viewSubscriptions.entries())a[d]=p.activeView().root.result().status;for(let d in r){let p=this.getStores(d);if(!p)continue;let m=r[d];for(let f in r[d]){let y=p.queries.instanceStatesByUuid.get(f),v=m[f];for(let O in v){let A=(s=this.schema.objects.get(d))===null||s===void 0?void 0:s.fields.get(O);A&&(0,y8.isComputedFieldDef)(A)&&console.warn(`Optimistic updates for computed fields are not supported. Optimistically updating computed field '${O}' on object '${d}' may not work`)}if(y===void 0){if(i==="update"||i==="delete"){console.warn(`Update triggered on non-existent instance of object type ${d}, uuid ${f}`);continue}(0,yv.assert)(v);for(let O of p.queries.applyShadowMutationAddWithUUID(e,f,v))o.add(O)}else if(i==="delete")for(let O of p.queries.applyShadowMutationDeleteWithUUID(e,f,y))o.add(O);else if(v!==null)for(let O of p.queries.applyShadowMutationUpdateWithUUID(e,f,y,v))o.add(O)}}let u=[];for(let[d,p]of this.viewSubscriptions.entries())a[d]==="loaded"&&p.activeView().root.result().status==="loading"&&u.push(p.activeView().root.queryDef.objectFieldDef.name);return u.length>0&&console.error(`[LG Realtime] It seems like an optimistic update did not provide sufficient data to generate a complete view result. This caused the view(s): ${u.join()} to appear as if they had been dropped. If you need to update a subtree(an object and its children objects), the full children instances need to be included.`),this.notifyObservers(),Array.from(o.values())}removeShadowMutationsWithUUID(e,r,i){this.emitter.emit({type:"SESSION.REMOVE_SHADOW_MUTATIONS",transactionId:e,mutations:r,success:i});for(let s in r){let o=this.getStores(s);o&&o.queries.removeShadowMutationsWithUUID(e,r[s],i)}this.notifyObservers()}getIdFromUuid(e,r){let i=this.getStores(e);if(!i)throw new Error(`objectName ${e} doesn't exist`);return i.queries.getIdFromUuid(r)}applyShadowMutationsByView(e,r,i,s){this.emitter.emit({type:"SESSION.APPLY_SHADOW_MUTATIONS_BY_VIEW",viewName:e,transactionId:r,mutations:i,operationType:s});let o=this.orderedMutationsByView.get(e);o||(o=[],this.orderedMutationsByView.set(e,o)),o.push({transactionId:r,mutations:i,type:s,resolved:!1});let a=(0,I8.overridesFromMutations)(o);for(let[u,d]of this.viewSubscriptions)d.viewRef._name===e&&d.updateOverrides(a);this.notifyObservers()}removeShadowMutationsByView(e,r,i,s){this.emitter.emit({type:"SESSION.REMOVE_SHADOW_MUTATIONS_BY_VIEW",viewName:e,transactionId:r,mutations:i,success:s});let o=this.orderedMutationsByView.get(e);if(!o){(0,yv.assertWithoutCrashingOnClient)(!1,"Removing a shadow mutation from a view that has no mutations.");return}let a=o.findIndex(d=>d.transactionId===r);if(a>=0&&(s?o[a].resolved=!0:o.splice(a,1)),o.filter(d=>!d.resolved).length===0){for(let[d,p]of this.viewSubscriptions)p.viewRef._name===e&&p.resolveOptimisticUpdates();this.orderedMutationsByView.delete(e)}else{let d=(0,I8.overridesFromMutations)(o);for(let[p,m]of this.viewSubscriptions)m.viewRef._name===e&&m.updateOverrides(d)}this.notifyObservers()}subscribe(e,r,i,s){let o=this.viewRegistry.get(e._name);if(!o)throw new Error(`View with name ${e._name} not found`);o.validateArguments(r).unwrap();let a=(0,b8.liveViewKey)(o.name,r),u;this.viewSubscriptions.has(a)?u=this.viewSubscriptions.get(a):(this.args.sessionId||this.emitter.emit({type:"SESSION.SUBSCRIBE_BEFORE_SESSION_ID_SET",sessionArgs:this.args,viewName:o.name}),u=new gUe.ViewSubscriptionObservers(a,e,o,new cUe.default(this.args,r,{logger:this.contextLogger,isContextForComputedField:!1,paginationQueryNodeMap:this.paginationQueryNodeMap,enableCrossViewIncompleteInstanceCheck:this.enableCrossViewIncompleteInstanceCheck}),this,s),this.viewSubscriptions.set(a,u));let d={id:this.nextSubscriptionId++,view:e,args:r,observer:i,unsubscribe:(0,yv.once)(()=>{u.removeSubscription(d),u.getSubscriptionObservers().length===0&&(this.viewSubscriptions.delete(a),u.destroy())}),clientUnsubscribed:!1,lastResult:null};return u.addSubscription(d),gp.nextTick(()=>{d.clientUnsubscribed||this.notifyObserver(u,d)}),d}cleanupFailedSubscribeView(e){let r=e,i=this.viewSubscriptions.get(r);if(i){for(let s of i.getSubscriptionObservers()){let o={status:"errors",data:null,errors:[]};gp.nextTick(()=>{s.clientUnsubscribed||(s.observer(o),s.lastResult=o)})}this.failedViewSubscriptions.set(r,i),this.viewSubscriptions.delete(r)}}hasActiveSubscriptions(e,r){let i=(0,b8.liveViewKey)(e,r),s=this.viewSubscriptions.get(i);return!!s&&s.getSubscriptionObservers().length>0}uniqueSubscriptions(){let e=[];for(let[r,i]of this.failedViewSubscriptions.entries())this.viewSubscriptions.has(r)||e.push({viewRef:i.viewRef,args:i.viewArgs()});this.failedViewSubscriptions.clear();for(let r of this.viewSubscriptions.values())e.push({viewRef:r.viewRef,args:r.viewArgs(),traceId:r.traceId});return e}startReconnectionStateForPaginationQueries(){for(let e of this.paginationQueryNodeMap.values())e.startReconnectionState()}subscribeQuery(e,r){this.emitter.emit({type:"SESSION.SUBSCRIBE_QUERY",query:e});let i=this.getStores(e.objectName);return i?i.queries.subscribe(e,r):()=>{}}requestPaginationChange(e,r){this.onPaginationChange(e.queryId,r),this.notifyObservers()}subscribeComputation(e,r){this.emitter.emit({type:"SESSION.SUBSCRIBE_COMPUTATION",computation:e});let i=this.getStores(e.objectName);return i?i.computations.subscribe(e,r):()=>{}}batchMutations(e){this.isInMutationBatch=!0,this.shouldNotifyOnMutationBatchCompletion=!1;try{e()}finally{this.isInMutationBatch=!1,this.shouldNotifyOnMutationBatchCompletion&&this.notifyObservers()}}notifyObservers(){if(this.isInMutationBatch){this.shouldNotifyOnMutationBatchCompletion=!0;return}for(let e of this.viewSubscriptions.values())for(let r of e.getSubscriptionObservers())this.notifyObserver(e,r)}notifyObserver(e,r){var i;let s=e.activeView().result();r.lastResult!==s&&(((i=r.lastResult)===null||i===void 0?void 0:i.status)==="loaded"&&s.status==="loading"||(this.emitter.emit({type:"SESSION.NOTIFY_OBSERVERS",view:e.viewRef,args:e.viewArgs(),result:s,subscriptionId:r.id}),r.clientUnsubscribed||(r.observer(s),r.lastResult=s)))}getStores(e){let r=this.stores[e];return r||(this.emitter.emit({type:"SESSION.UNEXPECTED_OBJECT_NAME",objectName:e}),null)}static nextTick(e){setTimeout(e,0)}static tick(){return lUe(this,void 0,void 0,function*(){return new Promise(e=>{this.nextTick(()=>{e()})})})}getViewSubscriptionsForTesting(){return this.viewSubscriptions}getViewSubscriptionsForDebugging(){let e={};for(let[r,i]of this.viewSubscriptions.entries()){let s=i.activeView().root.result();s.status==="loading"&&(s=Object.assign(Object.assign({},s),{loadingPaths:i.activeView().root.getLoadingPathsForDebugging()})),e[r]=s}return e}prettyPrintLiveViewTree(e){let r="",i=null;if(typeof e=="string"){if(!this.viewSubscriptions.has(e)){let a=[...this.viewSubscriptions.keys()].join(`
`).replace(/"/g,'\\"');throw new Error(`Subscription key not found, possible options: 
${a}`)}r=e,i=this.viewSubscriptions.get(r).activeView().root}else if(e instanceof h8.default)r=e.parent.key,i=e;else throw new Error("Please enter a subscription key or a LiveViewInstanceNode");let s=`Logging LiveView tree for subscription: ${r} 
View Name: ${i.queryDef.objectFieldDef.name} 
`,o=[[i,0]];for(;o.length>0;){let[a,u]=o.pop();if(s+="  ".repeat(u),a instanceof h8.default){a.children.forEach(p=>{o.push([p,u+1])});let d=a.instance.id;s+=`I: ${d||"Root Instance"} 
`}else if(a instanceof pUe.default){a.children.forEach(f=>{o.push([f,u+1])});let d=a.query.queryDef,p=[],m=a.query.context.viewArgs;m&&Object.keys(m).forEach(f=>{p.push(`${d.objectDef.name}.${f} = ${m[f]}`)}),s+=`Q: ${d.objectFieldDef.name} `,p.length>0?s+=`args:(${p.join()})
`:s+=`(${d.objectDef.name})
`}else if(a instanceof mUe.default){let d=a.result();d.status==="loaded"?s+=`C: ${a.fieldName} = ${d.data} 
`:s+=`C: ${a.fieldName} is loading 
`}}return s}};Yu.default=gp});var x8=_(hv=>{"use strict";Object.defineProperty(hv,"__esModule",{value:!0});hv.EventEmitter=void 0;var zT=class{constructor(){this.listeners=new Set}addListener(e){this.listeners.add(e)}removeListener(e){this.listeners.delete(e)}emit(e){this.listeners.forEach(r=>{try{r(e)}catch(i){console.error(i)}})}};hv.EventEmitter=zT});var _8=_(Jf=>{"use strict";var Iv=Jf&&Jf.__awaiter||function(t,e,r,i){function s(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function u(m){try{p(i.next(m))}catch(f){a(f)}}function d(m){try{p(i.throw(m))}catch(f){a(f)}}function p(m){m.done?o(m.value):s(m.value).then(u,d)}p((i=i.apply(t,e||[])).next())})};Object.defineProperty(Jf,"__esModule",{value:!0});var fUe=en(),bp=An(),bUe=5*1e3,yUe=30*1e3,hUe=1*60*60*1e3,IUe=["AWSALBTG","AWSALBTGCORS","AWSALB","AWSALBCORS"],xUe={backoffInitialMs:250,backoffMaxMs:2*60*1e3,backoffMultiplier:2,spreadMultiplier:.3},YT=class{constructor(e,r,i,s,o={}){this.url=e,this.wsImpl=r,this.args=i,this.emitter=s,this.clientOptions=o,this.ws=null,this.state={type:"disconnected"},this.backoff=new bp.ExponentialBackoff(xUe),this.onCloseResolve=null,this.alreadyConnectedOnce=!1,this.reconnectTimeout=null,this.inactivityDisconnect=null,this.preventReconnectForDebugging=!1,this.preventAutoReconnectOnNextClose=!1,this.observers=new Set,this.visibilityChange=()=>{var a;((a=this.clientOptions.document)===null||a===void 0?void 0:a.visibilityState)==="visible"?(this.clearInactivityDisconnect(),this.connect()):this.scheduleInactivityDisconnect()},this._lastAckTime=new Date(0),o.document&&o.document.addEventListener("visibilitychange",this.visibilityChange),this.registerPingInterval()}cleanup(){this.clientOptions.document&&this.clientOptions.document.removeEventListener("visibilitychange",this.visibilityChange),this.clearInactivityDisconnect(),this.closeWithoutReconnecting()}registerPingInterval(){setInterval(()=>{this.ready()&&this.send({messageType:"ping"})},this.getIntervalWithJitter())}addObserver(e){this.observers.add(e)}removeObserver(e){this.observers.delete(e)}get debug(){return{disconnect:()=>{this.preventReconnectForDebugging=!0,this.ws&&this.ws.close(1e3,"for-testing")},reconnect:()=>{this.preventReconnectForDebugging=!1,this.connect()},sendPingNow:()=>{this.sendPingNow()}}}connect(){var e;return Iv(this,void 0,void 0,function*(){let[r,i]=(0,bp.promiseResolveReject)(),s=!1,o=this.alreadyConnectedOnce,a=((e=this.clientOptions.document)===null||e===void 0?void 0:e.visibilityState)==="hidden"&&o;if(this.preventReconnectForDebugging||a||this.state.type==="connected"||this.state.type==="connecting")return"skipped";this.clearReconnect(),this.ws=this.wsImpl(this.url),this.setConnectionState({type:"connecting"});let u=this.ws;return this.ws.onopen=()=>Iv(this,void 0,void 0,function*(){var d,p,m,f,y;let v=u,O=this.ws;if((0,bp.assertWithoutCrashingOnClient)(v===O,"Current websocket is different from newly-opened websocket"),(0,bp.assert)(this.ws!==null,"websocket should be non-null"),((d=this.ws)===null||d===void 0?void 0:d.readyState)!==((p=this.ws)===null||p===void 0?void 0:p.OPEN))return;this.setConnectionState({type:"connected",authenticated:!1,count:this.backoff.attemptsSoFar()}),i("success"),s=!0;let A=((m=this.clientOptions.tags)===null||m===void 0?void 0:m.clientType)||"unknown",k=Object.assign(Object.assign({},this.clientOptions.tags),((f=this.clientOptions.document)===null||f===void 0?void 0:f.URL)&&{clientUrl:(y=this.clientOptions.document)===null||y===void 0?void 0:y.URL}),U={messageType:"auth",clientType:A,args:this.args,tags:k};this.emitter.emit({type:"REQUEST_MESSAGE",message:U}),this.ws.send(JSON.stringify(U))}),this.ws.onclose=d=>{var p;if(this.setConnectionState({type:"disconnected"}),this.emitter.emit({type:"CONNECTION_CLOSED",url:this.url,closeEvent:d}),d.code===4001&&typeof document=="object")for(let m of IUe)document.cookie=`${m}=; max-age=-1; path=/;`;if(s||i("failure"),(p=this.onCloseResolve)===null||p===void 0||p.call(this),this.preventAutoReconnectOnNextClose){this.preventAutoReconnectOnNextClose=!1;return}this.reconnectTimeout||(this.reconnectTimeout=setTimeout(()=>{this.reconnectTimeout=null,this.connect()},this.backoff.nextBackoffMs()))},this.ws.onerror=d=>{this.emitter.emit({type:"ERROR",error:d})},this.ws.onmessage=({data:d})=>{var p,m,f;let y=JSON.parse(d);if(y){switch(this.emitter.emit({type:"RESPONSE_MESSAGE",message:y}),y.messageType){case"authSuccess":this.setConnectionState({type:"connected",authenticated:!0,count:this.backoff.attemptsSoFar()}),this.backoff.reset();break;case"authFail":this.emitter.emit({type:"ERROR",error:new fUe.AuthError}),this.setConnectionState({type:"error",errorType:"authFail"}),this.closeWithoutReconnecting();break;case"ack":this._lastAckTime=new Date;break;case"requestError":this.setConnectionState({type:"error",errorType:"requestError"}),(p=this.ws)===null||p===void 0||p.close();break;case"requestBeforeAuth":this.setConnectionState({type:"error",errorType:"requestBeforeAuth"}),(m=this.ws)===null||m===void 0||m.close();break;case"serverError":this.setConnectionState({type:"error",errorType:"serverError"}),(f=this.ws)===null||f===void 0||f.close();break}for(let v of this.observers)v.handleMessage(y)}},r})}clearReconnect(){this.reconnectTimeout&&(clearTimeout(this.reconnectTimeout),this.reconnectTimeout=null)}closeWithoutReconnecting(){var e,r;return Iv(this,void 0,void 0,function*(){let[i,s]=(0,bp.promiseResolveReject)();this.onCloseResolve=s,this.clearReconnect(),this.preventAutoReconnectOnNextClose=!0,!(this.ws===null||((e=this.ws)===null||e===void 0?void 0:e.readyState)===((r=this.ws)===null||r===void 0?void 0:r.CLOSED))&&(this.ws.close(),yield i)})}reconnect(){return Iv(this,void 0,void 0,function*(){return this.preventAutoReconnectOnNextClose=!1,this.connect()})}getIntervalWithJitter(){return yUe+(Math.random()-.5)*bUe}ready(){var e,r;return this.state.type==="connected"&&!!this.ws&&((e=this.ws)===null||e===void 0?void 0:e.readyState)===((r=this.ws)===null||r===void 0?void 0:r.OPEN)&&(this.state.authenticated||!!this.clientOptions.enableSendingSubscriptionRequestBeforeAuthMsg)}send(e){this.ready()?(this.emitter.emit({type:"REQUEST_MESSAGE",message:e}),this.ws.send(JSON.stringify(e))):(0,bp.assertWithoutCrashingOnClient)(!1,`ClientConnection.send called with message type ${e.messageType} while in non-ready state`)}sendPingNow(){this.ready()&&this.send({messageType:"ping"})}getLastAckTime(){return this._lastAckTime}scheduleInactivityDisconnect(){this.inactivityDisconnect=setTimeout(()=>{this.closeWithoutReconnecting()},hUe)}clearInactivityDisconnect(){this.inactivityDisconnect&&(clearTimeout(this.inactivityDisconnect),this.inactivityDisconnect=null)}setConnectionState(e){e.type==="connected"&&(this.alreadyConnectedOnce=!0),this.state=e,this.emitter.emit({type:"CONNECTION_STATE",state:e,url:this.url})}getState(){return this.state}isReconnectScheduled(){return this.state.type==="disconnected"&&this.reconnectTimeout!==null}getBackoff(){return this.backoff}};Jf.default=YT});function Xf(){return xv>_v.length-16&&(v8.default.randomFillSync(_v),xv=0),_v.slice(xv,xv+=16)}var v8,_v,xv,QT=Mi(()=>{v8=Ie(require("crypto")),_v=new Uint8Array(256),xv=_v.length});var O8,S8=Mi(()=>{O8=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function _Ue(t){return typeof t=="string"&&O8.test(t)}var Il,Zf=Mi(()=>{S8();Il=_Ue});function vUe(t,e=0){let r=(ai[t[e+0]]+ai[t[e+1]]+ai[t[e+2]]+ai[t[e+3]]+"-"+ai[t[e+4]]+ai[t[e+5]]+"-"+ai[t[e+6]]+ai[t[e+7]]+"-"+ai[t[e+8]]+ai[t[e+9]]+"-"+ai[t[e+10]]+ai[t[e+11]]+ai[t[e+12]]+ai[t[e+13]]+ai[t[e+14]]+ai[t[e+15]]).toLowerCase();if(!Il(r))throw TypeError("Stringified UUID is invalid");return r}var ai,xl,eb=Mi(()=>{Zf();ai=[];for(let t=0;t<256;++t)ai.push((t+256).toString(16).substr(1));xl=vUe});function OUe(t,e,r){let i=e&&r||0,s=e||new Array(16);t=t||{};let o=t.node||D8,a=t.clockseq!==void 0?t.clockseq:JT;if(o==null||a==null){let y=t.random||(t.rng||Xf)();o==null&&(o=D8=[y[0]|1,y[1],y[2],y[3],y[4],y[5]]),a==null&&(a=JT=(y[6]<<8|y[7])&16383)}let u=t.msecs!==void 0?t.msecs:Date.now(),d=t.nsecs!==void 0?t.nsecs:ZT+1,p=u-XT+(d-ZT)/1e4;if(p<0&&t.clockseq===void 0&&(a=a+1&16383),(p<0||u>XT)&&t.nsecs===void 0&&(d=0),d>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");XT=u,ZT=d,JT=a,u+=122192928e5;let m=((u&268435455)*1e4+d)%4294967296;s[i++]=m>>>24&255,s[i++]=m>>>16&255,s[i++]=m>>>8&255,s[i++]=m&255;let f=u/4294967296*1e4&268435455;s[i++]=f>>>8&255,s[i++]=f&255,s[i++]=f>>>24&15|16,s[i++]=f>>>16&255,s[i++]=a>>>8|128,s[i++]=a&255;for(let y=0;y<6;++y)s[i+y]=o[y];return e||xl(s)}var D8,JT,XT,ZT,A8,F8=Mi(()=>{QT();eb();XT=0,ZT=0;A8=OUe});function SUe(t){if(!Il(t))throw TypeError("Invalid UUID");let e,r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=e&255,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=e&255,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=e&255,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=e&255,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=e&255,r}var vv,eC=Mi(()=>{Zf();vv=SUe});function DUe(t){t=unescape(encodeURIComponent(t));let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e}function Ov(t,e,r){function i(s,o,a,u){if(typeof s=="string"&&(s=DUe(s)),typeof o=="string"&&(o=vv(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let d=new Uint8Array(16+s.length);if(d.set(o),d.set(s,o.length),d=r(d),d[6]=d[6]&15|e,d[8]=d[8]&63|128,a){u=u||0;for(let p=0;p<16;++p)a[u+p]=d[p];return a}return xl(d)}try{i.name=t}catch{}return i.DNS=AUe,i.URL=FUe,i}var AUe,FUe,tC=Mi(()=>{eb();eC();AUe="6ba7b810-9dad-11d1-80b4-00c04fd430c8",FUe="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function PUe(t){return Array.isArray(t)?t=Buffer.from(t):typeof t=="string"&&(t=Buffer.from(t,"utf8")),P8.default.createHash("md5").update(t).digest()}var P8,j8,T8=Mi(()=>{P8=Ie(require("crypto"));j8=PUe});var jUe,C8,E8=Mi(()=>{tC();T8();jUe=Ov("v3",48,j8),C8=jUe});function TUe(t,e,r){t=t||{};let i=t.random||(t.rng||Xf)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,e){r=r||0;for(let s=0;s<16;++s)e[r+s]=i[s];return e}return xl(i)}var k8,w8=Mi(()=>{QT();eb();k8=TUe});function CUe(t){return Array.isArray(t)?t=Buffer.from(t):typeof t=="string"&&(t=Buffer.from(t,"utf8")),R8.default.createHash("sha1").update(t).digest()}var R8,M8,U8=Mi(()=>{R8=Ie(require("crypto"));M8=CUe});var EUe,L8,N8=Mi(()=>{tC();U8();EUe=Ov("v5",80,M8),L8=EUe});var V8,q8=Mi(()=>{V8="00000000-0000-0000-0000-000000000000"});function kUe(t){if(!Il(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}var B8,W8=Mi(()=>{Zf();B8=kUe});var G8={};cP(G8,{NIL:()=>V8,parse:()=>vv,stringify:()=>xl,v1:()=>A8,v3:()=>C8,v4:()=>k8,v5:()=>L8,validate:()=>Il,version:()=>B8});var H8=Mi(()=>{F8();E8();w8();N8();q8();W8();Zf();eb();eC()});var $8=_(Xo=>{"use strict";var yp=Xo&&Xo.__awaiter||function(t,e,r,i){function s(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function u(m){try{p(i.next(m))}catch(f){a(f)}}function d(m){try{p(i.throw(m))}catch(f){a(f)}}function p(m){m.done?o(m.value):s(m.value).then(u,d)}p((i=i.apply(t,e||[])).next())})},K8=Xo&&Xo.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Xo,"__esModule",{value:!0});Xo.LiveGraphHealthStatus=void 0;var wUe=en(),RUe=K8($T()),tb=An(),MUe=x8(),UUe=K8(_8()),LUe=(H8(),Uq(G8)),NUe=iv(),VUe=2e3,rb;(function(t){t[t.CONNECTED=0]="CONNECTED",t[t.DISCONNECTED=1]="DISCONNECTED",t[t.RECONNECTING=2]="RECONNECTING"})(rb||(Xo.LiveGraphHealthStatus=rb={}));var rC=class{constructor(e,r,i,s,o,a={}){this.args=e,this.viewRegistry=i,this.transactionId=1,this.syncDelayForDebugging=0,this.shouldSendSyncQueryIds=!1,this.syncQueryIds=new Map,this.syncCallbacks=new Map,this.pendingGlobalOptimisticUpdates=new Set,this.globalOptimisticUpdateResolutionCallbacks=[],this.emitter=new MUe.EventEmitter,this.healthListeners=new Set,this.pendingOptimisticMutationList=new Array,this.pendingMutationList=new Array,this.updateSLOConfig={enabled:!1},this.session=new RUe.default(e,r,i,this.emitter,(u,d)=>{this.requestPaginationChange(u,d)},a.enableCrossViewIncompleteInstanceCheck),this.shouldSendSyncQueryIds=!!a.syncClientQueryIds,this.connection=new UUe.default(s,o,e,this.emitter,a),this.connection.addObserver(this),this.addEventListener(this.healthListener.bind(this))}cleanup(){this.connection.cleanup()}connect(){return yp(this,void 0,void 0,function*(){yield this.connection.connect()})}close(){return yp(this,void 0,void 0,function*(){yield this.connection.closeWithoutReconnecting()})}addEventListener(e){return this.emitter.addListener(e)}removeEventListener(e){return this.emitter.removeListener(e)}healthListener(e){if(e.type==="CONNECTION_STATE"){let r=this.getHealthStatusForConnectionState(e.state);for(let i of this.healthListeners)i(r)}}getHealthStatus(){return this.getHealthStatusForConnectionState(this.connection.getState())}getHealthStatusForConnectionState(e){return e.type==="connected"?rb.CONNECTED:e.type==="connecting"?rb.RECONNECTING:rb.DISCONNECTED}addHealthListener(e){return this.healthListeners.add(e),()=>this.removeHealthListener(e)}removeHealthListener(e){this.healthListeners.delete(e)}handleMessage(e){switch(e.messageType){case"authSuccess":if(this.args.sessionId=e.sessionId,!this.connection.ready()){(0,tb.assertWithoutCrashingOnClient)(!1,"Expected connection to be in ready state");break}this.session.startReconnectionStateForPaginationQueries();for(let{viewRef:i,args:s,traceId:o}of this.session.uniqueSubscriptions())this.requestSubscription(i,s,"refresh",o);for(let i of this.syncCallbacks.keys())this.requestSync(i,this.syncQueryIds.get(i));break;case"featureFlags":this.updateSLOConfig=e.updateSLO;break;case"pendingMutations":this.hasUnresolvedGlobalOptimisticUpdates()?(this.globalOptimisticUpdateResolutionCallbacks.push(()=>{this.session.applyMutations(e.mutations)}),this.pendingMutationList.push(e.mutations),this.session.resolvePendingServerIdList(e.mutations)):this.session.applyMutations(e.mutations);break;case"synced":let r=this.syncCallbacks.get(e.transactionId);r&&r();break;case"viewSubscriptionFailed":{this.emitter.emit({type:"ERROR",error:new wUe.ViewSubscriptionError(e.errorCode)}),this.session.cleanupFailedSubscribeView(e.liveViewKey);break}}}requestSubscription(e,r,i,s){let o={messageType:"subscribe",viewName:e._name,viewHash:e._hash,loadType:i,args:r,traceId:s};this.connection.ready()&&(this.connection.send(o),this.emitter.emit({type:"SUBSCRIBE_VIEW_SERVER",view:e,args:r}))}requestPaginationChange(e,r){let i={messageType:"paginationChangeMessage",operationType:"LoadNext",queryId:e,count:r};this.connection.ready()&&this.connection.send(i)}subscribeAndUnsubscribeInBatches(e,r,i,s){i.unsubscribeStaleSubscriptions(r);for(let o of r){let a=i.getStableArgs(o);if(i.subscriptions.has(a))continue;let u=this.subscribeBase(e,a,d=>{u.lastResult=d,i.recomputeViewResult(r,s)});i.subscriptions.set(a,u)}i.recomputeViewResult(r,s)}subscribeBase(e,r,i,s){let o=this.session.hasActiveSubscriptions(e._name,r),a=this.session.subscribe(e,r,i,s);return o||(this.emitter.emit({type:"SUBSCRIBE_VIEW_CLIENT",view:e,args:r}),this.requestSubscription(e,r,"initial_load",s)),a}getUnsubscribeFunction(e){return()=>{e.clientUnsubscribed=!0,(0,tb.setTimeoutCaptureStackTrace)(()=>{e.unsubscribe(),!this.session.hasActiveSubscriptions(e.view._name,e.args)&&this.connection.ready()&&(this.connection.send({messageType:"unsubscribe",viewName:e.view._name,args:e.args}),this.emitter.emit({type:"UNSUBSCRIBE_VIEW_SERVER",view:e.view,args:e.args}))},VUe)}}subscribe(e,r,i,s){var o;let a=r;!((o=this.viewRegistry.get(e._name))===null||o===void 0)&&o.hasStaticQueries()&&(a=Object.assign(Object.assign({},r),{__requestId:(0,LUe.v4)()}));let u=this.subscribeBase(e,a,i,s);return this.getUnsubscribeFunction(u)}hasUnresolvedGlobalOptimisticUpdates(){return this.pendingGlobalOptimisticUpdates.size>0}handleBeforeOptimisticUpdateApplied(e){this.pendingGlobalOptimisticUpdates.add(e)}handleAfterOptimisticUpdateResolved(e){if(this.pendingGlobalOptimisticUpdates.delete(e),!this.hasUnresolvedGlobalOptimisticUpdates()){let r=this.globalOptimisticUpdateResolutionCallbacks;this.globalOptimisticUpdateResolutionCallbacks=[],this.session.batchMutations(()=>{for(let i of r)i()}),this.checkMissingMutations()}}checkUUIDExistenceInPendingMutation(e,r){for(let i of r)for(let s in i)for(let o in i[s].instances){let a=i[s].instances[o];if(e===a.uuid)return!0}return!1}checkMissingMutations(){for(let e of this.pendingOptimisticMutationList)for(let r in e)for(let i in e[r]){let s=e[r][i];s?.uuid&&(this.checkUUIDExistenceInPendingMutation(s.uuid,this.pendingMutationList)?this.emitter.emit({type:"PENDING_MUTATION_EXISTENCE",exist:!0,objectName:r,optimisticInstance:s}):this.emitter.emit({type:"PENDING_MUTATION_EXISTENCE",exist:!1,objectName:r,optimisticInstance:s}))}this.pendingOptimisticMutationList=[],this.pendingMutationList=[]}applyMutations(e,r,i){return yp(this,void 0,void 0,function*(){let s=this.transactionId;this.transactionId++;let o=this.session.applyShadowMutations(s,e,i);this.handleBeforeOptimisticUpdateApplied(s);let a;try{a=yield r}catch(d){throw this.session.removeShadowMutations(s,e,!1),this.handleAfterOptimisticUpdateResolved(s),d}let u=!1;try{yield this.sync(s,o),u=!0}finally{this.pendingOptimisticMutationList.push(e),this.globalOptimisticUpdateResolutionCallbacks.push(()=>{this.session.removeShadowMutations(s,e,u)}),this.handleAfterOptimisticUpdateResolved(s)}return a})}waitForServerSideObjectsWithUUIDs(e){let r=[];for(let i in e)for(let s in e[i])r.push(this.getIdFromUuid(i,s));return Promise.all(r)}applyMutationsWithUUID(e,r,i){return yp(this,void 0,void 0,function*(){let s=this.transactionId;this.transactionId++;let o=this.session.applyShadowMutationsWithUUID(s,e,i);this.handleBeforeOptimisticUpdateApplied(s);let a;try{a=yield r}catch(d){throw this.session.removeShadowMutationsWithUUID(s,e,!1),this.handleAfterOptimisticUpdateResolved(s),d}let u=!1;try{i==="create"?(this.emitter.emit({type:"WAIT_SERVER_OBJECTS_STARTED",mutations:e}),yield this.waitForServerSideObjectsWithUUIDs(e),yield(0,tb.sleep)(this.syncDelayForDebugging),this.emitter.emit({type:"WAIT_SERVER_OBJECTS_ENDED",mutations:e})):yield this.sync(s,o),u=!0}finally{this.pendingOptimisticMutationList.push(e),this.globalOptimisticUpdateResolutionCallbacks.unshift(()=>{this.session.removeShadowMutationsWithUUID(s,e,u)}),this.handleAfterOptimisticUpdateResolved(s)}return a})}getIdFromUuid(e,r){return this.session.getIdFromUuid(e,r)}deprecatedApplyMutationsByView(e,r,i,s){return yp(this,void 0,void 0,function*(){let o=this.transactionId;this.transactionId++,this.session.applyShadowMutationsByView(e._name,o,r,s);let a;try{a=yield i}catch(d){throw this.session.removeShadowMutationsByView(e._name,o,r,!1),d}let u=!1;try{let d=[];for(let p of this.session.getAllQueryIds())(0,NUe.queriedObjectType)(this.session.schema,p).name in r&&d.push(p);yield this.sync(o,d),u=!0}finally{this.session.removeShadowMutationsByView(e._name,o,r,u)}return a})}requestSync(e,r){if(this.connection.ready()){let i={messageType:"sync",transactionId:e};this.shouldSendSyncQueryIds&&(i.queryIds=r),this.connection.send(i),this.emitter.emit({type:"SYNC_STARTED",transactionId:e})}}sync(e=this.transactionId++,r){return yp(this,void 0,void 0,function*(){let[i,s]=(0,tb.promiseResolveReject)();this.syncCallbacks.set(e,s),r!==void 0&&this.syncQueryIds.set(e,r),this.requestSync(e,r),yield i,this.syncDelayForDebugging&&(yield(0,tb.sleep)(this.syncDelayForDebugging)),this.syncCallbacks.delete(e),this.syncQueryIds.delete(e),this.emitter.emit({type:"SYNC_COMPLETED",transactionId:e})})}get debug(){return Object.assign({subscriptions:this.session.getViewSubscriptionsForDebugging(),prettyPrintLiveViewTree:e=>this.session.prettyPrintLiveViewTree(e),setOptimisticUpdateResolutionDelay:e=>this.syncDelayForDebugging=e},this.connection.debug)}};Xo.default=rC});var z8=_(nC=>{"use strict";Object.defineProperty(nC,"__esModule",{value:!0});var iC=class{constructor(e){this.name=e.name,this.values=e.values,this.annotations=e.annotations}isValidValue(e){return this.values.some(r=>typeof r=="string"?e===r:e===r[1])}validate(e){}};nC.default=iC});var Y8=_(sb=>{"use strict";var qUe=sb&&sb.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(sb,"__esModule",{value:!0});var ib=Dn(),BUe=en(),WUe=G_(),nb=qUe(Qo()),GUe=Gu(),sC=class{constructor(e){this.args=e&&e.args||[{name:"userId",type:{kind:"string"},nullable:!0}],this.args.find(r=>r.name==="sessionId")||this.args.push({name:"sessionId",type:{kind:"string"},nullable:!0}),(0,GUe.validateArgumentDefs)("Session definition ",this.args),this.validateUserIdArgument(this.args)}validateUserIdArgument(e){for(let r of e)if(r.name==="userId"){if(!["string","bigint"].includes(r.type.kind))throw new nb.default((0,ib.oneLine)`
            Session definition error: 'userId' arg must be of type 'string' or 'bigint'
          `);return}throw new nb.default((0,ib.oneLine)`
      Session definition error: 'userId' arg of type 'string' or 'bigint' is required
    `)}parseAndValidateArguments(e,r){let i={userId:null,sessionId:""};for(let s in e){let o=(0,BUe.argumentDefByName)(this.args,s);if(o){let a=(0,WUe.parseAndValidateArg)(r,o,e[s]);if(a.type==="error")throw new nb.default((0,ib.oneLine)`
            Session argument error: '${a.argName}' '${a.msg}'`);i[s]=a.parsedValue}else throw new nb.default((0,ib.oneLine)`
          Session argument error: '${s}' is not a valid argument
          name`)}for(let s of this.args)if(!(s.name in e))throw new nb.default((0,ib.oneLine)`
          Session argument error: the argument '${s.name}' is missing`);return i}};sb.default=sC});var Q8=_(aC=>{"use strict";Object.defineProperty(aC,"__esModule",{value:!0});var oC=class{constructor(e){var r;this.typeConversionExemptions={viewArg:{},filterArg:{},computedFieldArg:{}},this.populateTypeConversions(e),this.allowAllConversions=(r=e?.allowAllExemptions)!==null&&r!==void 0?r:!0}populateTypeConversions(e){if(!e?.exemptions)return;let r=JSON.parse(JSON.stringify(e?.exemptions));for(let i in e?.exemptions){let s=i;for(let o in r[s])for(let a in r[s][o])r[s][o][a]=new Set(e.exemptions[s][o][a])}this.typeConversionExemptions=r}isTypeConversionExempted(e,r,i,s){try{return this.allowAllConversions||this.typeConversionExemptions[e][r][i].has(s)}catch{return!1}}};aC.default=oC});var J8=_(ob=>{"use strict";var ab=ob&&ob.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ob,"__esModule",{value:!0});var HUe=ab(z8()),KUe=ab(tT()),$Ue=ab(Y8()),zUe=ab(Qo()),YUe=ab(Q8()),lC=class{constructor(e,r){this.schema=e,this.queryShapeIdResolver=r,this.session=new $Ue.default(e.session),this.legacyConfig=new YUe.default(e.legacyConfigDef),this.enums=new Map;for(let i of e.enums||[])this.enums.set(i.name,new HUe.default(i));this.objects=new Map;for(let i of e.objects)this.objects.set(i.name,new KUe.default(i));for(let i of e.objects)this.objects.get(i.name).constructComputedFields(i,this);this.enums.forEach(i=>i.validate(this)),this.objects.forEach(i=>i.validate(this)),this.version=e.version||"0.0.0"}typeWithKind(e,r){let i=this[e].get(r);if(i)return i;throw new zUe.default(`${e} with name '${r}' isn't present in schema`)}enumDef({name:e}){return this.typeWithKind("enums",e)}objectDef({name:e}){return this.typeWithKind("objects",e)}scopedQueryShape(e,r){var i;return(i=this.queryShapeIdResolver)===null||i===void 0?void 0:i.shapeFromParent(e,r)}scopedQueryShapeFromRoot(e){var r;return(r=this.queryShapeIdResolver)===null||r===void 0?void 0:r.shapeFromRoot(e)}toJSON(){return this.schema}};ob.default=lC});var X8=_(hp=>{"use strict";var QUe=hp&&hp.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(hp,"__esModule",{value:!0});hp.ClientViewRegistry=void 0;var JUe=QUe(sT()),uC=class{constructor(e,r){this.views=new Map;for(let i in e)this.views.set(i,new JUe.default(i,e[i],r.objects.get("root"),r,{shouldValidateDeprecated:!0,shouldUseMissingFields:!1}))}get(e){return this.views.get(e)||null}};hp.ClientViewRegistry=uC});var e5=_(vt=>{"use strict";var XUe=vt&&vt.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,s)}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),ZUe=vt&&vt.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),eLe=vt&&vt.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&XUe(e,t,r);return ZUe(e,t),e},cC=vt&&vt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(vt,"__esModule",{value:!0});vt.LiveGraphClient=vt.session=vt.viewArg=vt.fieldArg=vt._=vt.parent=vt.ClientViewRegistry=vt.Schema=vt.DSL=vt.argumentsEqual=vt.ClientSession=vt.Client=void 0;var Z8=cC($8());vt.Client=Z8.default;var tLe=cC($T());vt.ClientSession=tLe.default;var rLe=en();Object.defineProperty(vt,"argumentsEqual",{enumerable:!0,get:function(){return rLe.argumentsEqual}});var iLe=eLe(Bu());vt.DSL=iLe;var nLe=cC(J8());vt.Schema=nLe.default;var sLe=X8();Object.defineProperty(vt,"ClientViewRegistry",{enumerable:!0,get:function(){return sLe.ClientViewRegistry}});var lb=Bu();Object.defineProperty(vt,"parent",{enumerable:!0,get:function(){return lb.parent}});Object.defineProperty(vt,"_",{enumerable:!0,get:function(){return lb._}});Object.defineProperty(vt,"fieldArg",{enumerable:!0,get:function(){return lb.fieldArg}});Object.defineProperty(vt,"viewArg",{enumerable:!0,get:function(){return lb.viewArg}});Object.defineProperty(vt,"session",{enumerable:!0,get:function(){return lb.session}});var dC=class extends Z8.default{optimisticallyCreate(e,r){return this.applyMutations(e,r,"create")}optimisticallyUpdate(e,r){return this.applyMutations(e,r,"update")}optimisticallyDelete(e,r){return this.applyMutations(e,r,"delete")}optimisticallyCreateWithUUID(e,r){return this.applyMutationsWithUUID(e,r,"create")}optimisticallyUpdateWithUUID(e,r){return this.applyMutationsWithUUID(e,r,"update")}optimisticallyDeleteWithUUID(e,r){return this.applyMutationsWithUUID(e,r,"delete")}getIdFromUuid(e,r){return super.getIdFromUuid(e,r)}deprecatedOptimisticallyCreateByView(e,r,i){return this.deprecatedApplyMutationsByView(e,r,i,"create")}deprecatedOptimisticallyUpdateByView(e,r,i){return this.deprecatedApplyMutationsByView(e,r,i,"update")}deprecatedOptimisticallyDeleteByView(e,r,i){return this.deprecatedApplyMutationsByView(e,r,i,"delete")}};vt.LiveGraphClient=dC});var C5=_((sTt,T5)=>{var PLe=typeof global=="object"&&global&&global.Object===Object&&global;T5.exports=PLe});var k5=_((oTt,E5)=>{var jLe=C5(),TLe=typeof self=="object"&&self&&self.Object===Object&&self,CLe=jLe||TLe||Function("return this")();E5.exports=CLe});var Ib=_((aTt,w5)=>{var ELe=k5(),kLe=ELe.Symbol;w5.exports=kLe});var M5=_((lTt,R5)=>{function wLe(t,e){for(var r=-1,i=t==null?0:t.length,s=Array(i);++r<i;)s[r]=e(t[r],r,t);return s}R5.exports=wLe});var hC=_((uTt,U5)=>{var RLe=Array.isArray;U5.exports=RLe});var q5=_((dTt,V5)=>{var L5=Ib(),N5=Object.prototype,MLe=N5.hasOwnProperty,ULe=N5.toString,xb=L5?L5.toStringTag:void 0;function LLe(t){var e=MLe.call(t,xb),r=t[xb];try{t[xb]=void 0;var i=!0}catch{}var s=ULe.call(t);return i&&(e?t[xb]=r:delete t[xb]),s}V5.exports=LLe});var W5=_((cTt,B5)=>{var NLe=Object.prototype,VLe=NLe.toString;function qLe(t){return VLe.call(t)}B5.exports=qLe});var Rv=_((pTt,K5)=>{var G5=Ib(),BLe=q5(),WLe=W5(),GLe="[object Null]",HLe="[object Undefined]",H5=G5?G5.toStringTag:void 0;function KLe(t){return t==null?t===void 0?HLe:GLe:H5&&H5 in Object(t)?BLe(t):WLe(t)}K5.exports=KLe});var _b=_((mTt,$5)=>{function $Le(t){return t!=null&&typeof t=="object"}$5.exports=$Le});var Y5=_((gTt,z5)=>{var zLe=Rv(),YLe=_b(),QLe="[object Symbol]";function JLe(t){return typeof t=="symbol"||YLe(t)&&zLe(t)==QLe}z5.exports=JLe});var t9=_((fTt,e9)=>{var Q5=Ib(),XLe=M5(),ZLe=hC(),e0e=Y5(),t0e=1/0,J5=Q5?Q5.prototype:void 0,X5=J5?J5.toString:void 0;function Z5(t){if(typeof t=="string")return t;if(ZLe(t))return XLe(t,Z5)+"";if(e0e(t))return X5?X5.call(t):"";var e=t+"";return e=="0"&&1/t==-t0e?"-0":e}e9.exports=Z5});var vb=_((bTt,r9)=>{var r0e=t9();function i0e(t){return t==null?"":r0e(t)}r9.exports=i0e});var n9=_((yTt,i9)=>{function n0e(t,e,r){var i=-1,s=t.length;e<0&&(e=-e>s?0:s+e),r=r>s?s:r,r<0&&(r+=s),s=e>r?0:r-e>>>0,e>>>=0;for(var o=Array(s);++i<s;)o[i]=t[i+e];return o}i9.exports=n0e});var o9=_((hTt,s9)=>{var s0e=n9();function o0e(t,e,r){var i=t.length;return r=r===void 0?i:r,!e&&r>=i?t:s0e(t,e,r)}s9.exports=o0e});var IC=_((ITt,a9)=>{var a0e="\\ud800-\\udfff",l0e="\\u0300-\\u036f",u0e="\\ufe20-\\ufe2f",d0e="\\u20d0-\\u20ff",c0e=l0e+u0e+d0e,p0e="\\ufe0e\\ufe0f",m0e="\\u200d",g0e=RegExp("["+m0e+a0e+c0e+p0e+"]");function f0e(t){return g0e.test(t)}a9.exports=f0e});var u9=_((xTt,l9)=>{function b0e(t){return t.split("")}l9.exports=b0e});var y9=_((_Tt,b9)=>{var d9="\\ud800-\\udfff",y0e="\\u0300-\\u036f",h0e="\\ufe20-\\ufe2f",I0e="\\u20d0-\\u20ff",x0e=y0e+h0e+I0e,_0e="\\ufe0e\\ufe0f",v0e="["+d9+"]",xC="["+x0e+"]",_C="\\ud83c[\\udffb-\\udfff]",O0e="(?:"+xC+"|"+_C+")",c9="[^"+d9+"]",p9="(?:\\ud83c[\\udde6-\\uddff]){2}",m9="[\\ud800-\\udbff][\\udc00-\\udfff]",S0e="\\u200d",g9=O0e+"?",f9="["+_0e+"]?",D0e="(?:"+S0e+"(?:"+[c9,p9,m9].join("|")+")"+f9+g9+")*",A0e=f9+g9+D0e,F0e="(?:"+[c9+xC+"?",xC,p9,m9,v0e].join("|")+")",P0e=RegExp(_C+"(?="+_C+")|"+F0e+A0e,"g");function j0e(t){return t.match(P0e)||[]}b9.exports=j0e});var I9=_((vTt,h9)=>{var T0e=u9(),C0e=IC(),E0e=y9();function k0e(t){return C0e(t)?E0e(t):T0e(t)}h9.exports=k0e});var _9=_((OTt,x9)=>{var w0e=o9(),R0e=IC(),M0e=I9(),U0e=vb();function L0e(t){return function(e){e=U0e(e);var r=R0e(e)?M0e(e):void 0,i=r?r[0]:e.charAt(0),s=r?w0e(r,1).join(""):e.slice(1);return i[t]()+s}}x9.exports=L0e});var O9=_((STt,v9)=>{var N0e=_9(),V0e=N0e("toUpperCase");v9.exports=V0e});var D9=_((DTt,S9)=>{var q0e=vb(),B0e=O9();function W0e(t){return B0e(q0e(t).toLowerCase())}S9.exports=W0e});var F9=_((ATt,A9)=>{function G0e(t,e,r,i){var s=-1,o=t==null?0:t.length;for(i&&o&&(r=t[++s]);++s<o;)r=e(r,t[s],s,t);return r}A9.exports=G0e});var j9=_((FTt,P9)=>{function H0e(t){return function(e){return t?.[e]}}P9.exports=H0e});var C9=_((PTt,T9)=>{var K0e=j9(),$0e={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},z0e=K0e($0e);T9.exports=z0e});var k9=_((jTt,E9)=>{var Y0e=C9(),Q0e=vb(),J0e=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,X0e="\\u0300-\\u036f",Z0e="\\ufe20-\\ufe2f",eNe="\\u20d0-\\u20ff",tNe=X0e+Z0e+eNe,rNe="["+tNe+"]",iNe=RegExp(rNe,"g");function nNe(t){return t=Q0e(t),t&&t.replace(J0e,Y0e).replace(iNe,"")}E9.exports=nNe});var R9=_((TTt,w9)=>{var sNe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function oNe(t){return t.match(sNe)||[]}w9.exports=oNe});var U9=_((CTt,M9)=>{var aNe=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function lNe(t){return aNe.test(t)}M9.exports=lNe});var r7=_((ETt,t7)=>{var B9="\\ud800-\\udfff",uNe="\\u0300-\\u036f",dNe="\\ufe20-\\ufe2f",cNe="\\u20d0-\\u20ff",pNe=uNe+dNe+cNe,W9="\\u2700-\\u27bf",G9="a-z\\xdf-\\xf6\\xf8-\\xff",mNe="\\xac\\xb1\\xd7\\xf7",gNe="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",fNe="\\u2000-\\u206f",bNe=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",H9="A-Z\\xc0-\\xd6\\xd8-\\xde",yNe="\\ufe0e\\ufe0f",K9=mNe+gNe+fNe+bNe,$9="['\u2019]",L9="["+K9+"]",hNe="["+pNe+"]",z9="\\d+",INe="["+W9+"]",Y9="["+G9+"]",Q9="[^"+B9+K9+z9+W9+G9+H9+"]",xNe="\\ud83c[\\udffb-\\udfff]",_Ne="(?:"+hNe+"|"+xNe+")",vNe="[^"+B9+"]",J9="(?:\\ud83c[\\udde6-\\uddff]){2}",X9="[\\ud800-\\udbff][\\udc00-\\udfff]",Ap="["+H9+"]",ONe="\\u200d",N9="(?:"+Y9+"|"+Q9+")",SNe="(?:"+Ap+"|"+Q9+")",V9="(?:"+$9+"(?:d|ll|m|re|s|t|ve))?",q9="(?:"+$9+"(?:D|LL|M|RE|S|T|VE))?",Z9=_Ne+"?",e7="["+yNe+"]?",DNe="(?:"+ONe+"(?:"+[vNe,J9,X9].join("|")+")"+e7+Z9+")*",ANe="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",FNe="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",PNe=e7+Z9+DNe,jNe="(?:"+[INe,J9,X9].join("|")+")"+PNe,TNe=RegExp([Ap+"?"+Y9+"+"+V9+"(?="+[L9,Ap,"$"].join("|")+")",SNe+"+"+q9+"(?="+[L9,Ap+N9,"$"].join("|")+")",Ap+"?"+N9+"+"+V9,Ap+"+"+q9,FNe,ANe,z9,jNe].join("|"),"g");function CNe(t){return t.match(TNe)||[]}t7.exports=CNe});var n7=_((kTt,i7)=>{var ENe=R9(),kNe=U9(),wNe=vb(),RNe=r7();function MNe(t,e,r){return t=wNe(t),e=r?void 0:e,e===void 0?kNe(t)?RNe(t):ENe(t):t.match(e)||[]}i7.exports=MNe});var o7=_((wTt,s7)=>{var UNe=F9(),LNe=k9(),NNe=n7(),VNe="['\u2019]",qNe=RegExp(VNe,"g");function BNe(t){return function(e){return UNe(NNe(LNe(e).replace(qNe,"")),t,"")}}s7.exports=BNe});var l7=_((RTt,a7)=>{var WNe=D9(),GNe=o7(),HNe=GNe(function(t,e,r){return e=e.toLowerCase(),t+(r?WNe(e):e)});a7.exports=HNe});var U7=_((QEt,M7)=>{function TVe(t,e){for(var r=-1,i=e.length,s=t.length;++r<i;)t[s+r]=e[r];return t}M7.exports=TVe});var N7=_((JEt,L7)=>{var CVe=Rv(),EVe=_b(),kVe="[object Arguments]";function wVe(t){return EVe(t)&&CVe(t)==kVe}L7.exports=wVe});var W7=_((XEt,B7)=>{var V7=N7(),RVe=_b(),q7=Object.prototype,MVe=q7.hasOwnProperty,UVe=q7.propertyIsEnumerable,LVe=V7(function(){return arguments}())?V7:function(t){return RVe(t)&&MVe.call(t,"callee")&&!UVe.call(t,"callee")};B7.exports=LVe});var $7=_((ZEt,K7)=>{var G7=Ib(),NVe=W7(),VVe=hC(),H7=G7?G7.isConcatSpreadable:void 0;function qVe(t){return VVe(t)||NVe(t)||!!(H7&&t&&t[H7])}K7.exports=qVe});var Q7=_((ekt,Y7)=>{var BVe=U7(),WVe=$7();function z7(t,e,r,i,s){var o=-1,a=t.length;for(r||(r=WVe),s||(s=[]);++o<a;){var u=t[o];e>0&&r(u)?e>1?z7(u,e-1,r,i,s):BVe(s,u):i||(s[s.length]=u)}return s}Y7.exports=z7});var X7=_((tkt,J7)=>{var GVe=Q7();function HVe(t){var e=t==null?0:t.length;return e?GVe(t,1):[]}J7.exports=HVe});var ez=_((rkt,Z7)=>{function KVe(t,e){return function(r){return t(e(r))}}Z7.exports=KVe});var rz=_((ikt,tz)=>{var $Ve=ez(),zVe=$Ve(Object.getPrototypeOf,Object);tz.exports=zVe});var rO=_((nkt,nz)=>{var YVe=Rv(),QVe=rz(),JVe=_b(),XVe="[object Object]",ZVe=Function.prototype,e1e=Object.prototype,iz=ZVe.toString,t1e=e1e.hasOwnProperty,r1e=iz.call(Object);function i1e(t){if(!JVe(t)||YVe(t)!=XVe)return!1;var e=QVe(t);if(e===null)return!0;var r=t1e.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&iz.call(r)==r1e}nz.exports=i1e});var az=_((aO,oz)=>{"use strict";Object.defineProperty(aO,"__esModule",{value:!0});var n1e=function(){function t(e,r){for(var i=0;i<r.length;i++){var s=r[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),s1e=o1e(["",""],["",""]);function o1e(t,e){return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function a1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var l1e=function(){function t(){for(var e=this,r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return a1e(this,t),this.tag=function(o){for(var a=arguments.length,u=Array(a>1?a-1:0),d=1;d<a;d++)u[d-1]=arguments[d];return typeof o=="function"?e.interimTag.bind(e,o):typeof o=="string"?e.transformEndResult(o):(o=o.map(e.transformString.bind(e)),e.transformEndResult(o.reduce(e.processSubstitutions.bind(e,u))))},i.length>0&&Array.isArray(i[0])&&(i=i[0]),this.transformers=i.map(function(o){return typeof o=="function"?o():o}),this.tag}return n1e(t,[{key:"interimTag",value:function(r,i){for(var s=arguments.length,o=Array(s>2?s-2:0),a=2;a<s;a++)o[a-2]=arguments[a];return this.tag(s1e,r.apply(void 0,[i].concat(o)))}},{key:"processSubstitutions",value:function(r,i,s){var o=this.transformSubstitution(r.shift(),i);return"".concat(i,o,s)}},{key:"transformString",value:function(r){var i=function(o,a){return a.onString?a.onString(o):o};return this.transformers.reduce(i,r)}},{key:"transformSubstitution",value:function(r,i){var s=function(a,u){return u.onSubstitution?u.onSubstitution(a,i):a};return this.transformers.reduce(s,r)}},{key:"transformEndResult",value:function(r){var i=function(o,a){return a.onEndResult?a.onEndResult(o):o};return this.transformers.reduce(i,r)}}]),t}();aO.default=l1e;oz.exports=aO.default});var vi=_((Eb,lz)=>{"use strict";Object.defineProperty(Eb,"__esModule",{value:!0});Eb.default=void 0;var u1e=az(),d1e=c1e(u1e);function c1e(t){return t&&t.__esModule?t:{default:t}}Eb.default=d1e.default;lz.exports=Eb.default});var dz=_((lO,uz)=>{"use strict";Object.defineProperty(lO,"__esModule",{value:!0});var p1e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return{onEndResult:function(i){if(e==="")return i.trim();if(e=e.toLowerCase(),e==="start"||e==="left")return i.replace(/^\s*/,"");if(e==="end"||e==="right")return i.replace(/\s*$/,"");throw new Error("Side not supported: "+e)}}};lO.default=p1e;uz.exports=lO.default});var Oi=_((kb,cz)=>{"use strict";Object.defineProperty(kb,"__esModule",{value:!0});kb.default=void 0;var m1e=dz(),g1e=f1e(m1e);function f1e(t){return t&&t.__esModule?t:{default:t}}kb.default=g1e.default;cz.exports=kb.default});var mz=_((uO,pz)=>{"use strict";Object.defineProperty(uO,"__esModule",{value:!0});function b1e(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}else return Array.from(t)}var y1e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"initial";return{onEndResult:function(i){if(e==="initial"){var s=i.match(/^[^\S\n]*(?=\S)/gm),o=s&&Math.min.apply(Math,b1e(s.map(function(u){return u.length})));if(o){var a=new RegExp("^.{"+o+"}","gm");return i.replace(a,"")}return i}if(e==="all")return i.replace(/^[^\S\n]+/gm,"");throw new Error("Unknown type: "+e)}}};uO.default=y1e;pz.exports=uO.default});var so=_((wb,gz)=>{"use strict";Object.defineProperty(wb,"__esModule",{value:!0});wb.default=void 0;var h1e=mz(),I1e=x1e(h1e);function x1e(t){return t&&t.__esModule?t:{default:t}}wb.default=I1e.default;gz.exports=wb.default});var bz=_((dO,fz)=>{"use strict";Object.defineProperty(dO,"__esModule",{value:!0});var _1e=function(e,r){return{onEndResult:function(s){if(e==null||r==null)throw new Error("replaceResultTransformer requires at least 2 arguments.");return s.replace(e,r)}}};dO.default=_1e;fz.exports=dO.default});var Al=_((Rb,yz)=>{"use strict";Object.defineProperty(Rb,"__esModule",{value:!0});Rb.default=void 0;var v1e=bz(),O1e=S1e(v1e);function S1e(t){return t&&t.__esModule?t:{default:t}}Rb.default=O1e.default;yz.exports=Rb.default});var Iz=_((cO,hz)=>{"use strict";Object.defineProperty(cO,"__esModule",{value:!0});var D1e=function(e,r){return{onSubstitution:function(s,o){if(e==null||r==null)throw new Error("replaceSubstitutionTransformer requires at least 2 arguments.");return s==null?s:s.toString().replace(e,r)}}};cO.default=D1e;hz.exports=cO.default});var oR=_((Mb,xz)=>{"use strict";Object.defineProperty(Mb,"__esModule",{value:!0});Mb.default=void 0;var A1e=Iz(),F1e=P1e(A1e);function P1e(t){return t&&t.__esModule?t:{default:t}}Mb.default=F1e.default;xz.exports=Mb.default});var vz=_((pO,_z)=>{"use strict";Object.defineProperty(pO,"__esModule",{value:!0});var j1e=function(e,r){return{onString:function(s){if(e==null||r==null)throw new Error("replaceStringTransformer requires at least 2 arguments.");return s.replace(e,r)}}};pO.default=j1e;_z.exports=pO.default});var Sz=_((Ub,Oz)=>{"use strict";Object.defineProperty(Ub,"__esModule",{value:!0});Ub.default=void 0;var T1e=vz(),C1e=E1e(T1e);function E1e(t){return t&&t.__esModule?t:{default:t}}Ub.default=C1e.default;Oz.exports=Ub.default});var Az=_((mO,Dz)=>{"use strict";Object.defineProperty(mO,"__esModule",{value:!0});var k1e={separator:"",conjunction:"",serial:!1},w1e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:k1e;return{onSubstitution:function(i,s){if(Array.isArray(i)){var o=i.length,a=e.separator,u=e.conjunction,d=e.serial,p=s.match(/(\n?[^\S\n]+)$/);if(p?i=i.join(a+p[1]):i=i.join(a+" "),u&&o>1){var m=i.lastIndexOf(a);i=i.slice(0,m)+(d?a:"")+" "+u+i.slice(m+1)}}return i}}};mO.default=w1e;Dz.exports=mO.default});var rs=_((Lb,Fz)=>{"use strict";Object.defineProperty(Lb,"__esModule",{value:!0});Lb.default=void 0;var R1e=Az(),M1e=U1e(R1e);function U1e(t){return t&&t.__esModule?t:{default:t}}Lb.default=M1e.default;Fz.exports=Lb.default});var jz=_((gO,Pz)=>{"use strict";Object.defineProperty(gO,"__esModule",{value:!0});var L1e=function(e){return{onSubstitution:function(i,s){if(e!=null&&typeof e=="string")typeof i=="string"&&i.includes(e)&&(i=i.split(e));else throw new Error("You need to specify a string character to split by.");return i}}};gO.default=L1e;Pz.exports=gO.default});var fO=_((Nb,Tz)=>{"use strict";Object.defineProperty(Nb,"__esModule",{value:!0});Nb.default=void 0;var N1e=jz(),V1e=q1e(N1e);function q1e(t){return t&&t.__esModule?t:{default:t}}Nb.default=V1e.default;Tz.exports=Nb.default});var kz=_((bO,Ez)=>{"use strict";Object.defineProperty(bO,"__esModule",{value:!0});var Cz=function(e){return e!=null&&!Number.isNaN(e)&&typeof e!="boolean"},B1e=function(){return{onSubstitution:function(r){return Array.isArray(r)?r.filter(Cz):Cz(r)?r:""}}};bO.default=B1e;Ez.exports=bO.default});var aR=_((Vb,wz)=>{"use strict";Object.defineProperty(Vb,"__esModule",{value:!0});Vb.default=void 0;var W1e=kz(),G1e=H1e(W1e);function H1e(t){return t&&t.__esModule?t:{default:t}}Vb.default=G1e.default;wz.exports=Vb.default});var Mz=_((hO,Rz)=>{"use strict";Object.defineProperty(hO,"__esModule",{value:!0});var K1e=vi(),$1e=yO(K1e),z1e=so(),Y1e=yO(z1e),Q1e=rs(),J1e=yO(Q1e),X1e=Oi(),Z1e=yO(X1e);function yO(t){return t&&t.__esModule?t:{default:t}}var eqe=new $1e.default((0,J1e.default)({separator:","}),Y1e.default,Z1e.default);hO.default=eqe;Rz.exports=hO.default});var Lz=_((qb,Uz)=>{"use strict";Object.defineProperty(qb,"__esModule",{value:!0});qb.default=void 0;var tqe=Mz(),rqe=iqe(tqe);function iqe(t){return t&&t.__esModule?t:{default:t}}qb.default=rqe.default;Uz.exports=qb.default});var Vz=_((xO,Nz)=>{"use strict";Object.defineProperty(xO,"__esModule",{value:!0});var nqe=vi(),sqe=IO(nqe),oqe=so(),aqe=IO(oqe),lqe=rs(),uqe=IO(lqe),dqe=Oi(),cqe=IO(dqe);function IO(t){return t&&t.__esModule?t:{default:t}}var pqe=new sqe.default((0,uqe.default)({separator:",",conjunction:"and"}),aqe.default,cqe.default);xO.default=pqe;Nz.exports=xO.default});var Bz=_((Bb,qz)=>{"use strict";Object.defineProperty(Bb,"__esModule",{value:!0});Bb.default=void 0;var mqe=Vz(),gqe=fqe(mqe);function fqe(t){return t&&t.__esModule?t:{default:t}}Bb.default=gqe.default;qz.exports=Bb.default});var Gz=_((vO,Wz)=>{"use strict";Object.defineProperty(vO,"__esModule",{value:!0});var bqe=vi(),yqe=_O(bqe),hqe=so(),Iqe=_O(hqe),xqe=rs(),_qe=_O(xqe),vqe=Oi(),Oqe=_O(vqe);function _O(t){return t&&t.__esModule?t:{default:t}}var Sqe=new yqe.default((0,_qe.default)({separator:",",conjunction:"or"}),Iqe.default,Oqe.default);vO.default=Sqe;Wz.exports=vO.default});var Kz=_((Wb,Hz)=>{"use strict";Object.defineProperty(Wb,"__esModule",{value:!0});Wb.default=void 0;var Dqe=Gz(),Aqe=Fqe(Dqe);function Fqe(t){return t&&t.__esModule?t:{default:t}}Wb.default=Aqe.default;Hz.exports=Wb.default});var zz=_((OO,$z)=>{"use strict";Object.defineProperty(OO,"__esModule",{value:!0});var Pqe=vi(),jqe=Cp(Pqe),Tqe=so(),Cqe=Cp(Tqe),Eqe=rs(),kqe=Cp(Eqe),wqe=Oi(),Rqe=Cp(wqe),Mqe=fO(),Uqe=Cp(Mqe),Lqe=aR(),Nqe=Cp(Lqe);function Cp(t){return t&&t.__esModule?t:{default:t}}var Vqe=new jqe.default((0,Uqe.default)(`
`),Nqe.default,kqe.default,Cqe.default,Rqe.default);OO.default=Vqe;$z.exports=OO.default});var SO=_((Gb,Yz)=>{"use strict";Object.defineProperty(Gb,"__esModule",{value:!0});Gb.default=void 0;var qqe=zz(),Bqe=Wqe(qqe);function Wqe(t){return t&&t.__esModule?t:{default:t}}Gb.default=Bqe.default;Yz.exports=Gb.default});var Jz=_((Hb,Qz)=>{"use strict";Object.defineProperty(Hb,"__esModule",{value:!0});Hb.default=void 0;var Gqe=SO(),Hqe=Kqe(Gqe);function Kqe(t){return t&&t.__esModule?t:{default:t}}Hb.default=Hqe.default;Qz.exports=Hb.default});var Zz=_((Kb,Xz)=>{"use strict";Object.defineProperty(Kb,"__esModule",{value:!0});Kb.default=void 0;var $qe=SO(),zqe=Yqe($qe);function Yqe(t){return t&&t.__esModule?t:{default:t}}Kb.default=zqe.default;Xz.exports=Kb.default});var tY=_((DO,eY)=>{"use strict";Object.defineProperty(DO,"__esModule",{value:!0});var Qqe=vi(),Jqe=kp(Qqe),Xqe=so(),Zqe=kp(Xqe),eBe=rs(),tBe=kp(eBe),rBe=Oi(),iBe=kp(rBe),nBe=fO(),sBe=kp(nBe),oBe=oR(),Ep=kp(oBe);function kp(t){return t&&t.__esModule?t:{default:t}}var aBe=new Jqe.default((0,sBe.default)(`
`),tBe.default,Zqe.default,iBe.default,(0,Ep.default)(/&/g,"&amp;"),(0,Ep.default)(/</g,"&lt;"),(0,Ep.default)(/>/g,"&gt;"),(0,Ep.default)(/"/g,"&quot;"),(0,Ep.default)(/'/g,"&#x27;"),(0,Ep.default)(/`/g,"&#x60;"));DO.default=aBe;eY.exports=DO.default});var iY=_(($b,rY)=>{"use strict";Object.defineProperty($b,"__esModule",{value:!0});$b.default=void 0;var lBe=tY(),uBe=dBe(lBe);function dBe(t){return t&&t.__esModule?t:{default:t}}$b.default=uBe.default;rY.exports=$b.default});var sY=_((AO,nY)=>{"use strict";Object.defineProperty(AO,"__esModule",{value:!0});var cBe=vi(),pBe=lR(cBe),mBe=Oi(),gBe=lR(mBe),fBe=Al(),bBe=lR(fBe);function lR(t){return t&&t.__esModule?t:{default:t}}var yBe=new pBe.default((0,bBe.default)(/(?:\n(?:\s*))+/g," "),gBe.default);AO.default=yBe;nY.exports=AO.default});var aY=_((zb,oY)=>{"use strict";Object.defineProperty(zb,"__esModule",{value:!0});zb.default=void 0;var hBe=sY(),IBe=xBe(hBe);function xBe(t){return t&&t.__esModule?t:{default:t}}zb.default=IBe.default;oY.exports=zb.default});var uY=_((FO,lY)=>{"use strict";Object.defineProperty(FO,"__esModule",{value:!0});var _Be=vi(),vBe=uR(_Be),OBe=Oi(),SBe=uR(OBe),DBe=Al(),ABe=uR(DBe);function uR(t){return t&&t.__esModule?t:{default:t}}var FBe=new vBe.default((0,ABe.default)(/(?:\n\s*)/g,""),SBe.default);FO.default=FBe;lY.exports=FO.default});var cY=_((Yb,dY)=>{"use strict";Object.defineProperty(Yb,"__esModule",{value:!0});Yb.default=void 0;var PBe=uY(),jBe=TBe(PBe);function TBe(t){return t&&t.__esModule?t:{default:t}}Yb.default=jBe.default;dY.exports=Yb.default});var mY=_((jO,pY)=>{"use strict";Object.defineProperty(jO,"__esModule",{value:!0});var CBe=vi(),EBe=PO(CBe),kBe=rs(),wBe=PO(kBe),RBe=Oi(),MBe=PO(RBe),UBe=Al(),LBe=PO(UBe);function PO(t){return t&&t.__esModule?t:{default:t}}var NBe=new EBe.default((0,wBe.default)({separator:","}),(0,LBe.default)(/(?:\s+)/g," "),MBe.default);jO.default=NBe;pY.exports=jO.default});var fY=_((Qb,gY)=>{"use strict";Object.defineProperty(Qb,"__esModule",{value:!0});Qb.default=void 0;var VBe=mY(),qBe=BBe(VBe);function BBe(t){return t&&t.__esModule?t:{default:t}}Qb.default=qBe.default;gY.exports=Qb.default});var yY=_((CO,bY)=>{"use strict";Object.defineProperty(CO,"__esModule",{value:!0});var WBe=vi(),GBe=TO(WBe),HBe=rs(),KBe=TO(HBe),$Be=Oi(),zBe=TO($Be),YBe=Al(),QBe=TO(YBe);function TO(t){return t&&t.__esModule?t:{default:t}}var JBe=new GBe.default((0,KBe.default)({separator:",",conjunction:"or"}),(0,QBe.default)(/(?:\s+)/g," "),zBe.default);CO.default=JBe;bY.exports=CO.default});var IY=_((Jb,hY)=>{"use strict";Object.defineProperty(Jb,"__esModule",{value:!0});Jb.default=void 0;var XBe=yY(),ZBe=eWe(XBe);function eWe(t){return t&&t.__esModule?t:{default:t}}Jb.default=ZBe.default;hY.exports=Jb.default});var _Y=_((kO,xY)=>{"use strict";Object.defineProperty(kO,"__esModule",{value:!0});var tWe=vi(),rWe=EO(tWe),iWe=rs(),nWe=EO(iWe),sWe=Oi(),oWe=EO(sWe),aWe=Al(),lWe=EO(aWe);function EO(t){return t&&t.__esModule?t:{default:t}}var uWe=new rWe.default((0,nWe.default)({separator:",",conjunction:"and"}),(0,lWe.default)(/(?:\s+)/g," "),oWe.default);kO.default=uWe;xY.exports=kO.default});var OY=_((Xb,vY)=>{"use strict";Object.defineProperty(Xb,"__esModule",{value:!0});Xb.default=void 0;var dWe=_Y(),cWe=pWe(dWe);function pWe(t){return t&&t.__esModule?t:{default:t}}Xb.default=cWe.default;vY.exports=Xb.default});var DY=_((RO,SY)=>{"use strict";Object.defineProperty(RO,"__esModule",{value:!0});var mWe=vi(),gWe=wO(mWe),fWe=so(),bWe=wO(fWe),yWe=rs(),hWe=wO(yWe),IWe=Oi(),xWe=wO(IWe);function wO(t){return t&&t.__esModule?t:{default:t}}var _We=new gWe.default(hWe.default,bWe.default,xWe.default);RO.default=_We;SY.exports=RO.default});var FY=_((Zb,AY)=>{"use strict";Object.defineProperty(Zb,"__esModule",{value:!0});Zb.default=void 0;var vWe=DY(),OWe=SWe(vWe);function SWe(t){return t&&t.__esModule?t:{default:t}}Zb.default=OWe.default;AY.exports=Zb.default});var jY=_((UO,PY)=>{"use strict";Object.defineProperty(UO,"__esModule",{value:!0});var DWe=vi(),AWe=MO(DWe),FWe=rs(),PWe=MO(FWe),jWe=Oi(),TWe=MO(jWe),CWe=Al(),EWe=MO(CWe);function MO(t){return t&&t.__esModule?t:{default:t}}var kWe=new AWe.default(PWe.default,(0,EWe.default)(/(?:\s+)/g," "),TWe.default);UO.default=kWe;PY.exports=UO.default});var CY=_((ey,TY)=>{"use strict";Object.defineProperty(ey,"__esModule",{value:!0});ey.default=void 0;var wWe=jY(),RWe=MWe(wWe);function MWe(t){return t&&t.__esModule?t:{default:t}}ey.default=RWe.default;TY.exports=ey.default});var kY=_((LO,EY)=>{"use strict";Object.defineProperty(LO,"__esModule",{value:!0});var UWe=vi(),LWe=dR(UWe),NWe=so(),VWe=dR(NWe),qWe=Oi(),BWe=dR(qWe);function dR(t){return t&&t.__esModule?t:{default:t}}var WWe=new LWe.default(VWe.default,BWe.default);LO.default=WWe;EY.exports=LO.default});var RY=_((ty,wY)=>{"use strict";Object.defineProperty(ty,"__esModule",{value:!0});ty.default=void 0;var GWe=kY(),HWe=KWe(GWe);function KWe(t){return t&&t.__esModule?t:{default:t}}ty.default=HWe.default;wY.exports=ty.default});var UY=_((NO,MY)=>{"use strict";Object.defineProperty(NO,"__esModule",{value:!0});var $We=vi(),zWe=cR($We),YWe=so(),QWe=cR(YWe),JWe=Oi(),XWe=cR(JWe);function cR(t){return t&&t.__esModule?t:{default:t}}var ZWe=new zWe.default((0,QWe.default)("all"),XWe.default);NO.default=ZWe;MY.exports=NO.default});var NY=_((ry,LY)=>{"use strict";Object.defineProperty(ry,"__esModule",{value:!0});ry.default=void 0;var e2e=UY(),t2e=r2e(e2e);function r2e(t){return t&&t.__esModule?t:{default:t}}ry.default=t2e.default;LY.exports=ry.default});var nd=_(Ge=>{"use strict";Object.defineProperty(Ge,"__esModule",{value:!0});Ge.stripIndents=Ge.stripIndent=Ge.oneLineInlineLists=Ge.inlineLists=Ge.oneLineCommaListsAnd=Ge.oneLineCommaListsOr=Ge.oneLineCommaLists=Ge.oneLineTrim=Ge.oneLine=Ge.safeHtml=Ge.source=Ge.codeBlock=Ge.html=Ge.commaListsOr=Ge.commaListsAnd=Ge.commaLists=Ge.removeNonPrintingValuesTransformer=Ge.splitStringTransformer=Ge.inlineArrayTransformer=Ge.replaceStringTransformer=Ge.replaceSubstitutionTransformer=Ge.replaceResultTransformer=Ge.stripIndentTransformer=Ge.trimResultTransformer=Ge.TemplateTag=void 0;var i2e=vi(),n2e=tr(i2e),s2e=Oi(),o2e=tr(s2e),a2e=so(),l2e=tr(a2e),u2e=Al(),d2e=tr(u2e),c2e=oR(),p2e=tr(c2e),m2e=Sz(),g2e=tr(m2e),f2e=rs(),b2e=tr(f2e),y2e=fO(),h2e=tr(y2e),I2e=aR(),x2e=tr(I2e),_2e=Lz(),v2e=tr(_2e),O2e=Bz(),S2e=tr(O2e),D2e=Kz(),A2e=tr(D2e),F2e=SO(),P2e=tr(F2e),j2e=Jz(),T2e=tr(j2e),C2e=Zz(),E2e=tr(C2e),k2e=iY(),w2e=tr(k2e),R2e=aY(),M2e=tr(R2e),U2e=cY(),L2e=tr(U2e),N2e=fY(),V2e=tr(N2e),q2e=IY(),B2e=tr(q2e),W2e=OY(),G2e=tr(W2e),H2e=FY(),K2e=tr(H2e),$2e=CY(),z2e=tr($2e),Y2e=RY(),Q2e=tr(Y2e),J2e=NY(),X2e=tr(J2e);function tr(t){return t&&t.__esModule?t:{default:t}}Ge.TemplateTag=n2e.default;Ge.trimResultTransformer=o2e.default;Ge.stripIndentTransformer=l2e.default;Ge.replaceResultTransformer=d2e.default;Ge.replaceSubstitutionTransformer=p2e.default;Ge.replaceStringTransformer=g2e.default;Ge.inlineArrayTransformer=b2e.default;Ge.splitStringTransformer=h2e.default;Ge.removeNonPrintingValuesTransformer=x2e.default;Ge.commaLists=v2e.default;Ge.commaListsAnd=S2e.default;Ge.commaListsOr=A2e.default;Ge.html=P2e.default;Ge.codeBlock=T2e.default;Ge.source=E2e.default;Ge.safeHtml=w2e.default;Ge.oneLine=M2e.default;Ge.oneLineTrim=L2e.default;Ge.oneLineCommaLists=V2e.default;Ge.oneLineCommaListsOr=B2e.default;Ge.oneLineCommaListsAnd=G2e.default;Ge.inlineLists=K2e.default;Ge.oneLineInlineLists=z2e.default;Ge.stripIndent=Q2e.default;Ge.stripIndents=X2e.default});var qZ=_((RQt,VZ)=>{"use strict";var{Duplex:JGe}=require("stream");function LZ(t){t.emit("close")}function XGe(){!this.destroyed&&this._writableState.finished&&this.destroy()}function NZ(t){this.removeListener("error",NZ),this.destroy(),this.listenerCount("error")===0&&this.emit("error",t)}function ZGe(t,e){let r=!0,i=new JGe({...e,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return t.on("message",function(o,a){let u=!a&&i._readableState.objectMode?o.toString():o;i.push(u)||t.pause()}),t.once("error",function(o){i.destroyed||(r=!1,i.destroy(o))}),t.once("close",function(){i.destroyed||i.push(null)}),i._destroy=function(s,o){if(t.readyState===t.CLOSED){o(s),process.nextTick(LZ,i);return}let a=!1;t.once("error",function(d){a=!0,o(d)}),t.once("close",function(){a||o(s),process.nextTick(LZ,i)}),r&&t.terminate()},i._final=function(s){if(t.readyState===t.CONNECTING){t.once("open",function(){i._final(s)});return}t._socket!==null&&(t._socket._writableState.finished?(s(),i._readableState.endEmitted&&i.destroy()):(t._socket.once("finish",function(){s()}),t.close()))},i._read=function(){t.isPaused&&t.resume()},i._write=function(s,o,a){if(t.readyState===t.CONNECTING){t.once("open",function(){i._write(s,o,a)});return}t.send(s,a)},i.on("end",XGe),i.on("error",NZ),i}VZ.exports=ZGe});var Tl=_((MQt,BZ)=>{"use strict";BZ.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}});var ny=_((UQt,sS)=>{"use strict";var{EMPTY_BUFFER:eHe}=Tl(),AR=Buffer[Symbol.species];function tHe(t,e){if(t.length===0)return eHe;if(t.length===1)return t[0];let r=Buffer.allocUnsafe(e),i=0;for(let s=0;s<t.length;s++){let o=t[s];r.set(o,i),i+=o.length}return i<e?new AR(r.buffer,r.byteOffset,i):r}function WZ(t,e,r,i,s){for(let o=0;o<s;o++)r[i+o]=t[o]^e[o&3]}function GZ(t,e){for(let r=0;r<t.length;r++)t[r]^=e[r&3]}function rHe(t){return t.length===t.buffer.byteLength?t.buffer:t.buffer.slice(t.byteOffset,t.byteOffset+t.length)}function FR(t){if(FR.readOnly=!0,Buffer.isBuffer(t))return t;let e;return t instanceof ArrayBuffer?e=new AR(t):ArrayBuffer.isView(t)?e=new AR(t.buffer,t.byteOffset,t.byteLength):(e=Buffer.from(t),FR.readOnly=!1),e}sS.exports={concat:tHe,mask:WZ,toArrayBuffer:rHe,toBuffer:FR,unmask:GZ};if(!process.env.WS_NO_BUFFER_UTIL)try{let t=require("bufferutil");sS.exports.mask=function(e,r,i,s,o){o<48?WZ(e,r,i,s,o):t.mask(e,r,i,s,o)},sS.exports.unmask=function(e,r){e.length<32?GZ(e,r):t.unmask(e,r)}}catch{}});var $Z=_((LQt,KZ)=>{"use strict";var HZ=Symbol("kDone"),PR=Symbol("kRun"),jR=class{constructor(e){this[HZ]=()=>{this.pending--,this[PR]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[PR]()}[PR](){if(this.pending!==this.concurrency&&this.jobs.length){let e=this.jobs.shift();this.pending++,e(this[HZ])}}};KZ.exports=jR});var ay=_((NQt,JZ)=>{"use strict";var sy=require("zlib"),zZ=ny(),iHe=$Z(),{kStatusCode:YZ}=Tl(),nHe=Buffer[Symbol.species],sHe=Buffer.from([0,0,255,255]),lS=Symbol("permessage-deflate"),ma=Symbol("total-length"),oy=Symbol("callback"),Cl=Symbol("buffers"),aS=Symbol("error"),oS,TR=class{constructor(e,r,i){if(this._maxPayload=i|0,this._options=e||{},this._threshold=this._options.threshold!==void 0?this._options.threshold:1024,this._isServer=!!r,this._deflate=null,this._inflate=null,this.params=null,!oS){let s=this._options.concurrencyLimit!==void 0?this._options.concurrencyLimit:10;oS=new iHe(s)}}static get extensionName(){return"permessage-deflate"}offer(){let e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:this._options.clientMaxWindowBits==null&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){let e=this._deflate[oy];this._deflate.close(),this._deflate=null,e&&e(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(e){let r=this._options,i=e.find(s=>!(r.serverNoContextTakeover===!1&&s.server_no_context_takeover||s.server_max_window_bits&&(r.serverMaxWindowBits===!1||typeof r.serverMaxWindowBits=="number"&&r.serverMaxWindowBits>s.server_max_window_bits)||typeof r.clientMaxWindowBits=="number"&&!s.client_max_window_bits));if(!i)throw new Error("None of the extension offers can be accepted");return r.serverNoContextTakeover&&(i.server_no_context_takeover=!0),r.clientNoContextTakeover&&(i.client_no_context_takeover=!0),typeof r.serverMaxWindowBits=="number"&&(i.server_max_window_bits=r.serverMaxWindowBits),typeof r.clientMaxWindowBits=="number"?i.client_max_window_bits=r.clientMaxWindowBits:(i.client_max_window_bits===!0||r.clientMaxWindowBits===!1)&&delete i.client_max_window_bits,i}acceptAsClient(e){let r=e[0];if(this._options.clientNoContextTakeover===!1&&r.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(!r.client_max_window_bits)typeof this._options.clientMaxWindowBits=="number"&&(r.client_max_window_bits=this._options.clientMaxWindowBits);else if(this._options.clientMaxWindowBits===!1||typeof this._options.clientMaxWindowBits=="number"&&r.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"');return r}normalizeParams(e){return e.forEach(r=>{Object.keys(r).forEach(i=>{let s=r[i];if(s.length>1)throw new Error(`Parameter "${i}" must have only a single value`);if(s=s[0],i==="client_max_window_bits"){if(s!==!0){let o=+s;if(!Number.isInteger(o)||o<8||o>15)throw new TypeError(`Invalid value for parameter "${i}": ${s}`);s=o}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${i}": ${s}`)}else if(i==="server_max_window_bits"){let o=+s;if(!Number.isInteger(o)||o<8||o>15)throw new TypeError(`Invalid value for parameter "${i}": ${s}`);s=o}else if(i==="client_no_context_takeover"||i==="server_no_context_takeover"){if(s!==!0)throw new TypeError(`Invalid value for parameter "${i}": ${s}`)}else throw new Error(`Unknown parameter "${i}"`);r[i]=s})}),e}decompress(e,r,i){oS.add(s=>{this._decompress(e,r,(o,a)=>{s(),i(o,a)})})}compress(e,r,i){oS.add(s=>{this._compress(e,r,(o,a)=>{s(),i(o,a)})})}_decompress(e,r,i){let s=this._isServer?"client":"server";if(!this._inflate){let o=`${s}_max_window_bits`,a=typeof this.params[o]!="number"?sy.Z_DEFAULT_WINDOWBITS:this.params[o];this._inflate=sy.createInflateRaw({...this._options.zlibInflateOptions,windowBits:a}),this._inflate[lS]=this,this._inflate[ma]=0,this._inflate[Cl]=[],this._inflate.on("error",aHe),this._inflate.on("data",QZ)}this._inflate[oy]=i,this._inflate.write(e),r&&this._inflate.write(sHe),this._inflate.flush(()=>{let o=this._inflate[aS];if(o){this._inflate.close(),this._inflate=null,i(o);return}let a=zZ.concat(this._inflate[Cl],this._inflate[ma]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[ma]=0,this._inflate[Cl]=[],r&&this.params[`${s}_no_context_takeover`]&&this._inflate.reset()),i(null,a)})}_compress(e,r,i){let s=this._isServer?"server":"client";if(!this._deflate){let o=`${s}_max_window_bits`,a=typeof this.params[o]!="number"?sy.Z_DEFAULT_WINDOWBITS:this.params[o];this._deflate=sy.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:a}),this._deflate[ma]=0,this._deflate[Cl]=[],this._deflate.on("data",oHe)}this._deflate[oy]=i,this._deflate.write(e),this._deflate.flush(sy.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let o=zZ.concat(this._deflate[Cl],this._deflate[ma]);r&&(o=new nHe(o.buffer,o.byteOffset,o.length-4)),this._deflate[oy]=null,this._deflate[ma]=0,this._deflate[Cl]=[],r&&this.params[`${s}_no_context_takeover`]&&this._deflate.reset(),i(null,o)})}};JZ.exports=TR;function oHe(t){this[Cl].push(t),this[ma]+=t.length}function QZ(t){if(this[ma]+=t.length,this[lS]._maxPayload<1||this[ma]<=this[lS]._maxPayload){this[Cl].push(t);return}this[aS]=new RangeError("Max payload size exceeded"),this[aS].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[aS][YZ]=1009,this.removeListener("data",QZ),this.reset()}function aHe(t){this[lS]._inflate=null,t[YZ]=1007,this[oy](t)}});var ly=_((VQt,uS)=>{"use strict";var{isUtf8:XZ}=require("buffer"),lHe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function uHe(t){return t>=1e3&&t<=1014&&t!==1004&&t!==1005&&t!==1006||t>=3e3&&t<=4999}function CR(t){let e=t.length,r=0;for(;r<e;)if(!(t[r]&128))r++;else if((t[r]&224)===192){if(r+1===e||(t[r+1]&192)!==128||(t[r]&254)===192)return!1;r+=2}else if((t[r]&240)===224){if(r+2>=e||(t[r+1]&192)!==128||(t[r+2]&192)!==128||t[r]===224&&(t[r+1]&224)===128||t[r]===237&&(t[r+1]&224)===160)return!1;r+=3}else if((t[r]&248)===240){if(r+3>=e||(t[r+1]&192)!==128||(t[r+2]&192)!==128||(t[r+3]&192)!==128||t[r]===240&&(t[r+1]&240)===128||t[r]===244&&t[r+1]>143||t[r]>244)return!1;r+=4}else return!1;return!0}uS.exports={isValidStatusCode:uHe,isValidUTF8:CR,tokenChars:lHe};if(XZ)uS.exports.isValidUTF8=function(t){return t.length<24?CR(t):XZ(t)};else if(!process.env.WS_NO_UTF_8_VALIDATE)try{let t=require("utf-8-validate");uS.exports.isValidUTF8=function(e){return e.length<32?CR(e):t(e)}}catch{}});var RR=_((qQt,see)=>{"use strict";var{Writable:dHe}=require("stream"),ZZ=ay(),{BINARY_TYPES:cHe,EMPTY_BUFFER:eee,kStatusCode:pHe,kWebSocket:mHe}=Tl(),{concat:ER,toArrayBuffer:gHe,unmask:fHe}=ny(),{isValidStatusCode:bHe,isValidUTF8:tee}=ly(),dS=Buffer[Symbol.species],uy=0,ree=1,iee=2,nee=3,kR=4,yHe=5,wR=class extends dHe{constructor(e={}){super(),this._binaryType=e.binaryType||cHe[0],this._extensions=e.extensions||{},this._isServer=!!e.isServer,this._maxPayload=e.maxPayload|0,this._skipUTF8Validation=!!e.skipUTF8Validation,this[mHe]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._state=uy,this._loop=!1}_write(e,r,i){if(this._opcode===8&&this._state==uy)return i();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(i)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){let i=this._buffers[0];return this._buffers[0]=new dS(i.buffer,i.byteOffset+e,i.length-e),new dS(i.buffer,i.byteOffset,e)}let r=Buffer.allocUnsafe(e);do{let i=this._buffers[0],s=r.length-e;e>=i.length?r.set(this._buffers.shift(),s):(r.set(new Uint8Array(i.buffer,i.byteOffset,e),s),this._buffers[0]=new dS(i.buffer,i.byteOffset+e,i.length-e)),e-=i.length}while(e>0);return r}startLoop(e){let r;this._loop=!0;do switch(this._state){case uy:r=this.getInfo();break;case ree:r=this.getPayloadLength16();break;case iee:r=this.getPayloadLength64();break;case nee:this.getMask();break;case kR:r=this.getData(e);break;default:this._loop=!1;return}while(this._loop);e(r)}getInfo(){if(this._bufferedBytes<2){this._loop=!1;return}let e=this.consume(2);if(e[0]&48)return this._loop=!1,Xr(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3");let r=(e[0]&64)===64;if(r&&!this._extensions[ZZ.extensionName])return this._loop=!1,Xr(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._fin=(e[0]&128)===128,this._opcode=e[0]&15,this._payloadLength=e[1]&127,this._opcode===0){if(r)return this._loop=!1,Xr(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(!this._fragmented)return this._loop=!1,Xr(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE");this._opcode=this._fragmented}else if(this._opcode===1||this._opcode===2){if(this._fragmented)return this._loop=!1,Xr(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");this._compressed=r}else if(this._opcode>7&&this._opcode<11){if(!this._fin)return this._loop=!1,Xr(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN");if(r)return this._loop=!1,Xr(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._payloadLength>125||this._opcode===8&&this._payloadLength===1)return this._loop=!1,Xr(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH")}else return this._loop=!1,Xr(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");if(!this._fin&&!this._fragmented&&(this._fragmented=this._opcode),this._masked=(e[1]&128)===128,this._isServer){if(!this._masked)return this._loop=!1,Xr(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK")}else if(this._masked)return this._loop=!1,Xr(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK");if(this._payloadLength===126)this._state=ree;else if(this._payloadLength===127)this._state=iee;else return this.haveLength()}getPayloadLength16(){if(this._bufferedBytes<2){this._loop=!1;return}return this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength()}getPayloadLength64(){if(this._bufferedBytes<8){this._loop=!1;return}let e=this.consume(8),r=e.readUInt32BE(0);return r>Math.pow(2,53-32)-1?(this._loop=!1,Xr(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH")):(this._payloadLength=r*Math.pow(2,32)+e.readUInt32BE(4),this.haveLength())}haveLength(){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0))return this._loop=!1,Xr(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");this._masked?this._state=nee:this._state=kR}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=kR}getData(e){let r=eee;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}r=this.consume(this._payloadLength),this._masked&&this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3]&&fHe(r,this._mask)}if(this._opcode>7)return this.controlMessage(r);if(this._compressed){this._state=yHe,this.decompress(r,e);return}return r.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(r)),this.dataMessage()}decompress(e,r){this._extensions[ZZ.extensionName].decompress(e,this._fin,(s,o)=>{if(s)return r(s);if(o.length){if(this._messageLength+=o.length,this._messageLength>this._maxPayload&&this._maxPayload>0)return r(Xr(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH"));this._fragments.push(o)}let a=this.dataMessage();if(a)return r(a);this.startLoop(r)})}dataMessage(){if(this._fin){let e=this._messageLength,r=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],this._opcode===2){let i;this._binaryType==="nodebuffer"?i=ER(r,e):this._binaryType==="arraybuffer"?i=gHe(ER(r,e)):i=r,this.emit("message",i,!0)}else{let i=ER(r,e);if(!this._skipUTF8Validation&&!tee(i))return this._loop=!1,Xr(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("message",i,!1)}}this._state=uy}controlMessage(e){if(this._opcode===8)if(this._loop=!1,e.length===0)this.emit("conclude",1005,eee),this.end();else{let r=e.readUInt16BE(0);if(!bHe(r))return Xr(RangeError,`invalid status code ${r}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE");let i=new dS(e.buffer,e.byteOffset+2,e.length-2);if(!this._skipUTF8Validation&&!tee(i))return Xr(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("conclude",r,i),this.end()}else this._opcode===9?this.emit("ping",e):this.emit("pong",e);this._state=uy}};see.exports=wR;function Xr(t,e,r,i,s){let o=new t(r?`Invalid WebSocket frame: ${e}`:e);return Error.captureStackTrace(o,Xr),o.code=s,o[pHe]=i,o}});var MR=_((GQt,lee)=>{"use strict";var BQt=require("net"),WQt=require("tls"),{randomFillSync:hHe}=require("crypto"),oee=ay(),{EMPTY_BUFFER:IHe}=Tl(),{isValidStatusCode:xHe}=ly(),{mask:aee,toBuffer:Np}=ny(),As=Symbol("kByteLength"),_He=Buffer.alloc(4),uo=class{constructor(e,r,i){this._extensions=r||{},i&&(this._generateMask=i,this._maskBuffer=Buffer.alloc(4)),this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(e,r){let i,s=!1,o=2,a=!1;r.mask&&(i=r.maskBuffer||_He,r.generateMask?r.generateMask(i):hHe(i,0,4),a=(i[0]|i[1]|i[2]|i[3])===0,o=6);let u;typeof e=="string"?(!r.mask||a)&&r[As]!==void 0?u=r[As]:(e=Buffer.from(e),u=e.length):(u=e.length,s=r.mask&&r.readOnly&&!a);let d=u;u>=65536?(o+=8,d=127):u>125&&(o+=2,d=126);let p=Buffer.allocUnsafe(s?u+o:o);return p[0]=r.fin?r.opcode|128:r.opcode,r.rsv1&&(p[0]|=64),p[1]=d,d===126?p.writeUInt16BE(u,2):d===127&&(p[2]=p[3]=0,p.writeUIntBE(u,4,6)),r.mask?(p[1]|=128,p[o-4]=i[0],p[o-3]=i[1],p[o-2]=i[2],p[o-1]=i[3],a?[p,e]:s?(aee(e,i,p,o,u),[p]):(aee(e,i,e,0,u),[p,e])):[p,e]}close(e,r,i,s){let o;if(e===void 0)o=IHe;else{if(typeof e!="number"||!xHe(e))throw new TypeError("First argument must be a valid error code number");if(r===void 0||!r.length)o=Buffer.allocUnsafe(2),o.writeUInt16BE(e,0);else{let u=Buffer.byteLength(r);if(u>123)throw new RangeError("The message must not be greater than 123 bytes");o=Buffer.allocUnsafe(2+u),o.writeUInt16BE(e,0),typeof r=="string"?o.write(r,2):o.set(r,2)}}let a={[As]:o.length,fin:!0,generateMask:this._generateMask,mask:i,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};this._deflating?this.enqueue([this.dispatch,o,!1,a,s]):this.sendFrame(uo.frame(o,a),s)}ping(e,r,i){let s,o;if(typeof e=="string"?(s=Buffer.byteLength(e),o=!1):(e=Np(e),s=e.length,o=Np.readOnly),s>125)throw new RangeError("The data size must not be greater than 125 bytes");let a={[As]:s,fin:!0,generateMask:this._generateMask,mask:r,maskBuffer:this._maskBuffer,opcode:9,readOnly:o,rsv1:!1};this._deflating?this.enqueue([this.dispatch,e,!1,a,i]):this.sendFrame(uo.frame(e,a),i)}pong(e,r,i){let s,o;if(typeof e=="string"?(s=Buffer.byteLength(e),o=!1):(e=Np(e),s=e.length,o=Np.readOnly),s>125)throw new RangeError("The data size must not be greater than 125 bytes");let a={[As]:s,fin:!0,generateMask:this._generateMask,mask:r,maskBuffer:this._maskBuffer,opcode:10,readOnly:o,rsv1:!1};this._deflating?this.enqueue([this.dispatch,e,!1,a,i]):this.sendFrame(uo.frame(e,a),i)}send(e,r,i){let s=this._extensions[oee.extensionName],o=r.binary?2:1,a=r.compress,u,d;if(typeof e=="string"?(u=Buffer.byteLength(e),d=!1):(e=Np(e),u=e.length,d=Np.readOnly),this._firstFragment?(this._firstFragment=!1,a&&s&&s.params[s._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(a=u>=s._threshold),this._compress=a):(a=!1,o=0),r.fin&&(this._firstFragment=!0),s){let p={[As]:u,fin:r.fin,generateMask:this._generateMask,mask:r.mask,maskBuffer:this._maskBuffer,opcode:o,readOnly:d,rsv1:a};this._deflating?this.enqueue([this.dispatch,e,this._compress,p,i]):this.dispatch(e,this._compress,p,i)}else this.sendFrame(uo.frame(e,{[As]:u,fin:r.fin,generateMask:this._generateMask,mask:r.mask,maskBuffer:this._maskBuffer,opcode:o,readOnly:d,rsv1:!1}),i)}dispatch(e,r,i,s){if(!r){this.sendFrame(uo.frame(e,i),s);return}let o=this._extensions[oee.extensionName];this._bufferedBytes+=i[As],this._deflating=!0,o.compress(e,i.fin,(a,u)=>{if(this._socket.destroyed){let d=new Error("The socket was closed while data was being compressed");typeof s=="function"&&s(d);for(let p=0;p<this._queue.length;p++){let m=this._queue[p],f=m[m.length-1];typeof f=="function"&&f(d)}return}this._bufferedBytes-=i[As],this._deflating=!1,i.readOnly=!1,this.sendFrame(uo.frame(u,i),s),this.dequeue()})}dequeue(){for(;!this._deflating&&this._queue.length;){let e=this._queue.shift();this._bufferedBytes-=e[3][As],Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[3][As],this._queue.push(e)}sendFrame(e,r){e.length===2?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],r),this._socket.uncork()):this._socket.write(e[0],r)}};lee.exports=uo});var yee=_((HQt,bee)=>{"use strict";var{kForOnEventAttribute:dy,kListener:UR}=Tl(),uee=Symbol("kCode"),dee=Symbol("kData"),cee=Symbol("kError"),pee=Symbol("kMessage"),mee=Symbol("kReason"),Vp=Symbol("kTarget"),gee=Symbol("kType"),fee=Symbol("kWasClean"),ga=class{constructor(e){this[Vp]=null,this[gee]=e}get target(){return this[Vp]}get type(){return this[gee]}};Object.defineProperty(ga.prototype,"target",{enumerable:!0});Object.defineProperty(ga.prototype,"type",{enumerable:!0});var ud=class extends ga{constructor(e,r={}){super(e),this[uee]=r.code===void 0?0:r.code,this[mee]=r.reason===void 0?"":r.reason,this[fee]=r.wasClean===void 0?!1:r.wasClean}get code(){return this[uee]}get reason(){return this[mee]}get wasClean(){return this[fee]}};Object.defineProperty(ud.prototype,"code",{enumerable:!0});Object.defineProperty(ud.prototype,"reason",{enumerable:!0});Object.defineProperty(ud.prototype,"wasClean",{enumerable:!0});var qp=class extends ga{constructor(e,r={}){super(e),this[cee]=r.error===void 0?null:r.error,this[pee]=r.message===void 0?"":r.message}get error(){return this[cee]}get message(){return this[pee]}};Object.defineProperty(qp.prototype,"error",{enumerable:!0});Object.defineProperty(qp.prototype,"message",{enumerable:!0});var cy=class extends ga{constructor(e,r={}){super(e),this[dee]=r.data===void 0?null:r.data}get data(){return this[dee]}};Object.defineProperty(cy.prototype,"data",{enumerable:!0});var vHe={addEventListener(t,e,r={}){for(let s of this.listeners(t))if(!r[dy]&&s[UR]===e&&!s[dy])return;let i;if(t==="message")i=function(o,a){let u=new cy("message",{data:a?o:o.toString()});u[Vp]=this,cS(e,this,u)};else if(t==="close")i=function(o,a){let u=new ud("close",{code:o,reason:a.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});u[Vp]=this,cS(e,this,u)};else if(t==="error")i=function(o){let a=new qp("error",{error:o,message:o.message});a[Vp]=this,cS(e,this,a)};else if(t==="open")i=function(){let o=new ga("open");o[Vp]=this,cS(e,this,o)};else return;i[dy]=!!r[dy],i[UR]=e,r.once?this.once(t,i):this.on(t,i)},removeEventListener(t,e){for(let r of this.listeners(t))if(r[UR]===e&&!r[dy]){this.removeListener(t,r);break}}};bee.exports={CloseEvent:ud,ErrorEvent:qp,Event:ga,EventTarget:vHe,MessageEvent:cy};function cS(t,e,r){typeof t=="object"&&t.handleEvent?t.handleEvent.call(t,r):t.call(e,r)}});var LR=_((KQt,hee)=>{"use strict";var{tokenChars:py}=ly();function co(t,e,r){t[e]===void 0?t[e]=[r]:t[e].push(r)}function OHe(t){let e=Object.create(null),r=Object.create(null),i=!1,s=!1,o=!1,a,u,d=-1,p=-1,m=-1,f=0;for(;f<t.length;f++)if(p=t.charCodeAt(f),a===void 0)if(m===-1&&py[p]===1)d===-1&&(d=f);else if(f!==0&&(p===32||p===9))m===-1&&d!==-1&&(m=f);else if(p===59||p===44){if(d===-1)throw new SyntaxError(`Unexpected character at index ${f}`);m===-1&&(m=f);let v=t.slice(d,m);p===44?(co(e,v,r),r=Object.create(null)):a=v,d=m=-1}else throw new SyntaxError(`Unexpected character at index ${f}`);else if(u===void 0)if(m===-1&&py[p]===1)d===-1&&(d=f);else if(p===32||p===9)m===-1&&d!==-1&&(m=f);else if(p===59||p===44){if(d===-1)throw new SyntaxError(`Unexpected character at index ${f}`);m===-1&&(m=f),co(r,t.slice(d,m),!0),p===44&&(co(e,a,r),r=Object.create(null),a=void 0),d=m=-1}else if(p===61&&d!==-1&&m===-1)u=t.slice(d,f),d=m=-1;else throw new SyntaxError(`Unexpected character at index ${f}`);else if(s){if(py[p]!==1)throw new SyntaxError(`Unexpected character at index ${f}`);d===-1?d=f:i||(i=!0),s=!1}else if(o)if(py[p]===1)d===-1&&(d=f);else if(p===34&&d!==-1)o=!1,m=f;else if(p===92)s=!0;else throw new SyntaxError(`Unexpected character at index ${f}`);else if(p===34&&t.charCodeAt(f-1)===61)o=!0;else if(m===-1&&py[p]===1)d===-1&&(d=f);else if(d!==-1&&(p===32||p===9))m===-1&&(m=f);else if(p===59||p===44){if(d===-1)throw new SyntaxError(`Unexpected character at index ${f}`);m===-1&&(m=f);let v=t.slice(d,m);i&&(v=v.replace(/\\/g,""),i=!1),co(r,u,v),p===44&&(co(e,a,r),r=Object.create(null),a=void 0),u=void 0,d=m=-1}else throw new SyntaxError(`Unexpected character at index ${f}`);if(d===-1||o||p===32||p===9)throw new SyntaxError("Unexpected end of input");m===-1&&(m=f);let y=t.slice(d,m);return a===void 0?co(e,y,r):(u===void 0?co(r,y,!0):i?co(r,u,y.replace(/\\/g,"")):co(r,u,y),co(e,a,r)),e}function SHe(t){return Object.keys(t).map(e=>{let r=t[e];return Array.isArray(r)||(r=[r]),r.map(i=>[e].concat(Object.keys(i).map(s=>{let o=i[s];return Array.isArray(o)||(o=[o]),o.map(a=>a===!0?s:`${s}=${a}`).join("; ")})).join("; ")).join(", ")}).join(", ")}hee.exports={format:SHe,parse:OHe}});var WR=_((zQt,jee)=>{"use strict";var DHe=require("events"),AHe=require("https"),FHe=require("http"),_ee=require("net"),PHe=require("tls"),{randomBytes:jHe,createHash:THe}=require("crypto"),{Readable:$Qt}=require("stream"),{URL:NR}=require("url"),El=ay(),CHe=RR(),EHe=MR(),{BINARY_TYPES:Iee,EMPTY_BUFFER:pS,GUID:kHe,kForOnEventAttribute:VR,kListener:wHe,kStatusCode:RHe,kWebSocket:Si,NOOP:vee}=Tl(),{EventTarget:{addEventListener:MHe,removeEventListener:UHe}}=yee(),{format:LHe,parse:NHe}=LR(),{toBuffer:VHe}=ny(),qHe=30*1e3,Oee=Symbol("kAborted"),qR=[8,13],fa=["CONNECTING","OPEN","CLOSING","CLOSED"],BHe=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/,ut=class extends DHe{constructor(e,r,i){super(),this._binaryType=Iee[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=pS,this._closeTimer=null,this._extensions={},this._paused=!1,this._protocol="",this._readyState=ut.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,e!==null?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,r===void 0?r=[]:Array.isArray(r)||(typeof r=="object"&&r!==null?(i=r,r=[]):r=[r]),See(this,e,r,i)):this._isServer=!0}get binaryType(){return this._binaryType}set binaryType(e){Iee.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(e,r,i){let s=new CHe({binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:i.maxPayload,skipUTF8Validation:i.skipUTF8Validation});this._sender=new EHe(e,this._extensions,i.generateMask),this._receiver=s,this._socket=e,s[Si]=this,e[Si]=this,s.on("conclude",HHe),s.on("drain",KHe),s.on("error",$He),s.on("message",zHe),s.on("ping",YHe),s.on("pong",QHe),e.setTimeout(0),e.setNoDelay(),r.length>0&&e.unshift(r),e.on("close",Aee),e.on("data",gS),e.on("end",Fee),e.on("error",Pee),this._readyState=ut.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=ut.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}this._extensions[El.extensionName]&&this._extensions[El.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=ut.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(e,r){if(this.readyState!==ut.CLOSED){if(this.readyState===ut.CONNECTING){let i="WebSocket was closed before the connection was established";En(this,this._req,i);return}if(this.readyState===ut.CLOSING){this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();return}this._readyState=ut.CLOSING,this._sender.close(e,r,!this._isServer,i=>{i||(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())}),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),qHe)}}pause(){this.readyState===ut.CONNECTING||this.readyState===ut.CLOSED||(this._paused=!0,this._socket.pause())}ping(e,r,i){if(this.readyState===ut.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof e=="function"?(i=e,e=r=void 0):typeof r=="function"&&(i=r,r=void 0),typeof e=="number"&&(e=e.toString()),this.readyState!==ut.OPEN){BR(this,e,i);return}r===void 0&&(r=!this._isServer),this._sender.ping(e||pS,r,i)}pong(e,r,i){if(this.readyState===ut.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof e=="function"?(i=e,e=r=void 0):typeof r=="function"&&(i=r,r=void 0),typeof e=="number"&&(e=e.toString()),this.readyState!==ut.OPEN){BR(this,e,i);return}r===void 0&&(r=!this._isServer),this._sender.pong(e||pS,r,i)}resume(){this.readyState===ut.CONNECTING||this.readyState===ut.CLOSED||(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(e,r,i){if(this.readyState===ut.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof r=="function"&&(i=r,r={}),typeof e=="number"&&(e=e.toString()),this.readyState!==ut.OPEN){BR(this,e,i);return}let s={binary:typeof e!="string",mask:!this._isServer,compress:!0,fin:!0,...r};this._extensions[El.extensionName]||(s.compress=!1),this._sender.send(e||pS,s,i)}terminate(){if(this.readyState!==ut.CLOSED){if(this.readyState===ut.CONNECTING){let e="WebSocket was closed before the connection was established";En(this,this._req,e);return}this._socket&&(this._readyState=ut.CLOSING,this._socket.destroy())}}};Object.defineProperty(ut,"CONNECTING",{enumerable:!0,value:fa.indexOf("CONNECTING")});Object.defineProperty(ut.prototype,"CONNECTING",{enumerable:!0,value:fa.indexOf("CONNECTING")});Object.defineProperty(ut,"OPEN",{enumerable:!0,value:fa.indexOf("OPEN")});Object.defineProperty(ut.prototype,"OPEN",{enumerable:!0,value:fa.indexOf("OPEN")});Object.defineProperty(ut,"CLOSING",{enumerable:!0,value:fa.indexOf("CLOSING")});Object.defineProperty(ut.prototype,"CLOSING",{enumerable:!0,value:fa.indexOf("CLOSING")});Object.defineProperty(ut,"CLOSED",{enumerable:!0,value:fa.indexOf("CLOSED")});Object.defineProperty(ut.prototype,"CLOSED",{enumerable:!0,value:fa.indexOf("CLOSED")});["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach(t=>{Object.defineProperty(ut.prototype,t,{enumerable:!0})});["open","error","close","message"].forEach(t=>{Object.defineProperty(ut.prototype,`on${t}`,{enumerable:!0,get(){for(let e of this.listeners(t))if(e[VR])return e[wHe];return null},set(e){for(let r of this.listeners(t))if(r[VR]){this.removeListener(t,r);break}typeof e=="function"&&this.addEventListener(t,e,{[VR]:!0})}})});ut.prototype.addEventListener=MHe;ut.prototype.removeEventListener=UHe;jee.exports=ut;function See(t,e,r,i){let s={protocolVersion:qR[1],maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...i,createConnection:void 0,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:"GET",host:void 0,path:void 0,port:void 0};if(!qR.includes(s.protocolVersion))throw new RangeError(`Unsupported protocol version: ${s.protocolVersion} (supported versions: ${qR.join(", ")})`);let o;if(e instanceof NR)o=e,t._url=e.href;else{try{o=new NR(e)}catch{throw new SyntaxError(`Invalid URL: ${e}`)}t._url=e}let a=o.protocol==="wss:",u=o.protocol==="ws+unix:",d;if(o.protocol!=="ws:"&&!a&&!u?d=`The URL's protocol must be one of "ws:", "wss:", or "ws+unix:"`:u&&!o.pathname?d="The URL's pathname is empty":o.hash&&(d="The URL contains a fragment identifier"),d){let A=new SyntaxError(d);if(t._redirects===0)throw A;mS(t,A);return}let p=a?443:80,m=jHe(16).toString("base64"),f=a?AHe.request:FHe.request,y=new Set,v;if(s.createConnection=a?GHe:WHe,s.defaultPort=s.defaultPort||p,s.port=o.port||p,s.host=o.hostname.startsWith("[")?o.hostname.slice(1,-1):o.hostname,s.headers={...s.headers,"Sec-WebSocket-Version":s.protocolVersion,"Sec-WebSocket-Key":m,Connection:"Upgrade",Upgrade:"websocket"},s.path=o.pathname+o.search,s.timeout=s.handshakeTimeout,s.perMessageDeflate&&(v=new El(s.perMessageDeflate!==!0?s.perMessageDeflate:{},!1,s.maxPayload),s.headers["Sec-WebSocket-Extensions"]=LHe({[El.extensionName]:v.offer()})),r.length){for(let A of r){if(typeof A!="string"||!BHe.test(A)||y.has(A))throw new SyntaxError("An invalid or duplicated subprotocol was specified");y.add(A)}s.headers["Sec-WebSocket-Protocol"]=r.join(",")}if(s.origin&&(s.protocolVersion<13?s.headers["Sec-WebSocket-Origin"]=s.origin:s.headers.Origin=s.origin),(o.username||o.password)&&(s.auth=`${o.username}:${o.password}`),u){let A=s.path.split(":");s.socketPath=A[0],s.path=A[1]}let O;if(s.followRedirects){if(t._redirects===0){t._originalIpc=u,t._originalSecure=a,t._originalHostOrSocketPath=u?s.socketPath:o.host;let A=i&&i.headers;if(i={...i,headers:{}},A)for(let[k,U]of Object.entries(A))i.headers[k.toLowerCase()]=U}else if(t.listenerCount("redirect")===0){let A=u?t._originalIpc?s.socketPath===t._originalHostOrSocketPath:!1:t._originalIpc?!1:o.host===t._originalHostOrSocketPath;(!A||t._originalSecure&&!a)&&(delete s.headers.authorization,delete s.headers.cookie,A||delete s.headers.host,s.auth=void 0)}s.auth&&!i.headers.authorization&&(i.headers.authorization="Basic "+Buffer.from(s.auth).toString("base64")),O=t._req=f(s),t._redirects&&t.emit("redirect",t.url,O)}else O=t._req=f(s);s.timeout&&O.on("timeout",()=>{En(t,O,"Opening handshake has timed out")}),O.on("error",A=>{O===null||O[Oee]||(O=t._req=null,mS(t,A))}),O.on("response",A=>{let k=A.headers.location,U=A.statusCode;if(k&&s.followRedirects&&U>=300&&U<400){if(++t._redirects>s.maxRedirects){En(t,O,"Maximum redirects exceeded");return}O.abort();let $;try{$=new NR(k,e)}catch{let z=new SyntaxError(`Invalid URL: ${k}`);mS(t,z);return}See(t,$,r,i)}else t.emit("unexpected-response",O,A)||En(t,O,`Unexpected server response: ${A.statusCode}`)}),O.on("upgrade",(A,k,U)=>{if(t.emit("upgrade",A),t.readyState!==ut.CONNECTING)return;if(O=t._req=null,A.headers.upgrade.toLowerCase()!=="websocket"){En(t,k,"Invalid Upgrade header");return}let $=THe("sha1").update(m+kHe).digest("base64");if(A.headers["sec-websocket-accept"]!==$){En(t,k,"Invalid Sec-WebSocket-Accept header");return}let R=A.headers["sec-websocket-protocol"],z;if(R!==void 0?y.size?y.has(R)||(z="Server sent an invalid subprotocol"):z="Server sent a subprotocol but none was requested":y.size&&(z="Server sent no subprotocol"),z){En(t,k,z);return}R&&(t._protocol=R);let fe=A.headers["sec-websocket-extensions"];if(fe!==void 0){if(!v){En(t,k,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");return}let Q;try{Q=NHe(fe)}catch{En(t,k,"Invalid Sec-WebSocket-Extensions header");return}let be=Object.keys(Q);if(be.length!==1||be[0]!==El.extensionName){En(t,k,"Server indicated an extension that was not requested");return}try{v.accept(Q[El.extensionName])}catch{En(t,k,"Invalid Sec-WebSocket-Extensions header");return}t._extensions[El.extensionName]=v}t.setSocket(k,U,{generateMask:s.generateMask,maxPayload:s.maxPayload,skipUTF8Validation:s.skipUTF8Validation})}),O.end()}function mS(t,e){t._readyState=ut.CLOSING,t.emit("error",e),t.emitClose()}function WHe(t){return t.path=t.socketPath,_ee.connect(t)}function GHe(t){return t.path=void 0,!t.servername&&t.servername!==""&&(t.servername=_ee.isIP(t.host)?"":t.host),PHe.connect(t)}function En(t,e,r){t._readyState=ut.CLOSING;let i=new Error(r);Error.captureStackTrace(i,En),e.setHeader?(e[Oee]=!0,e.abort(),e.socket&&!e.socket.destroyed&&e.socket.destroy(),process.nextTick(mS,t,i)):(e.destroy(i),e.once("error",t.emit.bind(t,"error")),e.once("close",t.emitClose.bind(t)))}function BR(t,e,r){if(e){let i=VHe(e).length;t._socket?t._sender._bufferedBytes+=i:t._bufferedAmount+=i}if(r){let i=new Error(`WebSocket is not open: readyState ${t.readyState} (${fa[t.readyState]})`);process.nextTick(r,i)}}function HHe(t,e){let r=this[Si];r._closeFrameReceived=!0,r._closeMessage=e,r._closeCode=t,r._socket[Si]!==void 0&&(r._socket.removeListener("data",gS),process.nextTick(Dee,r._socket),t===1005?r.close():r.close(t,e))}function KHe(){let t=this[Si];t.isPaused||t._socket.resume()}function $He(t){let e=this[Si];e._socket[Si]!==void 0&&(e._socket.removeListener("data",gS),process.nextTick(Dee,e._socket),e.close(t[RHe])),e.emit("error",t)}function xee(){this[Si].emitClose()}function zHe(t,e){this[Si].emit("message",t,e)}function YHe(t){let e=this[Si];e.pong(t,!e._isServer,vee),e.emit("ping",t)}function QHe(t){this[Si].emit("pong",t)}function Dee(t){t.resume()}function Aee(){let t=this[Si];this.removeListener("close",Aee),this.removeListener("data",gS),this.removeListener("end",Fee),t._readyState=ut.CLOSING;let e;!this._readableState.endEmitted&&!t._closeFrameReceived&&!t._receiver._writableState.errorEmitted&&(e=t._socket.read())!==null&&t._receiver.write(e),t._receiver.end(),this[Si]=void 0,clearTimeout(t._closeTimer),t._receiver._writableState.finished||t._receiver._writableState.errorEmitted?t.emitClose():(t._receiver.on("error",xee),t._receiver.on("finish",xee))}function gS(t){this[Si]._receiver.write(t)||this.pause()}function Fee(){let t=this[Si];t._readyState=ut.CLOSING,t._receiver.end(),this.end()}function Pee(){let t=this[Si];this.removeListener("error",Pee),this.on("error",vee),t&&(t._readyState=ut.CLOSING,this.destroy())}});var Cee=_((YQt,Tee)=>{"use strict";var{tokenChars:JHe}=ly();function XHe(t){let e=new Set,r=-1,i=-1,s=0;for(s;s<t.length;s++){let a=t.charCodeAt(s);if(i===-1&&JHe[a]===1)r===-1&&(r=s);else if(s!==0&&(a===32||a===9))i===-1&&r!==-1&&(i=s);else if(a===44){if(r===-1)throw new SyntaxError(`Unexpected character at index ${s}`);i===-1&&(i=s);let u=t.slice(r,i);if(e.has(u))throw new SyntaxError(`The "${u}" subprotocol is duplicated`);e.add(u),r=i=-1}else throw new SyntaxError(`Unexpected character at index ${s}`)}if(r===-1||i!==-1)throw new SyntaxError("Unexpected end of input");let o=t.slice(r,s);if(e.has(o))throw new SyntaxError(`The "${o}" subprotocol is duplicated`);return e.add(o),e}Tee.exports={parse:XHe}});var Lee=_((ZQt,Uee)=>{"use strict";var ZHe=require("events"),fS=require("http"),QQt=require("https"),JQt=require("net"),XQt=require("tls"),{createHash:eKe}=require("crypto"),Eee=LR(),dd=ay(),tKe=Cee(),rKe=WR(),{GUID:iKe,kWebSocket:nKe}=Tl(),sKe=/^[+/0-9A-Za-z]{22}==$/,kee=0,wee=1,Mee=2,GR=class extends ZHe{constructor(e,r){if(super(),e={maxPayload:100*1024*1024,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:rKe,...e},e.port==null&&!e.server&&!e.noServer||e.port!=null&&(e.server||e.noServer)||e.server&&e.noServer)throw new TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(e.port!=null?(this._server=fS.createServer((i,s)=>{let o=fS.STATUS_CODES[426];s.writeHead(426,{"Content-Length":o.length,"Content-Type":"text/plain"}),s.end(o)}),this._server.listen(e.port,e.host,e.backlog,r)):e.server&&(this._server=e.server),this._server){let i=this.emit.bind(this,"connection");this._removeListeners=oKe(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(s,o,a)=>{this.handleUpgrade(s,o,a,i)}})}e.perMessageDeflate===!0&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=e,this._state=kee}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(this._state===Mee){e&&this.once("close",()=>{e(new Error("The server is not running"))}),process.nextTick(my,this);return}if(e&&this.once("close",e),this._state!==wee)if(this._state=wee,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients?this.clients.size?this._shouldEmitClose=!0:process.nextTick(my,this):process.nextTick(my,this);else{let r=this._server;this._removeListeners(),this._removeListeners=this._server=null,r.close(()=>{my(this)})}}shouldHandle(e){if(this.options.path){let r=e.url.indexOf("?");if((r!==-1?e.url.slice(0,r):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,r,i,s){r.on("error",Ree);let o=e.headers["sec-websocket-key"],a=+e.headers["sec-websocket-version"];if(e.method!=="GET"){cd(this,e,r,405,"Invalid HTTP method");return}if(e.headers.upgrade.toLowerCase()!=="websocket"){cd(this,e,r,400,"Invalid Upgrade header");return}if(!o||!sKe.test(o)){cd(this,e,r,400,"Missing or invalid Sec-WebSocket-Key header");return}if(a!==8&&a!==13){cd(this,e,r,400,"Missing or invalid Sec-WebSocket-Version header");return}if(!this.shouldHandle(e)){gy(r,400);return}let u=e.headers["sec-websocket-protocol"],d=new Set;if(u!==void 0)try{d=tKe.parse(u)}catch{cd(this,e,r,400,"Invalid Sec-WebSocket-Protocol header");return}let p=e.headers["sec-websocket-extensions"],m={};if(this.options.perMessageDeflate&&p!==void 0){let f=new dd(this.options.perMessageDeflate,!0,this.options.maxPayload);try{let y=Eee.parse(p);y[dd.extensionName]&&(f.accept(y[dd.extensionName]),m[dd.extensionName]=f)}catch{cd(this,e,r,400,"Invalid or unacceptable Sec-WebSocket-Extensions header");return}}if(this.options.verifyClient){let f={origin:e.headers[`${a===8?"sec-websocket-origin":"origin"}`],secure:!!(e.socket.authorized||e.socket.encrypted),req:e};if(this.options.verifyClient.length===2){this.options.verifyClient(f,(y,v,O,A)=>{if(!y)return gy(r,v||401,O,A);this.completeUpgrade(m,o,d,e,r,i,s)});return}if(!this.options.verifyClient(f))return gy(r,401)}this.completeUpgrade(m,o,d,e,r,i,s)}completeUpgrade(e,r,i,s,o,a,u){if(!o.readable||!o.writable)return o.destroy();if(o[nKe])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>kee)return gy(o,503);let p=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${eKe("sha1").update(r+iKe).digest("base64")}`],m=new this.options.WebSocket(null);if(i.size){let f=this.options.handleProtocols?this.options.handleProtocols(i,s):i.values().next().value;f&&(p.push(`Sec-WebSocket-Protocol: ${f}`),m._protocol=f)}if(e[dd.extensionName]){let f=e[dd.extensionName].params,y=Eee.format({[dd.extensionName]:[f]});p.push(`Sec-WebSocket-Extensions: ${y}`),m._extensions=e}this.emit("headers",p,s),o.write(p.concat(`\r
`).join(`\r
`)),o.removeListener("error",Ree),m.setSocket(o,a,{maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(m),m.on("close",()=>{this.clients.delete(m),this._shouldEmitClose&&!this.clients.size&&process.nextTick(my,this)})),u(m,s)}};Uee.exports=GR;function oKe(t,e){for(let r of Object.keys(e))t.on(r,e[r]);return function(){for(let i of Object.keys(e))t.removeListener(i,e[i])}}function my(t){t._state=Mee,t.emit("close")}function Ree(){this.destroy()}function gy(t,e,r,i){r=r||fS.STATUS_CODES[e],i={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(r),...i},t.once("finish",t.destroy),t.end(`HTTP/1.1 ${e} ${fS.STATUS_CODES[e]}\r
`+Object.keys(i).map(s=>`${s}: ${i[s]}`).join(`\r
`)+`\r
\r
`+r)}function cd(t,e,r,i,s){if(t.listenerCount("wsClientError")){let o=new Error(s);Error.captureStackTrace(o,cd),t.emit("wsClientError",o,r,e)}else gy(r,i,s)}});var po=_(Di=>{Object.defineProperty(Di,"__esModule",{value:!0});var Yne=Object.prototype.toString;function cKe(t){switch(Yne.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return _S(t,Error)}}function Bp(t,e){return Yne.call(t)===`[object ${e}]`}function pKe(t){return Bp(t,"ErrorEvent")}function mKe(t){return Bp(t,"DOMError")}function gKe(t){return Bp(t,"DOMException")}function fKe(t){return Bp(t,"String")}function bKe(t){return t===null||typeof t!="object"&&typeof t!="function"}function Qne(t){return Bp(t,"Object")}function yKe(t){return typeof Event<"u"&&_S(t,Event)}function hKe(t){return typeof Element<"u"&&_S(t,Element)}function IKe(t){return Bp(t,"RegExp")}function xKe(t){return Boolean(t&&t.then&&typeof t.then=="function")}function _Ke(t){return Qne(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}function vKe(t){return typeof t=="number"&&t!==t}function _S(t,e){try{return t instanceof e}catch{return!1}}Di.isDOMError=mKe;Di.isDOMException=gKe;Di.isElement=hKe;Di.isError=cKe;Di.isErrorEvent=pKe;Di.isEvent=yKe;Di.isInstanceOf=_S;Di.isNaN=vKe;Di.isPlainObject=Qne;Di.isPrimitive=bKe;Di.isRegExp=IKe;Di.isString=fKe;Di.isSyntheticEvent=_Ke;Di.isThenable=xKe});var ba=_(fy=>{Object.defineProperty(fy,"__esModule",{value:!0});function vS(t){return t&&t.Math==Math?t:void 0}var KR=typeof globalThis=="object"&&vS(globalThis)||typeof window=="object"&&vS(window)||typeof self=="object"&&vS(self)||typeof global=="object"&&vS(global)||function(){return this}()||{};function OKe(){return KR}function SKe(t,e,r){let i=r||KR,s=i.__SENTRY__=i.__SENTRY__||{};return s[t]||(s[t]=e())}fy.GLOBAL_OBJ=KR;fy.getGlobalObject=OKe;fy.getGlobalSingleton=SKe});var $R=_(by=>{Object.defineProperty(by,"__esModule",{value:!0});var DKe=po(),AKe=ba(),OS=AKe.getGlobalObject(),FKe=80;function PKe(t,e={}){try{let r=t,i=5,s=[],o=0,a=0,u=" > ",d=u.length,p,m=Array.isArray(e)?e:e.keyAttrs,f=!Array.isArray(e)&&e.maxStringLength||FKe;for(;r&&o++<i&&(p=jKe(r,m),!(p==="html"||o>1&&a+s.length*d+p.length>=f));)s.push(p),a+=p.length,r=r.parentNode;return s.reverse().join(u)}catch{return"<unknown>"}}function jKe(t,e){let r=t,i=[],s,o,a,u,d;if(!r||!r.tagName)return"";i.push(r.tagName.toLowerCase());let p=e&&e.length?e.filter(f=>r.getAttribute(f)).map(f=>[f,r.getAttribute(f)]):null;if(p&&p.length)p.forEach(f=>{i.push(`[${f[0]}="${f[1]}"]`)});else if(r.id&&i.push(`#${r.id}`),s=r.className,s&&DKe.isString(s))for(o=s.split(/\s+/),d=0;d<o.length;d++)i.push(`.${o[d]}`);let m=["aria-label","type","name","title","alt"];for(d=0;d<m.length;d++)a=m[d],u=r.getAttribute(a),u&&i.push(`[${a}="${u}"]`);return i.join("")}function TKe(){try{return OS.document.location.href}catch{return""}}function CKe(t){return OS.document&&OS.document.querySelector?OS.document.querySelector(t):null}by.getDomElement=CKe;by.getLocationHref=TKe;by.htmlTreeAsString=PKe});var Wp=_(pd=>{Object.defineProperty(pd,"__esModule",{value:!0});var SS=ba(),EKe="Sentry Logger ",DS=["debug","info","warn","error","log","assert","trace"];function Xne(t){if(!("console"in SS.GLOBAL_OBJ))return t();let e=SS.GLOBAL_OBJ.console,r={};DS.forEach(i=>{let s=e[i]&&e[i].__sentry_original__;i in e&&s&&(r[i]=e[i],e[i]=s)});try{return t()}finally{Object.keys(r).forEach(i=>{e[i]=r[i]})}}function Jne(){let t=!1,e={enable:()=>{t=!0},disable:()=>{t=!1}};return typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?DS.forEach(r=>{e[r]=(...i)=>{t&&Xne(()=>{SS.GLOBAL_OBJ.console[r](`${EKe}[${r}]:`,...i)})}}):DS.forEach(r=>{e[r]=()=>{}}),e}pd.logger=void 0;typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?pd.logger=SS.getGlobalSingleton("logger",Jne):pd.logger=Jne();pd.CONSOLE_LEVELS=DS;pd.consoleSandbox=Xne});var zR=_(yy=>{Object.defineProperty(yy,"__esModule",{value:!0});var AS=Wp(),kKe=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function wKe(t){return t==="http"||t==="https"}function RKe(t,e=!1){let{host:r,path:i,pass:s,port:o,projectId:a,protocol:u,publicKey:d}=t;return`${u}://${d}${e&&s?`:${s}`:""}@${r}${o?`:${o}`:""}/${i&&`${i}/`}${a}`}function Zne(t){let e=kKe.exec(t);if(!e){console.error(`Invalid Sentry Dsn: ${t}`);return}let[r,i,s="",o,a="",u]=e.slice(1),d="",p=u,m=p.split("/");if(m.length>1&&(d=m.slice(0,-1).join("/"),p=m.pop()),p){let f=p.match(/^\d+/);f&&(p=f[0])}return ese({host:o,pass:s,path:d,projectId:p,port:a,protocol:r,publicKey:i})}function ese(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}function MKe(t){if(!(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__))return!0;let{port:e,projectId:r,protocol:i}=t;return["protocol","publicKey","host","projectId"].find(a=>t[a]?!1:(AS.logger.error(`Invalid Sentry Dsn: ${a} missing`),!0))?!1:r.match(/^\d+$/)?wKe(i)?e&&isNaN(parseInt(e,10))?(AS.logger.error(`Invalid Sentry Dsn: Invalid port ${e}`),!1):!0:(AS.logger.error(`Invalid Sentry Dsn: Invalid protocol ${i}`),!1):(AS.logger.error(`Invalid Sentry Dsn: Invalid projectId ${r}`),!1)}function UKe(t){let e=typeof t=="string"?Zne(t):ese(t);if(!(!e||!MKe(e)))return e}yy.dsnFromString=Zne;yy.dsnToString=RKe;yy.makeDsn=UKe});var JR=_(QR=>{Object.defineProperty(QR,"__esModule",{value:!0});var YR=class extends Error{constructor(e,r="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=r}};QR.SentryError=YR});var FS=_(md=>{Object.defineProperty(md,"__esModule",{value:!0});var XR=po();function LKe(t,e=0){return typeof t!="string"||e===0||t.length<=e?t:`${t.slice(0,e)}...`}function NKe(t,e){let r=t,i=r.length;if(i<=150)return r;e>i&&(e=i);let s=Math.max(e-60,0);s<5&&(s=0);let o=Math.min(s+140,i);return o>i-5&&(o=i),o===i&&(s=Math.max(o-140,0)),r=r.slice(s,o),s>0&&(r=`'{snip} ${r}`),o<i&&(r+=" {snip}"),r}function VKe(t,e){if(!Array.isArray(t))return"";let r=[];for(let i=0;i<t.length;i++){let s=t[i];try{r.push(String(s))}catch{r.push("[value cannot be serialized]")}}return r.join(e)}function tse(t,e,r=!1){return XR.isString(t)?XR.isRegExp(e)?e.test(t):XR.isString(e)?r?t===e:t.includes(e):!1:!1}function qKe(t,e=[],r=!1){return e.some(i=>tse(t,i,r))}md.isMatchingPattern=tse;md.safeJoin=VKe;md.snipLine=NKe;md.stringMatchesSomePattern=qKe;md.truncate=LKe});var Hp=_(Fs=>{Object.defineProperty(Fs,"__esModule",{value:!0});var BKe=$R(),Gp=po(),rse=FS();function WKe(t,e,r){if(!(e in t))return;let i=t[e],s=r(i);if(typeof s=="function")try{ose(s,i)}catch{}t[e]=s}function sse(t,e,r){Object.defineProperty(t,e,{value:r,writable:!0,configurable:!0})}function ose(t,e){let r=e.prototype||{};t.prototype=e.prototype=r,sse(t,"__sentry_original__",e)}function GKe(t){return t.__sentry_original__}function HKe(t){return Object.keys(t).map(e=>`${encodeURIComponent(e)}=${encodeURIComponent(t[e])}`).join("&")}function ase(t){if(Gp.isError(t))return{message:t.message,name:t.name,stack:t.stack,...nse(t)};if(Gp.isEvent(t)){let e={type:t.type,target:ise(t.target),currentTarget:ise(t.currentTarget),...nse(t)};return typeof CustomEvent<"u"&&Gp.isInstanceOf(t,CustomEvent)&&(e.detail=t.detail),e}else return t}function ise(t){try{return Gp.isElement(t)?BKe.htmlTreeAsString(t):Object.prototype.toString.call(t)}catch{return"<unknown>"}}function nse(t){if(typeof t=="object"&&t!==null){let e={};for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}else return{}}function KKe(t,e=40){let r=Object.keys(ase(t));if(r.sort(),!r.length)return"[object has no keys]";if(r[0].length>=e)return rse.truncate(r[0],e);for(let i=r.length;i>0;i--){let s=r.slice(0,i).join(", ");if(!(s.length>e))return i===r.length?s:rse.truncate(s,e)}return""}function $Ke(t){return ZR(t,new Map)}function ZR(t,e){if(Gp.isPlainObject(t)){let r=e.get(t);if(r!==void 0)return r;let i={};e.set(t,i);for(let s of Object.keys(t))typeof t[s]<"u"&&(i[s]=ZR(t[s],e));return i}if(Array.isArray(t)){let r=e.get(t);if(r!==void 0)return r;let i=[];return e.set(t,i),t.forEach(s=>{i.push(ZR(s,e))}),i}return t}function zKe(t){let e;switch(!0){case t==null:e=new String(t);break;case(typeof t=="symbol"||typeof t=="bigint"):e=Object(t);break;case Gp.isPrimitive(t):e=new t.constructor(t);break;default:e=t;break}return e}Fs.addNonEnumerableProperty=sse;Fs.convertToPlainObject=ase;Fs.dropUndefinedKeys=$Ke;Fs.extractExceptionKeysForMessage=KKe;Fs.fill=WKe;Fs.getOriginalFunction=GKe;Fs.markFunctionWrapped=ose;Fs.objectify=zKe;Fs.urlEncode=HKe});var lse=_(eM=>{Object.defineProperty(eM,"__esModule",{value:!0});function YKe(t){let e=/^\s*[-]{4,}$/,r=/at (?:async )?(?:(.+?)\s+\()?(?:(.+):(\d+):(\d+)?|([^)]+))\)?/;return i=>{let s=i.match(r);if(s){let o,a,u,d,p;if(s[1]){u=s[1];let O=u.lastIndexOf(".");if(u[O-1]==="."&&O--,O>0){o=u.slice(0,O),a=u.slice(O+1);let A=o.indexOf(".Module");A>0&&(u=u.slice(A+1),o=o.slice(0,A))}d=void 0}a&&(d=o,p=a),a==="<anonymous>"&&(p=void 0,u=void 0),u===void 0&&(p=p||"<anonymous>",u=d?`${d}.${p}`:p);let m=s[2]&&s[2].startsWith("file://")?s[2].slice(7):s[2],f=s[5]==="native";!m&&s[5]&&!f&&(m=s[5]);let v=!(f||m&&!m.startsWith("/")&&!m.includes(":\\")&&!m.startsWith(".")&&!m.match(/^[a-zA-Z]([a-zA-Z0-9.\-+])*:\/\//))&&m!==void 0&&!m.includes("node_modules/");return{filename:m,module:t?t(m):void 0,function:u,lineno:parseInt(s[3],10)||void 0,colno:parseInt(s[4],10)||void 0,in_app:v}}if(i.match(e))return{filename:i}}}eM.node=YKe});var PS=_(gd=>{Object.defineProperty(gd,"__esModule",{value:!0});var QKe=lse(),dse=50,use=/\(error: (.*)\)/;function cse(...t){let e=t.sort((r,i)=>r[0]-i[0]).map(r=>r[1]);return(r,i=0)=>{let s=[],o=r.split(`
`);for(let a=i;a<o.length;a++){let u=o[a];if(u.length>1024)continue;let d=use.test(u)?u.replace(use,"$1"):u;if(!d.match(/\S*Error: /)){for(let p of e){let m=p(d);if(m){s.push(m);break}}if(s.length>=dse)break}}return pse(s)}}function JKe(t){return Array.isArray(t)?cse(...t):t}function pse(t){if(!t.length)return[];let e=t.slice(0,dse),r=e[e.length-1].function;r&&/sentryWrapped/.test(r)&&e.pop(),e.reverse();let i=e[e.length-1].function;return i&&/captureMessage|captureException/.test(i)&&e.pop(),e.map(s=>({...s,filename:s.filename||e[e.length-1].filename,function:s.function||"?"}))}var tM="<anonymous>";function XKe(t){try{return!t||typeof t!="function"?tM:t.name||tM}catch{return tM}}function ZKe(t){return[90,QKe.node(t)]}gd.createStackParser=cse;gd.getFunctionName=XKe;gd.nodeStackLineParser=ZKe;gd.stackParserFromStackParserOptions=JKe;gd.stripSentryFramesAndReverse=pse});var nM=_(mo=>{Object.defineProperty(mo,"__esModule",{value:!0});var e3e=Wp(),t3e=ba(),jS=t3e.getGlobalObject();function r3e(){try{return new ErrorEvent(""),!0}catch{return!1}}function i3e(){try{return new DOMError(""),!0}catch{return!1}}function n3e(){try{return new DOMException(""),!0}catch{return!1}}function iM(){if(!("fetch"in jS))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function rM(t){return t&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function s3e(){if(!iM())return!1;if(rM(jS.fetch))return!0;let t=!1,e=jS.document;if(e&&typeof e.createElement=="function")try{let r=e.createElement("iframe");r.hidden=!0,e.head.appendChild(r),r.contentWindow&&r.contentWindow.fetch&&(t=rM(r.contentWindow.fetch)),e.head.removeChild(r)}catch(r){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&e3e.logger.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return t}function o3e(){return"ReportingObserver"in jS}function a3e(){if(!iM())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch{return!1}}mo.isNativeFetch=rM;mo.supportsDOMError=i3e;mo.supportsDOMException=n3e;mo.supportsErrorEvent=r3e;mo.supportsFetch=iM;mo.supportsNativeFetch=s3e;mo.supportsReferrerPolicy=a3e;mo.supportsReportingObserver=o3e});var oM=_(sM=>{Object.defineProperty(sM,"__esModule",{value:!0});var l3e=ba(),TS=l3e.getGlobalObject();function u3e(){let t=TS.chrome,e=t&&t.app&&t.app.runtime,r="history"in TS&&!!TS.history.pushState&&!!TS.history.replaceState;return!e&&r}sM.supportsHistory=u3e});var hse=_(xy=>{Object.defineProperty(xy,"__esModule",{value:!0});var mse=po(),lM=Wp(),go=Hp(),d3e=PS(),c3e=nM(),p3e=ba(),m3e=oM(),dr=p3e.getGlobalObject(),hy="__sentry_xhr_v2__",Iy={},gse={};function g3e(t){if(!gse[t])switch(gse[t]=!0,t){case"console":b3e();break;case"dom":O3e();break;case"xhr":h3e();break;case"fetch":y3e();break;case"history":I3e();break;case"error":S3e();break;case"unhandledrejection":D3e();break;default:(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&lM.logger.warn("unknown instrumentation type:",t);return}}function f3e(t,e){Iy[t]=Iy[t]||[],Iy[t].push(e),g3e(t)}function Ps(t,e){if(!(!t||!Iy[t]))for(let r of Iy[t]||[])try{r(e)}catch(i){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&lM.logger.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${d3e.getFunctionName(r)}
Error:`,i)}}function b3e(){"console"in dr&&lM.CONSOLE_LEVELS.forEach(function(t){t in dr.console&&go.fill(dr.console,t,function(e){return function(...r){Ps("console",{args:r,level:t}),e&&e.apply(dr.console,r)}})})}function y3e(){c3e.supportsNativeFetch()&&go.fill(dr,"fetch",function(t){return function(...e){let{method:r,url:i}=yse(e),s={args:e,fetchData:{method:r,url:i},startTimestamp:Date.now()};return Ps("fetch",{...s}),t.apply(dr,e).then(o=>(Ps("fetch",{...s,endTimestamp:Date.now(),response:o}),o),o=>{throw Ps("fetch",{...s,endTimestamp:Date.now(),error:o}),o})}})}function aM(t,e){return!!t&&typeof t=="object"&&!!t[e]}function fse(t){return typeof t=="string"?t:t?aM(t,"url")?t.url:t.toString?t.toString():"":""}function yse(t){if(t.length===0)return{method:"GET",url:""};if(t.length===2){let[r,i]=t;return{url:fse(r),method:aM(i,"method")?String(i.method).toUpperCase():"GET"}}let e=t[0];return{url:fse(e),method:aM(e,"method")?String(e.method).toUpperCase():"GET"}}function h3e(){if(!("XMLHttpRequest"in dr))return;let t=XMLHttpRequest.prototype;go.fill(t,"open",function(e){return function(...r){let i=r[1],s=this[hy]={method:mse.isString(r[0])?r[0].toUpperCase():r[0],url:r[1],request_headers:{}};mse.isString(i)&&s.method==="POST"&&i.match(/sentry_key/)&&(this.__sentry_own_request__=!0);let o=()=>{let a=this[hy];if(a&&this.readyState===4){try{a.status_code=this.status}catch{}Ps("xhr",{args:r,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:this})}};return"onreadystatechange"in this&&typeof this.onreadystatechange=="function"?go.fill(this,"onreadystatechange",function(a){return function(...u){return o(),a.apply(this,u)}}):this.addEventListener("readystatechange",o),go.fill(this,"setRequestHeader",function(a){return function(...u){let[d,p]=u,m=this[hy];return m&&(m.request_headers[d.toLowerCase()]=p),a.apply(this,u)}}),e.apply(this,r)}}),go.fill(t,"send",function(e){return function(...r){let i=this[hy];return i&&r[0]!==void 0&&(i.body=r[0]),Ps("xhr",{args:r,startTimestamp:Date.now(),xhr:this}),e.apply(this,r)}})}var CS;function I3e(){if(!m3e.supportsHistory())return;let t=dr.onpopstate;dr.onpopstate=function(...r){let i=dr.location.href,s=CS;if(CS=i,Ps("history",{from:s,to:i}),t)try{return t.apply(this,r)}catch{}};function e(r){return function(...i){let s=i.length>2?i[2]:void 0;if(s){let o=CS,a=String(s);CS=a,Ps("history",{from:o,to:a})}return r.apply(this,i)}}go.fill(dr.history,"pushState",e),go.fill(dr.history,"replaceState",e)}var x3e=1e3,ES,kS;function _3e(t,e){if(!t||t.type!==e.type)return!0;try{if(t.target!==e.target)return!0}catch{}return!1}function v3e(t){if(t.type!=="keypress")return!1;try{let e=t.target;if(!e||!e.tagName)return!0;if(e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable)return!1}catch{}return!0}function bse(t,e=!1){return r=>{if(!r||kS===r||v3e(r))return;let i=r.type==="keypress"?"input":r.type;ES===void 0?(t({event:r,name:i,global:e}),kS=r):_3e(kS,r)&&(t({event:r,name:i,global:e}),kS=r),clearTimeout(ES),ES=dr.setTimeout(()=>{ES=void 0},x3e)}}function O3e(){if(!("document"in dr))return;let t=Ps.bind(null,"dom"),e=bse(t,!0);dr.document.addEventListener("click",e,!1),dr.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach(r=>{let i=dr[r]&&dr[r].prototype;!i||!i.hasOwnProperty||!i.hasOwnProperty("addEventListener")||(go.fill(i,"addEventListener",function(s){return function(o,a,u){if(o==="click"||o=="keypress")try{let d=this,p=d.__sentry_instrumentation_handlers__=d.__sentry_instrumentation_handlers__||{},m=p[o]=p[o]||{refCount:0};if(!m.handler){let f=bse(t);m.handler=f,s.call(this,o,f,u)}m.refCount++}catch{}return s.call(this,o,a,u)}}),go.fill(i,"removeEventListener",function(s){return function(o,a,u){if(o==="click"||o=="keypress")try{let d=this,p=d.__sentry_instrumentation_handlers__||{},m=p[o];m&&(m.refCount--,m.refCount<=0&&(s.call(this,o,m.handler,u),m.handler=void 0,delete p[o]),Object.keys(p).length===0&&delete d.__sentry_instrumentation_handlers__)}catch{}return s.call(this,o,a,u)}}))})}var wS=null;function S3e(){wS=dr.onerror,dr.onerror=function(t,e,r,i,s){return Ps("error",{column:i,error:s,line:r,msg:t,url:e}),wS&&!wS.__SENTRY_LOADER__?wS.apply(this,arguments):!1},dr.onerror.__SENTRY_INSTRUMENTED__=!0}var RS=null;function D3e(){RS=dr.onunhandledrejection,dr.onunhandledrejection=function(t){return Ps("unhandledrejection",t),RS&&!RS.__SENTRY_LOADER__?RS.apply(this,arguments):!0},dr.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}xy.SENTRY_XHR_DATA_KEY=hy;xy.addInstrumentationHandler=f3e;xy.parseFetchArgs=yse});var dM=_(uM=>{Object.defineProperty(uM,"__esModule",{value:!0});function A3e(){let t=typeof WeakSet=="function",e=t?new WeakSet:[];function r(s){if(t)return e.has(s)?!0:(e.add(s),!1);for(let o=0;o<e.length;o++)if(e[o]===s)return!0;return e.push(s),!1}function i(s){if(t)e.delete(s);else for(let o=0;o<e.length;o++)if(e[o]===s){e.splice(o,1);break}}return[r,i]}uM.memoBuilder=A3e});var xse=_(fo=>{Object.defineProperty(fo,"__esModule",{value:!0});var F3e=Hp(),cM=FS(),P3e=ba();function j3e(){let t=P3e.GLOBAL_OBJ,e=t.crypto||t.msCrypto;if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");let r=e&&e.getRandomValues?()=>e.getRandomValues(new Uint8Array(1))[0]:()=>Math.random()*16;return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,i=>(i^(r()&15)>>i/4).toString(16))}function Ise(t){return t.exception&&t.exception.values?t.exception.values[0]:void 0}function T3e(t){let{message:e,event_id:r}=t;if(e)return e;let i=Ise(t);return i?i.type&&i.value?`${i.type}: ${i.value}`:i.type||i.value||r||"<unknown>":r||"<unknown>"}function C3e(t,e,r){let i=t.exception=t.exception||{},s=i.values=i.values||[],o=s[0]=s[0]||{};o.value||(o.value=e||""),o.type||(o.type=r||"Error")}function E3e(t,e){let r=Ise(t);if(!r)return;let i={type:"generic",handled:!0},s=r.mechanism;if(r.mechanism={...i,...s,...e},e&&"data"in e){let o={...s&&s.data,...e.data};r.mechanism.data=o}}var k3e=/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/;function w3e(t){let e=t.match(k3e)||[],r=parseInt(e[1],10),i=parseInt(e[2],10),s=parseInt(e[3],10);return{buildmetadata:e[5],major:isNaN(r)?void 0:r,minor:isNaN(i)?void 0:i,patch:isNaN(s)?void 0:s,prerelease:e[4]}}function R3e(t,e,r=5){if(e.lineno===void 0)return;let i=t.length,s=Math.max(Math.min(i,e.lineno-1),0);e.pre_context=t.slice(Math.max(0,s-r),s).map(o=>cM.snipLine(o,0)),e.context_line=cM.snipLine(t[Math.min(i-1,s)],e.colno||0),e.post_context=t.slice(Math.min(s+1,i),s+1+r).map(o=>cM.snipLine(o,0))}function M3e(t){if(t&&t.__sentry_captured__)return!0;try{F3e.addNonEnumerableProperty(t,"__sentry_captured__",!0)}catch{}return!1}function U3e(t){return Array.isArray(t)?t:[t]}fo.addContextToFrame=R3e;fo.addExceptionMechanism=E3e;fo.addExceptionTypeValue=C3e;fo.arrayify=U3e;fo.checkOrSetAlreadyCaught=M3e;fo.getEventDescription=T3e;fo.parseSemver=w3e;fo.uuid4=j3e});var pM=_(MS=>{Object.defineProperty(MS,"__esModule",{value:!0});function L3e(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function N3e(){return"npm"}MS.getSDKSource=N3e;MS.isBrowserBundle=L3e});var mM=_((_y,LS)=>{Object.defineProperty(_y,"__esModule",{value:!0});var V3e=pM();function q3e(){return!V3e.isBrowserBundle()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function US(t,e){return t.require(e)}function B3e(t){let e;try{e=US(LS,t)}catch{}try{let{cwd:r}=US(LS,"process");e=US(LS,`${r()}/node_modules/${t}`)}catch{}return e}_y.dynamicRequire=US;_y.isNodeEnv=q3e;_y.loadModule=B3e});var VS=_(vy=>{Object.defineProperty(vy,"__esModule",{value:!0});var _se=po(),W3e=dM(),G3e=Hp(),H3e=PS();function vse(t,e=100,r=1/0){try{return NS("",t,e,r)}catch(i){return{ERROR:`**non-serializable** (${i})`}}}function Ose(t,e=3,r=100*1024){let i=vse(t,e);return Y3e(i)>r?Ose(t,e-1,r):i}function NS(t,e,r=1/0,i=1/0,s=W3e.memoBuilder()){let[o,a]=s;if(e==null||["number","boolean","string"].includes(typeof e)&&!_se.isNaN(e))return e;let u=K3e(t,e);if(!u.startsWith("[object "))return u;if(e.__sentry_skip_normalization__)return e;let d=typeof e.__sentry_override_normalization_depth__=="number"?e.__sentry_override_normalization_depth__:r;if(d===0)return u.replace("object ","");if(o(e))return"[Circular ~]";let p=e;if(p&&typeof p.toJSON=="function")try{let v=p.toJSON();return NS("",v,d-1,i,s)}catch{}let m=Array.isArray(e)?[]:{},f=0,y=G3e.convertToPlainObject(e);for(let v in y){if(!Object.prototype.hasOwnProperty.call(y,v))continue;if(f>=i){m[v]="[MaxProperties ~]";break}let O=y[v];m[v]=NS(v,O,d-1,i,s),f++}return a(e),m}function K3e(t,e){try{if(t==="domain"&&e&&typeof e=="object"&&e._events)return"[Domain]";if(t==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&e===global)return"[Global]";if(typeof window<"u"&&e===window)return"[Window]";if(typeof document<"u"&&e===document)return"[Document]";if(_se.isSyntheticEvent(e))return"[SyntheticEvent]";if(typeof e=="number"&&e!==e)return"[NaN]";if(typeof e=="function")return`[Function: ${H3e.getFunctionName(e)}]`;if(typeof e=="symbol")return`[${String(e)}]`;if(typeof e=="bigint")return`[BigInt: ${String(e)}]`;let r=$3e(e);return/^HTML(\w*)Element$/.test(r)?`[HTMLElement: ${r}]`:`[object ${r}]`}catch(r){return`**non-serializable** (${r})`}}function $3e(t){let e=Object.getPrototypeOf(t);return e?e.constructor.name:"null prototype"}function z3e(t){return~-encodeURI(t).split(/%..|./).length}function Y3e(t){return z3e(JSON.stringify(t))}vy.normalize=vse;vy.normalizeToSize=Ose;vy.walk=NS});var jse=_(ya=>{Object.defineProperty(ya,"__esModule",{value:!0});function Dse(t,e){let r=0;for(let i=t.length-1;i>=0;i--){let s=t[i];s==="."?t.splice(i,1):s===".."?(t.splice(i,1),r++):r&&(t.splice(i,1),r--)}if(e)for(;r--;r)t.unshift("..");return t}var Q3e=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^/]+?|)(\.[^./]*|))(?:[/]*)$/;function Ase(t){let e=Q3e.exec(t);return e?e.slice(1):[]}function gM(...t){let e="",r=!1;for(let i=t.length-1;i>=-1&&!r;i--){let s=i>=0?t[i]:"/";s&&(e=`${s}/${e}`,r=s.charAt(0)==="/")}return e=Dse(e.split("/").filter(i=>!!i),!r).join("/"),(r?"/":"")+e||"."}function Sse(t){let e=0;for(;e<t.length&&t[e]==="";e++);let r=t.length-1;for(;r>=0&&t[r]==="";r--);return e>r?[]:t.slice(e,r-e+1)}function J3e(t,e){t=gM(t).slice(1),e=gM(e).slice(1);let r=Sse(t.split("/")),i=Sse(e.split("/")),s=Math.min(r.length,i.length),o=s;for(let u=0;u<s;u++)if(r[u]!==i[u]){o=u;break}let a=[];for(let u=o;u<r.length;u++)a.push("..");return a=a.concat(i.slice(o)),a.join("/")}function Fse(t){let e=Pse(t),r=t.slice(-1)==="/",i=Dse(t.split("/").filter(s=>!!s),!e).join("/");return!i&&!e&&(i="."),i&&r&&(i+="/"),(e?"/":"")+i}function Pse(t){return t.charAt(0)==="/"}function X3e(...t){return Fse(t.join("/"))}function Z3e(t){let e=Ase(t),r=e[0],i=e[1];return!r&&!i?".":(i&&(i=i.slice(0,i.length-1)),r+i)}function e$e(t,e){let r=Ase(t)[2];return e&&r.slice(e.length*-1)===e&&(r=r.slice(0,r.length-e.length)),r}ya.basename=e$e;ya.dirname=Z3e;ya.isAbsolute=Pse;ya.join=X3e;ya.normalizePath=Fse;ya.relative=J3e;ya.resolve=gM});var fM=_(Oy=>{Object.defineProperty(Oy,"__esModule",{value:!0});var t$e=po(),ha;(function(t){t[t.PENDING=0]="PENDING";let r=1;t[t.RESOLVED=r]="RESOLVED";let i=2;t[t.REJECTED=i]="REJECTED"})(ha||(ha={}));function r$e(t){return new sn(e=>{e(t)})}function i$e(t){return new sn((e,r)=>{r(t)})}var sn=class{__init(){this._state=ha.PENDING}__init2(){this._handlers=[]}constructor(e){sn.prototype.__init.call(this),sn.prototype.__init2.call(this),sn.prototype.__init3.call(this),sn.prototype.__init4.call(this),sn.prototype.__init5.call(this),sn.prototype.__init6.call(this);try{e(this._resolve,this._reject)}catch(r){this._reject(r)}}then(e,r){return new sn((i,s)=>{this._handlers.push([!1,o=>{if(!e)i(o);else try{i(e(o))}catch(a){s(a)}},o=>{if(!r)s(o);else try{i(r(o))}catch(a){s(a)}}]),this._executeHandlers()})}catch(e){return this.then(r=>r,e)}finally(e){return new sn((r,i)=>{let s,o;return this.then(a=>{o=!1,s=a,e&&e()},a=>{o=!0,s=a,e&&e()}).then(()=>{if(o){i(s);return}r(s)})})}__init3(){this._resolve=e=>{this._setResult(ha.RESOLVED,e)}}__init4(){this._reject=e=>{this._setResult(ha.REJECTED,e)}}__init5(){this._setResult=(e,r)=>{if(this._state===ha.PENDING){if(t$e.isThenable(r)){r.then(this._resolve,this._reject);return}this._state=e,this._value=r,this._executeHandlers()}}}__init6(){this._executeHandlers=()=>{if(this._state===ha.PENDING)return;let e=this._handlers.slice();this._handlers=[],e.forEach(r=>{r[0]||(this._state===ha.RESOLVED&&r[1](this._value),this._state===ha.REJECTED&&r[2](this._value),r[0]=!0)})}}};Oy.SyncPromise=sn;Oy.rejectedSyncPromise=i$e;Oy.resolvedSyncPromise=r$e});var Tse=_(yM=>{Object.defineProperty(yM,"__esModule",{value:!0});var n$e=JR(),bM=fM();function s$e(t){let e=[];function r(){return t===void 0||e.length<t}function i(a){return e.splice(e.indexOf(a),1)[0]}function s(a){if(!r())return bM.rejectedSyncPromise(new n$e.SentryError("Not adding Promise because buffer limit was reached."));let u=a();return e.indexOf(u)===-1&&e.push(u),u.then(()=>i(u)).then(null,()=>i(u).then(null,()=>{})),u}function o(a){return new bM.SyncPromise((u,d)=>{let p=e.length;if(!p)return u(!0);let m=setTimeout(()=>{a&&a>0&&u(!1)},a);e.forEach(f=>{bM.resolvedSyncPromise(f).then(()=>{--p||(clearTimeout(m),u(!0))},d)})})}return{$:e,add:s,drain:o}}yM.makePromiseBuffer=s$e});var hM=_(Kp=>{Object.defineProperty(Kp,"__esModule",{value:!0});function o$e(t){if(!t)return{};let e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};let r=e[6]||"",i=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],search:r,hash:i,relative:e[5]+r+i}}function a$e(t){return t.split(/[\?#]/,1)[0]}function l$e(t){return t.split(/\\?\//).filter(e=>e.length>0&&e!==",").length}function u$e(t){let{protocol:e,host:r,path:i}=t,s=r&&r.replace(/^.*@/,"[filtered]:[filtered]@").replace(":80","").replace(":443","")||"";return`${e?`${e}://`:""}${s}${i}`}Kp.getNumberOfUrlSegments=l$e;Kp.getSanitizedUrlString=u$e;Kp.parseUrl=o$e;Kp.stripUrlQueryAndFragment=a$e});var kse=_($p=>{Object.defineProperty($p,"__esModule",{value:!0});var Cse=po(),d$e=VS(),c$e=hM(),p$e={ip:!1,request:!0,transaction:!0,user:!0},m$e=["cookies","data","headers","method","query_string","url"],g$e=["id","username","email"];function f$e(t,e,r){t&&((!t.metadata.source||t.metadata.source==="url")&&t.setName(...qS(e,{path:!0,method:!0})),t.setData("url",e.originalUrl||e.url),e.baseUrl&&t.setData("baseUrl",e.baseUrl),t.setData("query",Ese(e,r)))}function qS(t,e={}){let r=t.method&&t.method.toUpperCase(),i="",s="url";e.customRoute||t.route?(i=e.customRoute||`${t.baseUrl||""}${t.route&&t.route.path}`,s="route"):(t.originalUrl||t.url)&&(i=c$e.stripUrlQueryAndFragment(t.originalUrl||t.url||""));let o="";return e.method&&r&&(o+=r),e.method&&e.path&&(o+=" "),e.path&&i&&(o+=i),[o,s]}function b$e(t,e){switch(e){case"path":return qS(t,{path:!0})[0];case"handler":return t.route&&t.route.stack&&t.route.stack[0]&&t.route.stack[0].name||"<anonymous>";case"methodPath":default:return qS(t,{path:!0,method:!0})[0]}}function y$e(t,e){let r={};return(Array.isArray(e)?e:g$e).forEach(s=>{t&&s in t&&(r[s]=t[s])}),r}function IM(t,e){let{include:r=m$e,deps:i}=e||{},s={},o=t.headers||{},a=t.method,u=t.hostname||t.host||o.host||"<no host>",d=t.protocol==="https"||t.socket&&t.socket.encrypted?"https":"http",p=t.originalUrl||t.url||"",m=`${d}://${u}${p}`;return r.forEach(f=>{switch(f){case"headers":{s.headers=o;break}case"method":{s.method=a;break}case"url":{s.url=m;break}case"cookies":{s.cookies=t.cookies||o.cookie&&i&&i.cookie&&i.cookie.parse(o.cookie)||{};break}case"query_string":{s.query_string=Ese(t,i);break}case"data":{if(a==="GET"||a==="HEAD")break;t.body!==void 0&&(s.data=Cse.isString(t.body)?t.body:JSON.stringify(d$e.normalize(t.body)));break}default:({}).hasOwnProperty.call(t,f)&&(s[f]=t[f])}}),s}function h$e(t,e,r){let i={...p$e,...r&&r.include};if(i.request){let s=Array.isArray(i.request)?IM(e,{include:i.request,deps:r&&r.deps}):IM(e,{deps:r&&r.deps});t.request={...t.request,...s}}if(i.user){let s=e.user&&Cse.isPlainObject(e.user)?y$e(e.user,i.user):{};Object.keys(s).length&&(t.user={...t.user,...s})}if(i.ip){let s=e.ip||e.socket&&e.socket.remoteAddress;s&&(t.user={...t.user,ip_address:s})}return i.transaction&&!t.transaction&&(t.transaction=b$e(e,i.transaction)),t}function Ese(t,e){let r=t.originalUrl||t.url||"";if(r)return r.startsWith("/")&&(r=`http://dogs.are.great${r}`),t.query||typeof URL!==void 0&&new URL(r).search.replace("?","")||e&&e.url&&e.url.parse(r).query||void 0}$p.addRequestDataToEvent=h$e;$p.addRequestDataToTransaction=f$e;$p.extractPathForTransaction=qS;$p.extractRequestData=IM});var Mse=_(Sy=>{Object.defineProperty(Sy,"__esModule",{value:!0});var wse=["fatal","error","warning","log","info","debug"];function I$e(t){return Rse(t)}function Rse(t){return t==="warn"?"warning":wse.includes(t)?t:"log"}Sy.severityFromString=I$e;Sy.severityLevelFromString=Rse;Sy.validSeverityLevels=wse});var _M=_((is,qse)=>{Object.defineProperty(is,"__esModule",{value:!0});var Lse=mM(),x$e=ba(),Nse=x$e.getGlobalObject(),xM={nowSeconds:()=>Date.now()/1e3};function _$e(){let{performance:t}=Nse;if(!t||!t.now)return;let e=Date.now()-t.now();return{now:()=>t.now(),timeOrigin:e}}function v$e(){try{return Lse.dynamicRequire(qse,"perf_hooks").performance}catch{return}}var BS=Lse.isNodeEnv()?v$e():_$e(),Use=BS===void 0?xM:{nowSeconds:()=>(BS.timeOrigin+BS.now())/1e3},O$e=xM.nowSeconds.bind(xM),Vse=Use.nowSeconds.bind(Use),S$e=Vse,D$e=BS!==void 0;is._browserPerformanceTimeOriginMode=void 0;var A$e=(()=>{let{performance:t}=Nse;if(!t||!t.now){is._browserPerformanceTimeOriginMode="none";return}let e=3600*1e3,r=t.now(),i=Date.now(),s=t.timeOrigin?Math.abs(t.timeOrigin+r-i):e,o=s<e,a=t.timing&&t.timing.navigationStart,d=typeof a=="number"?Math.abs(a+r-i):e,p=d<e;return o||p?s<=d?(is._browserPerformanceTimeOriginMode="timeOrigin",t.timeOrigin):(is._browserPerformanceTimeOriginMode="navigationStart",a):(is._browserPerformanceTimeOriginMode="dateNow",i)})();is.browserPerformanceTimeOrigin=A$e;is.dateTimestampInSeconds=O$e;is.timestampInSeconds=Vse;is.timestampWithMs=S$e;is.usingPerformanceAPI=D$e});var Wse=_(WS=>{Object.defineProperty(WS,"__esModule",{value:!0});var Bse=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function F$e(t){let e=t.match(Bse);if(!t||!e)return;let r;return e[3]==="1"?r=!0:e[3]==="0"&&(r=!1),{traceId:e[1],parentSampled:r,parentSpanId:e[2]}}WS.TRACEPARENT_REGEXP=Bse;WS.extractTraceparentData=F$e});var OM=_(ns=>{Object.defineProperty(ns,"__esModule",{value:!0});var P$e=zR(),j$e=VS(),Gse=Hp();function T$e(t,e=[]){return[t,e]}function C$e(t,e){let[r,i]=t;return[r,[...i,e]]}function Hse(t,e){let r=t[1];for(let i of r){let s=i[0].type;if(e(i,s))return!0}return!1}function E$e(t,e){return Hse(t,(r,i)=>e.includes(i))}function vM(t,e){return(e||new TextEncoder).encode(t)}function k$e(t,e){let[r,i]=t,s=JSON.stringify(r);function o(a){typeof s=="string"?s=typeof a=="string"?s+a:[vM(s,e),a]:s.push(typeof a=="string"?vM(a,e):a)}for(let a of i){let[u,d]=a;if(o(`
${JSON.stringify(u)}
`),typeof d=="string"||d instanceof Uint8Array)o(d);else{let p;try{p=JSON.stringify(d)}catch{p=JSON.stringify(j$e.normalize(d))}o(p)}}return typeof s=="string"?s:w$e(s)}function w$e(t){let e=t.reduce((s,o)=>s+o.length,0),r=new Uint8Array(e),i=0;for(let s of t)r.set(s,i),i+=s.length;return r}function R$e(t,e,r){let i=typeof t=="string"?e.encode(t):t;function s(d){let p=i.subarray(0,d);return i=i.subarray(d+1),p}function o(){let d=i.indexOf(10);return d<0&&(d=i.length),JSON.parse(r.decode(s(d)))}let a=o(),u=[];for(;i.length;){let d=o(),p=typeof d.length=="number"?d.length:void 0;u.push([d,p?s(p):o()])}return[a,u]}function M$e(t,e){let r=typeof t.data=="string"?vM(t.data,e):t.data;return[Gse.dropUndefinedKeys({type:"attachment",length:r.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType}),r]}var U$e={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor"};function L$e(t){return U$e[t]}function N$e(t){if(!t||!t.sdk)return;let{name:e,version:r}=t.sdk;return{name:e,version:r}}function V$e(t,e,r,i){let s=t.sdkProcessingMetadata&&t.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:t.event_id,sent_at:new Date().toISOString(),...e&&{sdk:e},...!!r&&{dsn:P$e.dsnToString(i)},...s&&{trace:Gse.dropUndefinedKeys({...s})}}}ns.addItemToEnvelope=C$e;ns.createAttachmentEnvelopeItem=M$e;ns.createEnvelope=T$e;ns.createEventEnvelopeHeaders=V$e;ns.envelopeContainsItemType=E$e;ns.envelopeItemTypeToDataCategory=L$e;ns.forEachEnvelopeItem=Hse;ns.getSdkMetadataForEnvelopeHeader=N$e;ns.parseEnvelope=R$e;ns.serializeEnvelope=k$e});var Kse=_(SM=>{Object.defineProperty(SM,"__esModule",{value:!0});var q$e=OM(),B$e=_M();function W$e(t,e,r){let i=[{type:"client_report"},{timestamp:r||B$e.dateTimestampInSeconds(),discarded_events:t}];return q$e.createEnvelope(e?{dsn:e}:{},[i])}SM.createClientReportEnvelope=W$e});var Qse=_(fd=>{Object.defineProperty(fd,"__esModule",{value:!0});var $se=60*1e3;function zse(t,e=Date.now()){let r=parseInt(`${t}`,10);if(!isNaN(r))return r*1e3;let i=Date.parse(`${t}`);return isNaN(i)?$se:i-e}function Yse(t,e){return t[e]||t.all||0}function G$e(t,e,r=Date.now()){return Yse(t,e)>r}function H$e(t,{statusCode:e,headers:r},i=Date.now()){let s={...t},o=r&&r["x-sentry-rate-limits"],a=r&&r["retry-after"];if(o)for(let u of o.trim().split(",")){let[d,p]=u.split(":",2),m=parseInt(d,10),f=(isNaN(m)?60:m)*1e3;if(!p)s.all=i+f;else for(let y of p.split(";"))s[y]=i+f}else a?s.all=i+zse(a,i):e===429&&(s.all=i+60*1e3);return s}fd.DEFAULT_RETRY_AFTER=$se;fd.disabledUntil=Yse;fd.isRateLimited=G$e;fd.parseRetryAfterHeader=zse;fd.updateRateLimits=H$e});var eoe=_(kl=>{Object.defineProperty(kl,"__esModule",{value:!0});var K$e=po(),$$e=Wp(),z$e="baggage",DM="sentry-",Xse=/^sentry-/,Zse=8192;function Y$e(t){if(!K$e.isString(t)&&!Array.isArray(t))return;let e={};if(Array.isArray(t))e=t.reduce((i,s)=>{let o=Jse(s);return{...i,...o}},{});else{if(!t)return;e=Jse(t)}let r=Object.entries(e).reduce((i,[s,o])=>{if(s.match(Xse)){let a=s.slice(DM.length);i[a]=o}return i},{});if(Object.keys(r).length>0)return r}function Q$e(t){let e=Object.entries(t).reduce((r,[i,s])=>(s&&(r[`${DM}${i}`]=s),r),{});return J$e(e)}function Jse(t){return t.split(",").map(e=>e.split("=").map(r=>decodeURIComponent(r.trim()))).reduce((e,[r,i])=>(e[r]=i,e),{})}function J$e(t){if(Object.keys(t).length!==0)return Object.entries(t).reduce((e,[r,i],s)=>{let o=`${encodeURIComponent(r)}=${encodeURIComponent(i)}`,a=s===0?o:`${e},${o}`;return a.length>Zse?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&$$e.logger.warn(`Not adding key: ${r} with val: ${i} to baggage header due to exceeding baggage size limits.`),e):a},"")}kl.BAGGAGE_HEADER_NAME=z$e;kl.MAX_BAGGAGE_STRING_LENGTH=Zse;kl.SENTRY_BAGGAGE_KEY_PREFIX=DM;kl.SENTRY_BAGGAGE_KEY_PREFIX_REGEX=Xse;kl.baggageHeaderToDynamicSamplingContext=Y$e;kl.dynamicSamplingContextToSentryBaggageHeader=Q$e});var ioe=_(AM=>{Object.defineProperty(AM,"__esModule",{value:!0});function toe(t,e,r){let i=e.match(/([a-z_]+)\.(.*)/i);if(i===null)t[e]=r;else{let s=t[i[1]];toe(s,i[2],r)}}function X$e(t,e,r={}){return Array.isArray(e)?roe(t,e,r):Z$e(t,e,r)}function roe(t,e,r){let i=e.find(s=>s.name===t.name);if(i){for(let[s,o]of Object.entries(r))toe(i,s,o);return e}return[...e,t]}function Z$e(t,e,r){return s=>{let o=e(s);return t.allowExclusionByUser&&!o.find(u=>u.name===t.name)?o:roe(t,o,r)}}AM.addOrUpdateIntegration=X$e});var noe=_(FM=>{Object.defineProperty(FM,"__esModule",{value:!0});function e4e(t){return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}FM.escapeStringForRegex=e4e});var Pe=_(J=>{Object.defineProperty(J,"__esModule",{value:!0});var PM=$R(),jM=zR(),t4e=JR(),TM=ba(),CM=hse(),on=po(),EM=Wp(),r4e=dM(),wl=xse(),kM=mM(),wM=VS(),Ia=Hp(),bd=jse(),i4e=Tse(),GS=kse(),RM=Mse(),Dy=PS(),Ay=FS(),Rl=nM(),MM=fM(),zp=_M(),soe=Wse(),ooe=pM(),bo=OM(),n4e=Kse(),Fy=Qse(),Yp=eoe(),HS=hM(),s4e=ioe(),o4e=noe(),a4e=oM();J.getDomElement=PM.getDomElement;J.getLocationHref=PM.getLocationHref;J.htmlTreeAsString=PM.htmlTreeAsString;J.dsnFromString=jM.dsnFromString;J.dsnToString=jM.dsnToString;J.makeDsn=jM.makeDsn;J.SentryError=t4e.SentryError;J.GLOBAL_OBJ=TM.GLOBAL_OBJ;J.getGlobalObject=TM.getGlobalObject;J.getGlobalSingleton=TM.getGlobalSingleton;J.SENTRY_XHR_DATA_KEY=CM.SENTRY_XHR_DATA_KEY;J.addInstrumentationHandler=CM.addInstrumentationHandler;J.parseFetchArgs=CM.parseFetchArgs;J.isDOMError=on.isDOMError;J.isDOMException=on.isDOMException;J.isElement=on.isElement;J.isError=on.isError;J.isErrorEvent=on.isErrorEvent;J.isEvent=on.isEvent;J.isInstanceOf=on.isInstanceOf;J.isNaN=on.isNaN;J.isPlainObject=on.isPlainObject;J.isPrimitive=on.isPrimitive;J.isRegExp=on.isRegExp;J.isString=on.isString;J.isSyntheticEvent=on.isSyntheticEvent;J.isThenable=on.isThenable;J.CONSOLE_LEVELS=EM.CONSOLE_LEVELS;J.consoleSandbox=EM.consoleSandbox;Object.defineProperty(J,"logger",{enumerable:!0,get:()=>EM.logger});J.memoBuilder=r4e.memoBuilder;J.addContextToFrame=wl.addContextToFrame;J.addExceptionMechanism=wl.addExceptionMechanism;J.addExceptionTypeValue=wl.addExceptionTypeValue;J.arrayify=wl.arrayify;J.checkOrSetAlreadyCaught=wl.checkOrSetAlreadyCaught;J.getEventDescription=wl.getEventDescription;J.parseSemver=wl.parseSemver;J.uuid4=wl.uuid4;J.dynamicRequire=kM.dynamicRequire;J.isNodeEnv=kM.isNodeEnv;J.loadModule=kM.loadModule;J.normalize=wM.normalize;J.normalizeToSize=wM.normalizeToSize;J.walk=wM.walk;J.addNonEnumerableProperty=Ia.addNonEnumerableProperty;J.convertToPlainObject=Ia.convertToPlainObject;J.dropUndefinedKeys=Ia.dropUndefinedKeys;J.extractExceptionKeysForMessage=Ia.extractExceptionKeysForMessage;J.fill=Ia.fill;J.getOriginalFunction=Ia.getOriginalFunction;J.markFunctionWrapped=Ia.markFunctionWrapped;J.objectify=Ia.objectify;J.urlEncode=Ia.urlEncode;J.basename=bd.basename;J.dirname=bd.dirname;J.isAbsolute=bd.isAbsolute;J.join=bd.join;J.normalizePath=bd.normalizePath;J.relative=bd.relative;J.resolve=bd.resolve;J.makePromiseBuffer=i4e.makePromiseBuffer;J.addRequestDataToEvent=GS.addRequestDataToEvent;J.addRequestDataToTransaction=GS.addRequestDataToTransaction;J.extractPathForTransaction=GS.extractPathForTransaction;J.extractRequestData=GS.extractRequestData;J.severityFromString=RM.severityFromString;J.severityLevelFromString=RM.severityLevelFromString;J.validSeverityLevels=RM.validSeverityLevels;J.createStackParser=Dy.createStackParser;J.getFunctionName=Dy.getFunctionName;J.nodeStackLineParser=Dy.nodeStackLineParser;J.stackParserFromStackParserOptions=Dy.stackParserFromStackParserOptions;J.stripSentryFramesAndReverse=Dy.stripSentryFramesAndReverse;J.isMatchingPattern=Ay.isMatchingPattern;J.safeJoin=Ay.safeJoin;J.snipLine=Ay.snipLine;J.stringMatchesSomePattern=Ay.stringMatchesSomePattern;J.truncate=Ay.truncate;J.isNativeFetch=Rl.isNativeFetch;J.supportsDOMError=Rl.supportsDOMError;J.supportsDOMException=Rl.supportsDOMException;J.supportsErrorEvent=Rl.supportsErrorEvent;J.supportsFetch=Rl.supportsFetch;J.supportsNativeFetch=Rl.supportsNativeFetch;J.supportsReferrerPolicy=Rl.supportsReferrerPolicy;J.supportsReportingObserver=Rl.supportsReportingObserver;J.SyncPromise=MM.SyncPromise;J.rejectedSyncPromise=MM.rejectedSyncPromise;J.resolvedSyncPromise=MM.resolvedSyncPromise;Object.defineProperty(J,"_browserPerformanceTimeOriginMode",{enumerable:!0,get:()=>zp._browserPerformanceTimeOriginMode});J.browserPerformanceTimeOrigin=zp.browserPerformanceTimeOrigin;J.dateTimestampInSeconds=zp.dateTimestampInSeconds;J.timestampInSeconds=zp.timestampInSeconds;J.timestampWithMs=zp.timestampWithMs;J.usingPerformanceAPI=zp.usingPerformanceAPI;J.TRACEPARENT_REGEXP=soe.TRACEPARENT_REGEXP;J.extractTraceparentData=soe.extractTraceparentData;J.getSDKSource=ooe.getSDKSource;J.isBrowserBundle=ooe.isBrowserBundle;J.addItemToEnvelope=bo.addItemToEnvelope;J.createAttachmentEnvelopeItem=bo.createAttachmentEnvelopeItem;J.createEnvelope=bo.createEnvelope;J.createEventEnvelopeHeaders=bo.createEventEnvelopeHeaders;J.envelopeContainsItemType=bo.envelopeContainsItemType;J.envelopeItemTypeToDataCategory=bo.envelopeItemTypeToDataCategory;J.forEachEnvelopeItem=bo.forEachEnvelopeItem;J.getSdkMetadataForEnvelopeHeader=bo.getSdkMetadataForEnvelopeHeader;J.parseEnvelope=bo.parseEnvelope;J.serializeEnvelope=bo.serializeEnvelope;J.createClientReportEnvelope=n4e.createClientReportEnvelope;J.DEFAULT_RETRY_AFTER=Fy.DEFAULT_RETRY_AFTER;J.disabledUntil=Fy.disabledUntil;J.isRateLimited=Fy.isRateLimited;J.parseRetryAfterHeader=Fy.parseRetryAfterHeader;J.updateRateLimits=Fy.updateRateLimits;J.BAGGAGE_HEADER_NAME=Yp.BAGGAGE_HEADER_NAME;J.MAX_BAGGAGE_STRING_LENGTH=Yp.MAX_BAGGAGE_STRING_LENGTH;J.SENTRY_BAGGAGE_KEY_PREFIX=Yp.SENTRY_BAGGAGE_KEY_PREFIX;J.SENTRY_BAGGAGE_KEY_PREFIX_REGEX=Yp.SENTRY_BAGGAGE_KEY_PREFIX_REGEX;J.baggageHeaderToDynamicSamplingContext=Yp.baggageHeaderToDynamicSamplingContext;J.dynamicSamplingContextToSentryBaggageHeader=Yp.dynamicSamplingContextToSentryBaggageHeader;J.getNumberOfUrlSegments=HS.getNumberOfUrlSegments;J.getSanitizedUrlString=HS.getSanitizedUrlString;J.parseUrl=HS.parseUrl;J.stripUrlQueryAndFragment=HS.stripUrlQueryAndFragment;J.addOrUpdateIntegration=s4e.addOrUpdateIntegration;J.escapeStringForRegex=o4e.escapeStringForRegex;J.supportsHistory=a4e.supportsHistory});var Py=_(UM=>{Object.defineProperty(UM,"__esModule",{value:!0});var l4e="production";UM.DEFAULT_ENVIRONMENT=l4e});var Cy=_(Ty=>{Object.defineProperty(Ty,"__esModule",{value:!0});var jy=Pe();function u4e(t){let e=jy.timestampInSeconds(),r={sid:jy.uuid4(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>c4e(r)};return t&&LM(r,t),r}function LM(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),!t.did&&!e.did&&(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||jy.timestampInSeconds(),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=e.sid.length===32?e.sid:jy.uuid4()),e.init!==void 0&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),typeof e.started=="number"&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if(typeof e.duration=="number")t.duration=e.duration;else{let r=t.timestamp-t.started;t.duration=r>=0?r:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),typeof e.errors=="number"&&(t.errors=e.errors),e.status&&(t.status=e.status)}function d4e(t,e){let r={};e?r={status:e}:t.status==="ok"&&(r={status:"exited"}),LM(t,r)}function c4e(t){return jy.dropUndefinedKeys({sid:`${t.sid}`,init:t.init,started:new Date(t.started*1e3).toISOString(),timestamp:new Date(t.timestamp*1e3).toISOString(),status:t.status,errors:t.errors,did:typeof t.did=="number"||typeof t.did=="string"?`${t.did}`:void 0,duration:t.duration,attrs:{release:t.release,environment:t.environment,ip_address:t.ipAddress,user_agent:t.userAgent}})}Ty.closeSession=d4e;Ty.makeSession=u4e;Ty.updateSession=LM});var Ey=_(KS=>{Object.defineProperty(KS,"__esModule",{value:!0});var yd=Pe(),p4e=Cy(),m4e=100,hd=class{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={}}static clone(e){let r=new hd;return e&&(r._breadcrumbs=[...e._breadcrumbs],r._tags={...e._tags},r._extra={...e._extra},r._contexts={...e._contexts},r._user=e._user,r._level=e._level,r._span=e._span,r._session=e._session,r._transactionName=e._transactionName,r._fingerprint=e._fingerprint,r._eventProcessors=[...e._eventProcessors],r._requestSession=e._requestSession,r._attachments=[...e._attachments],r._sdkProcessingMetadata={...e._sdkProcessingMetadata}),r}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{},this._session&&p4e.updateSession(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,r){return this._tags={...this._tags,[e]:r},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,r){return this._extra={...this._extra,[e]:r},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,r){return r===null?delete this._contexts[e]:this._contexts[e]=r,this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){let e=this.getSpan();return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;if(typeof e=="function"){let r=e(this);return r instanceof hd?r:this}return e instanceof hd?(this._tags={...this._tags,...e._tags},this._extra={...this._extra,...e._extra},this._contexts={...this._contexts,...e._contexts},e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint),e._requestSession&&(this._requestSession=e._requestSession)):yd.isPlainObject(e)&&(e=e,this._tags={...this._tags,...e.tags},this._extra={...this._extra,...e.extra},this._contexts={...this._contexts,...e.contexts},e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint),e.requestSession&&(this._requestSession=e.requestSession)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this}addBreadcrumb(e,r){let i=typeof r=="number"?r:m4e;if(i<=0)return this;let s={timestamp:yd.dateTimestampInSeconds(),...e};return this._breadcrumbs=[...this._breadcrumbs,s].slice(-i),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(e,r={}){if(this._extra&&Object.keys(this._extra).length&&(e.extra={...this._extra,...e.extra}),this._tags&&Object.keys(this._tags).length&&(e.tags={...this._tags,...e.tags}),this._user&&Object.keys(this._user).length&&(e.user={...this._user,...e.user}),this._contexts&&Object.keys(this._contexts).length&&(e.contexts={...this._contexts,...e.contexts}),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts={trace:this._span.getTraceContext(),...e.contexts};let i=this._span.transaction;if(i){e.sdkProcessingMetadata={dynamicSamplingContext:i.getDynamicSamplingContext(),...e.sdkProcessingMetadata};let s=i.name;s&&(e.tags={transaction:s,...e.tags})}}return this._applyFingerprint(e),e.breadcrumbs=[...e.breadcrumbs||[],...this._breadcrumbs],e.breadcrumbs=e.breadcrumbs.length>0?e.breadcrumbs:void 0,e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...this._sdkProcessingMetadata},this._notifyEventProcessors([...aoe(),...this._eventProcessors],e,r)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}_notifyEventProcessors(e,r,i,s=0){return new yd.SyncPromise((o,a)=>{let u=e[s];if(r===null||typeof u!="function")o(r);else{let d=u({...r},i);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&u.id&&d===null&&yd.logger.log(`Event processor "${u.id}" dropped event`),yd.isThenable(d)?d.then(p=>this._notifyEventProcessors(e,p,i,s+1).then(o)).then(null,a):this._notifyEventProcessors(e,d,i,s+1).then(o).then(null,a)}})}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}_applyFingerprint(e){e.fingerprint=e.fingerprint?yd.arrayify(e.fingerprint):[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}};function aoe(){return yd.getGlobalSingleton("globalEventProcessors",()=>[])}function g4e(t){aoe().push(t)}KS.Scope=hd;KS.addGlobalEventProcessor=g4e});var js=_(os=>{Object.defineProperty(os,"__esModule",{value:!0});var ss=Pe(),f4e=Py(),VM=Ey(),NM=Cy(),$S=4,b4e=100,Qp=class{constructor(e,r=new VM.Scope,i=$S){this._version=i,this._stack=[{scope:r}],e&&this.bindClient(e)}isOlderThan(e){return this._version<e}bindClient(e){let r=this.getStackTop();r.client=e,e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){let e=VM.Scope.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(e){let r=this.pushScope();try{e(r)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,r){let i=this._lastEventId=r&&r.event_id?r.event_id:ss.uuid4(),s=new Error("Sentry syntheticException");return this._withClient((o,a)=>{o.captureException(e,{originalException:e,syntheticException:s,...r,event_id:i},a)}),i}captureMessage(e,r,i){let s=this._lastEventId=i&&i.event_id?i.event_id:ss.uuid4(),o=new Error(e);return this._withClient((a,u)=>{a.captureMessage(e,r,{originalException:e,syntheticException:o,...i,event_id:s},u)}),s}captureEvent(e,r){let i=r&&r.event_id?r.event_id:ss.uuid4();return e.type||(this._lastEventId=i),this._withClient((s,o)=>{s.captureEvent(e,{...r,event_id:i},o)}),i}lastEventId(){return this._lastEventId}addBreadcrumb(e,r){let{scope:i,client:s}=this.getStackTop();if(!s)return;let{beforeBreadcrumb:o=null,maxBreadcrumbs:a=b4e}=s.getOptions&&s.getOptions()||{};if(a<=0)return;let d={timestamp:ss.dateTimestampInSeconds(),...e},p=o?ss.consoleSandbox(()=>o(d,r)):d;p!==null&&(s.emit&&s.emit("beforeAddBreadcrumb",p,r),i.addBreadcrumb(p,a))}setUser(e){this.getScope().setUser(e)}setTags(e){this.getScope().setTags(e)}setExtras(e){this.getScope().setExtras(e)}setTag(e,r){this.getScope().setTag(e,r)}setExtra(e,r){this.getScope().setExtra(e,r)}setContext(e,r){this.getScope().setContext(e,r)}configureScope(e){let{scope:r,client:i}=this.getStackTop();i&&e(r)}run(e){let r=qM(this);try{e(this)}finally{qM(r)}}getIntegration(e){let r=this.getClient();if(!r)return null;try{return r.getIntegration(e)}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&ss.logger.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,r){let i=this._callExtensionMethod("startTransaction",e,r);return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&!i&&console.warn(`Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':
Sentry.addTracingExtensions();
Sentry.init({...});
`),i}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){let r=this.getStackTop().scope,i=r.getSession();i&&NM.closeSession(i),this._sendSessionUpdate(),r.setSession()}startSession(e){let{scope:r,client:i}=this.getStackTop(),{release:s,environment:o=f4e.DEFAULT_ENVIRONMENT}=i&&i.getOptions()||{},{userAgent:a}=ss.GLOBAL_OBJ.navigator||{},u=NM.makeSession({release:s,environment:o,user:r.getUser(),...a&&{userAgent:a},...e}),d=r.getSession&&r.getSession();return d&&d.status==="ok"&&NM.updateSession(d,{status:"exited"}),this.endSession(),r.setSession(u),u}shouldSendDefaultPii(){let e=this.getClient(),r=e&&e.getOptions();return Boolean(r&&r.sendDefaultPii)}_sendSessionUpdate(){let{scope:e,client:r}=this.getStackTop(),i=e.getSession();i&&r&&r.captureSession&&r.captureSession(i)}_withClient(e){let{scope:r,client:i}=this.getStackTop();i&&e(i,r)}_callExtensionMethod(e,...r){let s=Id().__SENTRY__;if(s&&s.extensions&&typeof s.extensions[e]=="function")return s.extensions[e].apply(this,r);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&ss.logger.warn(`Extension method ${e} couldn't be found, doing nothing.`)}};function Id(){return ss.GLOBAL_OBJ.__SENTRY__=ss.GLOBAL_OBJ.__SENTRY__||{extensions:{},hub:void 0},ss.GLOBAL_OBJ}function qM(t){let e=Id(),r=ky(e);return zS(e,t),r}function y4e(){let t=Id();if(t.__SENTRY__&&t.__SENTRY__.acs){let e=t.__SENTRY__.acs.getCurrentHub();if(e)return e}return loe(t)}function loe(t=Id()){return(!uoe(t)||ky(t).isOlderThan($S))&&zS(t,new Qp),ky(t)}function h4e(t,e=loe()){if(!uoe(t)||ky(t).isOlderThan($S)){let r=e.getStackTop();zS(t,new Qp(r.client,VM.Scope.clone(r.scope)))}}function I4e(t){let e=Id();e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.acs=t}function x4e(t,e={}){let r=Id();return r.__SENTRY__&&r.__SENTRY__.acs?r.__SENTRY__.acs.runWithAsyncContext(t,e):t()}function uoe(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function ky(t){return ss.getGlobalSingleton("hub",()=>new Qp,t)}function zS(t,e){if(!t)return!1;let r=t.__SENTRY__=t.__SENTRY__||{};return r.hub=e,!0}os.API_VERSION=$S;os.Hub=Qp;os.ensureHubOnCarrier=h4e;os.getCurrentHub=y4e;os.getHubFromCarrier=ky;os.getMainCarrier=Id;os.makeMain=qM;os.runWithAsyncContext=x4e;os.setAsyncContextStrategy=I4e;os.setHubOnCarrier=zS});var WM=_(BM=>{Object.defineProperty(BM,"__esModule",{value:!0});var _4e=js();function v4e(t){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;let e=_4e.getCurrentHub().getClient(),r=t||e&&e.getOptions();return!!r&&(r.enableTracing||"tracesSampleRate"in r||"tracesSampler"in r)}BM.hasTracingEnabled=v4e});var HM=_(Jp=>{Object.defineProperty(Jp,"__esModule",{value:!0});var O4e=js(),GM=Pe();function S4e(t){return(t||O4e.getCurrentHub()).getScope().getTransaction()}Jp.TRACEPARENT_REGEXP=GM.TRACEPARENT_REGEXP;Jp.extractTraceparentData=GM.extractTraceparentData;Jp.stripUrlQueryAndFragment=GM.stripUrlQueryAndFragment;Jp.getActiveTransaction=S4e});var coe=_(zM=>{Object.defineProperty(zM,"__esModule",{value:!0});var KM=Pe(),D4e=HM(),doe=!1;function A4e(){doe||(doe=!0,KM.addInstrumentationHandler("error",$M),KM.addInstrumentationHandler("unhandledrejection",$M))}function $M(){let t=D4e.getActiveTransaction();if(t){let e="internal_error";(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&KM.logger.log(`[Tracing] Transaction: ${e} -> Global error occured`),t.setStatus(e)}}$M.tag="sentry_tracingErrorCallback";zM.registerErrorInstrumentation=A4e});var YS=_(Ry=>{Object.defineProperty(Ry,"__esModule",{value:!0});var xa=Pe(),wy=class{__init(){this.spans=[]}constructor(e=1e3){wy.prototype.__init.call(this),this._maxlen=e}add(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)}},Ts=class{__init2(){this.traceId=xa.uuid4()}__init3(){this.spanId=xa.uuid4().substring(16)}__init4(){this.startTimestamp=xa.timestampInSeconds()}__init5(){this.tags={}}__init6(){this.data={}}__init7(){this.instrumenter="sentry"}constructor(e){if(Ts.prototype.__init2.call(this),Ts.prototype.__init3.call(this),Ts.prototype.__init4.call(this),Ts.prototype.__init5.call(this),Ts.prototype.__init6.call(this),Ts.prototype.__init7.call(this),!e)return this;e.traceId&&(this.traceId=e.traceId),e.spanId&&(this.spanId=e.spanId),e.parentSpanId&&(this.parentSpanId=e.parentSpanId),"sampled"in e&&(this.sampled=e.sampled),e.op&&(this.op=e.op),e.description&&(this.description=e.description),e.data&&(this.data=e.data),e.tags&&(this.tags=e.tags),e.status&&(this.status=e.status),e.startTimestamp&&(this.startTimestamp=e.startTimestamp),e.endTimestamp&&(this.endTimestamp=e.endTimestamp),e.instrumenter&&(this.instrumenter=e.instrumenter)}startChild(e){let r=new Ts({...e,parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId});if(r.spanRecorder=this.spanRecorder,r.spanRecorder&&r.spanRecorder.add(r),r.transaction=this.transaction,(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&r.transaction){let i=e&&e.op||"< unknown op >",s=r.transaction.name||"< unknown name >",o=r.transaction.spanId,a=`[Tracing] Starting '${i}' span on transaction '${s}' (${o}).`;r.transaction.metadata.spanMetadata[r.spanId]={logMessage:a},xa.logger.log(a)}return r}setTag(e,r){return this.tags={...this.tags,[e]:r},this}setData(e,r){return this.data={...this.data,[e]:r},this}setStatus(e){return this.status=e,this}setHttpStatus(e){this.setTag("http.status_code",String(e));let r=poe(e);return r!=="unknown_error"&&this.setStatus(r),this}isSuccess(){return this.status==="ok"}finish(e){if((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&this.transaction&&this.transaction.spanId!==this.spanId){let{logMessage:r}=this.transaction.metadata.spanMetadata[this.spanId];r&&xa.logger.log(r.replace("Starting","Finishing"))}this.endTimestamp=typeof e=="number"?e:xa.timestampInSeconds()}toTraceparent(){let e="";return this.sampled!==void 0&&(e=this.sampled?"-1":"-0"),`${this.traceId}-${this.spanId}${e}`}toContext(){return xa.dropUndefinedKeys({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})}updateWithContext(e){return this.data=e.data||{},this.description=e.description,this.endTimestamp=e.endTimestamp,this.op=e.op,this.parentSpanId=e.parentSpanId,this.sampled=e.sampled,this.spanId=e.spanId||this.spanId,this.startTimestamp=e.startTimestamp||this.startTimestamp,this.status=e.status,this.tags=e.tags||{},this.traceId=e.traceId||this.traceId,this}getTraceContext(){return xa.dropUndefinedKeys({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})}toJSON(){return xa.dropUndefinedKeys({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})}};function poe(t){if(t<400&&t>=100)return"ok";if(t>=400&&t<500)switch(t){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(t>=500&&t<600)switch(t){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}Ry.Span=Ts;Ry.SpanRecorder=wy;Ry.spanStatusfromHttpCode=poe});var QS=_(YM=>{Object.defineProperty(YM,"__esModule",{value:!0});var Xp=Pe(),F4e=Py(),moe=js(),goe=YS(),xd=class extends goe.Span{__init(){this._measurements={}}__init2(){this._contexts={}}__init3(){this._frozenDynamicSamplingContext=void 0}constructor(e,r){super(e),xd.prototype.__init.call(this),xd.prototype.__init2.call(this),xd.prototype.__init3.call(this),this._hub=r||moe.getCurrentHub(),this._name=e.name||"",this.metadata={source:"custom",...e.metadata,spanMetadata:{}},this._trimEnd=e.trimEnd,this.transaction=this;let i=this.metadata.dynamicSamplingContext;i&&(this._frozenDynamicSamplingContext={...i})}get name(){return this._name}set name(e){this.setName(e)}setName(e,r="custom"){this._name=e,this.metadata.source=r}initSpanRecorder(e=1e3){this.spanRecorder||(this.spanRecorder=new goe.SpanRecorder(e)),this.spanRecorder.add(this)}setContext(e,r){r===null?delete this._contexts[e]:this._contexts[e]=r}setMeasurement(e,r,i=""){this._measurements[e]={value:r,unit:i}}setMetadata(e){this.metadata={...this.metadata,...e}}finish(e){if(this.endTimestamp!==void 0)return;this.name||((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Xp.logger.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),super.finish(e);let r=this._hub.getClient();if(r&&r.emit&&r.emit("finishTransaction",this),this.sampled!==!0){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Xp.logger.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),r&&r.recordDroppedEvent("sample_rate","transaction");return}let i=this.spanRecorder?this.spanRecorder.spans.filter(u=>u!==this&&u.endTimestamp):[];this._trimEnd&&i.length>0&&(this.endTimestamp=i.reduce((u,d)=>u.endTimestamp&&d.endTimestamp?u.endTimestamp>d.endTimestamp?u:d:u).endTimestamp);let s=this.metadata,o={contexts:{...this._contexts,trace:this.getTraceContext()},spans:i,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",sdkProcessingMetadata:{...s,dynamicSamplingContext:this.getDynamicSamplingContext()},...s.source&&{transaction_info:{source:s.source}}};return Object.keys(this._measurements).length>0&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Xp.logger.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),o.measurements=this._measurements),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Xp.logger.log(`[Tracing] Finishing ${this.op} transaction: ${this.name}.`),this._hub.captureEvent(o)}toContext(){let e=super.toContext();return Xp.dropUndefinedKeys({...e,name:this.name,trimEnd:this._trimEnd})}updateWithContext(e){return super.updateWithContext(e),this.name=e.name||"",this._trimEnd=e.trimEnd,this}getDynamicSamplingContext(){if(this._frozenDynamicSamplingContext)return this._frozenDynamicSamplingContext;let e=this._hub||moe.getCurrentHub(),r=e&&e.getClient();if(!r)return{};let{environment:i,release:s}=r.getOptions()||{},{publicKey:o}=r.getDsn()||{},a=this.metadata.sampleRate,u=a!==void 0?a.toString():void 0,{segment:d}=e.getScope().getUser()||{},p=this.metadata.source,m=p&&p!=="url"?this.name:void 0,f=Xp.dropUndefinedKeys({environment:i||F4e.DEFAULT_ENVIRONMENT,release:s,transaction:m,user_segment:d,public_key:o,trace_id:this.traceId,sample_rate:u});return r.emit&&r.emit("createDsc",f),f}setHub(e){this._hub=e}};YM.Transaction=xd});var QM=_(My=>{Object.defineProperty(My,"__esModule",{value:!0});var Ai=Pe(),P4e=YS(),j4e=QS(),JS={idleTimeout:1e3,finalTimeout:3e4,heartbeatInterval:5e3},T4e="finishReason",Zp=["heartbeatFailed","idleTimeout","documentHidden","finalTimeout","externalFinish","cancelled"],XS=class extends P4e.SpanRecorder{constructor(e,r,i,s){super(s),this._pushActivity=e,this._popActivity=r,this.transactionSpanId=i}add(e){e.spanId!==this.transactionSpanId&&(e.finish=r=>{e.endTimestamp=typeof r=="number"?r:Ai.timestampInSeconds(),this._popActivity(e.spanId)},e.endTimestamp===void 0&&this._pushActivity(e.spanId)),super.add(e)}},yo=class extends j4e.Transaction{__init(){this.activities={}}__init2(){this._heartbeatCounter=0}__init3(){this._finished=!1}__init4(){this._idleTimeoutCanceledPermanently=!1}__init5(){this._beforeFinishCallbacks=[]}__init6(){this._finishReason=Zp[4]}constructor(e,r,i=JS.idleTimeout,s=JS.finalTimeout,o=JS.heartbeatInterval,a=!1){super(e,r),this._idleHub=r,this._idleTimeout=i,this._finalTimeout=s,this._heartbeatInterval=o,this._onScope=a,yo.prototype.__init.call(this),yo.prototype.__init2.call(this),yo.prototype.__init3.call(this),yo.prototype.__init4.call(this),yo.prototype.__init5.call(this),yo.prototype.__init6.call(this),a&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ai.logger.log(`Setting idle transaction on scope. Span ID: ${this.spanId}`),r.configureScope(u=>u.setSpan(this))),this._restartIdleTimeout(),setTimeout(()=>{this._finished||(this.setStatus("deadline_exceeded"),this._finishReason=Zp[3],this.finish())},this._finalTimeout)}finish(e=Ai.timestampInSeconds()){if(this._finished=!0,this.activities={},this.op==="ui.action.click"&&this.setTag(T4e,this._finishReason),this.spanRecorder){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ai.logger.log("[Tracing] finishing IdleTransaction",new Date(e*1e3).toISOString(),this.op);for(let r of this._beforeFinishCallbacks)r(this,e);this.spanRecorder.spans=this.spanRecorder.spans.filter(r=>{if(r.spanId===this.spanId)return!0;r.endTimestamp||(r.endTimestamp=e,r.setStatus("cancelled"),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ai.logger.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(r,void 0,2)));let i=r.startTimestamp<e;return i||(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ai.logger.log("[Tracing] discarding Span since it happened after Transaction was finished",JSON.stringify(r,void 0,2)),i}),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ai.logger.log("[Tracing] flushing IdleTransaction")}else(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ai.logger.log("[Tracing] No active IdleTransaction");if(this._onScope){let r=this._idleHub.getScope();r.getTransaction()===this&&r.setSpan(void 0)}return super.finish(e)}registerBeforeFinishCallback(e){this._beforeFinishCallbacks.push(e)}initSpanRecorder(e){if(!this.spanRecorder){let r=s=>{this._finished||this._pushActivity(s)},i=s=>{this._finished||this._popActivity(s)};this.spanRecorder=new XS(r,i,this.spanId,e),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ai.logger.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}cancelIdleTimeout(e,{restartOnChildSpanChange:r}={restartOnChildSpanChange:!0}){this._idleTimeoutCanceledPermanently=r===!1,this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0,Object.keys(this.activities).length===0&&this._idleTimeoutCanceledPermanently&&(this._finishReason=Zp[5],this.finish(e)))}setFinishReason(e){this._finishReason=e}_restartIdleTimeout(e){this.cancelIdleTimeout(),this._idleTimeoutID=setTimeout(()=>{!this._finished&&Object.keys(this.activities).length===0&&(this._finishReason=Zp[1],this.finish(e))},this._idleTimeout)}_pushActivity(e){this.cancelIdleTimeout(void 0,{restartOnChildSpanChange:!this._idleTimeoutCanceledPermanently}),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ai.logger.log(`[Tracing] pushActivity: ${e}`),this.activities[e]=!0,(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ai.logger.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(e){if(this.activities[e]&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ai.logger.log(`[Tracing] popActivity ${e}`),delete this.activities[e],(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ai.logger.log("[Tracing] new activities count",Object.keys(this.activities).length)),Object.keys(this.activities).length===0){let r=Ai.timestampInSeconds();this._idleTimeoutCanceledPermanently?(this._finishReason=Zp[5],this.finish(r)):this._restartIdleTimeout(r+this._idleTimeout/1e3)}}_beat(){if(this._finished)return;let e=Object.keys(this.activities).join("");e===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=e,this._heartbeatCounter>=3?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ai.logger.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this._finishReason=Zp[0],this.finish()):this._pingHeartbeat()}_pingHeartbeat(){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ai.logger.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout(()=>{this._beat()},this._heartbeatInterval)}};My.IdleTransaction=yo;My.IdleTransactionSpanRecorder=XS;My.TRACING_DEFAULTS=JS});var boe=_(ZS=>{Object.defineProperty(ZS,"__esModule",{value:!0});var Ml=Pe(),C4e=js(),E4e=WM(),k4e=coe(),w4e=QM(),R4e=QS();function M4e(){let e=this.getScope().getSpan();return e?{"sentry-trace":e.toTraceparent()}:{}}function foe(t,e,r){if(!E4e.hasTracingEnabled(e))return t.sampled=!1,t;if(t.sampled!==void 0)return t.setMetadata({sampleRate:Number(t.sampled)}),t;let i;return typeof e.tracesSampler=="function"?(i=e.tracesSampler(r),t.setMetadata({sampleRate:Number(i)})):r.parentSampled!==void 0?i=r.parentSampled:typeof e.tracesSampleRate<"u"?(i=e.tracesSampleRate,t.setMetadata({sampleRate:Number(i)})):(i=1,t.setMetadata({sampleRate:i})),U4e(i)?i?(t.sampled=Math.random()<i,t.sampled?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ml.logger.log(`[Tracing] starting ${t.op} transaction - ${t.name}`),t):((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ml.logger.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(i)})`),t)):((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ml.logger.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),t.sampled=!1,t):((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ml.logger.warn("[Tracing] Discarding transaction because of invalid sample rate."),t.sampled=!1,t)}function U4e(t){return Ml.isNaN(t)||!(typeof t=="number"||typeof t=="boolean")?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ml.logger.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(t)} of type ${JSON.stringify(typeof t)}.`),!1):t<0||t>1?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ml.logger.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${t}.`),!1):!0}function L4e(t,e){let r=this.getClient(),i=r&&r.getOptions()||{},s=i.instrumenter||"sentry",o=t.instrumenter||"sentry";s!==o&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ml.logger.error(`A transaction was started with instrumenter=\`${o}\`, but the SDK is configured with the \`${s}\` instrumenter.
The transaction will not be sampled. Please use the ${s} instrumentation to start transactions.`),t.sampled=!1);let a=new R4e.Transaction(t,this);return a=foe(a,i,{parentSampled:t.parentSampled,transactionContext:t,...e}),a.sampled&&a.initSpanRecorder(i._experiments&&i._experiments.maxSpans),r&&r.emit&&r.emit("startTransaction",a),a}function N4e(t,e,r,i,s,o,a){let u=t.getClient(),d=u&&u.getOptions()||{},p=new w4e.IdleTransaction(e,t,r,i,a,s);return p=foe(p,d,{parentSampled:e.parentSampled,transactionContext:e,...o}),p.sampled&&p.initSpanRecorder(d._experiments&&d._experiments.maxSpans),u&&u.emit&&u.emit("startTransaction",p),p}function V4e(){let t=C4e.getMainCarrier();t.__SENTRY__&&(t.__SENTRY__.extensions=t.__SENTRY__.extensions||{},t.__SENTRY__.extensions.startTransaction||(t.__SENTRY__.extensions.startTransaction=L4e),t.__SENTRY__.extensions.traceHeaders||(t.__SENTRY__.extensions.traceHeaders=M4e),k4e.registerErrorInstrumentation())}ZS.addTracingExtensions=V4e;ZS.startIdleTransaction=N4e});var yoe=_(Uy=>{Object.defineProperty(Uy,"__esModule",{value:!0});Uy.SpanStatus=void 0;(function(t){let e="ok";t.Ok=e;let r="deadline_exceeded";t.DeadlineExceeded=r;let i="unauthenticated";t.Unauthenticated=i;let s="permission_denied";t.PermissionDenied=s;let o="not_found";t.NotFound=o;let a="resource_exhausted";t.ResourceExhausted=a;let u="invalid_argument";t.InvalidArgument=u;let d="unimplemented";t.Unimplemented=d;let p="unavailable";t.Unavailable=p;let m="internal_error";t.InternalError=m;let f="unknown_error";t.UnknownError=f;let y="cancelled";t.Cancelled=y;let v="already_exists";t.AlreadyExists=v;let O="failed_precondition";t.FailedPrecondition=O;let A="aborted";t.Aborted=A;let k="out_of_range";t.OutOfRange=k;let U="data_loss";t.DataLoss=U})(Uy.SpanStatus||(Uy.SpanStatus={}))});var hoe=_(JM=>{Object.defineProperty(JM,"__esModule",{value:!0});var q4e=Pe(),B4e=js();function W4e(t,e,r=()=>{}){let i={...t};i.name!==void 0&&i.description===void 0&&(i.description=i.name);let s=B4e.getCurrentHub(),o=s.getScope(),a=o.getSpan(),u=a?a.startChild(i):s.startTransaction(i);o.setSpan(u);function d(){u&&u.finish(),s.getScope().setSpan(a)}let p;try{p=e(u)}catch(m){throw u&&u.setStatus("internal_error"),r(m),d(),m}return q4e.isThenable(p)?Promise.resolve(p).then(()=>{d()},m=>{u&&u.setStatus("internal_error"),r(m),d()}):d(),p}JM.trace=W4e});var Ioe=_(Fi=>{Object.defineProperty(Fi,"__esModule",{value:!0});var XM=Pe(),an=js();function G4e(t,e){return an.getCurrentHub().captureException(t,{captureContext:e})}function H4e(t,e){let r=typeof e=="string"?e:void 0,i=typeof e!="string"?{captureContext:e}:void 0;return an.getCurrentHub().captureMessage(t,r,i)}function K4e(t,e){return an.getCurrentHub().captureEvent(t,e)}function $4e(t){an.getCurrentHub().configureScope(t)}function z4e(t){an.getCurrentHub().addBreadcrumb(t)}function Y4e(t,e){an.getCurrentHub().setContext(t,e)}function Q4e(t){an.getCurrentHub().setExtras(t)}function J4e(t,e){an.getCurrentHub().setExtra(t,e)}function X4e(t){an.getCurrentHub().setTags(t)}function Z4e(t,e){an.getCurrentHub().setTag(t,e)}function e6e(t){an.getCurrentHub().setUser(t)}function t6e(t){an.getCurrentHub().withScope(t)}function r6e(t,e){return an.getCurrentHub().startTransaction({...t},e)}function i6e(t,e){let r=an.getCurrentHub().getClient();if(!r)(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&XM.logger.warn("Cannot capture check-in. No client defined.");else if(!r.captureCheckIn)(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&XM.logger.warn("Cannot capture check-in. Client does not support sending check-ins.");else return r.captureCheckIn(t,e);return XM.uuid4()}Fi.addBreadcrumb=z4e;Fi.captureCheckIn=i6e;Fi.captureEvent=K4e;Fi.captureException=G4e;Fi.captureMessage=H4e;Fi.configureScope=$4e;Fi.setContext=Y4e;Fi.setExtra=J4e;Fi.setExtras=Q4e;Fi.setTag=Z4e;Fi.setTags=X4e;Fi.setUser=e6e;Fi.startTransaction=r6e;Fi.withScope=t6e});var xoe=_(ZM=>{Object.defineProperty(ZM,"__esModule",{value:!0});var n6e=Pe(),s6e=js(),_d=class{__init(){this.flushTimeout=60}__init2(){this._pendingAggregates={}}__init3(){this._isEnabled=!0}constructor(e,r){_d.prototype.__init.call(this),_d.prototype.__init2.call(this),_d.prototype.__init3.call(this),this._client=e,this._intervalId=setInterval(()=>this.flush(),this.flushTimeout*1e3),this._sessionAttrs=r}flush(){let e=this.getSessionAggregates();e.aggregates.length!==0&&(this._pendingAggregates={},this._client.sendSession(e))}getSessionAggregates(){let e=Object.keys(this._pendingAggregates).map(i=>this._pendingAggregates[parseInt(i)]),r={attrs:this._sessionAttrs,aggregates:e};return n6e.dropUndefinedKeys(r)}close(){clearInterval(this._intervalId),this._isEnabled=!1,this.flush()}incrementSessionStatusCount(){if(!this._isEnabled)return;let e=s6e.getCurrentHub().getScope(),r=e.getRequestSession();r&&r.status&&(this._incrementSessionStatusCount(r.status,new Date),e.setRequestSession(void 0))}_incrementSessionStatusCount(e,r){let i=new Date(r).setSeconds(0,0);this._pendingAggregates[i]=this._pendingAggregates[i]||{};let s=this._pendingAggregates[i];switch(s.started||(s.started=new Date(i).toISOString()),e){case"errored":return s.errored=(s.errored||0)+1,s.errored;case"ok":return s.exited=(s.exited||0)+1,s.exited;default:return s.crashed=(s.crashed||0)+1,s.crashed}}};ZM.SessionFlusher=_d});var tD=_(eD=>{Object.defineProperty(eD,"__esModule",{value:!0});var eU=Pe(),o6e="7";function _oe(t){let e=t.protocol?`${t.protocol}:`:"",r=t.port?`:${t.port}`:"";return`${e}//${t.host}${r}${t.path?`/${t.path}`:""}/api/`}function a6e(t){return`${_oe(t)}${t.projectId}/envelope/`}function l6e(t,e){return eU.urlEncode({sentry_key:t.publicKey,sentry_version:o6e,...e&&{sentry_client:`${e.name}/${e.version}`}})}function u6e(t,e={}){let r=typeof e=="string"?e:e.tunnel,i=typeof e=="string"||!e._metadata?void 0:e._metadata.sdk;return r||`${a6e(t)}?${l6e(t,i)}`}function d6e(t,e){let r=eU.makeDsn(t);if(!r)return"";let i=`${_oe(r)}embed/error-page/`,s=`dsn=${eU.dsnToString(r)}`;for(let o in e)if(o!=="dsn")if(o==="user"){let a=e.user;if(!a)continue;a.name&&(s+=`&name=${encodeURIComponent(a.name)}`),a.email&&(s+=`&email=${encodeURIComponent(a.email)}`)}else s+=`&${encodeURIComponent(o)}=${encodeURIComponent(e[o])}`;return`${i}?${s}`}eD.getEnvelopeEndpointWithUrlEncodedAuth=u6e;eD.getReportDialogEndpoint=d6e});var voe=_(rD=>{Object.defineProperty(rD,"__esModule",{value:!0});var em=Pe();function c6e(t,e){return e&&(t.sdk=t.sdk||{},t.sdk.name=t.sdk.name||e.name,t.sdk.version=t.sdk.version||e.version,t.sdk.integrations=[...t.sdk.integrations||[],...e.integrations||[]],t.sdk.packages=[...t.sdk.packages||[],...e.packages||[]]),t}function p6e(t,e,r,i){let s=em.getSdkMetadataForEnvelopeHeader(r),o={sent_at:new Date().toISOString(),...s&&{sdk:s},...!!i&&{dsn:em.dsnToString(e)}},a="aggregates"in t?[{type:"sessions"},t]:[{type:"session"},t];return em.createEnvelope(o,[a])}function m6e(t,e,r,i){let s=em.getSdkMetadataForEnvelopeHeader(r),o=t.type&&t.type!=="replay_event"?t.type:"event";c6e(t,r&&r.sdk);let a=em.createEventEnvelopeHeaders(t,s,i,e);delete t.sdkProcessingMetadata;let u=[{type:o},t];return em.createEnvelope(a,[u])}rD.createEventEnvelope=m6e;rD.createSessionEnvelope=p6e});var rU=_(tm=>{Object.defineProperty(tm,"__esModule",{value:!0});var Ooe=Pe(),g6e=js(),f6e=Ey(),tU=[];function b6e(t){let e={};return t.forEach(r=>{let{name:i}=r,s=e[i];s&&!s.isDefaultInstance&&r.isDefaultInstance||(e[i]=r)}),Object.keys(e).map(r=>e[r])}function y6e(t){let e=t.defaultIntegrations||[],r=t.integrations;e.forEach(a=>{a.isDefaultInstance=!0});let i;Array.isArray(r)?i=[...e,...r]:typeof r=="function"?i=Ooe.arrayify(r(e)):i=e;let s=b6e(i),o=I6e(s,a=>a.name==="Debug");if(o!==-1){let[a]=s.splice(o,1);s.push(a)}return s}function h6e(t){let e={};return t.forEach(r=>{r&&Soe(r,e)}),e}function Soe(t,e){e[t.name]=t,tU.indexOf(t.name)===-1&&(t.setupOnce(f6e.addGlobalEventProcessor,g6e.getCurrentHub),tU.push(t.name),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ooe.logger.log(`Integration installed: ${t.name}`))}function I6e(t,e){for(let r=0;r<t.length;r++)if(e(t[r])===!0)return r;return-1}tm.getIntegrationsToSetup=y6e;tm.installedIntegrations=tU;tm.setupIntegration=Soe;tm.setupIntegrations=h6e});var iU=_(iD=>{Object.defineProperty(iD,"__esModule",{value:!0});var kn=Pe(),x6e=Py(),_6e=Ey();function v6e(t,e,r,i){let{normalizeDepth:s=3,normalizeMaxBreadth:o=1e3}=t,a={...e,event_id:e.event_id||r.event_id||kn.uuid4(),timestamp:e.timestamp||kn.dateTimestampInSeconds()},u=r.integrations||t.integrations.map(m=>m.name);O6e(a,t),S6e(a,u),e.type===void 0&&Aoe(a,t.stackParser);let d=i;r.captureContext&&(d=_6e.Scope.clone(d).update(r.captureContext));let p=kn.resolvedSyncPromise(a);if(d){if(d.getAttachments){let m=[...r.attachments||[],...d.getAttachments()];m.length&&(r.attachments=m)}p=d.applyToEvent(a,r)}return p.then(m=>typeof s=="number"&&s>0?D6e(m,s,o):m)}function O6e(t,e){let{environment:r,release:i,dist:s,maxValueLength:o=250}=e;"environment"in t||(t.environment="environment"in e?r:x6e.DEFAULT_ENVIRONMENT),t.release===void 0&&i!==void 0&&(t.release=i),t.dist===void 0&&s!==void 0&&(t.dist=s),t.message&&(t.message=kn.truncate(t.message,o));let a=t.exception&&t.exception.values&&t.exception.values[0];a&&a.value&&(a.value=kn.truncate(a.value,o));let u=t.request;u&&u.url&&(u.url=kn.truncate(u.url,o))}var Doe=new WeakMap;function Aoe(t,e){let r=kn.GLOBAL_OBJ._sentryDebugIds;if(!r)return;let i,s=Doe.get(e);s?i=s:(i=new Map,Doe.set(e,i));let o=Object.keys(r).reduce((d,p)=>{let m,f=i.get(p);f?m=f:(m=e(p),i.set(p,m));for(let y=m.length-1;y>=0;y--){let v=m[y];if(v.filename){d[v.filename]=r[p];break}}return d},{}),a=new Set;try{t.exception.values.forEach(d=>{d.stacktrace.frames.forEach(p=>{p.filename&&a.add(p.filename)})})}catch{}t.debug_meta=t.debug_meta||{},t.debug_meta.images=t.debug_meta.images||[];let u=t.debug_meta.images;a.forEach(d=>{o[d]&&u.push({type:"sourcemap",code_file:d,debug_id:o[d]})})}function S6e(t,e){e.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=[...t.sdk.integrations||[],...e])}function D6e(t,e,r){if(!t)return null;let i={...t,...t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map(s=>({...s,...s.data&&{data:kn.normalize(s.data,e,r)}}))},...t.user&&{user:kn.normalize(t.user,e,r)},...t.contexts&&{contexts:kn.normalize(t.contexts,e,r)},...t.extra&&{extra:kn.normalize(t.extra,e,r)}};return t.contexts&&t.contexts.trace&&i.contexts&&(i.contexts.trace=t.contexts.trace,t.contexts.trace.data&&(i.contexts.trace.data=kn.normalize(t.contexts.trace.data,e,r))),t.spans&&(i.spans=t.spans.map(s=>(s.data&&(s.data=kn.normalize(s.data,e,r)),s))),i}iD.applyDebugMetadata=Aoe;iD.prepareEvent=v6e});var koe=_(nU=>{Object.defineProperty(nU,"__esModule",{value:!0});var Dt=Pe(),A6e=tD(),Foe=voe(),Poe=rU(),joe=Cy(),F6e=iU(),Toe="Not capturing exception because it's already been captured.",_a=class{__init(){this._integrations={}}__init2(){this._integrationsInitialized=!1}__init3(){this._numProcessing=0}__init4(){this._outcomes={}}__init5(){this._hooks={}}constructor(e){if(_a.prototype.__init.call(this),_a.prototype.__init2.call(this),_a.prototype.__init3.call(this),_a.prototype.__init4.call(this),_a.prototype.__init5.call(this),this._options=e,e.dsn?this._dsn=Dt.makeDsn(e.dsn):(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Dt.logger.warn("No DSN provided, client will not do anything."),this._dsn){let r=A6e.getEnvelopeEndpointWithUrlEncodedAuth(this._dsn,e);this._transport=e.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:r})}}captureException(e,r,i){if(Dt.checkOrSetAlreadyCaught(e)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Dt.logger.log(Toe);return}let s=r&&r.event_id;return this._process(this.eventFromException(e,r).then(o=>this._captureEvent(o,r,i)).then(o=>{s=o})),s}captureMessage(e,r,i,s){let o=i&&i.event_id,a=Dt.isPrimitive(e)?this.eventFromMessage(String(e),r,i):this.eventFromException(e,i);return this._process(a.then(u=>this._captureEvent(u,i,s)).then(u=>{o=u})),o}captureEvent(e,r,i){if(r&&r.originalException&&Dt.checkOrSetAlreadyCaught(r.originalException)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Dt.logger.log(Toe);return}let s=r&&r.event_id;return this._process(this._captureEvent(e,r,i).then(o=>{s=o})),s}captureSession(e){if(!this._isEnabled()){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Dt.logger.warn("SDK not enabled, will not capture session.");return}typeof e.release!="string"?(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Dt.logger.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),joe.updateSession(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){let r=this._transport;return r?this._isClientDoneProcessing(e).then(i=>r.flush(e).then(s=>i&&s)):Dt.resolvedSyncPromise(!0)}close(e){return this.flush(e).then(r=>(this.getOptions().enabled=!1,r))}setupIntegrations(){this._isEnabled()&&!this._integrationsInitialized&&(this._integrations=Poe.setupIntegrations(this._options.integrations),this._integrationsInitialized=!0)}getIntegrationById(e){return this._integrations[e]}getIntegration(e){try{return this._integrations[e.id]||null}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Dt.logger.warn(`Cannot retrieve integration ${e.id} from the current Client`),null}}addIntegration(e){Poe.setupIntegration(e,this._integrations)}sendEvent(e,r={}){if(this._dsn){let i=Foe.createEventEnvelope(e,this._dsn,this._options._metadata,this._options.tunnel);for(let o of r.attachments||[])i=Dt.addItemToEnvelope(i,Dt.createAttachmentEnvelopeItem(o,this._options.transportOptions&&this._options.transportOptions.textEncoder));let s=this._sendEnvelope(i);s&&s.then(o=>this.emit("afterSendEvent",e,o),null)}}sendSession(e){if(this._dsn){let r=Foe.createSessionEnvelope(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(r)}}recordDroppedEvent(e,r,i){if(this._options.sendClientReports){let s=`${e}:${r}`;(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Dt.logger.log(`Adding outcome: "${s}"`),this._outcomes[s]=this._outcomes[s]+1||1}}on(e,r){this._hooks[e]||(this._hooks[e]=[]),this._hooks[e].push(r)}emit(e,...r){this._hooks[e]&&this._hooks[e].forEach(i=>i(...r))}_updateSessionFromEvent(e,r){let i=!1,s=!1,o=r.exception&&r.exception.values;if(o){s=!0;for(let d of o){let p=d.mechanism;if(p&&p.handled===!1){i=!0;break}}}let a=e.status==="ok";(a&&e.errors===0||a&&i)&&(joe.updateSession(e,{...i&&{status:"crashed"},errors:e.errors||Number(s||i)}),this.captureSession(e))}_isClientDoneProcessing(e){return new Dt.SyncPromise(r=>{let i=0,s=1,o=setInterval(()=>{this._numProcessing==0?(clearInterval(o),r(!0)):(i+=s,e&&i>=e&&(clearInterval(o),r(!1)))},s)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._dsn!==void 0}_prepareEvent(e,r,i){let s=this.getOptions(),o=Object.keys(this._integrations);return!r.integrations&&o.length>0&&(r.integrations=o),F6e.prepareEvent(s,e,r,i)}_captureEvent(e,r={},i){return this._processEvent(e,r,i).then(s=>s.event_id,s=>{if(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__){let o=s;o.logLevel==="log"?Dt.logger.log(o.message):Dt.logger.warn(o)}})}_processEvent(e,r,i){let s=this.getOptions(),{sampleRate:o}=s;if(!this._isEnabled())return Dt.rejectedSyncPromise(new Dt.SentryError("SDK not enabled, will not capture event.","log"));let a=Eoe(e),u=Coe(e),d=e.type||"error",p=`before send for type \`${d}\``;if(u&&typeof o=="number"&&Math.random()>o)return this.recordDroppedEvent("sample_rate","error",e),Dt.rejectedSyncPromise(new Dt.SentryError(`Discarding event because it's not included in the random sample (sampling rate = ${o})`,"log"));let m=d==="replay_event"?"replay":d;return this._prepareEvent(e,r,i).then(f=>{if(f===null)throw this.recordDroppedEvent("event_processor",m,e),new Dt.SentryError("An event processor returned `null`, will not send event.","log");if(r.data&&r.data.__sentry__===!0)return f;let v=j6e(s,f,r);return P6e(v,p)}).then(f=>{if(f===null)throw this.recordDroppedEvent("before_send",m,e),new Dt.SentryError(`${p} returned \`null\`, will not send event.`,"log");let y=i&&i.getSession();!a&&y&&this._updateSessionFromEvent(y,f);let v=f.transaction_info;if(a&&v&&f.transaction!==e.transaction){let O="custom";f.transaction_info={...v,source:O}}return this.sendEvent(f,r),f}).then(null,f=>{throw f instanceof Dt.SentryError?f:(this.captureException(f,{data:{__sentry__:!0},originalException:f}),new Dt.SentryError(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${f}`))})}_process(e){this._numProcessing++,e.then(r=>(this._numProcessing--,r),r=>(this._numProcessing--,r))}_sendEnvelope(e){if(this._transport&&this._dsn)return this.emit("beforeEnvelope",e),this._transport.send(e).then(null,r=>{(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Dt.logger.error("Error while sending event:",r)});(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Dt.logger.error("Transport disabled")}_clearOutcomes(){let e=this._outcomes;return this._outcomes={},Object.keys(e).map(r=>{let[i,s]=r.split(":");return{reason:i,category:s,quantity:e[r]}})}};function P6e(t,e){let r=`${e} must return \`null\` or a valid event.`;if(Dt.isThenable(t))return t.then(i=>{if(!Dt.isPlainObject(i)&&i!==null)throw new Dt.SentryError(r);return i},i=>{throw new Dt.SentryError(`${e} rejected with ${i}`)});if(!Dt.isPlainObject(t)&&t!==null)throw new Dt.SentryError(r);return t}function j6e(t,e,r){let{beforeSend:i,beforeSendTransaction:s}=t;return Coe(e)&&i?i(e,r):Eoe(e)&&s?s(e,r):e}function Coe(t){return t.type===void 0}function Eoe(t){return t.type==="transaction"}nU.BaseClient=_a});var woe=_(sU=>{Object.defineProperty(sU,"__esModule",{value:!0});var T6e=Pe(),C6e=js();function E6e(t,e){e.debug===!0&&(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?T6e.logger.enable():console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle."));let r=C6e.getCurrentHub();r.getScope().update(e.initialScope);let s=new t(e);r.bindClient(s)}sU.initAndBind=E6e});var Uoe=_(nD=>{Object.defineProperty(nD,"__esModule",{value:!0});var ln=Pe(),Moe=30;function k6e(t,e,r=ln.makePromiseBuffer(t.bufferSize||Moe)){let i={},s=a=>r.drain(a);function o(a){let u=[];if(ln.forEachEnvelopeItem(a,(f,y)=>{let v=ln.envelopeItemTypeToDataCategory(y);if(ln.isRateLimited(i,v)){let O=Roe(f,y);t.recordDroppedEvent("ratelimit_backoff",v,O)}else u.push(f)}),u.length===0)return ln.resolvedSyncPromise();let d=ln.createEnvelope(a[0],u),p=f=>{ln.forEachEnvelopeItem(d,(y,v)=>{let O=Roe(y,v);t.recordDroppedEvent(f,ln.envelopeItemTypeToDataCategory(v),O)})},m=()=>e({body:ln.serializeEnvelope(d,t.textEncoder)}).then(f=>(f.statusCode!==void 0&&(f.statusCode<200||f.statusCode>=300)&&(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&ln.logger.warn(`Sentry responded with status code ${f.statusCode} to sent event.`),i=ln.updateRateLimits(i,f),f),f=>{throw p("network_error"),f});return r.add(m).then(f=>f,f=>{if(f instanceof ln.SentryError)return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&ln.logger.error("Skipped sending event because buffer is full."),p("queue_overflow"),ln.resolvedSyncPromise();throw f})}return o.__sentry__baseTransport__=!0,{send:o,flush:s}}function Roe(t,e){if(!(e!=="event"&&e!=="transaction"))return Array.isArray(t)?t[1]:void 0}nD.DEFAULT_TRANSPORT_BUFFER_SIZE=Moe;nD.createTransport=k6e});var Noe=_(Ly=>{Object.defineProperty(Ly,"__esModule",{value:!0});var aU=Pe(),Loe=100,lU=5e3,w6e=36e5;function oU(t,e){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&aU.logger.info(`[Offline]: ${t}`,e)}function R6e(t){return e=>{let r=t(e),i=e.createStore?e.createStore(e):void 0,s=lU,o;function a(m,f,y){return aU.envelopeContainsItemType(m,["replay_event","replay_recording","client_report"])?!1:e.shouldStore?e.shouldStore(m,f,y):!0}function u(m){i&&(o&&clearTimeout(o),o=setTimeout(async()=>{o=void 0;let f=await i.pop();f&&(oU("Attempting to send previously queued event"),p(f).catch(y=>{oU("Failed to retry sending",y)}))},m),typeof o!="number"&&o.unref&&o.unref())}function d(){o||(u(s),s=Math.min(s*2,w6e))}async function p(m){try{let f=await r.send(m),y=Loe;if(f){if(f.headers&&f.headers["retry-after"])y=aU.parseRetryAfterHeader(f.headers["retry-after"]);else if((f.statusCode||0)>=400)return f}return u(y),s=lU,f}catch(f){if(i&&await a(m,f,s))return await i.insert(m),d(),oU("Error sending. Event queued",f),{};throw f}}return e.flushAtStartup&&d(),{send:p,flush:m=>r.flush(m)}}}Ly.MIN_DELAY=Loe;Ly.START_DELAY=lU;Ly.makeOfflineTransport=R6e});var qoe=_(uU=>{Object.defineProperty(uU,"__esModule",{value:!0});var Voe=Pe(),M6e=tD();function U6e(t,e){let r;return Voe.forEachEnvelopeItem(t,(i,s)=>(e.includes(s)&&(r=Array.isArray(i)?i[1]:void 0),!!r)),r}function L6e(t,e){return r=>{let i=t(r),s={};function o(d){if(!s[d]){let p=Voe.dsnFromString(d);if(!p)return;let m=M6e.getEnvelopeEndpointWithUrlEncodedAuth(p);s[d]=t({...r,url:m})}return s[d]}async function a(d){function p(y){let v=y&&y.length?y:["event"];return U6e(d,v)}let m=e({envelope:d,getEvent:p}).map(y=>o(y)).filter(y=>!!y);return m.length===0&&m.push(i),(await Promise.all(m.map(y=>y.send(d))))[0]}async function u(d){let p=[...Object.keys(s).map(f=>s[f]),i];return(await Promise.all(p.map(f=>f.flush(d)))).every(f=>f)}return{send:a,flush:u}}}uU.makeMultiplexedTransport=L6e});var Boe=_(dU=>{Object.defineProperty(dU,"__esModule",{value:!0});var N6e="7.53.0";dU.SDK_VERSION=N6e});var pU=_(cU=>{Object.defineProperty(cU,"__esModule",{value:!0});var V6e=Pe(),Woe,vd=class{constructor(){vd.prototype.__init.call(this)}static __initStatic(){this.id="FunctionToString"}__init(){this.name=vd.id}setupOnce(){Woe=Function.prototype.toString;try{Function.prototype.toString=function(...e){let r=V6e.getOriginalFunction(this)||this;return Woe.apply(r,e)}}catch{}}};vd.__initStatic();cU.FunctionToString=vd});var mU=_(Ny=>{Object.defineProperty(Ny,"__esModule",{value:!0});var Zr=Pe(),q6e=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],Ul=class{static __initStatic(){this.id="InboundFilters"}__init(){this.name=Ul.id}constructor(e={}){this._options=e,Ul.prototype.__init.call(this)}setupOnce(e,r){let i=s=>{let o=r();if(o){let a=o.getIntegration(Ul);if(a){let u=o.getClient(),d=u?u.getOptions():{},p=Goe(a._options,d);return Hoe(s,p)?null:s}}return s};i.id=this.name,e(i)}};Ul.__initStatic();function Goe(t={},e={}){return{allowUrls:[...t.allowUrls||[],...e.allowUrls||[]],denyUrls:[...t.denyUrls||[],...e.denyUrls||[]],ignoreErrors:[...t.ignoreErrors||[],...e.ignoreErrors||[],...q6e],ignoreTransactions:[...t.ignoreTransactions||[],...e.ignoreTransactions||[]],ignoreInternal:t.ignoreInternal!==void 0?t.ignoreInternal:!0}}function Hoe(t,e){return e.ignoreInternal&&$6e(t)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Zr.logger.warn(`Event dropped due to being internal Sentry Error.
Event: ${Zr.getEventDescription(t)}`),!0):B6e(t,e.ignoreErrors)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Zr.logger.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Zr.getEventDescription(t)}`),!0):W6e(t,e.ignoreTransactions)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Zr.logger.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Zr.getEventDescription(t)}`),!0):G6e(t,e.denyUrls)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Zr.logger.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Zr.getEventDescription(t)}.
Url: ${sD(t)}`),!0):H6e(t,e.allowUrls)?!1:((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Zr.logger.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Zr.getEventDescription(t)}.
Url: ${sD(t)}`),!0)}function B6e(t,e){return t.type||!e||!e.length?!1:K6e(t).some(r=>Zr.stringMatchesSomePattern(r,e))}function W6e(t,e){if(t.type!=="transaction"||!e||!e.length)return!1;let r=t.transaction;return r?Zr.stringMatchesSomePattern(r,e):!1}function G6e(t,e){if(!e||!e.length)return!1;let r=sD(t);return r?Zr.stringMatchesSomePattern(r,e):!1}function H6e(t,e){if(!e||!e.length)return!0;let r=sD(t);return r?Zr.stringMatchesSomePattern(r,e):!0}function K6e(t){if(t.message)return[t.message];if(t.exception){let{values:e}=t.exception;try{let{type:r="",value:i=""}=e&&e[e.length-1]||{};return[`${i}`,`${r}: ${i}`]}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Zr.logger.error(`Cannot extract message for event ${Zr.getEventDescription(t)}`),[]}}return[]}function $6e(t){try{return t.exception.values[0].type==="SentryError"}catch{}return!1}function z6e(t=[]){for(let e=t.length-1;e>=0;e--){let r=t[e];if(r&&r.filename!=="<anonymous>"&&r.filename!=="[native code]")return r.filename||null}return null}function sD(t){try{let e;try{e=t.exception.values[0].stacktrace.frames}catch{}return e?z6e(e):null}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Zr.logger.error(`Cannot extract url for event ${Zr.getEventDescription(t)}`),null}}Ny.InboundFilters=Ul;Ny._mergeOptions=Goe;Ny._shouldDropEvent=Hoe});var Koe=_(oD=>{Object.defineProperty(oD,"__esModule",{value:!0});var Y6e=pU(),Q6e=mU();oD.FunctionToString=Y6e.FunctionToString;oD.InboundFilters=Q6e.InboundFilters});var zoe=_(gU=>{Object.defineProperty(gU,"__esModule",{value:!0});var $oe=Pe();function J6e(t,e,r,i){let s={sent_at:new Date().toISOString(),...e&&e.sdk&&{sdk:{name:e.sdk.name,version:e.sdk.version}},...!!r&&!!i&&{dsn:$oe.dsnToString(i)}},o=X6e(t);return $oe.createEnvelope(s,[o])}function X6e(t){return[{type:"check_in"},t]}gU.createCheckInEnvelope=J6e});var yr=_(Me=>{Object.defineProperty(Me,"__esModule",{value:!0});var Yoe=boe(),Qoe=QM(),Joe=YS(),Z6e=QS(),e8e=HM(),t8e=yoe(),r8e=hoe(),un=Ioe(),va=js(),fU=Cy(),i8e=xoe(),Xoe=Ey(),Zoe=tD(),n8e=koe(),s8e=woe(),o8e=Uoe(),a8e=Noe(),l8e=qoe(),u8e=Boe(),d8e=rU(),c8e=Koe(),p8e=iU(),m8e=zoe(),g8e=WM(),f8e=Py(),b8e=pU(),y8e=mU(),h8e=Pe();Me.addTracingExtensions=Yoe.addTracingExtensions;Me.startIdleTransaction=Yoe.startIdleTransaction;Me.IdleTransaction=Qoe.IdleTransaction;Me.TRACING_DEFAULTS=Qoe.TRACING_DEFAULTS;Me.Span=Joe.Span;Me.spanStatusfromHttpCode=Joe.spanStatusfromHttpCode;Me.Transaction=Z6e.Transaction;Me.getActiveTransaction=e8e.getActiveTransaction;Object.defineProperty(Me,"SpanStatus",{enumerable:!0,get:()=>t8e.SpanStatus});Me.trace=r8e.trace;Me.addBreadcrumb=un.addBreadcrumb;Me.captureCheckIn=un.captureCheckIn;Me.captureEvent=un.captureEvent;Me.captureException=un.captureException;Me.captureMessage=un.captureMessage;Me.configureScope=un.configureScope;Me.setContext=un.setContext;Me.setExtra=un.setExtra;Me.setExtras=un.setExtras;Me.setTag=un.setTag;Me.setTags=un.setTags;Me.setUser=un.setUser;Me.startTransaction=un.startTransaction;Me.withScope=un.withScope;Me.Hub=va.Hub;Me.ensureHubOnCarrier=va.ensureHubOnCarrier;Me.getCurrentHub=va.getCurrentHub;Me.getHubFromCarrier=va.getHubFromCarrier;Me.getMainCarrier=va.getMainCarrier;Me.makeMain=va.makeMain;Me.runWithAsyncContext=va.runWithAsyncContext;Me.setAsyncContextStrategy=va.setAsyncContextStrategy;Me.setHubOnCarrier=va.setHubOnCarrier;Me.closeSession=fU.closeSession;Me.makeSession=fU.makeSession;Me.updateSession=fU.updateSession;Me.SessionFlusher=i8e.SessionFlusher;Me.Scope=Xoe.Scope;Me.addGlobalEventProcessor=Xoe.addGlobalEventProcessor;Me.getEnvelopeEndpointWithUrlEncodedAuth=Zoe.getEnvelopeEndpointWithUrlEncodedAuth;Me.getReportDialogEndpoint=Zoe.getReportDialogEndpoint;Me.BaseClient=n8e.BaseClient;Me.initAndBind=s8e.initAndBind;Me.createTransport=o8e.createTransport;Me.makeOfflineTransport=a8e.makeOfflineTransport;Me.makeMultiplexedTransport=l8e.makeMultiplexedTransport;Me.SDK_VERSION=u8e.SDK_VERSION;Me.getIntegrationsToSetup=d8e.getIntegrationsToSetup;Me.Integrations=c8e;Me.prepareEvent=p8e.prepareEvent;Me.createCheckInEnvelope=m8e.createCheckInEnvelope;Me.hasTracingEnabled=g8e.hasTracingEnabled;Me.DEFAULT_ENVIRONMENT=f8e.DEFAULT_ENVIRONMENT;Me.FunctionToString=b8e.FunctionToString;Me.InboundFilters=y8e.InboundFilters;Me.extractTraceparentData=h8e.extractTraceparentData});var yU=_(bU=>{Object.defineProperty(bU,"__esModule",{value:!0});function I8e(t,e){return t??e()}bU._nullishCoalesce=I8e});var eae=_(hU=>{Object.defineProperty(hU,"__esModule",{value:!0});var x8e=yU();async function _8e(t,e){return x8e._nullishCoalesce(t,e)}hU._asyncNullishCoalesce=_8e});var xU=_(IU=>{Object.defineProperty(IU,"__esModule",{value:!0});async function v8e(t){let e,r=t[0],i=1;for(;i<t.length;){let s=t[i],o=t[i+1];if(i+=2,(s==="optionalAccess"||s==="optionalCall")&&r==null)return;s==="access"||s==="optionalAccess"?(e=r,r=await o(r)):(s==="call"||s==="optionalCall")&&(r=await o((...a)=>r.call(e,...a)),e=void 0)}return r}IU._asyncOptionalChain=v8e});var tae=_(_U=>{Object.defineProperty(_U,"__esModule",{value:!0});var O8e=xU();async function S8e(t){let e=await O8e._asyncOptionalChain(t);return e??!0}_U._asyncOptionalChainDelete=S8e});var rae=_(aD=>{Object.defineProperty(aD,"__esModule",{value:!0});function D8e(t,e,r){aD[e]=t[r]}aD._createNamedExportFrom=D8e});var iae=_(Vy=>{Object.defineProperty(Vy,"__esModule",{value:!0});function A8e(t){Object.keys(t).filter(e=>e!=="default"&&e!=="__esModule"&&!(e in Vy)).forEach(e=>Vy[e]=t[e])}Vy._createStarExport=A8e});var nae=_(vU=>{Object.defineProperty(vU,"__esModule",{value:!0});function F8e(t){return t.__esModule?t.default:t}vU._interopDefault=F8e});var sae=_(OU=>{Object.defineProperty(OU,"__esModule",{value:!0});function P8e(t){return t.__esModule?t:{...t,default:t}}OU._interopNamespace=P8e});var oae=_(SU=>{Object.defineProperty(SU,"__esModule",{value:!0});function j8e(t){return{__proto__:null,default:t}}SU._interopNamespaceDefaultOnly=j8e});var aae=_(DU=>{Object.defineProperty(DU,"__esModule",{value:!0});function T8e(t){return t.__esModule?t:{default:t}}DU._interopRequireDefault=T8e});var lae=_(AU=>{Object.defineProperty(AU,"__esModule",{value:!0});function C8e(t){return t.__esModule?t:{...t,default:t}}AU._interopRequireWildcard=C8e});var PU=_(FU=>{Object.defineProperty(FU,"__esModule",{value:!0});function E8e(t){let e,r=t[0],i=1;for(;i<t.length;){let s=t[i],o=t[i+1];if(i+=2,(s==="optionalAccess"||s==="optionalCall")&&r==null)return;s==="access"||s==="optionalAccess"?(e=r,r=o(r)):(s==="call"||s==="optionalCall")&&(r=o((...a)=>r.call(e,...a)),e=void 0)}return r}FU._optionalChain=E8e});var uae=_(jU=>{Object.defineProperty(jU,"__esModule",{value:!0});var k8e=PU();function w8e(t){let e=k8e._optionalChain(t);return e??!0}jU._optionalChainDelete=w8e});var Cr=_(Bi=>{Object.defineProperty(Bi,"__esModule",{value:!0});var R8e=eae(),M8e=xU(),U8e=tae(),L8e=rae(),N8e=iae(),V8e=nae(),q8e=sae(),B8e=oae(),W8e=aae(),G8e=lae(),H8e=yU(),K8e=PU(),$8e=uae();Bi._asyncNullishCoalesce=R8e._asyncNullishCoalesce;Bi._asyncOptionalChain=M8e._asyncOptionalChain;Bi._asyncOptionalChainDelete=U8e._asyncOptionalChainDelete;Bi._createNamedExportFrom=L8e._createNamedExportFrom;Bi._createStarExport=N8e._createStarExport;Bi._interopDefault=V8e._interopDefault;Bi._interopNamespace=q8e._interopNamespace;Bi._interopNamespaceDefaultOnly=B8e._interopNamespaceDefaultOnly;Bi._interopRequireDefault=W8e._interopRequireDefault;Bi._interopRequireWildcard=G8e._interopRequireWildcard;Bi._nullishCoalesce=H8e._nullishCoalesce;Bi._optionalChain=K8e._optionalChain;Bi._optionalChainDelete=$8e._optionalChainDelete});var Ll=_(TU=>{var{_optionalChain:dae}=Cr();Object.defineProperty(TU,"__esModule",{value:!0});function z8e(t){let e=dae([t,"call",i=>i(),"access",i=>i.getClient,"call",i=>i(),"optionalAccess",i=>i.getOptions,"call",i=>i()]);return(dae([e,"optionalAccess",i=>i.instrumenter])||"sentry")!=="sentry"}TU.shouldDisableAutoInstrumentation=z8e});var pae=_(CU=>{var{_optionalChain:qy}=Cr();Object.defineProperty(CU,"__esModule",{value:!0});var ho=Pe(),Y8e=Ll(),Od=class{static __initStatic(){this.id="Express"}__init(){this.name=Od.id}constructor(e={}){Od.prototype.__init.call(this),this._router=e.router||e.app,this._methods=(Array.isArray(e.methods)?e.methods:[]).concat("use")}setupOnce(e,r){if(!this._router){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&ho.logger.error("ExpressIntegration is missing an Express instance");return}if(Y8e.shouldDisableAutoInstrumentation(r)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&ho.logger.log("Express Integration is skipped because of instrumenter configuration.");return}X8e(this._router,this._methods),Z8e(this._router)}};Od.__initStatic();function cae(t,e){let r=t.length;switch(r){case 2:return function(i,s){let o=s.__sentry_transaction;if(o){let a=o.startChild({description:t.name,op:`middleware.express.${e}`});s.once("finish",()=>{a.finish()})}return t.call(this,i,s)};case 3:return function(i,s,o){let a=s.__sentry_transaction,u=qy([a,"optionalAccess",d=>d.startChild,"call",d=>d({description:t.name,op:`middleware.express.${e}`})]);t.call(this,i,s,function(...d){qy([u,"optionalAccess",p=>p.finish,"call",p=>p()]),o.call(this,...d)})};case 4:return function(i,s,o,a){let u=o.__sentry_transaction,d=qy([u,"optionalAccess",p=>p.startChild,"call",p=>p({description:t.name,op:`middleware.express.${e}`})]);t.call(this,i,s,o,function(...p){qy([d,"optionalAccess",m=>m.finish,"call",m=>m()]),a.call(this,...p)})};default:throw new Error(`Express middleware takes 2-4 arguments. Got: ${r}`)}}function Q8e(t,e){return t.map(r=>typeof r=="function"?cae(r,e):Array.isArray(r)?r.map(i=>typeof i=="function"?cae(i,e):i):r)}function J8e(t,e){let r=t[e];return t[e]=function(...i){return r.call(this,...Q8e(i,e))},t}function X8e(t,e=[]){e.forEach(r=>J8e(t,r))}function Z8e(t){let e="settings"in t;e&&t._router===void 0&&t.lazyrouter&&t.lazyrouter();let r=e?t._router:t;if(!r){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&ho.logger.debug("Cannot instrument router for URL Parameterization (did not find a valid router)."),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&ho.logger.debug("Routing instrumentation is currently only supported in Express 4.");return}let i=Object.getPrototypeOf(r),s=i.process_params;i.process_params=function(a,u,d,p,m){d._reconstructedRoute||(d._reconstructedRoute="");let{layerRoutePath:f,isRegex:y,isArray:v,numExtraSegments:O}=e5e(a);(f||y||v)&&(d._hasParameters=!0);let k=(f||a.path||"").split("/").filter(R=>R.length>0&&(y||v||!R.includes("*"))).join("/");k&&k.length>0&&(d._reconstructedRoute+=`/${k}${y?"/":""}`);let U=ho.getNumberOfUrlSegments(d.originalUrl||"")+O,$=ho.getNumberOfUrlSegments(d._reconstructedRoute);if(U===$){d._hasParameters||d._reconstructedRoute!==d.originalUrl&&(d._reconstructedRoute=d.originalUrl);let R=p.__sentry_transaction;if(R&&R.metadata.source!=="custom"){let z=d._reconstructedRoute||"/";R.setName(...ho.extractPathForTransaction(d,{path:!0,method:!0,customRoute:z}))}}return s.call(this,a,u,d,p,m)}}function e5e(t){let e=qy([t,"access",a=>a.route,"optionalAccess",a=>a.path]),r=ho.isRegExp(e),i=Array.isArray(e);if(!e)return{isRegex:r,isArray:i,numExtraSegments:0};let s=i?Math.max(t5e(e)-ho.getNumberOfUrlSegments(t.path||""),0):0;return{layerRoutePath:r5e(i,e),isRegex:r,isArray:i,numExtraSegments:s}}function t5e(t){return t.reduce((e,r)=>e+ho.getNumberOfUrlSegments(r.toString()),0)}function r5e(t,e){return t?e.map(r=>r.toString()).join(","):e&&e.toString()}CU.Express=Od});var mae=_(EU=>{var{_optionalChain:Sd}=Cr();Object.defineProperty(EU,"__esModule",{value:!0});var rm=Pe(),i5e=Ll(),Dd=class{static __initStatic(){this.id="Postgres"}__init(){this.name=Dd.id}constructor(e={}){Dd.prototype.__init.call(this),this._usePgNative=!!e.usePgNative}loadDependency(){return this._module=this._module||rm.loadModule("pg")}setupOnce(e,r){if(i5e.shouldDisableAutoInstrumentation(r)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&rm.logger.log("Postgres Integration is skipped because of instrumenter configuration.");return}let i=this.loadDependency();if(!i){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&rm.logger.error("Postgres Integration was unable to require `pg` package.");return}if(this._usePgNative&&!Sd([i,"access",o=>o.native,"optionalAccess",o=>o.Client])){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&rm.logger.error("Postgres Integration was unable to access 'pg-native' bindings.");return}let{Client:s}=this._usePgNative?i.native:i;rm.fill(s.prototype,"query",function(o){return function(a,u,d){let p=r().getScope(),m=Sd([p,"optionalAccess",v=>v.getSpan,"call",v=>v()]),f=Sd([m,"optionalAccess",v=>v.startChild,"call",v=>v({description:typeof a=="string"?a:a.text,op:"db",data:{"db.system":"postgresql"}})]);if(typeof d=="function")return o.call(this,a,u,function(v,O){Sd([f,"optionalAccess",A=>A.finish,"call",A=>A()]),d(v,O)});if(typeof u=="function")return o.call(this,a,function(v,O){Sd([f,"optionalAccess",A=>A.finish,"call",A=>A()]),u(v,O)});let y=typeof u<"u"?o.call(this,a,u):o.call(this,a);return rm.isThenable(y)?y.then(v=>(Sd([f,"optionalAccess",O=>O.finish,"call",O=>O()]),v)):(Sd([f,"optionalAccess",v=>v.finish,"call",v=>v()]),y)}})}};Dd.__initStatic();EU.Postgres=Dd});var gae=_(kU=>{var{_optionalChain:lD}=Cr();Object.defineProperty(kU,"__esModule",{value:!0});var uD=Pe(),n5e=Ll(),Ad=class{constructor(){Ad.prototype.__init.call(this)}static __initStatic(){this.id="Mysql"}__init(){this.name=Ad.id}loadDependency(){return this._module=this._module||uD.loadModule("mysql/lib/Connection.js")}setupOnce(e,r){if(n5e.shouldDisableAutoInstrumentation(r)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&uD.logger.log("Mysql Integration is skipped because of instrumenter configuration.");return}let i=this.loadDependency();if(!i){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&uD.logger.error("Mysql Integration was unable to require `mysql` package.");return}uD.fill(i,"createQuery",function(s){return function(o,a,u){let d=r().getScope(),p=lD([d,"optionalAccess",f=>f.getSpan,"call",f=>f()]),m=lD([p,"optionalAccess",f=>f.startChild,"call",f=>f({description:typeof o=="string"?o:o.sql,op:"db",data:{"db.system":"mysql"}})]);return typeof u=="function"?s.call(this,o,a,function(f,y,v){lD([m,"optionalAccess",O=>O.finish,"call",O=>O()]),u(f,y,v)}):typeof a=="function"?s.call(this,o,function(f,y,v){lD([m,"optionalAccess",O=>O.finish,"call",O=>O()]),a(f,y,v)}):s.call(this,o,a,u)}})}};Ad.__initStatic();kU.Mysql=Ad});var fae=_(wU=>{var{_optionalChain:Nl}=Cr();Object.defineProperty(wU,"__esModule",{value:!0});var By=Pe(),s5e=Ll(),o5e=["aggregate","bulkWrite","countDocuments","createIndex","createIndexes","deleteMany","deleteOne","distinct","drop","dropIndex","dropIndexes","estimatedDocumentCount","find","findOne","findOneAndDelete","findOneAndReplace","findOneAndUpdate","indexes","indexExists","indexInformation","initializeOrderedBulkOp","insertMany","insertOne","isCapped","mapReduce","options","parallelCollectionScan","rename","replaceOne","stats","updateMany","updateOne"],a5e={bulkWrite:["operations"],countDocuments:["query"],createIndex:["fieldOrSpec"],createIndexes:["indexSpecs"],deleteMany:["filter"],deleteOne:["filter"],distinct:["key","query"],dropIndex:["indexName"],find:["query"],findOne:["query"],findOneAndDelete:["filter"],findOneAndReplace:["filter","replacement"],findOneAndUpdate:["filter","update"],indexExists:["indexes"],insertMany:["docs"],insertOne:["doc"],mapReduce:["map","reduce"],rename:["newName"],replaceOne:["filter","doc"],updateMany:["filter","update"],updateOne:["filter","update"]};function l5e(t){return t&&typeof t=="object"&&t.once&&typeof t.once=="function"}var Fd=class{static __initStatic(){this.id="Mongo"}__init(){this.name=Fd.id}constructor(e={}){Fd.prototype.__init.call(this),this._operations=Array.isArray(e.operations)?e.operations:o5e,this._describeOperations="describeOperations"in e?e.describeOperations:!0,this._useMongoose=!!e.useMongoose}loadDependency(){let e=this._useMongoose?"mongoose":"mongodb";return this._module=this._module||By.loadModule(e)}setupOnce(e,r){if(s5e.shouldDisableAutoInstrumentation(r)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&By.logger.log("Mongo Integration is skipped because of instrumenter configuration.");return}let i=this.loadDependency();if(!i){let s=this._useMongoose?"mongoose":"mongodb";(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&By.logger.error(`Mongo Integration was unable to require \`${s}\` package.`);return}this._instrumentOperations(i.Collection,this._operations,r)}_instrumentOperations(e,r,i){r.forEach(s=>this._patchOperation(e,s,i))}_patchOperation(e,r,i){if(!(r in e.prototype))return;let s=this._getSpanContextFromOperationArguments.bind(this);By.fill(e.prototype,r,function(o){return function(...a){let u=a[a.length-1],d=i().getScope(),p=Nl([d,"optionalAccess",f=>f.getSpan,"call",f=>f()]);if(typeof u!="function"||r==="mapReduce"&&a.length===2){let f=Nl([p,"optionalAccess",v=>v.startChild,"call",v=>v(s(this,r,a))]),y=o.call(this,...a);if(By.isThenable(y))return y.then(v=>(Nl([f,"optionalAccess",O=>O.finish,"call",O=>O()]),v));if(l5e(y)){let v=y;try{v.once("close",()=>{Nl([f,"optionalAccess",O=>O.finish,"call",O=>O()])})}catch{Nl([f,"optionalAccess",A=>A.finish,"call",A=>A()])}return v}else return Nl([f,"optionalAccess",v=>v.finish,"call",v=>v()]),y}let m=Nl([p,"optionalAccess",f=>f.startChild,"call",f=>f(s(this,r,a.slice(0,-1)))]);return o.call(this,...a.slice(0,-1),function(f,y){Nl([m,"optionalAccess",v=>v.finish,"call",v=>v()]),u(f,y)})}})}_getSpanContextFromOperationArguments(e,r,i){let s={collectionName:e.collectionName,dbName:e.dbName,namespace:e.namespace,"db.system":"mongodb"},o={op:"db",description:r,data:s},a=a5e[r],u=Array.isArray(this._describeOperations)?this._describeOperations.includes(r):this._describeOperations;if(!a||!u)return o;try{if(r==="mapReduce"){let[d,p]=i;s[a[0]]=typeof d=="string"?d:d.name||"<anonymous>",s[a[1]]=typeof p=="string"?p:p.name||"<anonymous>"}else for(let d=0;d<a.length;d++)s[a[d]]=JSON.stringify(i[d])}catch{}return o}};Fd.__initStatic();wU.Mongo=Fd});var bae=_(MU=>{Object.defineProperty(MU,"__esModule",{value:!0});var u5e=yr(),RU=Pe(),d5e=Ll();function c5e(t){return t&&!!t.$use}var Pd=class{static __initStatic(){this.id="Prisma"}__init(){this.name=Pd.id}constructor(e={}){Pd.prototype.__init.call(this),c5e(e.client)?this._client=e.client:(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&RU.logger.warn(`Unsupported Prisma client provided to PrismaIntegration. Provided client: ${JSON.stringify(e.client)}`)}setupOnce(e,r){if(!this._client){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&RU.logger.error("PrismaIntegration is missing a Prisma Client Instance");return}if(d5e.shouldDisableAutoInstrumentation(r)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&RU.logger.log("Prisma Integration is skipped because of instrumenter configuration.");return}this._client.$use((i,s)=>{let o=i.action,a=i.model;return u5e.trace({name:a?`${a} ${o}`:o,op:"db.sql.prisma",data:{"db.system":"prisma"}},()=>s(i))})}};Pd.__initStatic();MU.Prisma=Pd});var yae=_(UU=>{var{_optionalChain:jd}=Cr();Object.defineProperty(UU,"__esModule",{value:!0});var Wy=Pe(),p5e=Ll(),Td=class{constructor(){Td.prototype.__init.call(this)}static __initStatic(){this.id="GraphQL"}__init(){this.name=Td.id}loadDependency(){return this._module=this._module||Wy.loadModule("graphql/execution/execute.js")}setupOnce(e,r){if(p5e.shouldDisableAutoInstrumentation(r)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Wy.logger.log("GraphQL Integration is skipped because of instrumenter configuration.");return}let i=this.loadDependency();if(!i){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Wy.logger.error("GraphQL Integration was unable to require graphql/execution package.");return}Wy.fill(i,"execute",function(s){return function(...o){let a=r().getScope(),u=jd([a,"optionalAccess",m=>m.getSpan,"call",m=>m()]),d=jd([u,"optionalAccess",m=>m.startChild,"call",m=>m({description:"execute",op:"graphql.execute"})]);jd([a,"optionalAccess",m=>m.setSpan,"call",m=>m(d)]);let p=s.call(this,...o);return Wy.isThenable(p)?p.then(m=>(jd([d,"optionalAccess",f=>f.finish,"call",f=>f()]),jd([a,"optionalAccess",f=>f.setSpan,"call",f=>f(u)]),m)):(jd([d,"optionalAccess",m=>m.finish,"call",m=>m()]),jd([a,"optionalAccess",m=>m.setSpan,"call",m=>m(u)]),p)}})}};Td.__initStatic();UU.GraphQL=Td});var Iae=_(LU=>{var{_optionalChain:dD}=Cr();Object.defineProperty(LU,"__esModule",{value:!0});var Pi=Pe(),m5e=Ll(),Cd=class{static __initStatic(){this.id="Apollo"}__init(){this.name=Cd.id}constructor(e={useNestjs:!1}){Cd.prototype.__init.call(this),this._useNest=!!e.useNestjs}loadDependency(){return this._useNest?this._module=this._module||Pi.loadModule("@nestjs/graphql"):this._module=this._module||Pi.loadModule("apollo-server-core"),this._module}setupOnce(e,r){if(m5e.shouldDisableAutoInstrumentation(r)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Pi.logger.log("Apollo Integration is skipped because of instrumenter configuration.");return}if(this._useNest){let i=this.loadDependency();if(!i){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Pi.logger.error("Apollo-NestJS Integration was unable to require @nestjs/graphql package.");return}Pi.fill(i.GraphQLFactory.prototype,"mergeWithSchema",function(s){return function(...o){return Pi.fill(this.resolversExplorerService,"explore",function(a){return function(){let u=Pi.arrayify(a.call(this));return hae(u,r)}}),s.call(this,...o)}})}else{let i=this.loadDependency();if(!i){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Pi.logger.error("Apollo Integration was unable to require apollo-server-core package.");return}Pi.fill(i.ApolloServerBase.prototype,"constructSchema",function(s){return function(){if(!this.config.resolvers)return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&(this.config.schema?(Pi.logger.warn("Apollo integration is not able to trace `ApolloServer` instances constructed via `schema` property.If you are using NestJS with Apollo, please use `Sentry.Integrations.Apollo({ useNestjs: true })` instead."),Pi.logger.warn()):this.config.modules&&Pi.logger.warn("Apollo integration is not able to trace `ApolloServer` instances constructed via `modules` property."),Pi.logger.error("Skipping tracing as no resolvers found on the `ApolloServer` instance.")),s.call(this);let o=Pi.arrayify(this.config.resolvers);return this.config.resolvers=hae(o,r),s.call(this)}})}}};Cd.__initStatic();function hae(t,e){return t.map(r=>(Object.keys(r).forEach(i=>{Object.keys(r[i]).forEach(s=>{typeof r[i][s]=="function"&&g5e(r,i,s,e)})}),r))}function g5e(t,e,r,i){Pi.fill(t[e],r,function(s){return function(...o){let a=i().getScope(),u=dD([a,"optionalAccess",m=>m.getSpan,"call",m=>m()]),d=dD([u,"optionalAccess",m=>m.startChild,"call",m=>m({description:`${e}.${r}`,op:"graphql.resolve"})]),p=s.call(this,...o);return Pi.isThenable(p)?p.then(m=>(dD([d,"optionalAccess",f=>f.finish,"call",f=>f()]),m)):(dD([d,"optionalAccess",m=>m.finish,"call",m=>m()]),p)}})}LU.Apollo=Cd});var xae=_((NU,Vl)=>{Object.defineProperty(NU,"__esModule",{value:!0});var Ed=Pe(),f5e=[()=>{let t=Ed.dynamicRequire(Vl,"./apollo");return new t.Apollo},()=>{let t=Ed.dynamicRequire(Vl,"./apollo");return new t.Apollo({useNestjs:!0})},()=>{let t=Ed.dynamicRequire(Vl,"./graphql");return new t.GraphQL},()=>{let t=Ed.dynamicRequire(Vl,"./mongo");return new t.Mongo},()=>{let t=Ed.dynamicRequire(Vl,"./mongo");return new t.Mongo({mongoose:!0})},()=>{let t=Ed.dynamicRequire(Vl,"./mysql");return new t.Mysql},()=>{let t=Ed.dynamicRequire(Vl,"./postgres");return new t.Postgres}];NU.lazyLoadedNodePerformanceMonitoringIntegrations=f5e});var Oa=_(VU=>{Object.defineProperty(VU,"__esModule",{value:!0});var b5e=Pe(),y5e=b5e.GLOBAL_OBJ;VU.WINDOW=y5e});var vae=_(qU=>{Object.defineProperty(qU,"__esModule",{value:!0});var h5e=yr(),_ae=Pe(),cD=Oa();function I5e(){cD.WINDOW&&cD.WINDOW.document?cD.WINDOW.document.addEventListener("visibilitychange",()=>{let t=h5e.getActiveTransaction();if(cD.WINDOW.document.hidden&&t){let e="cancelled";(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_ae.logger.log(`[Tracing] Transaction: ${e} -> since tab moved to the background, op: ${t.op}`),t.status||t.setStatus(e),t.setTag("visibilitychange","document.hidden"),t.finish()}}):(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&_ae.logger.warn("[Tracing] Could not set up background tab detection due to lack of global document")}qU.registerBackgroundTabDetection=I5e});var pD=_(BU=>{Object.defineProperty(BU,"__esModule",{value:!0});var x5e=(t,e,r)=>{let i,s;return o=>{e.value>=0&&(o||r)&&(s=e.value-(i||0),(s||i===void 0)&&(i=e.value,e.delta=s,t(e)))}};BU.bindReporter=x5e});var Oae=_(WU=>{Object.defineProperty(WU,"__esModule",{value:!0});var _5e=()=>`v3-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`;WU.generateUniqueID=_5e});var HU=_(GU=>{Object.defineProperty(GU,"__esModule",{value:!0});var Gy=Oa(),v5e=()=>{let t=Gy.WINDOW.performance.timing,e=Gy.WINDOW.performance.navigation.type,r={entryType:"navigation",startTime:0,type:e==2?"back_forward":e===1?"reload":"navigate"};for(let i in t)i!=="navigationStart"&&i!=="toJSON"&&(r[i]=Math.max(t[i]-t.navigationStart,0));return r},O5e=()=>Gy.WINDOW.__WEB_VITALS_POLYFILL__?Gy.WINDOW.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||v5e()):Gy.WINDOW.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0];GU.getNavigationEntry=O5e});var $U=_(KU=>{Object.defineProperty(KU,"__esModule",{value:!0});var S5e=HU(),D5e=()=>{let t=S5e.getNavigationEntry();return t&&t.activationStart||0};KU.getActivationStart=D5e});var mD=_(zU=>{Object.defineProperty(zU,"__esModule",{value:!0});var A5e=Oa(),F5e=Oae(),P5e=$U(),j5e=HU(),T5e=(t,e)=>{let r=j5e.getNavigationEntry(),i="navigate";return r&&(A5e.WINDOW.document.prerendering||P5e.getActivationStart()>0?i="prerender":i=r.type.replace(/_/g,"-")),{name:t,value:typeof e>"u"?-1:e,rating:"good",delta:0,entries:[],id:F5e.generateUniqueID(),navigationType:i}};zU.initMetric=T5e});var Hy=_(YU=>{Object.defineProperty(YU,"__esModule",{value:!0});var C5e=(t,e,r)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(t)){let i=new PerformanceObserver(s=>{e(s.getEntries())});return i.observe(Object.assign({type:t,buffered:!0},r||{})),i}}catch{}};YU.observe=C5e});var Ky=_(QU=>{Object.defineProperty(QU,"__esModule",{value:!0});var E5e=Oa(),k5e=(t,e)=>{let r=i=>{(i.type==="pagehide"||E5e.WINDOW.document.visibilityState==="hidden")&&(t(i),e&&(removeEventListener("visibilitychange",r,!0),removeEventListener("pagehide",r,!0)))};addEventListener("visibilitychange",r,!0),addEventListener("pagehide",r,!0)};QU.onHidden=k5e});var Sae=_(JU=>{Object.defineProperty(JU,"__esModule",{value:!0});var w5e=pD(),R5e=mD(),M5e=Hy(),U5e=Ky(),L5e=t=>{let e=R5e.initMetric("CLS",0),r,i=0,s=[],o=u=>{u.forEach(d=>{if(!d.hadRecentInput){let p=s[0],m=s[s.length-1];i&&s.length!==0&&d.startTime-m.startTime<1e3&&d.startTime-p.startTime<5e3?(i+=d.value,s.push(d)):(i=d.value,s=[d]),i>e.value&&(e.value=i,e.entries=s,r&&r())}})},a=M5e.observe("layout-shift",o);if(a){r=w5e.bindReporter(t,e);let u=()=>{o(a.takeRecords()),r(!0)};return U5e.onHidden(u),u}};JU.onCLS=L5e});var fD=_(XU=>{Object.defineProperty(XU,"__esModule",{value:!0});var Dae=Oa(),N5e=Ky(),gD=-1,V5e=()=>Dae.WINDOW.document.visibilityState==="hidden"&&!Dae.WINDOW.document.prerendering?0:1/0,q5e=()=>{N5e.onHidden(({timeStamp:t})=>{gD=t},!0)},B5e=()=>(gD<0&&(gD=V5e(),q5e()),{get firstHiddenTime(){return gD}});XU.getVisibilityWatcher=B5e});var Aae=_(ZU=>{Object.defineProperty(ZU,"__esModule",{value:!0});var W5e=pD(),G5e=fD(),H5e=mD(),K5e=Hy(),$5e=Ky(),z5e=t=>{let e=G5e.getVisibilityWatcher(),r=H5e.initMetric("FID"),i,s=u=>{u.startTime<e.firstHiddenTime&&(r.value=u.processingStart-u.startTime,r.entries.push(u),i(!0))},o=u=>{u.forEach(s)},a=K5e.observe("first-input",o);i=W5e.bindReporter(t,r),a&&$5e.onHidden(()=>{o(a.takeRecords()),a.disconnect()},!0)};ZU.onFID=z5e});var Pae=_(eL=>{Object.defineProperty(eL,"__esModule",{value:!0});var Y5e=pD(),Q5e=$U(),J5e=fD(),X5e=mD(),Z5e=Hy(),e9e=Ky(),Fae={},t9e=t=>{let e=J5e.getVisibilityWatcher(),r=X5e.initMetric("LCP"),i,s=a=>{let u=a[a.length-1];if(u){let d=Math.max(u.startTime-Q5e.getActivationStart(),0);d<e.firstHiddenTime&&(r.value=d,r.entries=[u],i())}},o=Z5e.observe("largest-contentful-paint",s);if(o){i=Y5e.bindReporter(t,r);let a=()=>{Fae[r.id]||(s(o.takeRecords()),o.disconnect(),Fae[r.id]=!0,i(!0))};return["keydown","click"].forEach(u=>{addEventListener(u,a,{once:!0,capture:!0})}),e9e.onHidden(a,!0),a}};eL.onLCP=t9e});var jae=_(bD=>{Object.defineProperty(bD,"__esModule",{value:!0});function r9e(t){return typeof t=="number"&&isFinite(t)}function i9e(t,{startTimestamp:e,...r}){return e&&t.startTimestamp>e&&(t.startTimestamp=e),t.startChild({startTimestamp:e,...r})}bD._startChild=i9e;bD.isMeasurementValue=r9e});var Mae=_(ql=>{Object.defineProperty(ql,"__esModule",{value:!0});var Cae=yr(),Gr=Pe(),kd=Oa(),n9e=Sae(),s9e=Aae(),o9e=Pae(),a9e=fD(),Eae=Hy(),Sa=jae();function Hr(t){return t/1e3}function kae(){return kd.WINDOW&&kd.WINDOW.addEventListener&&kd.WINDOW.performance}var Tae=0,Ar={},Io,$y;function l9e(){let t=kae();if(t&&Gr.browserPerformanceTimeOrigin){t.mark&&kd.WINDOW.performance.mark("sentry-tracing-init"),m9e();let e=c9e(),r=p9e();return()=>{e&&e(),r&&r()}}return()=>{}}function u9e(){let t=e=>{for(let r of e){let i=Cae.getActiveTransaction();if(!i)return;let s=Hr(Gr.browserPerformanceTimeOrigin+r.startTime),o=Hr(r.duration);i.startChild({description:"Main UI thread blocked",op:"ui.long-task",startTimestamp:s,endTimestamp:s+o})}};Eae.observe("longtask",t)}function d9e(){let t=e=>{for(let r of e){let i=Cae.getActiveTransaction();if(!i)return;if(r.name==="click"){let s=Hr(Gr.browserPerformanceTimeOrigin+r.startTime),o=Hr(r.duration);i.startChild({description:Gr.htmlTreeAsString(r.target),op:`ui.interaction.${r.name}`,startTimestamp:s,endTimestamp:s+o})}}};Eae.observe("event",t,{durationThreshold:0})}function c9e(){return n9e.onCLS(t=>{let e=t.entries.pop();e&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Gr.logger.log("[Measurements] Adding CLS"),Ar.cls={value:t.value,unit:""},$y=e)})}function p9e(){return o9e.onLCP(t=>{let e=t.entries.pop();e&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Gr.logger.log("[Measurements] Adding LCP"),Ar.lcp={value:t.value,unit:"millisecond"},Io=e)})}function m9e(){s9e.onFID(t=>{let e=t.entries.pop();if(!e)return;let r=Hr(Gr.browserPerformanceTimeOrigin),i=Hr(e.startTime);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Gr.logger.log("[Measurements] Adding FID"),Ar.fid={value:t.value,unit:"millisecond"},Ar["mark.fid"]={value:r+i,unit:"second"}})}function g9e(t){let e=kae();if(!e||!kd.WINDOW.performance.getEntries||!Gr.browserPerformanceTimeOrigin)return;(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Gr.logger.log("[Tracing] Adding & adjusting spans using Performance API");let r=Hr(Gr.browserPerformanceTimeOrigin),i=e.getEntries(),s,o;if(i.slice(Tae).forEach(a=>{let u=Hr(a.startTime),d=Hr(a.duration);if(!(t.op==="navigation"&&r+u<t.startTimestamp))switch(a.entryType){case"navigation":{f9e(t,a,r),s=r+Hr(a.responseStart),o=r+Hr(a.requestStart);break}case"mark":case"paint":case"measure":{wae(t,a,u,d,r);let p=a9e.getVisibilityWatcher(),m=a.startTime<p.firstHiddenTime;a.name==="first-paint"&&m&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Gr.logger.log("[Measurements] Adding FP"),Ar.fp={value:a.startTime,unit:"millisecond"}),a.name==="first-contentful-paint"&&m&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Gr.logger.log("[Measurements] Adding FCP"),Ar.fcp={value:a.startTime,unit:"millisecond"});break}case"resource":{let p=a.name.replace(kd.WINDOW.location.origin,"");Rae(t,a,p,u,d,r);break}}}),Tae=Math.max(i.length-1,0),y9e(t),t.op==="pageload"){typeof s=="number"&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Gr.logger.log("[Measurements] Adding TTFB"),Ar.ttfb={value:(s-t.startTimestamp)*1e3,unit:"millisecond"},typeof o=="number"&&o<=s&&(Ar["ttfb.requestTime"]={value:(s-o)*1e3,unit:"millisecond"})),["fcp","fp","lcp"].forEach(u=>{if(!Ar[u]||r>=t.startTimestamp)return;let d=Ar[u].value,p=r+Hr(d),m=Math.abs((p-t.startTimestamp)*1e3),f=m-d;(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Gr.logger.log(`[Measurements] Normalized ${u} from ${d} to ${m} (${f})`),Ar[u].value=m});let a=Ar["mark.fid"];a&&Ar.fid&&(Sa._startChild(t,{description:"first input delay",endTimestamp:a.value+Hr(Ar.fid.value),op:"ui.action",startTimestamp:a.value}),delete Ar["mark.fid"]),"fcp"in Ar||delete Ar.cls,Object.keys(Ar).forEach(u=>{t.setMeasurement(u,Ar[u].value,Ar[u].unit)}),h9e(t)}Io=void 0,$y=void 0,Ar={}}function wae(t,e,r,i,s){let o=s+r,a=o+i;return Sa._startChild(t,{description:e.name,endTimestamp:a,op:e.entryType,startTimestamp:o}),o}function f9e(t,e,r){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(i=>{yD(t,e,i,r)}),yD(t,e,"secureConnection",r,"TLS/SSL","connectEnd"),yD(t,e,"fetch",r,"cache","domainLookupStart"),yD(t,e,"domainLookup",r,"DNS"),b9e(t,e,r)}function yD(t,e,r,i,s,o){let a=o?e[o]:e[`${r}End`],u=e[`${r}Start`];!u||!a||Sa._startChild(t,{op:"browser",description:s||r,startTimestamp:i+Hr(u),endTimestamp:i+Hr(a)})}function b9e(t,e,r){Sa._startChild(t,{op:"browser",description:"request",startTimestamp:r+Hr(e.requestStart),endTimestamp:r+Hr(e.responseEnd)}),Sa._startChild(t,{op:"browser",description:"response",startTimestamp:r+Hr(e.responseStart),endTimestamp:r+Hr(e.responseEnd)})}function Rae(t,e,r,i,s,o){if(e.initiatorType==="xmlhttprequest"||e.initiatorType==="fetch")return;let a={};"transferSize"in e&&(a["http.response_transfer_size"]=e.transferSize),"encodedBodySize"in e&&(a["http.response_content_length"]=e.encodedBodySize),"decodedBodySize"in e&&(a["http.decoded_response_content_length"]=e.decodedBodySize),"renderBlockingStatus"in e&&(a["resource.render_blocking_status"]=e.renderBlockingStatus);let u=o+i,d=u+s;Sa._startChild(t,{description:r,endTimestamp:d,op:e.initiatorType?`resource.${e.initiatorType}`:"resource.other",startTimestamp:u,data:a})}function y9e(t){let e=kd.WINDOW.navigator;if(!e)return;let r=e.connection;r&&(r.effectiveType&&t.setTag("effectiveConnectionType",r.effectiveType),r.type&&t.setTag("connectionType",r.type),Sa.isMeasurementValue(r.rtt)&&(Ar["connection.rtt"]={value:r.rtt,unit:"millisecond"})),Sa.isMeasurementValue(e.deviceMemory)&&t.setTag("deviceMemory",`${e.deviceMemory} GB`),Sa.isMeasurementValue(e.hardwareConcurrency)&&t.setTag("hardwareConcurrency",String(e.hardwareConcurrency))}function h9e(t){Io&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Gr.logger.log("[Measurements] Adding LCP Data"),Io.element&&t.setTag("lcp.element",Gr.htmlTreeAsString(Io.element)),Io.id&&t.setTag("lcp.id",Io.id),Io.url&&t.setTag("lcp.url",Io.url.trim().slice(0,200)),t.setTag("lcp.size",Io.size)),$y&&$y.sources&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Gr.logger.log("[Measurements] Adding CLS Data"),$y.sources.forEach((e,r)=>t.setTag(`cls.source.${r+1}`,Gr.htmlTreeAsString(e.node))))}ql._addMeasureSpans=wae;ql._addResourceSpans=Rae;ql.addPerformanceEntries=g9e;ql.startTrackingInteractions=d9e;ql.startTrackingLongTasks=u9e;ql.startTrackingWebVitals=l9e});var rL=_(Da=>{Object.defineProperty(Da,"__esModule",{value:!0});var hD=yr(),Cs=Pe(),ID=["localhost",/^\/(?!\/)/],tL={traceFetch:!0,traceXHR:!0,tracingOrigins:ID,tracePropagationTargets:ID};function I9e(t){let{traceFetch:e,traceXHR:r,tracePropagationTargets:i,tracingOrigins:s,shouldCreateSpanForRequest:o}={traceFetch:tL.traceFetch,traceXHR:tL.traceXHR,...t},a=typeof o=="function"?o:p=>!0,u=p=>Uae(p,i||s),d={};e&&Cs.addInstrumentationHandler("fetch",p=>{Lae(p,a,u,d)}),r&&Cs.addInstrumentationHandler("xhr",p=>{Vae(p,a,u,d)})}function Uae(t,e){return Cs.stringMatchesSomePattern(t,e||ID)}function Lae(t,e,r,i){if(!hD.hasTracingEnabled()||!(t.fetchData&&e(t.fetchData.url)))return;if(t.endTimestamp){let u=t.fetchData.__span;if(!u)return;let d=i[u];if(d){if(t.response){d.setHttpStatus(t.response.status);let p=t.response&&t.response.headers&&t.response.headers.get("content-length"),m=parseInt(p);m>0&&d.setData("http.response_content_length",m)}else t.error&&d.setStatus("internal_error");d.finish(),delete i[u]}return}let s=hD.getCurrentHub().getScope(),o=s&&s.getSpan(),a=o&&o.transaction;if(o&&a){let{method:u,url:d}=t.fetchData,p=o.startChild({data:{url:d,type:"fetch","http.method":u},description:`${u} ${d}`,op:"http.client"});t.fetchData.__span=p.spanId,i[p.spanId]=p;let m=t.args[0];t.args[1]=t.args[1]||{};let f=t.args[1];r(t.fetchData.url)&&(f.headers=Nae(m,a.getDynamicSamplingContext(),p,f))}}function Nae(t,e,r,i){let s=Cs.dynamicSamplingContextToSentryBaggageHeader(e),o=r.toTraceparent(),a=typeof Request<"u"&&Cs.isInstanceOf(t,Request)?t.headers:i.headers;if(a)if(typeof Headers<"u"&&Cs.isInstanceOf(a,Headers)){let u=new Headers(a);return u.append("sentry-trace",o),s&&u.append(Cs.BAGGAGE_HEADER_NAME,s),u}else if(Array.isArray(a)){let u=[...a,["sentry-trace",o]];return s&&u.push([Cs.BAGGAGE_HEADER_NAME,s]),u}else{let u="baggage"in a?a.baggage:void 0,d=[];return Array.isArray(u)?d.push(...u):u&&d.push(u),s&&d.push(s),{...a,"sentry-trace":o,baggage:d.length>0?d.join(","):void 0}}else return{"sentry-trace":o,baggage:s}}function Vae(t,e,r,i){let s=t.xhr,o=s&&s[Cs.SENTRY_XHR_DATA_KEY];if(!hD.hasTracingEnabled()||s&&s.__sentry_own_request__||!(s&&o&&e(o.url)))return;if(t.endTimestamp){let p=s.__sentry_xhr_span_id__;if(!p)return;let m=i[p];m&&(m.setHttpStatus(o.status_code),m.finish(),delete i[p]);return}let a=hD.getCurrentHub().getScope(),u=a&&a.getSpan(),d=u&&u.transaction;if(u&&d){let p=u.startChild({data:{...o.data,type:"xhr","http.method":o.method,url:o.url},description:`${o.method} ${o.url}`,op:"http.client"});if(s.__sentry_xhr_span_id__=p.spanId,i[s.__sentry_xhr_span_id__]=p,s.setRequestHeader&&r(o.url))try{s.setRequestHeader("sentry-trace",p.toTraceparent());let m=d.getDynamicSamplingContext(),f=Cs.dynamicSamplingContextToSentryBaggageHeader(m);f&&s.setRequestHeader(Cs.BAGGAGE_HEADER_NAME,f)}catch{}}}Da.DEFAULT_TRACE_PROPAGATION_TARGETS=ID;Da.addTracingHeadersToFetchRequest=Nae;Da.defaultRequestInstrumentationOptions=tL;Da.fetchCallback=Lae;Da.instrumentOutgoingRequests=I9e;Da.shouldAttachHeaders=Uae;Da.xhrCallback=Vae});var qae=_(iL=>{Object.defineProperty(iL,"__esModule",{value:!0});var zy=Pe(),Yy=Oa();function x9e(t,e=!0,r=!0){if(!Yy.WINDOW||!Yy.WINDOW.location){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&zy.logger.warn("Could not initialize routing instrumentation due to invalid location");return}let i=Yy.WINDOW.location.href,s;e&&(s=t({name:Yy.WINDOW.location.pathname,startTimestamp:zy.browserPerformanceTimeOrigin?zy.browserPerformanceTimeOrigin/1e3:void 0,op:"pageload",metadata:{source:"url"}})),r&&zy.addInstrumentationHandler("history",({to:o,from:a})=>{if(a===void 0&&i&&i.indexOf(o)!==-1){i=void 0;return}a!==o&&(i=void 0,s&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&zy.logger.log(`[Tracing] Finishing current transaction with op: ${s.op}`),s.finish()),s=t({name:Yy.WINDOW.location.pathname,op:"navigation",metadata:{source:"url"}}))})}iL.instrumentRoutingWithDefaults=x9e});var Hae=_(Jy=>{Object.defineProperty(Jy,"__esModule",{value:!0});var im=yr(),Bl=Pe(),_9e=vae(),xD=Mae(),Wae=rL(),v9e=qae(),Bae=Oa(),Gae="BrowserTracing",O9e={...im.TRACING_DEFAULTS,markBackgroundTransactions:!0,routingInstrumentation:v9e.instrumentRoutingWithDefaults,startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,enableLongTask:!0,_experiments:{},...Wae.defaultRequestInstrumentationOptions},Qy=class{__init(){this.name=Gae}constructor(e){Qy.prototype.__init.call(this),im.addTracingExtensions(),this.options={...O9e,...e},this.options._experiments.enableLongTask!==void 0&&(this.options.enableLongTask=this.options._experiments.enableLongTask),e&&!e.tracePropagationTargets&&e.tracingOrigins&&(this.options.tracePropagationTargets=e.tracingOrigins),this._collectWebVitals=xD.startTrackingWebVitals(),this.options.enableLongTask&&xD.startTrackingLongTasks(),this.options._experiments.enableInteractions&&xD.startTrackingInteractions()}setupOnce(e,r){this._getCurrentHub=r;let{routingInstrumentation:i,startTransactionOnLocationChange:s,startTransactionOnPageLoad:o,markBackgroundTransactions:a,traceFetch:u,traceXHR:d,tracePropagationTargets:p,shouldCreateSpanForRequest:m,_experiments:f}=this.options;i(y=>{let v=this._createRouteTransaction(y);return this.options._experiments.onStartRouteTransaction&&this.options._experiments.onStartRouteTransaction(v,y,r),v},o,s),a&&_9e.registerBackgroundTabDetection(),f.enableInteractions&&this._registerInteractionListener(),Wae.instrumentOutgoingRequests({traceFetch:u,traceXHR:d,tracePropagationTargets:p,shouldCreateSpanForRequest:m})}_createRouteTransaction(e){if(!this._getCurrentHub){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Bl.logger.warn(`[Tracing] Did not create ${e.op} transaction because _getCurrentHub is invalid.`);return}let{beforeNavigate:r,idleTimeout:i,finalTimeout:s,heartbeatInterval:o}=this.options,a=e.op==="pageload",u=a?nL("sentry-trace"):null,d=a?nL("baggage"):null,p=u?im.extractTraceparentData(u):void 0,m=d?Bl.baggageHeaderToDynamicSamplingContext(d):void 0,f={...e,...p,metadata:{...e.metadata,dynamicSamplingContext:p&&!m?{}:m},trimEnd:!0},y=typeof r=="function"?r(f):f,v=y===void 0?{...f,sampled:!1}:y;v.metadata=v.name!==f.name?{...v.metadata,source:"custom"}:v.metadata,this._latestRouteName=v.name,this._latestRouteSource=v.metadata&&v.metadata.source,v.sampled===!1&&(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Bl.logger.log(`[Tracing] Will not send ${v.op} transaction because of beforeNavigate.`),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Bl.logger.log(`[Tracing] Starting ${v.op} transaction on scope`);let O=this._getCurrentHub(),{location:A}=Bae.WINDOW,k=im.startIdleTransaction(O,v,i,s,!0,{location:A},o);return k.registerBeforeFinishCallback(U=>{this._collectWebVitals(),xD.addPerformanceEntries(U)}),k}_registerInteractionListener(){let e,r=()=>{let{idleTimeout:i,finalTimeout:s,heartbeatInterval:o}=this.options,a="ui.action.click",u=im.getActiveTransaction();if(u&&u.op&&["navigation","pageload"].includes(u.op)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Bl.logger.warn(`[Tracing] Did not create ${a} transaction because a pageload or navigation transaction is in progress.`);return}if(e&&(e.setFinishReason("interactionInterrupted"),e.finish(),e=void 0),!this._getCurrentHub){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Bl.logger.warn(`[Tracing] Did not create ${a} transaction because _getCurrentHub is invalid.`);return}if(!this._latestRouteName){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Bl.logger.warn(`[Tracing] Did not create ${a} transaction because _latestRouteName is missing.`);return}let d=this._getCurrentHub(),{location:p}=Bae.WINDOW,m={name:this._latestRouteName,op:a,trimEnd:!0,metadata:{source:this._latestRouteSource||"url"}};e=im.startIdleTransaction(d,m,i,s,!0,{location:p},o)};["click"].forEach(i=>{addEventListener(i,r,{once:!1,capture:!0})})}};function nL(t){let e=Bl.getDomElement(`meta[name=${t}]`);return e?e.getAttribute("content"):null}Jy.BROWSER_TRACING_INTEGRATION_ID=Gae;Jy.BrowserTracing=Qy;Jy.getMetaContent=nL});var $ae=_((sL,Xy)=>{Object.defineProperty(sL,"__esModule",{value:!0});var Kae=yr(),nm=Pe();function S9e(){let t=Kae.getMainCarrier();if(!t.__SENTRY__)return;let e={mongodb(){let i=nm.dynamicRequire(Xy,"./node/integrations/mongo");return new i.Mongo},mongoose(){let i=nm.dynamicRequire(Xy,"./node/integrations/mongo");return new i.Mongo},mysql(){let i=nm.dynamicRequire(Xy,"./node/integrations/mysql");return new i.Mysql},pg(){let i=nm.dynamicRequire(Xy,"./node/integrations/postgres");return new i.Postgres}},r=Object.keys(e).filter(i=>!!nm.loadModule(i)).map(i=>{try{return e[i]()}catch{return}}).filter(i=>i);r.length>0&&(t.__SENTRY__.integrations=[...t.__SENTRY__.integrations||[],...r])}function D9e(){Kae.addTracingExtensions(),nm.isNodeEnv()&&S9e()}sL.addExtensionMethods=D9e});var aL=_(Kt=>{Object.defineProperty(Kt,"__esModule",{value:!0});var Aa=yr(),zae=Pe(),A9e=pae(),F9e=mae(),P9e=gae(),j9e=fae(),T9e=bae(),C9e=yae(),E9e=Iae(),k9e=xae(),Yae=Hae(),oL=rL(),w9e=$ae();Kt.IdleTransaction=Aa.IdleTransaction;Kt.Span=Aa.Span;Kt.SpanStatus=Aa.SpanStatus;Kt.Transaction=Aa.Transaction;Kt.extractTraceparentData=Aa.extractTraceparentData;Kt.getActiveTransaction=Aa.getActiveTransaction;Kt.hasTracingEnabled=Aa.hasTracingEnabled;Kt.spanStatusfromHttpCode=Aa.spanStatusfromHttpCode;Kt.startIdleTransaction=Aa.startIdleTransaction;Kt.TRACEPARENT_REGEXP=zae.TRACEPARENT_REGEXP;Kt.stripUrlQueryAndFragment=zae.stripUrlQueryAndFragment;Kt.Express=A9e.Express;Kt.Postgres=F9e.Postgres;Kt.Mysql=P9e.Mysql;Kt.Mongo=j9e.Mongo;Kt.Prisma=T9e.Prisma;Kt.GraphQL=C9e.GraphQL;Kt.Apollo=E9e.Apollo;Kt.lazyLoadedNodePerformanceMonitoringIntegrations=k9e.lazyLoadedNodePerformanceMonitoringIntegrations;Kt.BROWSER_TRACING_INTEGRATION_ID=Yae.BROWSER_TRACING_INTEGRATION_ID;Kt.BrowserTracing=Yae.BrowserTracing;Kt.addTracingHeadersToFetchRequest=oL.addTracingHeadersToFetchRequest;Kt.defaultRequestInstrumentationOptions=oL.defaultRequestInstrumentationOptions;Kt.instrumentOutgoingRequests=oL.instrumentOutgoingRequests;Kt.addExtensionMethods=w9e.addExtensionMethods});var Qae=_(lL=>{Object.defineProperty(lL,"__esModule",{value:!0});var R9e=aL(),M9e=Pe();function U9e(){let t=R9e.lazyLoadedNodePerformanceMonitoringIntegrations.map(e=>{try{return e()}catch{return}}).filter(e=>!!e);return t.length===0&&M9e.logger.warn("Performance monitoring integrations could not be automatically loaded."),t.filter(e=>!!e.loadDependency())}lL.autoDiscoverNodePerformanceMonitoringIntegrations=U9e});var dL=_(om=>{Object.defineProperty(om,"__esModule",{value:!0});var L9e=yr(),sm=Pe();function uL(t,e){return t(e.stack||"",1)}function Jae(t,e){let r={type:e.name||e.constructor.name,value:e.message},i=uL(t,e);return i.length&&(r.stacktrace={frames:i}),r}function N9e(t,e,r){let i=e,o=r&&r.data&&r.data.mechanism||{handled:!0,type:"generic"};if(!sm.isError(e)){if(sm.isPlainObject(e)){let u=`Non-Error exception captured with keys: ${sm.extractExceptionKeysForMessage(e)}`,d=L9e.getCurrentHub(),p=d.getClient(),m=p&&p.getOptions().normalizeDepth;d.configureScope(f=>{f.setExtra("__serialized__",sm.normalizeToSize(e,m))}),i=r&&r.syntheticException||new Error(u),i.message=u}else i=r&&r.syntheticException||new Error(e),i.message=e;o.synthetic=!0}let a={exception:{values:[Jae(t,i)]}};return sm.addExceptionTypeValue(a,void 0,void 0),sm.addExceptionMechanism(a,o),{...a,event_id:r&&r.event_id}}function V9e(t,e,r="info",i,s){let o={event_id:i&&i.event_id,level:r,message:e};if(s&&i&&i.syntheticException){let a=uL(t,i.syntheticException);a.length&&(o.exception={values:[{value:e,stacktrace:{frames:a}}]})}return o}om.eventFromMessage=V9e;om.eventFromUnknownInput=N9e;om.exceptionFromError=Jae;om.parseStackFrames=uL});var mL=_(pL=>{var{_optionalChain:Xae}=Cr();Object.defineProperty(pL,"__esModule",{value:!0});var am=yr(),wd=Pe(),q9e=require("os"),B9e=require("util"),Zae=dL(),cL=class extends am.BaseClient{constructor(e){e._metadata=e._metadata||{},e._metadata.sdk=e._metadata.sdk||{name:"sentry.javascript.node",packages:[{name:"npm:@sentry/node",version:am.SDK_VERSION}],version:am.SDK_VERSION},e.transportOptions={textEncoder:new B9e.TextEncoder,...e.transportOptions},am.addTracingExtensions(),super(e)}captureException(e,r,i){if(this._options.autoSessionTracking&&this._sessionFlusher&&i){let s=i.getRequestSession();s&&s.status==="ok"&&(s.status="errored")}return super.captureException(e,r,i)}captureEvent(e,r,i){if(this._options.autoSessionTracking&&this._sessionFlusher&&i&&(e.type||"exception")==="exception"&&e.exception&&e.exception.values&&e.exception.values.length>0){let a=i.getRequestSession();a&&a.status==="ok"&&(a.status="errored")}return super.captureEvent(e,r,i)}close(e){return Xae([this,"access",r=>r._sessionFlusher,"optionalAccess",r=>r.close,"call",r=>r()]),super.close(e)}initSessionFlusher(){let{release:e,environment:r}=this._options;e?this._sessionFlusher=new am.SessionFlusher(this,{release:e,environment:r}):(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&wd.logger.warn("Cannot initialise an instance of SessionFlusher if no release is provided!")}eventFromException(e,r){return wd.resolvedSyncPromise(Zae.eventFromUnknownInput(this._options.stackParser,e,r))}eventFromMessage(e,r="info",i){return wd.resolvedSyncPromise(Zae.eventFromMessage(this._options.stackParser,e,r,i,this._options.attachStacktrace))}captureCheckIn(e,r){let i=e.status!=="in_progress"&&e.checkInId?e.checkInId:wd.uuid4();if(!this._isEnabled())return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&wd.logger.warn("SDK not enabled, will not capture checkin."),i;let s=this.getOptions(),{release:o,environment:a,tunnel:u}=s,d={check_in_id:i,monitor_slug:e.monitorSlug,status:e.status,release:o,environment:a};e.status!=="in_progress"&&(d.duration=e.duration),r&&(d.monitor_config={schedule:r.schedule,checkin_margin:r.checkinMargin,max_runtime:r.maxRuntime,timezone:r.timezone});let p=am.createCheckInEnvelope(d,this.getSdkMetadata(),u,this.getDsn());return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&wd.logger.info("Sending checkin:",e.monitorSlug,e.status),this._sendEnvelope(p),i}_prepareEvent(e,r,i){return e.platform=e.platform||"node",e.contexts={...e.contexts,runtime:Xae([e,"access",s=>s.contexts,"optionalAccess",s=>s.runtime])||{name:"node",version:global.process.version}},e.server_name=e.server_name||this.getOptions().serverName||global.process.env.SENTRY_NAME||q9e.hostname(),super._prepareEvent(e,r,i)}_captureRequestSession(){this._sessionFlusher?this._sessionFlusher.incrementSessionStatusCount():(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&wd.logger.warn("Discarded request mode session because autoSessionTracking option was disabled")}};pL.NodeClient=cL});var ele=_(gL=>{"use strict";Object.defineProperty(gL,"__esModule",{value:!0});function W9e(t){return function(e,r){return new Promise((i,s)=>{t.call(this,e,r,(o,a)=>{o?s(o):i(a)})})}}gL.default=W9e});var ile=_((bL,rle)=>{"use strict";var tle=bL&&bL.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},G9e=require("events"),H9e=tle(dg()),K9e=tle(ele()),Zy=H9e.default("agent-base");function $9e(t){return Boolean(t)&&typeof t.addRequest=="function"}function fL(){let{stack:t}=new Error;return typeof t!="string"?!1:t.split(`
`).some(e=>e.indexOf("(https.js:")!==-1||e.indexOf("node:https:")!==-1)}function _D(t,e){return new _D.Agent(t,e)}(function(t){class e extends G9e.EventEmitter{constructor(i,s){super();let o=s;typeof i=="function"?this.callback=i:i&&(o=i),this.timeout=null,o&&typeof o.timeout=="number"&&(this.timeout=o.timeout),this.maxFreeSockets=1,this.maxSockets=1,this.maxTotalSockets=1/0,this.sockets={},this.freeSockets={},this.requests={},this.options={}}get defaultPort(){return typeof this.explicitDefaultPort=="number"?this.explicitDefaultPort:fL()?443:80}set defaultPort(i){this.explicitDefaultPort=i}get protocol(){return typeof this.explicitProtocol=="string"?this.explicitProtocol:fL()?"https:":"http:"}set protocol(i){this.explicitProtocol=i}callback(i,s,o){throw new Error('"agent-base" has no default implementation, you must subclass and override `callback()`')}addRequest(i,s){let o=Object.assign({},s);typeof o.secureEndpoint!="boolean"&&(o.secureEndpoint=fL()),o.host==null&&(o.host="localhost"),o.port==null&&(o.port=o.secureEndpoint?443:80),o.protocol==null&&(o.protocol=o.secureEndpoint?"https:":"http:"),o.host&&o.path&&delete o.path,delete o.agent,delete o.hostname,delete o._defaultAgent,delete o.defaultPort,delete o.createConnection,i._last=!0,i.shouldKeepAlive=!1;let a=!1,u=null,d=o.timeout||this.timeout,p=v=>{i._hadError||(i.emit("error",v),i._hadError=!0)},m=()=>{u=null,a=!0;let v=new Error(`A "socket" was not created for HTTP request before ${d}ms`);v.code="ETIMEOUT",p(v)},f=v=>{a||(u!==null&&(clearTimeout(u),u=null),p(v))},y=v=>{if(a)return;if(u!=null&&(clearTimeout(u),u=null),$9e(v)){Zy("Callback returned another Agent instance %o",v.constructor.name),v.addRequest(i,o);return}if(v){v.once("free",()=>{this.freeSocket(v,o)}),i.onSocket(v);return}let O=new Error(`no Duplex stream was returned to agent-base for \`${i.method} ${i.path}\``);p(O)};if(typeof this.callback!="function"){p(new Error("`callback` is not defined"));return}this.promisifiedCallback||(this.callback.length>=3?(Zy("Converting legacy callback function to promise"),this.promisifiedCallback=K9e.default(this.callback)):this.promisifiedCallback=this.callback),typeof d=="number"&&d>0&&(u=setTimeout(m,d)),"port"in o&&typeof o.port!="number"&&(o.port=Number(o.port));try{Zy("Resolving socket for %o request: %o",o.protocol,`${i.method} ${i.path}`),Promise.resolve(this.promisifiedCallback(i,o)).then(y,f)}catch(v){Promise.reject(v).catch(f)}}freeSocket(i,s){Zy("Freeing socket %o %o",i.constructor.name,s),i.destroy()}destroy(){Zy("Destroying agent %o",this.constructor.name)}}t.Agent=e,t.prototype=t.Agent.prototype})(_D||(_D={}));rle.exports=_D});var nle=_(th=>{"use strict";var z9e=th&&th.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(th,"__esModule",{value:!0});var Y9e=z9e(dg()),eh=Y9e.default("https-proxy-agent:parse-proxy-response");function Q9e(t){return new Promise((e,r)=>{let i=0,s=[];function o(){let f=t.read();f?m(f):t.once("readable",o)}function a(){t.removeListener("end",d),t.removeListener("error",p),t.removeListener("close",u),t.removeListener("readable",o)}function u(f){eh("onclose had error %o",f)}function d(){eh("onend")}function p(f){a(),eh("onerror %o",f),r(f)}function m(f){s.push(f),i+=f.length;let y=Buffer.concat(s,i);if(y.indexOf(`\r
\r
`)===-1){eh("have not received end of HTTP headers yet..."),o();return}let O=y.toString("ascii",0,y.indexOf(`\r
`)),A=+O.split(" ")[1];eh("got proxy server response: %o",O),e({statusCode:A,buffered:y})}t.on("error",p),t.on("close",u),t.on("end",d),o()})}th.default=Q9e});var ale=_(Rd=>{"use strict";var J9e=Rd&&Rd.__awaiter||function(t,e,r,i){function s(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function u(m){try{p(i.next(m))}catch(f){a(f)}}function d(m){try{p(i.throw(m))}catch(f){a(f)}}function p(m){m.done?o(m.value):s(m.value).then(u,d)}p((i=i.apply(t,e||[])).next())})},lm=Rd&&Rd.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Rd,"__esModule",{value:!0});var sle=lm(require("net")),ole=lm(require("tls")),X9e=lm(require("url")),Z9e=lm(require("assert")),e7e=lm(dg()),t7e=ile(),r7e=lm(nle()),rh=e7e.default("https-proxy-agent:agent"),yL=class extends t7e.Agent{constructor(e){let r;if(typeof e=="string"?r=X9e.default.parse(e):r=e,!r)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");rh("creating new HttpsProxyAgent instance: %o",r),super(r);let i=Object.assign({},r);this.secureProxy=r.secureProxy||s7e(i.protocol),i.host=i.hostname||i.host,typeof i.port=="string"&&(i.port=parseInt(i.port,10)),!i.port&&i.host&&(i.port=this.secureProxy?443:80),this.secureProxy&&!("ALPNProtocols"in i)&&(i.ALPNProtocols=["http 1.1"]),i.host&&i.path&&(delete i.path,delete i.pathname),this.proxy=i}callback(e,r){return J9e(this,void 0,void 0,function*(){let{proxy:i,secureProxy:s}=this,o;s?(rh("Creating `tls.Socket`: %o",i),o=ole.default.connect(i)):(rh("Creating `net.Socket`: %o",i),o=sle.default.connect(i));let a=Object.assign({},i.headers),d=`CONNECT ${`${r.host}:${r.port}`} HTTP/1.1\r
`;i.auth&&(a["Proxy-Authorization"]=`Basic ${Buffer.from(i.auth).toString("base64")}`);let{host:p,port:m,secureEndpoint:f}=r;n7e(m,f)||(p+=`:${m}`),a.Host=p,a.Connection="close";for(let k of Object.keys(a))d+=`${k}: ${a[k]}\r
`;let y=r7e.default(o);o.write(`${d}\r
`);let{statusCode:v,buffered:O}=yield y;if(v===200){if(e.once("socket",i7e),r.secureEndpoint){rh("Upgrading socket connection to TLS");let k=r.servername||r.host;return ole.default.connect(Object.assign(Object.assign({},o7e(r,"host","hostname","path","port")),{socket:o,servername:k}))}return o}o.destroy();let A=new sle.default.Socket({writable:!1});return A.readable=!0,e.once("socket",k=>{rh("replaying proxy buffer for failed request"),Z9e.default(k.listenerCount("data")>0),k.push(O),k.push(null)}),A})}};Rd.default=yL;function i7e(t){t.resume()}function n7e(t,e){return Boolean(!e&&t===80||e&&t===443)}function s7e(t){return typeof t=="string"?/^https:?$/i.test(t):!1}function o7e(t,...e){let r={},i;for(i in t)e.includes(i)||(r[i]=t[i]);return r}});var ule=_((xL,lle)=>{"use strict";var a7e=xL&&xL.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},hL=a7e(ale());function IL(t){return new hL.default(t)}(function(t){t.HttpsProxyAgent=hL.default,t.prototype=hL.default.prototype})(IL||(IL={}));lle.exports=IL});var OL=_(vL=>{var{_nullishCoalesce:_L}=Cr();Object.defineProperty(vL,"__esModule",{value:!0});var dle=yr(),l7e=require("http"),u7e=require("https"),d7e=ule(),c7e=require("stream"),cle=require("url"),p7e=require("zlib"),m7e=1024*32;function g7e(t){return new c7e.Readable({read(){this.push(t),this.push(null)}})}function f7e(t){let e;try{e=new cle.URL(t.url)}catch{return console.warn("[@sentry/node]: Invalid dsn or tunnel option, will not send any events. The tunnel option must be a full URL when used."),dle.createTransport(t,()=>Promise.resolve({}))}let r=e.protocol==="https:",i=b7e(e,t.proxy||(r?process.env.https_proxy:void 0)||process.env.http_proxy),s=r?u7e:l7e,o=t.keepAlive===void 0?!1:t.keepAlive,a=i?new d7e.HttpsProxyAgent(i):new s.Agent({keepAlive:o,maxSockets:30,timeout:2e3}),u=y7e(t,_L(t.httpModule,()=>s),a);return dle.createTransport(t,u)}function b7e(t,e){let{no_proxy:r}=process.env;if(!(r&&r.split(",").some(s=>t.host.endsWith(s)||t.hostname.endsWith(s))))return e}function y7e(t,e,r){let{hostname:i,pathname:s,port:o,protocol:a,search:u}=new cle.URL(t.url);return function(p){return new Promise((m,f)=>{let y=g7e(p.body),v={...t.headers};p.body.length>m7e&&(v["content-encoding"]="gzip",y=y.pipe(p7e.createGzip()));let O=e.request({method:"POST",agent:r,headers:v,hostname:i,path:`${s}${u}`,port:o,protocol:a,ca:t.caCerts},A=>{A.on("data",()=>{}),A.on("end",()=>{}),A.setEncoding("utf8");let k=_L(A.headers["retry-after"],()=>null),U=_L(A.headers["x-sentry-rate-limits"],()=>null);m({statusCode:A.statusCode,headers:{"retry-after":k,"x-sentry-rate-limits":Array.isArray(U)?U[0]:U}})});O.on("error",f),y.pipe(O)})}}vL.makeNodeTransport=f7e});var um=_(SL=>{Object.defineProperty(SL,"__esModule",{value:!0});var h7e=Pe(),I7e=h7e.parseSemver(process.versions.node);SL.NODE_VERSION=I7e});var gle=_(DL=>{var{_optionalChain:x7e}=Cr();Object.defineProperty(DL,"__esModule",{value:!0});var Md=yr(),ple=require("domain");function mle(){return ple.active}function _7e(){let t=mle();if(t)return Md.ensureHubOnCarrier(t),Md.getHubFromCarrier(t)}function v7e(t){let e={};return Md.ensureHubOnCarrier(e,t),Md.getHubFromCarrier(e)}function O7e(t,e){let r=mle();if(r&&x7e([e,"optionalAccess",a=>a.reuseExisting]))return t();let i=ple.create(),s=r?Md.getHubFromCarrier(r):void 0,o=v7e(s);return Md.setHubOnCarrier(i,o),i.bind(()=>t())()}function S7e(){Md.setAsyncContextStrategy({getCurrentHub:_7e,runWithAsyncContext:O7e})}DL.setDomainAsyncContextStrategy=S7e});var fle=_(FL=>{var{_optionalChain:D7e}=Cr();Object.defineProperty(FL,"__esModule",{value:!0});var AL=yr(),A7e=require("async_hooks");function F7e(){let t=new A7e.AsyncLocalStorage;function e(){return t.getStore()}function r(s){let o={};return AL.ensureHubOnCarrier(o,s),AL.getHubFromCarrier(o)}function i(s,o){let a=e();if(a&&D7e([o,"optionalAccess",d=>d.reuseExisting]))return s();let u=r(a);return t.run(u,()=>s())}AL.setAsyncContextStrategy({getCurrentHub:e,runWithAsyncContext:i})}FL.setHooksAsyncContextStrategy=F7e});var yle=_(PL=>{Object.defineProperty(PL,"__esModule",{value:!0});var ble=um(),P7e=gle(),j7e=fle();function T7e(){ble.NODE_VERSION.major&&ble.NODE_VERSION.major>=14?j7e.setHooksAsyncContextStrategy():P7e.setDomainAsyncContextStrategy()}PL.setNodeAsyncContextStrategy=T7e});var TL=_(jL=>{Object.defineProperty(jL,"__esModule",{value:!0});var hle=yr(),Ile=Pe(),C7e=require("util"),Wl=class{constructor(){Wl.prototype.__init.call(this)}static __initStatic(){this.id="Console"}__init(){this.name=Wl.id}setupOnce(){for(let e of["debug","info","warn","error","log"])Ile.fill(console,e,E7e(e))}};Wl.__initStatic();function E7e(t){return function(r){let i=Ile.severityLevelFromString(t);return function(){hle.getCurrentHub().getIntegration(Wl)&&hle.getCurrentHub().addBreadcrumb({category:"console",level:i,message:C7e.format.apply(void 0,arguments)},{input:[...arguments],level:t}),r.apply(this,arguments)}}}jL.Console=Wl});var ih=_(vD=>{(function(t,e){let r=typeof vD=="object"?vD:typeof t=="object"?t:{};e(r),typeof define=="function"&&define.amd&&define("lru",r)})(vD,function(t){let e=Symbol("newer"),r=Symbol("older");function i(d,p){typeof d!="number"&&(p=d,d=0),this.size=0,this.limit=d,this.oldest=this.newest=void 0,this._keymap=new Map,p&&(this.assign(p),d<1&&(this.limit=this.size))}t.LRUMap=i;function s(d,p){this.key=d,this.value=p,this[e]=void 0,this[r]=void 0}i.prototype._markEntryAsUsed=function(d){d!==this.newest&&(d[e]&&(d===this.oldest&&(this.oldest=d[e]),d[e][r]=d[r]),d[r]&&(d[r][e]=d[e]),d[e]=void 0,d[r]=this.newest,this.newest&&(this.newest[e]=d),this.newest=d)},i.prototype.assign=function(d){let p,m=this.limit||Number.MAX_VALUE;this._keymap.clear();let f=d[Symbol.iterator]();for(let y=f.next();!y.done;y=f.next()){let v=new s(y.value[0],y.value[1]);if(this._keymap.set(v.key,v),p?(p[e]=v,v[r]=p):this.oldest=v,p=v,m--==0)throw new Error("overflow")}this.newest=p,this.size=this._keymap.size},i.prototype.get=function(d){var p=this._keymap.get(d);if(p)return this._markEntryAsUsed(p),p.value},i.prototype.set=function(d,p){var m=this._keymap.get(d);return m?(m.value=p,this._markEntryAsUsed(m),this):(this._keymap.set(d,m=new s(d,p)),this.newest?(this.newest[e]=m,m[r]=this.newest):this.oldest=m,this.newest=m,++this.size,this.size>this.limit&&this.shift(),this)},i.prototype.shift=function(){var d=this.oldest;if(d)return this.oldest[e]?(this.oldest=this.oldest[e],this.oldest[r]=void 0):(this.oldest=void 0,this.newest=void 0),d[e]=d[r]=void 0,this._keymap.delete(d.key),--this.size,[d.key,d.value]},i.prototype.find=function(d){let p=this._keymap.get(d);return p?p.value:void 0},i.prototype.has=function(d){return this._keymap.has(d)},i.prototype.delete=function(d){var p=this._keymap.get(d);if(p)return this._keymap.delete(p.key),p[e]&&p[r]?(p[r][e]=p[e],p[e][r]=p[r]):p[e]?(p[e][r]=void 0,this.oldest=p[e]):p[r]?(p[r][e]=void 0,this.newest=p[r]):this.oldest=this.newest=void 0,this.size--,p.value},i.prototype.clear=function(){this.oldest=this.newest=void 0,this.size=0,this._keymap.clear()};function o(d){this.entry=d}o.prototype[Symbol.iterator]=function(){return this},o.prototype.next=function(){let d=this.entry;return d?(this.entry=d[e],{done:!1,value:[d.key,d.value]}):{done:!0,value:void 0}};function a(d){this.entry=d}a.prototype[Symbol.iterator]=function(){return this},a.prototype.next=function(){let d=this.entry;return d?(this.entry=d[e],{done:!1,value:d.key}):{done:!0,value:void 0}};function u(d){this.entry=d}u.prototype[Symbol.iterator]=function(){return this},u.prototype.next=function(){let d=this.entry;return d?(this.entry=d[e],{done:!1,value:d.value}):{done:!0,value:void 0}},i.prototype.keys=function(){return new a(this.oldest)},i.prototype.values=function(){return new u(this.oldest)},i.prototype.entries=function(){return this},i.prototype[Symbol.iterator]=function(){return new o(this.oldest)},i.prototype.forEach=function(d,p){typeof p!="object"&&(p=this);let m=this.oldest;for(;m;)d.call(p,m.value,m.key,this),m=m[e]},i.prototype.toJSON=function(){for(var d=new Array(this.size),p=0,m=this.oldest;m;)d[p++]={key:m.key,value:m.value},m=m[e];return d},i.prototype.toString=function(){for(var d="",p=this.oldest;p;)d+=String(p.key)+":"+p.value,p=p[e],p&&(d+=" < ");return d}})});var EL=_(Gl=>{var{_optionalChain:Es}=Cr();Object.defineProperty(Gl,"__esModule",{value:!0});var k7e=yr(),xle=require("url"),_le=um();function w7e(t){let e=Es([k7e.getCurrentHub,"call",r=>r(),"access",r=>r.getClient,"call",r=>r(),"optionalAccess",r=>r.getDsn,"call",r=>r()]);return e?t.includes(e.host):!1}function R7e(t){let e=t.protocol||"",r=t.hostname||t.host||"",i=!t.port||t.port===80||t.port===443?"":`:${t.port}`,s=t.path?t.path:"/";return`${e}//${r}${i}${s}`}function vle(t){let e=t.protocol||"",r=t.hostname||t.host||"",i=!t.port||t.port===80||t.port===443?"":`:${t.port}`,s=t.pathname||"/",o=t.auth?M7e(t.auth):"";return`${e}//${o}${r}${i}${s}`}function M7e(t){let[e,r]=t.split(":");return`${e?"[Filtered]":""}:${r?"[Filtered]":""}@`}function U7e(t,e,r){if(!t)return t;let[i,s]=t.split(" ");return e.host&&!e.protocol&&(e.protocol=Es([r,"optionalAccess",o=>o.agent,"optionalAccess",o=>o.protocol]),s=vle(e)),Es([s,"optionalAccess",o=>o.startsWith,"call",o=>o("///")])&&(s=s.slice(2)),`${i} ${s}`}function CL(t){let e={protocol:t.protocol,hostname:typeof t.hostname=="string"&&t.hostname.startsWith("[")?t.hostname.slice(1,-1):t.hostname,hash:t.hash,search:t.search,pathname:t.pathname,path:`${t.pathname||""}${t.search||""}`,href:t.href};return t.port!==""&&(e.port=Number(t.port)),(t.username||t.password)&&(e.auth=`${t.username}:${t.password}`),e}function L7e(t,e){let r,i;return typeof e[e.length-1]=="function"&&(r=e.pop()),typeof e[0]=="string"?i=CL(new xle.URL(e[0])):e[0]instanceof xle.URL?i=CL(e[0]):i=e[0],e.length===2&&(i={...i,...e[1]}),i.protocol===void 0&&(_le.NODE_VERSION.major&&_le.NODE_VERSION.major>8?i.protocol=Es([Es([t,"optionalAccess",s=>s.globalAgent]),"optionalAccess",s=>s.protocol])||Es([i.agent,"optionalAccess",s=>s.protocol])||Es([i._defaultAgent,"optionalAccess",s=>s.protocol]):i.protocol=Es([i.agent,"optionalAccess",s=>s.protocol])||Es([i._defaultAgent,"optionalAccess",s=>s.protocol])||Es([Es([t,"optionalAccess",s=>s.globalAgent]),"optionalAccess",s=>s.protocol])),r?[i,r]:[i]}Gl.cleanSpanDescription=U7e;Gl.extractRawUrl=R7e;Gl.extractUrl=vle;Gl.isSentryRequest=w7e;Gl.normalizeRequestArgs=L7e;Gl.urlToOptions=CL});var ML=_(RL=>{var{_optionalChain:kL}=Cr();Object.defineProperty(RL,"__esModule",{value:!0});var wL=yr(),Fa=Pe(),Ole=ih(),Sle=um(),dm=EL(),Hl=class{static __initStatic(){this.id="Http"}__init(){this.name=Hl.id}constructor(e={}){Hl.prototype.__init.call(this),this._breadcrumbs=typeof e.breadcrumbs>"u"?!0:e.breadcrumbs,this._tracing=e.tracing?e.tracing===!0?{}:e.tracing:void 0}setupOnce(e,r){if(!this._breadcrumbs&&!this._tracing)return;let i=kL([r,"call",u=>u(),"access",u=>u.getClient,"call",u=>u(),"optionalAccess",u=>u.getOptions,"call",u=>u()]);if(i&&i.instrumenter!=="sentry"){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Fa.logger.log("HTTP Integration is skipped because of instrumenter configuration.");return}let s=this._tracing?{...i,...this._tracing}:void 0,o=require("http"),a=Dle(this._breadcrumbs,s,o);if(Fa.fill(o,"get",a),Fa.fill(o,"request",a),Sle.NODE_VERSION.major&&Sle.NODE_VERSION.major>8){let u=require("https"),d=Dle(this._breadcrumbs,s,u);Fa.fill(u,"get",d),Fa.fill(u,"request",d)}}};Hl.__initStatic();function Dle(t,e,r){let i=new Ole.LRUMap(100),s=new Ole.LRUMap(100),o=u=>{if(kL([e,"optionalAccess",m=>m.shouldCreateSpanForRequest])===void 0)return!0;let d=i.get(u);if(d!==void 0)return d;let p=e.shouldCreateSpanForRequest(u);return i.set(u,p),p},a=u=>{if(kL([e,"optionalAccess",m=>m.tracePropagationTargets])===void 0)return!0;let d=s.get(u);if(d!==void 0)return d;let p=Fa.stringMatchesSomePattern(u,e.tracePropagationTargets);return s.set(u,p),p};return function(d){return function(...m){let f=dm.normalizeRequestArgs(r,m),y=f[0],v=dm.extractRawUrl(y),O=dm.extractUrl(y);if(dm.isSentryRequest(O))return d.apply(r,f);let A,k,U=wL.getCurrentHub().getScope(),$=y.method||"GET",R={url:O,"http.method":$};if(y.hash&&(R["http.fragment"]=y.hash.substring(1)),y.search&&(R["http.query"]=y.search.substring(1)),U&&e&&o(v)&&(k=U.getSpan(),k))if(A=k.startChild({description:`${$} ${R.url}`,op:"http.client",data:R}),a(v)){let z=A.toTraceparent();if((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Fa.logger.log(`[Tracing] Adding sentry-trace header ${z} to outgoing request to "${O}": `),y.headers={...y.headers,"sentry-trace":z},k.transaction){let fe=k.transaction.getDynamicSamplingContext(),Q=Fa.dynamicSamplingContextToSentryBaggageHeader(fe),be;!y.headers||!y.headers.baggage?be=Q:Q?Array.isArray(y.headers.baggage)?be=[...y.headers.baggage,Q]:be=[y.headers.baggage,Q]:be=y.headers.baggage,y.headers={...y.headers,...be&&{baggage:be}}}}else(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Fa.logger.log(`[Tracing] Not adding sentry-trace header to outgoing request (${O}) due to mismatching tracePropagationTargets option.`);return d.apply(r,f).once("response",function(z){let fe=this;t&&Ale("response",R,fe,z),A&&(z.statusCode&&A.setHttpStatus(z.statusCode),A.description=dm.cleanSpanDescription(A.description,y,fe),A.finish())}).once("error",function(){let z=this;t&&Ale("error",R,z),A&&(A.setHttpStatus(500),A.description=dm.cleanSpanDescription(A.description,y,z),A.finish())})}}}function Ale(t,e,r,i){wL.getCurrentHub().getIntegration(Hl)&&wL.getCurrentHub().addBreadcrumb({category:"http",data:{status_code:i&&i.statusCode,...e},type:"http"},{event:t,request:r,response:i})}RL.Http=Hl});var NL=_(LL=>{Object.defineProperty(LL,"__esModule",{value:!0});var N7e=yr(),UL=Pe(),V7e=2e3;function q7e(t){console.error(t&&t.stack?t.stack:t);let e=N7e.getCurrentHub().getClient();e===void 0&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&UL.logger.warn("No NodeClient was defined, we are exiting the process now."),global.process.exit(1));let r=e.getOptions(),i=r&&r.shutdownTimeout&&r.shutdownTimeout>0&&r.shutdownTimeout||V7e;e.close(i).then(s=>{s||(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&UL.logger.warn("We reached the timeout for emptying the request buffer, still exiting now!"),global.process.exit(1)},s=>{(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&UL.logger.error(s)})}LL.logAndExitProcess=q7e});var qL=_(VL=>{Object.defineProperty(VL,"__esModule",{value:!0});var Fle=yr(),B7e=Pe(),Ple=NL(),Pa=class{static __initStatic(){this.id="OnUncaughtException"}__init(){this.name=Pa.id}__init2(){this.handler=this._makeErrorHandler()}constructor(e={}){Pa.prototype.__init.call(this),Pa.prototype.__init2.call(this),this._options={exitEvenIfOtherHandlersAreRegistered:!0,...e}}setupOnce(){global.process.on("uncaughtException",this.handler)}_makeErrorHandler(){let r=!1,i=!1,s=!1,o;return a=>{let u=Ple.logAndExitProcess,d=Fle.getCurrentHub().getClient();this._options.onFatalError?u=this._options.onFatalError:d&&d.getOptions().onFatalError&&(u=d.getOptions().onFatalError);let m=global.process.listeners("uncaughtException").reduce((y,v)=>v.name==="domainUncaughtExceptionClear"||v.tag&&v.tag==="sentry_tracingErrorCallback"||v===this.handler?y:y+1,0)===0,f=this._options.exitEvenIfOtherHandlersAreRegistered||m;if(r)f&&(s?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&B7e.logger.warn("uncaught exception after calling fatal error shutdown callback - this is bad! forcing shutdown"),Ple.logAndExitProcess(a)):i||(i=!0,setTimeout(()=>{s||(s=!0,u(o,a))},2e3)));else{let y=Fle.getCurrentHub();o=a,r=!0,y.getIntegration(Pa)?y.withScope(v=>{v.setLevel("fatal"),y.captureException(a,{originalException:a,data:{mechanism:{handled:!1,type:"onuncaughtexception"}}}),!s&&f&&(s=!0,u(a))}):!s&&f&&(s=!0,u(a))}}}};Pa.__initStatic();VL.OnUncaughtException=Pa});var WL=_(BL=>{Object.defineProperty(BL,"__esModule",{value:!0});var W7e=yr(),jle=Pe(),G7e=NL(),Kl=class{static __initStatic(){this.id="OnUnhandledRejection"}__init(){this.name=Kl.id}constructor(e={mode:"warn"}){this._options=e,Kl.prototype.__init.call(this)}setupOnce(){global.process.on("unhandledRejection",this.sendUnhandledPromise.bind(this))}sendUnhandledPromise(e,r){let i=W7e.getCurrentHub();i.getIntegration(Kl)&&i.withScope(s=>{s.setExtra("unhandledPromiseRejection",!0),i.captureException(e,{originalException:r,data:{mechanism:{handled:!1,type:"onunhandledrejection"}}})}),this._handleRejection(e)}_handleRejection(e){let r="This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). The promise rejected with the reason:";this._options.mode==="warn"?jle.consoleSandbox(()=>{console.warn(r),console.error(e&&e.stack?e.stack:e)}):this._options.mode==="strict"&&(jle.consoleSandbox(()=>{console.warn(r)}),G7e.logAndExitProcess(e))}};Kl.__initStatic();BL.OnUnhandledRejection=Kl});var SD=_(HL=>{var{_optionalChain:GL}=Cr();Object.defineProperty(HL,"__esModule",{value:!0});var H7e=Pe(),K7e=require("fs"),$7e=ih(),OD=new $7e.LRUMap(100),z7e=7;function Y7e(t){return new Promise((e,r)=>{K7e.readFile(t,"utf8",(i,s)=>{i?r(i):e(s)})})}var Ud=class{static __initStatic(){this.id="ContextLines"}__init(){this.name=Ud.id}constructor(e={}){this._options=e,Ud.prototype.__init.call(this)}get _contextLines(){return this._options.frameContextLines!==void 0?this._options.frameContextLines:z7e}setupOnce(e){e(r=>this.addSourceContext(r))}async addSourceContext(e){let r={},i=[];if(this._contextLines>0&&GL([e,"access",s=>s.exception,"optionalAccess",s=>s.values])){for(let s of e.exception.values)if(GL([s,"access",o=>o.stacktrace,"optionalAccess",o=>o.frames]))for(let o=s.stacktrace.frames.length-1;o>=0;o--){let a=s.stacktrace.frames[o];a.filename&&!r[a.filename]&&!OD.get(a.filename)&&(i.push(Q7e(a.filename)),r[a.filename]=1)}}if(i.length>0&&await Promise.all(i),this._contextLines>0&&GL([e,"access",s=>s.exception,"optionalAccess",s=>s.values]))for(let s of e.exception.values)s.stacktrace&&s.stacktrace.frames&&await this.addSourceContextToFrames(s.stacktrace.frames);return e}addSourceContextToFrames(e){for(let r of e)if(r.filename&&r.context_line===void 0){let i=OD.get(r.filename);if(i)try{H7e.addContextToFrame(i,r,this._contextLines)}catch{}}}};Ud.__initStatic();async function Q7e(t){let e=OD.get(t);if(e===null)return null;if(e!==void 0)return e;let r=null;try{r=(await Y7e(t)).split(`
`)}catch{}return OD.set(t,r),r}HL.ContextLines=Ud});var zL=_($L=>{var{_optionalChain:J7e}=Cr();Object.defineProperty($L,"__esModule",{value:!0});var KL=yr(),DD=Pe(),X7e=dL(),Z7e=SD(),eze="cause",tze=5,$l=class{static __initStatic(){this.id="LinkedErrors"}__init(){this.name=$l.id}constructor(e={}){$l.prototype.__init.call(this),this._key=e.key||eze,this._limit=e.limit||tze}setupOnce(){KL.addGlobalEventProcessor(async(e,r)=>{let i=KL.getCurrentHub(),s=i.getIntegration($l),o=i.getClient();return o&&s&&s._handler&&typeof s._handler=="function"&&await s._handler(o.getOptions().stackParser,e,r),e})}_handler(e,r,i){return!r.exception||!r.exception.values||!DD.isInstanceOf(i.originalException,Error)?DD.resolvedSyncPromise(r):new DD.SyncPromise(s=>{this._walkErrorTree(e,i.originalException,this._key).then(o=>{r&&r.exception&&r.exception.values&&(r.exception.values=[...o,...r.exception.values]),s(r)}).then(null,()=>{s(r)})})}async _walkErrorTree(e,r,i,s=[]){if(!DD.isInstanceOf(r[i],Error)||s.length+1>=this._limit)return Promise.resolve(s);let o=X7e.exceptionFromError(e,r[i]),a=KL.getCurrentHub().getIntegration(Z7e.ContextLines);return a&&J7e([o,"access",u=>u.stacktrace,"optionalAccess",u=>u.frames])&&await a.addSourceContextToFrames(o.stacktrace.frames),new Promise((u,d)=>{this._walkErrorTree(e,r[i],i,[o,...s]).then(u).then(null,()=>{d()})})}};$l.__initStatic();$L.LinkedErrors=$l});var JL=_(QL=>{Object.defineProperty(QL,"__esModule",{value:!0});var Tle=require("fs"),Cle=require("path"),YL;function rze(){try{return require.cache?Object.keys(require.cache):[]}catch{return[]}}function ize(){let t=require.main&&require.main.paths||[],e=rze(),r={},i={};return e.forEach(s=>{let o=s,a=()=>{let u=o;if(o=Cle.dirname(u),!o||u===o||i[u])return;if(t.indexOf(o)<0)return a();let d=Cle.join(u,"package.json");if(i[u]=!0,!Tle.existsSync(d))return a();try{let p=JSON.parse(Tle.readFileSync(d,"utf8"));r[p.name]=p.version}catch{}};a()}),r}var zl=class{constructor(){zl.prototype.__init.call(this)}static __initStatic(){this.id="Modules"}__init(){this.name=zl.id}setupOnce(e,r){e(i=>r().getIntegration(zl)?{...i,modules:{...i.modules,...this._getModules()}}:i)}_getModules(){return YL||(YL=ize()),YL}};zl.__initStatic();QL.Modules=zl});var XL=_(pm=>{var{_optionalChain:cm}=Cr();Object.defineProperty(pm,"__esModule",{value:!0});var nze=require("child_process"),kle=require("fs"),as=require("os"),sze=require("path"),wle=require("util"),Rle=wle.promisify(kle.readFile),Mle=wle.promisify(kle.readdir),Ld=class{static __initStatic(){this.id="Context"}__init(){this.name=Ld.id}constructor(e={app:!0,os:!0,device:!0,culture:!0}){this._options=e,Ld.prototype.__init.call(this)}setupOnce(e){e(r=>this.addContext(r))}async addContext(e){this._cachedContext===void 0&&(this._cachedContext=this._getContexts());let r=this._updateContext(await this._cachedContext);return e.contexts={...e.contexts,app:{...r.app,...cm([e,"access",i=>i.contexts,"optionalAccess",i=>i.app])},os:{...r.os,...cm([e,"access",i=>i.contexts,"optionalAccess",i=>i.os])},device:{...r.device,...cm([e,"access",i=>i.contexts,"optionalAccess",i=>i.device])},culture:{...r.culture,...cm([e,"access",i=>i.contexts,"optionalAccess",i=>i.culture])}},e}_updateContext(e){return cm([e,"optionalAccess",r=>r.app,"optionalAccess",r=>r.app_memory])&&(e.app.app_memory=process.memoryUsage().rss),cm([e,"optionalAccess",r=>r.device,"optionalAccess",r=>r.free_memory])&&(e.device.free_memory=as.freemem()),e}async _getContexts(){let e={};if(this._options.os&&(e.os=await oze()),this._options.app&&(e.app=lze()),this._options.device&&(e.device=Ule(this._options.device)),this._options.culture){let r=aze();r&&(e.culture=r)}return e}};Ld.__initStatic();async function oze(){let t=as.platform();switch(t){case"darwin":return pze();case"linux":return mze();default:return{name:uze[t]||t,version:as.release()}}}function aze(){try{if(typeof process.versions.icu!="string")return;let t=new Date(9e8);if(new Intl.DateTimeFormat("es",{month:"long"}).format(t)==="enero"){let r=Intl.DateTimeFormat().resolvedOptions();return{locale:r.locale,timezone:r.timeZone}}}catch{}}function lze(){let t=process.memoryUsage().rss;return{app_start_time:new Date(Date.now()-process.uptime()*1e3).toISOString(),app_memory:t}}function Ule(t){let e={},r=as.uptime&&as.uptime();if(typeof r=="number"&&(e.boot_time=new Date(Date.now()-r*1e3).toISOString()),e.arch=as.arch(),(t===!0||t.memory)&&(e.memory_size=as.totalmem(),e.free_memory=as.freemem()),t===!0||t.cpu){let i=as.cpus();if(i&&i.length){let s=i[0];e.processor_count=i.length,e.cpu_description=s.model,e.processor_frequency=s.speed}}return e}var uze={aix:"IBM AIX",freebsd:"FreeBSD",openbsd:"OpenBSD",sunos:"SunOS",win32:"Windows"},dze=[{name:"fedora-release",distros:["Fedora"]},{name:"redhat-release",distros:["Red Hat Linux","Centos"]},{name:"redhat_version",distros:["Red Hat Linux"]},{name:"SuSE-release",distros:["SUSE Linux"]},{name:"lsb-release",distros:["Ubuntu Linux","Arch Linux"]},{name:"debian_version",distros:["Debian"]},{name:"debian_release",distros:["Debian"]},{name:"arch-release",distros:["Arch Linux"]},{name:"gentoo-release",distros:["Gentoo Linux"]},{name:"novell-release",distros:["SUSE Linux"]},{name:"alpine-release",distros:["Alpine Linux"]}],cze={alpine:t=>t,arch:t=>xo(/distrib_release=(.*)/,t),centos:t=>xo(/release ([^ ]+)/,t),debian:t=>t,fedora:t=>xo(/release (..)/,t),mint:t=>xo(/distrib_release=(.*)/,t),red:t=>xo(/release ([^ ]+)/,t),suse:t=>xo(/VERSION = (.*)\n/,t),ubuntu:t=>xo(/distrib_release=(.*)/,t)};function xo(t,e){let r=t.exec(e);return r?r[1]:void 0}async function pze(){let t={kernel_version:as.release(),name:"Mac OS X",version:`10.${Number(as.release().split(".")[0])-4}`};try{let e=await new Promise((r,i)=>{nze.execFile("/usr/bin/sw_vers",(s,o)=>{if(s){i(s);return}r(o)})});t.name=xo(/^ProductName:\s+(.*)$/m,e),t.version=xo(/^ProductVersion:\s+(.*)$/m,e),t.build=xo(/^BuildVersion:\s+(.*)$/m,e)}catch{}return t}function Ele(t){return t.split(" ")[0].toLowerCase()}async function mze(){let t={kernel_version:as.release(),name:"Linux"};try{let e=await Mle("/etc"),r=dze.find(u=>e.includes(u.name));if(!r)return t;let i=sze.join("/etc",r.name),s=(await Rle(i,{encoding:"utf-8"})).toLowerCase(),{distros:o}=r;t.name=o.find(u=>s.indexOf(Ele(u))>=0)||o[0];let a=Ele(t.name);t.version=cze[a](s)}catch{}return t}pm.Context=Ld;pm.getDeviceContext=Ule;pm.readDirAsync=Mle;pm.readFileAsync=Rle});var Lle=_(ZL=>{"use strict";ZL.parse=bze;ZL.serialize=yze;var gze=decodeURIComponent,fze=encodeURIComponent,AD=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function bze(t,e){if(typeof t!="string")throw new TypeError("argument str must be a string");for(var r={},i=e||{},s=t.split(";"),o=i.decode||gze,a=0;a<s.length;a++){var u=s[a],d=u.indexOf("=");if(!(d<0)){var p=u.substring(0,d).trim();if(r[p]==null){var m=u.substring(d+1,u.length).trim();m[0]==='"'&&(m=m.slice(1,-1)),r[p]=hze(m,o)}}}return r}function yze(t,e,r){var i=r||{},s=i.encode||fze;if(typeof s!="function")throw new TypeError("option encode is invalid");if(!AD.test(t))throw new TypeError("argument name is invalid");var o=s(e);if(o&&!AD.test(o))throw new TypeError("argument val is invalid");var a=t+"="+o;if(i.maxAge!=null){var u=i.maxAge-0;if(isNaN(u)||!isFinite(u))throw new TypeError("option maxAge is invalid");a+="; Max-Age="+Math.floor(u)}if(i.domain){if(!AD.test(i.domain))throw new TypeError("option domain is invalid");a+="; Domain="+i.domain}if(i.path){if(!AD.test(i.path))throw new TypeError("option path is invalid");a+="; Path="+i.path}if(i.expires){if(typeof i.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+="; Expires="+i.expires.toUTCString()}if(i.httpOnly&&(a+="; HttpOnly"),i.secure&&(a+="; Secure"),i.sameSite){var d=typeof i.sameSite=="string"?i.sameSite.toLowerCase():i.sameSite;switch(d){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return a}function hze(t,e){try{return e(t)}catch{return t}}});var nh=_(mm=>{var{_optionalChain:Ize}=Cr();Object.defineProperty(mm,"__esModule",{value:!0});var FD=Pe(),xze=Lle(),_ze=require("url"),vze={ip:!1,request:!0,transaction:!0,user:!0},Oze=["cookies","data","headers","method","query_string","url"],Nle=["id","username","email"];function e0(t,e={}){let r=t.method&&t.method.toUpperCase(),i="",s="url";e.customRoute||t.route?(i=e.customRoute||`${t.baseUrl||""}${t.route&&t.route.path}`,s="route"):(t.originalUrl||t.url)&&(i=FD.stripUrlQueryAndFragment(t.originalUrl||t.url||""));let o="";return e.method&&r&&(o+=r),e.method&&e.path&&(o+=" "),e.path&&i&&(o+=i),[o,s]}function Sze(t,e){switch(e){case"path":return e0(t,{path:!0})[0];case"handler":return t.route&&t.route.stack&&t.route.stack[0]&&t.route.stack[0].name||"<anonymous>";case"methodPath":default:return e0(t,{path:!0,method:!0})[0]}}function Dze(t,e){let r={};return(Array.isArray(e)?e:Nle).forEach(s=>{t&&s in t&&(r[s]=t[s])}),r}function t0(t,e){let{include:r=Oze}=e||{},i={},s=t.headers||{},o=t.method,a=t.hostname||t.host||s.host||"<no host>",u=t.protocol==="https"||t.socket&&t.socket.encrypted?"https":"http",d=t.originalUrl||t.url||"",p=d.startsWith(u)?d:`${u}://${a}${d}`;return r.forEach(m=>{switch(m){case"headers":{i.headers=s,r.includes("cookies")||delete i.headers.cookie;break}case"method":{i.method=o;break}case"url":{i.url=p;break}case"cookies":{i.cookies=t.cookies||s.cookie&&xze.parse(s.cookie)||{};break}case"query_string":{i.query_string=Fze(t);break}case"data":{if(o==="GET"||o==="HEAD")break;t.body!==void 0&&(i.data=FD.isString(t.body)?t.body:JSON.stringify(FD.normalize(t.body)));break}default:({}).hasOwnProperty.call(t,m)&&(i[m]=t[m])}}),i}function Aze(t,e,r){let i={...vze,...Ize([r,"optionalAccess",s=>s.include])};if(i.request){let s=Array.isArray(i.request)?t0(e,{include:i.request}):t0(e);t.request={...t.request,...s}}if(i.user){let s=e.user&&FD.isPlainObject(e.user)?Dze(e.user,i.user):{};Object.keys(s).length&&(t.user={...t.user,...s})}if(i.ip){let s=e.ip||e.socket&&e.socket.remoteAddress;s&&(t.user={...t.user,ip_address:s})}return i.transaction&&!t.transaction&&(t.transaction=Sze(e,i.transaction)),t}function Fze(t){let e=t.originalUrl||t.url||"";if(e)return e.startsWith("/")&&(e=`http://dogs.are.great${e}`),t.query||typeof URL!==void 0&&new URL(e).search.replace("?","")||_ze.parse(e).query||void 0}mm.DEFAULT_USER_INCLUDES=Nle;mm.addRequestDataToEvent=Aze;mm.extractPathForTransaction=e0;mm.extractRequestData=t0});var n0=_(i0=>{Object.defineProperty(i0,"__esModule",{value:!0});var Pze=Pe(),jze=nh(),r0={include:{cookies:!0,data:!0,headers:!0,ip:!1,query_string:!0,url:!0,user:{id:!0,username:!0,email:!0}},transactionNamingScheme:"methodPath"},Yl=class{static __initStatic(){this.id="RequestData"}__init(){this.name=Yl.id}constructor(e={}){Yl.prototype.__init.call(this),this._addRequestData=jze.addRequestDataToEvent,this._options={...r0,...e,include:{method:!0,...r0.include,...e.include,user:e.include&&typeof e.include.user=="boolean"?e.include.user:{...r0.include.user,...(e.include||{}).user}}}}setupOnce(e,r){let{transactionNamingScheme:i}=this._options;e(s=>{let o=r(),a=o.getIntegration(Yl),{sdkProcessingMetadata:u={}}=s,d=u.request;if(!a||!d)return s;let p=u.requestDataOptionsFromExpressHandler||u.requestDataOptionsFromGCPWrapper||Tze(this._options),m=this._addRequestData(s,d,p);if(s.type==="transaction"||i==="handler")return m;let y=d._sentryTransaction;if(y){let v=Cze(o)==="sentry.javascript.nextjs"?y.name.startsWith("/api"):i!=="path",[O]=Pze.extractPathForTransaction(d,{path:!0,method:v,customRoute:y.name});m.transaction=O}return m})}};Yl.__initStatic();function Tze(t){let{transactionNamingScheme:e,include:{ip:r,user:i,...s}}=t,o=[];for(let[u,d]of Object.entries(s))d&&o.push(u);let a;if(i===void 0)a=!0;else if(typeof i=="boolean")a=i;else{let u=[];for(let[d,p]of Object.entries(i))p&&u.push(d);a=u}return{include:{ip:r,user:a,request:o.length!==0?o:void 0,transaction:e}}}function Cze(t){try{return t.getClient().getOptions()._metadata.sdk.name}catch{return}}i0.RequestData=Yl});var a0=_(PD=>{var{_optionalChain:Mr}=Cr();Object.defineProperty(PD,"__esModule",{value:!0});var Eze=Pe(),kze=ih(),wze=um();function o0(t){let e=[],r=!1;function i(a){e=[],!r&&(r=!0,t(a))}e.push(i);function s(a){e.push(a)}function o(a){let u=e.pop()||i;try{u(a)}catch{i(a)}}return{add:s,next:o}}var s0=class{constructor(){let{Session:e}=require("inspector");this._session=new e}configureAndConnect(e,r){this._session.connect(),this._session.on("Debugger.paused",i=>{e(i,()=>{this._session.post("Debugger.resume")})}),this._session.post("Debugger.enable"),this._session.post("Debugger.setPauseOnExceptions",{state:r?"all":"uncaught"})}getLocalVariables(e,r){this._getProperties(e,i=>{let{add:s,next:o}=o0(r);for(let a of i)if(Mr([a,"optionalAccess",u=>u.value,"optionalAccess",u=>u.objectId])&&Mr([a,"optionalAccess",u=>u.value,"access",u=>u.className])==="Array"){let u=a.value.objectId;s(d=>this._unrollArray(u,a.name,d,o))}else if(Mr([a,"optionalAccess",u=>u.value,"optionalAccess",u=>u.objectId])&&Mr([a,"optionalAccess",u=>u.value,"optionalAccess",u=>u.className])==="Object"){let u=a.value.objectId;s(d=>this._unrollObject(u,a.name,d,o))}else(Mr([a,"optionalAccess",u=>u.value,"optionalAccess",u=>u.value])||Mr([a,"optionalAccess",u=>u.value,"optionalAccess",u=>u.description]))&&s(u=>this._unrollOther(a,u,o));o({})})}_getProperties(e,r){this._session.post("Runtime.getProperties",{objectId:e,ownProperties:!0},(i,s)=>{r(i?[]:s.result)})}_unrollArray(e,r,i,s){this._getProperties(e,o=>{i[r]=o.filter(a=>a.name!=="length"&&!isNaN(parseInt(a.name,10))).sort((a,u)=>parseInt(a.name,10)-parseInt(u.name,10)).map(a=>Mr([a,"optionalAccess",u=>u.value,"optionalAccess",u=>u.value])),s(i)})}_unrollObject(e,r,i,s){this._getProperties(e,o=>{i[r]=o.map(a=>[a.name,Mr([a,"optionalAccess",u=>u.value,"optionalAccess",u=>u.value])]).reduce((a,[u,d])=>(a[u]=d,a),{}),s(i)})}_unrollOther(e,r,i){Mr([e,"optionalAccess",s=>s.value,"optionalAccess",s=>s.value])?r[e.name]=e.value.value:Mr([e,"optionalAccess",s=>s.value,"optionalAccess",s=>s.description])&&Mr([e,"optionalAccess",s=>s.value,"optionalAccess",s=>s.type])!=="function"&&(r[e.name]=`<${e.value.description}>`),i(r)}};function Rze(){try{return new s0}catch{return}}function Vle(t){return t!==void 0&&["","?","<anonymous>"].includes(t)}function Mze(t,e){return t===e||Vle(t)&&Vle(e)}function qle(t){if(t!==void 0)return t.slice(-10).reduce((e,r)=>`${e},${r.function},${r.lineno},${r.colno}`,"")}function Uze(t,e){if(e!==void 0)return qle(t(e,1))}var Ql=class{static __initStatic(){this.id="LocalVariables"}__init(){this.name=Ql.id}__init2(){this._cachedFrames=new kze.LRUMap(20)}constructor(e={},r=Rze()){this._options=e,this._session=r,Ql.prototype.__init.call(this),Ql.prototype.__init2.call(this)}setupOnce(e,r){this._setup(e,Mr([r,"call",i=>i(),"access",i=>i.getClient,"call",i=>i(),"optionalAccess",i=>i.getOptions,"call",i=>i()]))}_setup(e,r){if(this._session&&Mr([r,"optionalAccess",i=>i.includeLocalVariables])){if((wze.NODE_VERSION.major||0)<18){Eze.logger.log("The `LocalVariables` integration is only supported on Node >= v18.");return}this._session.configureAndConnect((s,o)=>this._handlePaused(r.stackParser,s,o),!!this._options.captureAllExceptions),e(async s=>this._addLocalVariables(s))}}_handlePaused(e,{params:{reason:r,data:i,callFrames:s}},o){if(r!=="exception"&&r!=="promiseRejection"){o();return}let a=Uze(e,Mr([i,"optionalAccess",p=>p.description]));if(a==null){o();return}let{add:u,next:d}=o0(p=>{this._cachedFrames.set(a,p),o()});for(let p=0;p<Math.min(s.length,5);p++){let{scopeChain:m,functionName:f,this:y}=s[p],v=m.find(A=>A.type==="local"),O=y.className==="global"||!y.className?f:`${y.className}.${f}`;if(Mr([v,"optionalAccess",A=>A.object,"access",A=>A.objectId])===void 0)u(A=>{A[p]={function:O},d(A)});else{let A=v.object.objectId;u(k=>Mr([this,"access",U=>U._session,"optionalAccess",U=>U.getLocalVariables,"call",U=>U(A,$=>{k[p]={function:O,vars:$},d(k)})]))}}d([])}_addLocalVariables(e){for(let r of Mr([e,"optionalAccess",i=>i.exception,"optionalAccess",i=>i.values])||[])this._addLocalVariablesToException(r);return e}_addLocalVariablesToException(e){let r=qle(Mr([e,"optionalAccess",o=>o.stacktrace,"optionalAccess",o=>o.frames]));if(r===void 0)return;let i=this._cachedFrames.delete(r);if(i===void 0)return;let s=Mr([e,"access",o=>o.stacktrace,"optionalAccess",o=>o.frames,"optionalAccess",o=>o.length])||0;for(let o=0;o<s;o++){let a=s-o-1;if(!Mr([e,"optionalAccess",u=>u.stacktrace,"optionalAccess",u=>u.frames,"optionalAccess",u=>u[a]])||!i[o])break;i[o].vars===void 0||e.stacktrace.frames[a].in_app===!1||!Mze(e.stacktrace.frames[a].function,i[o].function)||(e.stacktrace.frames[a].vars=i[o].vars)}}};Ql.__initStatic();PD.LocalVariables=Ql;PD.createCallbackList=o0});var u0=_((ja,Gle)=>{Object.defineProperty(ja,"__esModule",{value:!0});var sh=Pe(),Ble=ih(),Wle=um(),l0=EL();ja.ChannelName=void 0;(function(t){let e="undici:request:create";t.RequestCreate=e;let r="undici:request:headers";t.RequestEnd=r;let i="undici:request:error";t.RequestError=i})(ja.ChannelName||(ja.ChannelName={}));var ls=class{static __initStatic(){this.id="Undici"}__init(){this.name=ls.id}__init2(){this._createSpanUrlMap=new Ble.LRUMap(100)}__init3(){this._headersUrlMap=new Ble.LRUMap(100)}constructor(e={}){ls.prototype.__init.call(this),ls.prototype.__init2.call(this),ls.prototype.__init3.call(this),this._options={breadcrumbs:e.breadcrumbs===void 0?!0:e.breadcrumbs,shouldCreateSpanForRequest:e.shouldCreateSpanForRequest}}setupOnce(e,r){if(Wle.NODE_VERSION.major&&Wle.NODE_VERSION.major<16)return;let i;try{i=sh.dynamicRequire(Gle,"diagnostics_channel")}catch{}if(!i||!i.subscribe)return;let s=o=>{if(this._options.shouldCreateSpanForRequest===void 0)return!0;let a=this._createSpanUrlMap.get(o);if(a!==void 0)return a;let u=this._options.shouldCreateSpanForRequest(o);return this._createSpanUrlMap.set(o,u),u};i.subscribe(ja.ChannelName.RequestCreate,o=>{let a=r();if(!a.getIntegration(ls))return;let{request:u}=o,d=u.origin?u.origin.toString()+u.path:u.path,p=sh.parseUrl(d);if(l0.isSentryRequest(d)||u.__sentry__!==void 0)return;let m=a.getClient(),y=a.getScope().getSpan();if(y&&m){let v=m.getOptions();if(s(d)){let O=u.method||"GET",A={"http.method":O};p.search&&(A["http.query"]=p.search),p.hash&&(A["http.fragment"]=p.hash);let k=y.startChild({op:"http.client",description:`${O} ${sh.getSanitizedUrlString(p)}`,data:A});if(u.__sentry__=k,($=>{if(v.tracePropagationTargets===void 0)return!0;let R=this._headersUrlMap.get($);if(R!==void 0)return R;let z=sh.stringMatchesSomePattern($,v.tracePropagationTargets);return this._headersUrlMap.set($,z),z})(d)&&(u.addHeader("sentry-trace",k.toTraceparent()),k.transaction)){let $=k.transaction.getDynamicSamplingContext(),R=sh.dynamicSamplingContextToSentryBaggageHeader($);R&&u.addHeader("baggage",R)}}}}),i.subscribe(ja.ChannelName.RequestEnd,o=>{let a=r();if(!a.getIntegration(ls))return;let{request:u,response:d}=o,p=u.origin?u.origin.toString()+u.path:u.path;if(l0.isSentryRequest(p))return;let m=u.__sentry__;m&&(m.setHttpStatus(d.statusCode),m.finish()),this._options.breadcrumbs&&a.addBreadcrumb({category:"http",data:{method:u.method,status_code:d.statusCode,url:p},type:"http"},{event:"response",request:u,response:d})}),i.subscribe(ja.ChannelName.RequestError,o=>{let a=r();if(!a.getIntegration(ls))return;let{request:u}=o,d=u.origin?u.origin.toString()+u.path:u.path;if(l0.isSentryRequest(d))return;let p=u.__sentry__;p&&(p.setStatus("internal_error"),p.finish()),this._options.breadcrumbs&&a.addBreadcrumb({category:"http",data:{method:u.method,url:d},level:"error",type:"http"},{event:"error",request:u})})}};ls.__initStatic();ja.Undici=ls});var Kle=_(d0=>{Object.defineProperty(d0,"__esModule",{value:!0});var Hle=require("path"),Lze=Hle.sep==="\\";function Nze(t){return t.replace(/^[A-Z]:/,"").replace(/\\/g,"/")}function Vze(t,e=Lze){if(!t)return;let r=e?Nze(t):t,{root:i,dir:s,base:o,ext:a}=Hle.posix.parse(r),d=`${require&&require.main&&require.main.filename&&s||global.process.cwd()}/`,p=o;a===".js"&&(p=p.slice(0,p.length-3)),!i&&!s&&(s=".");let m=s.lastIndexOf("/node_modules/");if(m>-1)return`${s.slice(m+14).replace(/\//g,".")}:${p}`;if(m=`${s}/`.lastIndexOf(d,0),m===0){let f=s.slice(d.length).replace(/\//g,".");return f&&(f+=":"),f+=p,f}return p}d0.getModule=Vze});var c0=_(_o=>{var{_optionalChain:$le}=Cr();Object.defineProperty(_o,"__esModule",{value:!0});var Ta=yr(),Jl=Pe(),qze=yle(),Bze=mL(),Wze=TL(),Gze=ML(),Hze=qL(),Kze=WL(),$ze=zL(),zze=JL(),Yze=SD(),Qze=XL(),Jze=n0(),Xze=a0(),Zze=u0(),eYe=Kle(),tYe=OL(),zle=[new Ta.Integrations.InboundFilters,new Ta.Integrations.FunctionToString,new Wze.Console,new Gze.Http,new Zze.Undici,new Hze.OnUncaughtException,new Kze.OnUnhandledRejection,new Yze.ContextLines,new Xze.LocalVariables,new Qze.Context,new zze.Modules,new Jze.RequestData,new $ze.LinkedErrors];function rYe(t={}){let e=Ta.getMainCarrier();qze.setNodeAsyncContextStrategy();let r=$le([e,"access",s=>s.__SENTRY__,"optionalAccess",s=>s.integrations])||[];if(t.defaultIntegrations=t.defaultIntegrations===!1?[]:[...Array.isArray(t.defaultIntegrations)?t.defaultIntegrations:zle,...r],t.dsn===void 0&&process.env.SENTRY_DSN&&(t.dsn=process.env.SENTRY_DSN),t.tracesSampleRate===void 0&&process.env.SENTRY_TRACES_SAMPLE_RATE){let s=parseFloat(process.env.SENTRY_TRACES_SAMPLE_RATE);isFinite(s)&&(t.tracesSampleRate=s)}if(t.release===void 0){let s=Yle();s!==void 0?t.release=s:t.autoSessionTracking=!1}t.environment===void 0&&process.env.SENTRY_ENVIRONMENT&&(t.environment=process.env.SENTRY_ENVIRONMENT),t.autoSessionTracking===void 0&&t.dsn!==void 0&&(t.autoSessionTracking=!0),t.instrumenter===void 0&&(t.instrumenter="sentry");let i={...t,stackParser:Jl.stackParserFromStackParserOptions(t.stackParser||Qle),integrations:Ta.getIntegrationsToSetup(t),transport:t.transport||tYe.makeNodeTransport};Ta.initAndBind(Bze.NodeClient,i),t.autoSessionTracking&&aYe()}function iYe(){return Ta.getCurrentHub().lastEventId()}async function nYe(t){let e=Ta.getCurrentHub().getClient();return e?e.flush(t):((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Jl.logger.warn("Cannot flush events. No client defined."),Promise.resolve(!1))}async function sYe(t){let e=Ta.getCurrentHub().getClient();return e?e.close(t):((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Jl.logger.warn("Cannot flush events and disable SDK. No client defined."),Promise.resolve(!1))}function oYe(t){if(t===void 0)return!1;let e=t&&t.getOptions();return e&&e.autoSessionTracking!==void 0?e.autoSessionTracking:!1}function Yle(t){return process.env.SENTRY_RELEASE?process.env.SENTRY_RELEASE:Jl.GLOBAL_OBJ.SENTRY_RELEASE&&Jl.GLOBAL_OBJ.SENTRY_RELEASE.id?Jl.GLOBAL_OBJ.SENTRY_RELEASE.id:process.env.GITHUB_SHA||process.env.COMMIT_REF||process.env.VERCEL_GIT_COMMIT_SHA||process.env.VERCEL_GITHUB_COMMIT_SHA||process.env.VERCEL_GITLAB_COMMIT_SHA||process.env.VERCEL_BITBUCKET_COMMIT_SHA||process.env.ZEIT_GITHUB_COMMIT_SHA||process.env.ZEIT_GITLAB_COMMIT_SHA||process.env.ZEIT_BITBUCKET_COMMIT_SHA||t}var Qle=Jl.createStackParser(Jl.nodeStackLineParser(eYe.getModule));function aYe(){let t=Ta.getCurrentHub();t.startSession(),process.on("beforeExit",()=>{let e=$le([t,"access",i=>i.getScope,"call",i=>i(),"optionalAccess",i=>i.getSession,"call",i=>i()]);e&&!["exited","crashed"].includes(e.status)&&t.endSession()})}_o.close=sYe;_o.defaultIntegrations=zle;_o.defaultStackParser=Qle;_o.flush=nYe;_o.getSentryRelease=Yle;_o.init=rYe;_o.isAutoSessionTrackingEnabled=oYe;_o.lastEventId=iYe});var Jle=_(m0=>{Object.defineProperty(m0,"__esModule",{value:!0});var jD=require("fs"),p0=require("path");function lYe(t){let e=p0.resolve(t);if(!jD.existsSync(e))throw new Error(`Cannot read contents of ${e}. Directory does not exist.`);if(!jD.statSync(e).isDirectory())throw new Error(`Cannot read contents of ${e}, because it is not a directory.`);let r=i=>jD.readdirSync(i).reduce((s,o)=>{let a=p0.join(i,o);return jD.statSync(a).isDirectory()?s.concat(r(a)):(s.push(a),s)},[]);return r(e).map(i=>p0.relative(e,i))}m0.deepReadDirSync=lYe});var Zle=_(TD=>{Object.defineProperty(TD,"__esModule",{value:!0});var Xle=nh();function uYe(t,e){return Xle.extractRequestData(t,{include:e})}function dYe(t,e,r={}){return Xle.addRequestDataToEvent(t,e,{include:r})}TD.extractRequestData=uYe;TD.parseRequest=dYe});var tue=_(Xl=>{var{_optionalChain:Nd}=Cr();Object.defineProperty(Xl,"__esModule",{value:!0});var vo=yr(),Ca=Pe(),cYe=nh(),oh=c0(),eue=Zle();function pYe(){return function(e,r,i){let s=vo.getCurrentHub(),o=Nd([s,"access",y=>y.getClient,"call",y=>y(),"optionalAccess",y=>y.getOptions,"call",y=>y()]);if(!o||o.instrumenter!=="sentry"||Nd([e,"access",y=>y.method,"optionalAccess",y=>y.toUpperCase,"call",y=>y()])==="OPTIONS"||Nd([e,"access",y=>y.method,"optionalAccess",y=>y.toUpperCase,"call",y=>y()])==="HEAD")return i();if(!vo.hasTracingEnabled(o))return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ca.logger.warn("Sentry `tracingHandler` is being used, but tracing is disabled. Please enable tracing by setting either `tracesSampleRate` or `tracesSampler` in your `Sentry.init()` options."),i();let a=e.headers&&Ca.isString(e.headers["sentry-trace"])&&Ca.extractTraceparentData(e.headers["sentry-trace"]),u=Nd([e,"access",y=>y.headers,"optionalAccess",y=>y.baggage]),d=Ca.baggageHeaderToDynamicSamplingContext(u),[p,m]=Ca.extractPathForTransaction(e,{path:!0,method:!0}),f=vo.startTransaction({name:p,op:"http.server",...a,metadata:{dynamicSamplingContext:a&&!d?{}:d,request:e,source:m}},{request:cYe.extractRequestData(e)});s.configureScope(y=>{y.setSpan(f)}),r.__sentry_transaction=f,r.once("finish",()=>{setImmediate(()=>{Ca.addRequestDataToTransaction(f,e),f.setHttpStatus(r.statusCode),f.finish()})}),i()}}function mYe(t={}){let e;if("include"in t)e={include:t.include};else{let{ip:r,request:i,transaction:s,user:o}=t;(r||i||s||o)&&(e={include:Ca.dropUndefinedKeys({ip:r,request:i,transaction:s,user:o})})}return e}function gYe(t){let e=mYe(t),r=vo.getCurrentHub(),i=r.getClient();if(i&&oh.isAutoSessionTrackingEnabled(i)){i.initSessionFlusher();let s=r.getScope();s&&s.getSession()&&s.setSession()}return function(o,a,u){if(t&&t.flushTimeout&&t.flushTimeout>0){let d=a.end;a.end=function(p,m,f){oh.flush(t.flushTimeout).then(()=>{d.call(this,p,m,f)}).then(null,y=>{(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Ca.logger.error(y),d.call(this,p,m,f)})}}vo.runWithAsyncContext(()=>{let d=vo.getCurrentHub();d.configureScope(p=>{p.setSDKProcessingMetadata({request:o,requestDataOptionsFromExpressHandler:e});let m=d.getClient();if(oh.isAutoSessionTrackingEnabled(m)){let f=d.getScope();f&&f.setRequestSession({status:"ok"})}}),a.once("finish",()=>{let p=d.getClient();oh.isAutoSessionTrackingEnabled(p)&&setImmediate(()=>{p&&p._captureRequestSession&&p._captureRequestSession()})}),u()})}}function fYe(t){let e=t.status||t.statusCode||t.status_code||t.output&&t.output.statusCode;return e?parseInt(e,10):500}function bYe(t){return fYe(t)>=500}function yYe(t){return function(r,i,s,o){if((t&&t.shouldHandleError||bYe)(r)){vo.withScope(u=>{u.setSDKProcessingMetadata({request:i});let d=s.__sentry_transaction;d&&u.getSpan()===void 0&&u.setSpan(d);let p=vo.getCurrentHub().getClient();if(p&&oh.isAutoSessionTrackingEnabled(p)&&p._sessionFlusher!==void 0){let y=u.getRequestSession();y&&y.status!==void 0&&(y.status="crashed")}let m=vo.captureException(r);s.sentry=m,o(r)});return}o(r)}}function hYe(t={}){return function({path:e,type:r,next:i,rawInput:s}){let o=vo.getCurrentHub(),a=Nd([o,"access",d=>d.getClient,"call",d=>d(),"optionalAccess",d=>d.getOptions,"call",d=>d()]),u=Nd([o,"access",d=>d.getScope,"call",d=>d(),"optionalAccess",d=>d.getTransaction,"call",d=>d()]);if(u){u.setName(`trpc/${e}`,"route"),u.op="rpc.server";let d={procedure_type:r};(t.attachRpcInput!==void 0?t.attachRpcInput:Nd([a,"optionalAccess",p=>p.sendDefaultPii]))&&(d.input=Ca.normalize(s)),u.setContext("trpc",d)}return i()}}Xl.extractRequestData=eue.extractRequestData;Xl.parseRequest=eue.parseRequest;Xl.errorHandler=yYe;Xl.requestHandler=gYe;Xl.tracingHandler=pYe;Xl.trpcMiddleware=hYe});var rue=_(wn=>{Object.defineProperty(wn,"__esModule",{value:!0});var IYe=TL(),xYe=ML(),_Ye=qL(),vYe=WL(),OYe=zL(),SYe=JL(),DYe=SD(),AYe=XL(),FYe=n0(),PYe=a0(),jYe=u0();wn.Console=IYe.Console;wn.Http=xYe.Http;wn.OnUncaughtException=_Ye.OnUncaughtException;wn.OnUnhandledRejection=vYe.OnUnhandledRejection;wn.LinkedErrors=OYe.LinkedErrors;wn.Modules=SYe.Modules;wn.ContextLines=DYe.ContextLines;wn.Context=AYe.Context;wn.RequestData=FYe.RequestData;wn.LocalVariables=PYe.LocalVariables;wn.Undici=jYe.Undici});var iue=_(Ea=>{Object.defineProperty(Ea,"__esModule",{value:!0});var Vd=aL();Ea.Apollo=Vd.Apollo;Ea.Express=Vd.Express;Ea.GraphQL=Vd.GraphQL;Ea.Mongo=Vd.Mongo;Ea.Mysql=Vd.Mysql;Ea.Postgres=Vd.Postgres;Ea.Prisma=Vd.Prisma});var ah=_(st=>{Object.defineProperty(st,"__esModule",{value:!0});var qt=yr(),TYe=Qae(),CYe=mL(),EYe=OL(),qd=c0(),g0=nh(),kYe=Jle(),wYe=tue(),RYe=rue(),MYe=iue(),UYe={...qt.Integrations,...RYe,...MYe};st.Hub=qt.Hub;st.SDK_VERSION=qt.SDK_VERSION;st.Scope=qt.Scope;st.addBreadcrumb=qt.addBreadcrumb;st.addGlobalEventProcessor=qt.addGlobalEventProcessor;st.captureCheckIn=qt.captureCheckIn;st.captureEvent=qt.captureEvent;st.captureException=qt.captureException;st.captureMessage=qt.captureMessage;st.configureScope=qt.configureScope;st.createTransport=qt.createTransport;st.extractTraceparentData=qt.extractTraceparentData;st.getActiveTransaction=qt.getActiveTransaction;st.getCurrentHub=qt.getCurrentHub;st.getHubFromCarrier=qt.getHubFromCarrier;st.makeMain=qt.makeMain;st.runWithAsyncContext=qt.runWithAsyncContext;st.setContext=qt.setContext;st.setExtra=qt.setExtra;st.setExtras=qt.setExtras;st.setTag=qt.setTag;st.setTags=qt.setTags;st.setUser=qt.setUser;st.spanStatusfromHttpCode=qt.spanStatusfromHttpCode;st.startTransaction=qt.startTransaction;st.trace=qt.trace;st.withScope=qt.withScope;st.autoDiscoverNodePerformanceMonitoringIntegrations=TYe.autoDiscoverNodePerformanceMonitoringIntegrations;st.NodeClient=CYe.NodeClient;st.makeNodeTransport=EYe.makeNodeTransport;st.close=qd.close;st.defaultIntegrations=qd.defaultIntegrations;st.defaultStackParser=qd.defaultStackParser;st.flush=qd.flush;st.getSentryRelease=qd.getSentryRelease;st.init=qd.init;st.lastEventId=qd.lastEventId;st.DEFAULT_USER_INCLUDES=g0.DEFAULT_USER_INCLUDES;st.addRequestDataToEvent=g0.addRequestDataToEvent;st.extractRequestData=g0.extractRequestData;st.deepReadDirSync=kYe.deepReadDirSync;st.Handlers=wYe;st.Integrations=UYe});var sue=_(f0=>{Object.defineProperty(f0,"__esModule",{value:!0});var ka=Pe(),wa=class{static __initStatic(){this.id="CaptureConsole"}__init(){this.name=wa.id}__init2(){this._levels=ka.CONSOLE_LEVELS}constructor(e={}){wa.prototype.__init.call(this),wa.prototype.__init2.call(this),e.levels&&(this._levels=e.levels)}setupOnce(e,r){"console"in ka.GLOBAL_OBJ&&this._levels.forEach(i=>{i in ka.GLOBAL_OBJ.console&&ka.fill(ka.GLOBAL_OBJ.console,i,s=>(...o)=>{let a=r();a.getIntegration(wa)&&a.withScope(u=>{u.setLevel(ka.severityLevelFromString(i)),u.setExtra("arguments",o),u.addEventProcessor(p=>(p.logger="console",p));let d=ka.safeJoin(o," ");i==="assert"?o[0]===!1&&(d=`Assertion failed: ${ka.safeJoin(o.slice(1)," ")||"console.assert"}`,u.setExtra("arguments",o.slice(1)),a.captureMessage(d)):i==="error"&&o[0]instanceof Error?a.captureException(o[0]):a.captureMessage(d)}),s&&s.apply(ka.GLOBAL_OBJ.console,o)})})}};wa.__initStatic();f0.CaptureConsole=wa});var oue=_(b0=>{Object.defineProperty(b0,"__esModule",{value:!0});var LYe=Pe(),eu=class{static __initStatic(){this.id="Debug"}__init(){this.name=eu.id}constructor(e){eu.prototype.__init.call(this),this._options={debugger:!1,stringify:!1,...e}}setupOnce(e,r){e((i,s)=>{let o=r().getIntegration(eu);if(o){if(o._options.debugger)debugger;LYe.consoleSandbox(()=>{o._options.stringify?(console.log(JSON.stringify(i,null,2)),Object.keys(s).length&&console.log(JSON.stringify(s,null,2))):(console.log(i),Object.keys(s).length&&console.log(s))})}return i})}};eu.__initStatic();b0.Debug=eu});var pue=_(ED=>{Object.defineProperty(ED,"__esModule",{value:!0});var NYe=Pe(),tu=class{constructor(){tu.prototype.__init.call(this)}static __initStatic(){this.id="Dedupe"}__init(){this.name=tu.id}setupOnce(e,r){let i=s=>{if(s.type)return s;let o=r().getIntegration(tu);if(o){try{if(uue(s,o._previousEvent))return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&NYe.logger.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{return o._previousEvent=s}return o._previousEvent=s}return s};i.id=this.name,e(i)}};tu.__initStatic();function uue(t,e){return e?!!(VYe(t,e)||qYe(t,e)):!1}function VYe(t,e){let r=t.message,i=e.message;return!(!r&&!i||r&&!i||!r&&i||r!==i||!cue(t,e)||!due(t,e))}function qYe(t,e){let r=aue(e),i=aue(t);return!(!r||!i||r.type!==i.type||r.value!==i.value||!cue(t,e)||!due(t,e))}function due(t,e){let r=lue(t),i=lue(e);if(!r&&!i)return!0;if(r&&!i||!r&&i||(r=r,i=i,i.length!==r.length))return!1;for(let s=0;s<i.length;s++){let o=i[s],a=r[s];if(o.filename!==a.filename||o.lineno!==a.lineno||o.colno!==a.colno||o.function!==a.function)return!1}return!0}function cue(t,e){let r=t.fingerprint,i=e.fingerprint;if(!r&&!i)return!0;if(r&&!i||!r&&i)return!1;r=r,i=i;try{return r.join("")===i.join("")}catch{return!1}}function aue(t){return t.exception&&t.exception.values&&t.exception.values[0]}function lue(t){let e=t.exception;if(e)try{return e.values[0].stacktrace.frames}catch{return}}ED.Dedupe=tu;ED._shouldDropEvent=uue});var mue=_(y0=>{Object.defineProperty(y0,"__esModule",{value:!0});var Bd=Pe(),ru=class{static __initStatic(){this.id="ExtraErrorData"}__init(){this.name=ru.id}constructor(e){ru.prototype.__init.call(this),this._options={depth:3,...e}}setupOnce(e,r){e((i,s)=>{let o=r().getIntegration(ru);return o?o.enhanceEventWithErrorData(i,s):i})}enhanceEventWithErrorData(e,r={}){if(!r.originalException||!Bd.isError(r.originalException))return e;let i=r.originalException.name||r.originalException.constructor.name,s=this._extractErrorData(r.originalException);if(s){let o={...e.contexts},a=Bd.normalize(s,this._options.depth);return Bd.isPlainObject(a)&&(Bd.addNonEnumerableProperty(a,"__sentry_skip_normalization__",!0),o[i]=a),{...e,contexts:o}}return e}_extractErrorData(e){try{let r=["name","message","stack","line","column","fileName","lineNumber","columnNumber","toJSON"],i={};for(let s of Object.keys(e)){if(r.indexOf(s)!==-1)continue;let o=e[s];i[s]=Bd.isError(o)?o.toString():o}if(typeof e.toJSON=="function"){let s=e.toJSON();for(let o of Object.keys(s)){let a=s[o];i[o]=Bd.isError(a)?a.toString():a}}return i}catch(r){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Bd.logger.error("Unable to extract extra data from the Error object:",r)}return null}};ru.__initStatic();y0.ExtraErrorData=ru});var fue=_((gue,h0)=>{(function(t){if(typeof gue=="object"&&typeof h0<"u")h0.exports=t();else if(typeof define=="function"&&define.amd)define([],t);else{var e;typeof window<"u"?e=window:typeof global<"u"?e=global:typeof self<"u"?e=self:e=this,e.localforage=t()}})(function(){var t,e,r;return function i(s,o,a){function u(m,f){if(!o[m]){if(!s[m]){var y=typeof require=="function"&&require;if(!f&&y)return y(m,!0);if(d)return d(m,!0);var v=new Error("Cannot find module '"+m+"'");throw v.code="MODULE_NOT_FOUND",v}var O=o[m]={exports:{}};s[m][0].call(O.exports,function(A){var k=s[m][1][A];return u(k||A)},O,O.exports,i,s,o,a)}return o[m].exports}for(var d=typeof require=="function"&&require,p=0;p<a.length;p++)u(a[p]);return u}({1:[function(i,s,o){(function(a){"use strict";var u=a.MutationObserver||a.WebKitMutationObserver,d;if(u){var p=0,m=new u(A),f=a.document.createTextNode("");m.observe(f,{characterData:!0}),d=function(){f.data=p=++p%2}}else if(!a.setImmediate&&typeof a.MessageChannel<"u"){var y=new a.MessageChannel;y.port1.onmessage=A,d=function(){y.port2.postMessage(0)}}else"document"in a&&"onreadystatechange"in a.document.createElement("script")?d=function(){var U=a.document.createElement("script");U.onreadystatechange=function(){A(),U.onreadystatechange=null,U.parentNode.removeChild(U),U=null},a.document.documentElement.appendChild(U)}:d=function(){setTimeout(A,0)};var v,O=[];function A(){v=!0;for(var U,$,R=O.length;R;){for($=O,O=[],U=-1;++U<R;)$[U]();R=O.length}v=!1}s.exports=k;function k(U){O.push(U)===1&&!v&&d()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(i,s,o){"use strict";var a=i(1);function u(){}var d={},p=["REJECTED"],m=["FULFILLED"],f=["PENDING"];s.exports=y;function y(Q){if(typeof Q!="function")throw new TypeError("resolver must be a function");this.state=f,this.queue=[],this.outcome=void 0,Q!==u&&k(this,Q)}y.prototype.catch=function(Q){return this.then(null,Q)},y.prototype.then=function(Q,be){if(typeof Q!="function"&&this.state===m||typeof be!="function"&&this.state===p)return this;var ae=new this.constructor(u);if(this.state!==f){var re=this.state===m?Q:be;O(ae,re,this.outcome)}else this.queue.push(new v(ae,Q,be));return ae};function v(Q,be,ae){this.promise=Q,typeof be=="function"&&(this.onFulfilled=be,this.callFulfilled=this.otherCallFulfilled),typeof ae=="function"&&(this.onRejected=ae,this.callRejected=this.otherCallRejected)}v.prototype.callFulfilled=function(Q){d.resolve(this.promise,Q)},v.prototype.otherCallFulfilled=function(Q){O(this.promise,this.onFulfilled,Q)},v.prototype.callRejected=function(Q){d.reject(this.promise,Q)},v.prototype.otherCallRejected=function(Q){O(this.promise,this.onRejected,Q)};function O(Q,be,ae){a(function(){var re;try{re=be(ae)}catch(ve){return d.reject(Q,ve)}re===Q?d.reject(Q,new TypeError("Cannot resolve promise with itself")):d.resolve(Q,re)})}d.resolve=function(Q,be){var ae=U(A,be);if(ae.status==="error")return d.reject(Q,ae.value);var re=ae.value;if(re)k(Q,re);else{Q.state=m,Q.outcome=be;for(var ve=-1,K=Q.queue.length;++ve<K;)Q.queue[ve].callFulfilled(be)}return Q},d.reject=function(Q,be){Q.state=p,Q.outcome=be;for(var ae=-1,re=Q.queue.length;++ae<re;)Q.queue[ae].callRejected(be);return Q};function A(Q){var be=Q&&Q.then;if(Q&&(typeof Q=="object"||typeof Q=="function")&&typeof be=="function")return function(){be.apply(Q,arguments)}}function k(Q,be){var ae=!1;function re(Ce){ae||(ae=!0,d.reject(Q,Ce))}function ve(Ce){ae||(ae=!0,d.resolve(Q,Ce))}function K(){be(ve,re)}var Ae=U(K);Ae.status==="error"&&re(Ae.value)}function U(Q,be){var ae={};try{ae.value=Q(be),ae.status="success"}catch(re){ae.status="error",ae.value=re}return ae}y.resolve=$;function $(Q){return Q instanceof this?Q:d.resolve(new this(u),Q)}y.reject=R;function R(Q){var be=new this(u);return d.reject(be,Q)}y.all=z;function z(Q){var be=this;if(Object.prototype.toString.call(Q)!=="[object Array]")return this.reject(new TypeError("must be an array"));var ae=Q.length,re=!1;if(!ae)return this.resolve([]);for(var ve=new Array(ae),K=0,Ae=-1,Ce=new this(u);++Ae<ae;)Ue(Q[Ae],Ae);return Ce;function Ue(C,N){be.resolve(C).then(ce,function(se){re||(re=!0,d.reject(Ce,se))});function ce(se){ve[N]=se,++K===ae&&!re&&(re=!0,d.resolve(Ce,ve))}}}y.race=fe;function fe(Q){var be=this;if(Object.prototype.toString.call(Q)!=="[object Array]")return this.reject(new TypeError("must be an array"));var ae=Q.length,re=!1;if(!ae)return this.resolve([]);for(var ve=-1,K=new this(u);++ve<ae;)Ae(Q[ve]);return K;function Ae(Ce){be.resolve(Ce).then(function(Ue){re||(re=!0,d.resolve(K,Ue))},function(Ue){re||(re=!0,d.reject(K,Ue))})}}},{1:1}],3:[function(i,s,o){(function(a){"use strict";typeof a.Promise!="function"&&(a.Promise=i(2))}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(i,s,o){"use strict";var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P};function u(P,M){if(!(P instanceof M))throw new TypeError("Cannot call a class as a function")}function d(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var p=d();function m(){try{if(!p||!p.open)return!1;var P=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),M=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!P||M)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function f(P,M){P=P||[],M=M||{};try{return new Blob(P,M)}catch(V){if(V.name!=="TypeError")throw V;for(var T=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,q=new T,G=0;G<P.length;G+=1)q.append(P[G]);return q.getBlob(M.type)}}typeof Promise>"u"&&i(3);var y=Promise;function v(P,M){M&&P.then(function(T){M(null,T)},function(T){M(T)})}function O(P,M,T){typeof M=="function"&&P.then(M),typeof T=="function"&&P.catch(T)}function A(P){return typeof P!="string"&&(console.warn(P+" used as a key, but it is not a string."),P=String(P)),P}function k(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var U="local-forage-detect-blob-support",$=void 0,R={},z=Object.prototype.toString,fe="readonly",Q="readwrite";function be(P){for(var M=P.length,T=new ArrayBuffer(M),q=new Uint8Array(T),G=0;G<M;G++)q[G]=P.charCodeAt(G);return T}function ae(P){return new y(function(M){var T=P.transaction(U,Q),q=f([""]);T.objectStore(U).put(q,"key"),T.onabort=function(G){G.preventDefault(),G.stopPropagation(),M(!1)},T.oncomplete=function(){var G=navigator.userAgent.match(/Chrome\/(\d+)/),V=navigator.userAgent.match(/Edge\//);M(V||!G||parseInt(G[1],10)>=43)}}).catch(function(){return!1})}function re(P){return typeof $=="boolean"?y.resolve($):ae(P).then(function(M){return $=M,$})}function ve(P){var M=R[P.name],T={};T.promise=new y(function(q,G){T.resolve=q,T.reject=G}),M.deferredOperations.push(T),M.dbReady?M.dbReady=M.dbReady.then(function(){return T.promise}):M.dbReady=T.promise}function K(P){var M=R[P.name],T=M.deferredOperations.pop();if(T)return T.resolve(),T.promise}function Ae(P,M){var T=R[P.name],q=T.deferredOperations.pop();if(q)return q.reject(M),q.promise}function Ce(P,M){return new y(function(T,q){if(R[P.name]=R[P.name]||Ti(),P.db)if(M)ve(P),P.db.close();else return T(P.db);var G=[P.name];M&&G.push(P.version);var V=p.open.apply(p,G);M&&(V.onupgradeneeded=function(te){var pe=V.result;try{pe.createObjectStore(P.storeName),te.oldVersion<=1&&pe.createObjectStore(U)}catch(me){if(me.name==="ConstraintError")console.warn('The database "'+P.name+'" has been upgraded from version '+te.oldVersion+" to version "+te.newVersion+', but the storage "'+P.storeName+'" already exists.');else throw me}}),V.onerror=function(te){te.preventDefault(),q(V.error)},V.onsuccess=function(){var te=V.result;te.onversionchange=function(pe){pe.target.close()},T(te),K(P)}})}function Ue(P){return Ce(P,!1)}function C(P){return Ce(P,!0)}function N(P,M){if(!P.db)return!0;var T=!P.db.objectStoreNames.contains(P.storeName),q=P.version<P.db.version,G=P.version>P.db.version;if(q&&(P.version!==M&&console.warn('The database "'+P.name+`" can't be downgraded from version `+P.db.version+" to version "+P.version+"."),P.version=P.db.version),G||T){if(T){var V=P.db.version+1;V>P.version&&(P.version=V)}return!0}return!1}function ce(P){return new y(function(M,T){var q=new FileReader;q.onerror=T,q.onloadend=function(G){var V=btoa(G.target.result||"");M({__local_forage_encoded_blob:!0,data:V,type:P.type})},q.readAsBinaryString(P)})}function se(P){var M=be(atob(P.data));return f([M],{type:P.type})}function De(P){return P&&P.__local_forage_encoded_blob}function Re(P){var M=this,T=M._initReady().then(function(){var q=R[M._dbInfo.name];if(q&&q.dbReady)return q.dbReady});return O(T,P,P),T}function Ot(P){ve(P);for(var M=R[P.name],T=M.forages,q=0;q<T.length;q++){var G=T[q];G._dbInfo.db&&(G._dbInfo.db.close(),G._dbInfo.db=null)}return P.db=null,Ue(P).then(function(V){return P.db=V,N(P)?C(P):V}).then(function(V){P.db=M.db=V;for(var te=0;te<T.length;te++)T[te]._dbInfo.db=V}).catch(function(V){throw Ae(P,V),V})}function Yt(P,M,T,q){q===void 0&&(q=1);try{var G=P.db.transaction(P.storeName,M);T(null,G)}catch(V){if(q>0&&(!P.db||V.name==="InvalidStateError"||V.name==="NotFoundError"))return y.resolve().then(function(){if(!P.db||V.name==="NotFoundError"&&!P.db.objectStoreNames.contains(P.storeName)&&P.version<=P.db.version)return P.db&&(P.version=P.db.version+1),C(P)}).then(function(){return Ot(P).then(function(){Yt(P,M,T,q-1)})}).catch(T);T(V)}}function Ti(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function xr(P){var M=this,T={db:null};if(P)for(var q in P)T[q]=P[q];var G=R[T.name];G||(G=Ti(),R[T.name]=G),G.forages.push(M),M._initReady||(M._initReady=M.ready,M.ready=Re);var V=[];function te(){return y.resolve()}for(var pe=0;pe<G.forages.length;pe++){var me=G.forages[pe];me!==M&&V.push(me._initReady().catch(te))}var ye=G.forages.slice(0);return y.all(V).then(function(){return T.db=G.db,Ue(T)}).then(function(he){return T.db=he,N(T,M._defaultConfig.version)?C(T):he}).then(function(he){T.db=G.db=he,M._dbInfo=T;for(var Ee=0;Ee<ye.length;Ee++){var dt=ye[Ee];dt!==M&&(dt._dbInfo.db=T.db,dt._dbInfo.version=T.version)}})}function cr(P,M){var T=this;P=A(P);var q=new y(function(G,V){T.ready().then(function(){Yt(T._dbInfo,fe,function(te,pe){if(te)return V(te);try{var me=pe.objectStore(T._dbInfo.storeName),ye=me.get(P);ye.onsuccess=function(){var he=ye.result;he===void 0&&(he=null),De(he)&&(he=se(he)),G(he)},ye.onerror=function(){V(ye.error)}}catch(he){V(he)}})}).catch(V)});return v(q,M),q}function Xe(P,M){var T=this,q=new y(function(G,V){T.ready().then(function(){Yt(T._dbInfo,fe,function(te,pe){if(te)return V(te);try{var me=pe.objectStore(T._dbInfo.storeName),ye=me.openCursor(),he=1;ye.onsuccess=function(){var Ee=ye.result;if(Ee){var dt=Ee.value;De(dt)&&(dt=se(dt));var yt=P(dt,Ee.key,he++);yt!==void 0?G(yt):Ee.continue()}else G()},ye.onerror=function(){V(ye.error)}}catch(Ee){V(Ee)}})}).catch(V)});return v(q,M),q}function mi(P,M,T){var q=this;P=A(P);var G=new y(function(V,te){var pe;q.ready().then(function(){return pe=q._dbInfo,z.call(M)==="[object Blob]"?re(pe.db).then(function(me){return me?M:ce(M)}):M}).then(function(me){Yt(q._dbInfo,Q,function(ye,he){if(ye)return te(ye);try{var Ee=he.objectStore(q._dbInfo.storeName);me===null&&(me=void 0);var dt=Ee.put(me,P);he.oncomplete=function(){me===void 0&&(me=null),V(me)},he.onabort=he.onerror=function(){var yt=dt.error?dt.error:dt.transaction.error;te(yt)}}catch(yt){te(yt)}})}).catch(te)});return v(G,T),G}function Pr(P,M){var T=this;P=A(P);var q=new y(function(G,V){T.ready().then(function(){Yt(T._dbInfo,Q,function(te,pe){if(te)return V(te);try{var me=pe.objectStore(T._dbInfo.storeName),ye=me.delete(P);pe.oncomplete=function(){G()},pe.onerror=function(){V(ye.error)},pe.onabort=function(){var he=ye.error?ye.error:ye.transaction.error;V(he)}}catch(he){V(he)}})}).catch(V)});return v(q,M),q}function Oe(P){var M=this,T=new y(function(q,G){M.ready().then(function(){Yt(M._dbInfo,Q,function(V,te){if(V)return G(V);try{var pe=te.objectStore(M._dbInfo.storeName),me=pe.clear();te.oncomplete=function(){q()},te.onabort=te.onerror=function(){var ye=me.error?me.error:me.transaction.error;G(ye)}}catch(ye){G(ye)}})}).catch(G)});return v(T,P),T}function At(P){var M=this,T=new y(function(q,G){M.ready().then(function(){Yt(M._dbInfo,fe,function(V,te){if(V)return G(V);try{var pe=te.objectStore(M._dbInfo.storeName),me=pe.count();me.onsuccess=function(){q(me.result)},me.onerror=function(){G(me.error)}}catch(ye){G(ye)}})}).catch(G)});return v(T,P),T}function xe(P,M){var T=this,q=new y(function(G,V){if(P<0){G(null);return}T.ready().then(function(){Yt(T._dbInfo,fe,function(te,pe){if(te)return V(te);try{var me=pe.objectStore(T._dbInfo.storeName),ye=!1,he=me.openKeyCursor();he.onsuccess=function(){var Ee=he.result;if(!Ee){G(null);return}P===0||ye?G(Ee.key):(ye=!0,Ee.advance(P))},he.onerror=function(){V(he.error)}}catch(Ee){V(Ee)}})}).catch(V)});return v(q,M),q}function qe(P){var M=this,T=new y(function(q,G){M.ready().then(function(){Yt(M._dbInfo,fe,function(V,te){if(V)return G(V);try{var pe=te.objectStore(M._dbInfo.storeName),me=pe.openKeyCursor(),ye=[];me.onsuccess=function(){var he=me.result;if(!he){q(ye);return}ye.push(he.key),he.continue()},me.onerror=function(){G(me.error)}}catch(he){G(he)}})}).catch(G)});return v(T,P),T}function jt(P,M){M=k.apply(this,arguments);var T=this.config();P=typeof P!="function"&&P||{},P.name||(P.name=P.name||T.name,P.storeName=P.storeName||T.storeName);var q=this,G;if(!P.name)G=y.reject("Invalid arguments");else{var V=P.name===T.name&&q._dbInfo.db,te=V?y.resolve(q._dbInfo.db):Ue(P).then(function(pe){var me=R[P.name],ye=me.forages;me.db=pe;for(var he=0;he<ye.length;he++)ye[he]._dbInfo.db=pe;return pe});P.storeName?G=te.then(function(pe){if(pe.objectStoreNames.contains(P.storeName)){var me=pe.version+1;ve(P);var ye=R[P.name],he=ye.forages;pe.close();for(var Ee=0;Ee<he.length;Ee++){var dt=he[Ee];dt._dbInfo.db=null,dt._dbInfo.version=me}var yt=new y(function(Ft,pr){var mr=p.open(P.name,me);mr.onerror=function(Ei){var Ka=mr.result;Ka.close(),pr(Ei)},mr.onupgradeneeded=function(){var Ei=mr.result;Ei.deleteObjectStore(P.storeName)},mr.onsuccess=function(){var Ei=mr.result;Ei.close(),Ft(Ei)}});return yt.then(function(Ft){ye.db=Ft;for(var pr=0;pr<he.length;pr++){var mr=he[pr];mr._dbInfo.db=Ft,K(mr._dbInfo)}}).catch(function(Ft){throw(Ae(P,Ft)||y.resolve()).catch(function(){}),Ft})}}):G=te.then(function(pe){ve(P);var me=R[P.name],ye=me.forages;pe.close();for(var he=0;he<ye.length;he++){var Ee=ye[he];Ee._dbInfo.db=null}var dt=new y(function(yt,Ft){var pr=p.deleteDatabase(P.name);pr.onerror=function(){var mr=pr.result;mr&&mr.close(),Ft(pr.error)},pr.onblocked=function(){console.warn('dropInstance blocked for database "'+P.name+'" until all open connections are closed')},pr.onsuccess=function(){var mr=pr.result;mr&&mr.close(),yt(mr)}});return dt.then(function(yt){me.db=yt;for(var Ft=0;Ft<ye.length;Ft++){var pr=ye[Ft];K(pr._dbInfo)}}).catch(function(yt){throw(Ae(P,yt)||y.resolve()).catch(function(){}),yt})})}return v(G,M),G}var Ur={_driver:"asyncStorage",_initStorage:xr,_support:m(),iterate:Xe,getItem:cr,setItem:mi,removeItem:Pr,clear:Oe,length:At,key:xe,keys:qe,dropInstance:jt};function Tt(){return typeof openDatabase=="function"}var Ci="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",qa="~~local_forage_type~",Ba=/^~~local_forage_type~([^~]+)~/,gi="__lfsc__:",Co=gi.length,Wa="arbf",Rm="blob",Ga="si08",Mh="ui08",Ha="uic8",Eo="si16",oc="si32",ac="ur16",lc="ui32",uc="fl32",dc="fl64",cc=Co+Wa.length,pc=Object.prototype.toString;function mc(P){var M=P.length*.75,T=P.length,q,G=0,V,te,pe,me;P[P.length-1]==="="&&(M--,P[P.length-2]==="="&&M--);var ye=new ArrayBuffer(M),he=new Uint8Array(ye);for(q=0;q<T;q+=4)V=Ci.indexOf(P[q]),te=Ci.indexOf(P[q+1]),pe=Ci.indexOf(P[q+2]),me=Ci.indexOf(P[q+3]),he[G++]=V<<2|te>>4,he[G++]=(te&15)<<4|pe>>2,he[G++]=(pe&3)<<6|me&63;return ye}function fu(P){var M=new Uint8Array(P),T="",q;for(q=0;q<M.length;q+=3)T+=Ci[M[q]>>2],T+=Ci[(M[q]&3)<<4|M[q+1]>>4],T+=Ci[(M[q+1]&15)<<2|M[q+2]>>6],T+=Ci[M[q+2]&63];return M.length%3===2?T=T.substring(0,T.length-1)+"=":M.length%3===1&&(T=T.substring(0,T.length-2)+"=="),T}function kA(P,M){var T="";if(P&&(T=pc.call(P)),P&&(T==="[object ArrayBuffer]"||P.buffer&&pc.call(P.buffer)==="[object ArrayBuffer]")){var q,G=gi;P instanceof ArrayBuffer?(q=P,G+=Wa):(q=P.buffer,T==="[object Int8Array]"?G+=Ga:T==="[object Uint8Array]"?G+=Mh:T==="[object Uint8ClampedArray]"?G+=Ha:T==="[object Int16Array]"?G+=Eo:T==="[object Uint16Array]"?G+=ac:T==="[object Int32Array]"?G+=oc:T==="[object Uint32Array]"?G+=lc:T==="[object Float32Array]"?G+=uc:T==="[object Float64Array]"?G+=dc:M(new Error("Failed to get type for BinaryArray"))),M(G+fu(q))}else if(T==="[object Blob]"){var V=new FileReader;V.onload=function(){var te=qa+P.type+"~"+fu(this.result);M(gi+Rm+te)},V.readAsArrayBuffer(P)}else try{M(JSON.stringify(P))}catch(te){console.error("Couldn't convert value into a JSON string: ",P),M(null,te)}}function wA(P){if(P.substring(0,Co)!==gi)return JSON.parse(P);var M=P.substring(cc),T=P.substring(Co,cc),q;if(T===Rm&&Ba.test(M)){var G=M.match(Ba);q=G[1],M=M.substring(G[0].length)}var V=mc(M);switch(T){case Wa:return V;case Rm:return f([V],{type:q});case Ga:return new Int8Array(V);case Mh:return new Uint8Array(V);case Ha:return new Uint8ClampedArray(V);case Eo:return new Int16Array(V);case ac:return new Uint16Array(V);case oc:return new Int32Array(V);case lc:return new Uint32Array(V);case uc:return new Float32Array(V);case dc:return new Float64Array(V);default:throw new Error("Unkown type: "+T)}}var Mm={serialize:kA,deserialize:wA,stringToBuffer:mc,bufferToString:fu};function Um(P,M,T,q){P.executeSql("CREATE TABLE IF NOT EXISTS "+M.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],T,q)}function Uh(P){var M=this,T={db:null};if(P)for(var q in P)T[q]=typeof P[q]!="string"?P[q].toString():P[q];var G=new y(function(V,te){try{T.db=openDatabase(T.name,String(T.version),T.description,T.size)}catch(pe){return te(pe)}T.db.transaction(function(pe){Um(pe,T,function(){M._dbInfo=T,V()},function(me,ye){te(ye)})},te)});return T.serializer=Mm,G}function Us(P,M,T,q,G,V){P.executeSql(T,q,G,function(te,pe){pe.code===pe.SYNTAX_ERR?te.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[M.storeName],function(me,ye){ye.rows.length?V(me,pe):Um(me,M,function(){me.executeSql(T,q,G,V)},V)},V):V(te,pe)},V)}function RA(P,M){var T=this;P=A(P);var q=new y(function(G,V){T.ready().then(function(){var te=T._dbInfo;te.db.transaction(function(pe){Us(pe,te,"SELECT * FROM "+te.storeName+" WHERE key = ? LIMIT 1",[P],function(me,ye){var he=ye.rows.length?ye.rows.item(0).value:null;he&&(he=te.serializer.deserialize(he)),G(he)},function(me,ye){V(ye)})})}).catch(V)});return v(q,M),q}function MA(P,M){var T=this,q=new y(function(G,V){T.ready().then(function(){var te=T._dbInfo;te.db.transaction(function(pe){Us(pe,te,"SELECT * FROM "+te.storeName,[],function(me,ye){for(var he=ye.rows,Ee=he.length,dt=0;dt<Ee;dt++){var yt=he.item(dt),Ft=yt.value;if(Ft&&(Ft=te.serializer.deserialize(Ft)),Ft=P(Ft,yt.key,dt+1),Ft!==void 0){G(Ft);return}}G()},function(me,ye){V(ye)})})}).catch(V)});return v(q,M),q}function Lh(P,M,T,q){var G=this;P=A(P);var V=new y(function(te,pe){G.ready().then(function(){M===void 0&&(M=null);var me=M,ye=G._dbInfo;ye.serializer.serialize(M,function(he,Ee){Ee?pe(Ee):ye.db.transaction(function(dt){Us(dt,ye,"INSERT OR REPLACE INTO "+ye.storeName+" (key, value) VALUES (?, ?)",[P,he],function(){te(me)},function(yt,Ft){pe(Ft)})},function(dt){if(dt.code===dt.QUOTA_ERR){if(q>0){te(Lh.apply(G,[P,me,T,q-1]));return}pe(dt)}})})}).catch(pe)});return v(V,T),V}function Nh(P,M,T){return Lh.apply(this,[P,M,T,1])}function UA(P,M){var T=this;P=A(P);var q=new y(function(G,V){T.ready().then(function(){var te=T._dbInfo;te.db.transaction(function(pe){Us(pe,te,"DELETE FROM "+te.storeName+" WHERE key = ?",[P],function(){G()},function(me,ye){V(ye)})})}).catch(V)});return v(q,M),q}function LA(P){var M=this,T=new y(function(q,G){M.ready().then(function(){var V=M._dbInfo;V.db.transaction(function(te){Us(te,V,"DELETE FROM "+V.storeName,[],function(){q()},function(pe,me){G(me)})})}).catch(G)});return v(T,P),T}function NA(P){var M=this,T=new y(function(q,G){M.ready().then(function(){var V=M._dbInfo;V.db.transaction(function(te){Us(te,V,"SELECT COUNT(key) as c FROM "+V.storeName,[],function(pe,me){var ye=me.rows.item(0).c;q(ye)},function(pe,me){G(me)})})}).catch(G)});return v(T,P),T}function Lm(P,M){var T=this,q=new y(function(G,V){T.ready().then(function(){var te=T._dbInfo;te.db.transaction(function(pe){Us(pe,te,"SELECT key FROM "+te.storeName+" WHERE id = ? LIMIT 1",[P+1],function(me,ye){var he=ye.rows.length?ye.rows.item(0).key:null;G(he)},function(me,ye){V(ye)})})}).catch(V)});return v(q,M),q}function VA(P){var M=this,T=new y(function(q,G){M.ready().then(function(){var V=M._dbInfo;V.db.transaction(function(te){Us(te,V,"SELECT key FROM "+V.storeName,[],function(pe,me){for(var ye=[],he=0;he<me.rows.length;he++)ye.push(me.rows.item(he).key);q(ye)},function(pe,me){G(me)})})}).catch(G)});return v(T,P),T}function Nm(P){return new y(function(M,T){P.transaction(function(q){q.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(G,V){for(var te=[],pe=0;pe<V.rows.length;pe++)te.push(V.rows.item(pe).name);M({db:P,storeNames:te})},function(G,V){T(V)})},function(q){T(q)})})}function qA(P,M){M=k.apply(this,arguments);var T=this.config();P=typeof P!="function"&&P||{},P.name||(P.name=P.name||T.name,P.storeName=P.storeName||T.storeName);var q=this,G;return P.name?G=new y(function(V){var te;P.name===T.name?te=q._dbInfo.db:te=openDatabase(P.name,"","",0),P.storeName?V({db:te,storeNames:[P.storeName]}):V(Nm(te))}).then(function(V){return new y(function(te,pe){V.db.transaction(function(me){function ye(yt){return new y(function(Ft,pr){me.executeSql("DROP TABLE IF EXISTS "+yt,[],function(){Ft()},function(mr,Ei){pr(Ei)})})}for(var he=[],Ee=0,dt=V.storeNames.length;Ee<dt;Ee++)he.push(ye(V.storeNames[Ee]));y.all(he).then(function(){te()}).catch(function(yt){pe(yt)})},function(me){pe(me)})})}):G=y.reject("Invalid arguments"),v(G,M),G}var BA={_driver:"webSQLStorage",_initStorage:Uh,_support:Tt(),iterate:MA,getItem:RA,setItem:Nh,removeItem:UA,clear:LA,length:NA,key:Lm,keys:VA,dropInstance:qA};function WA(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Vh(P,M){var T=P.name+"/";return P.storeName!==M.storeName&&(T+=P.storeName+"/"),T}function GA(){var P="_localforage_support_test";try{return localStorage.setItem(P,!0),localStorage.removeItem(P),!1}catch{return!0}}function HA(){return!GA()||localStorage.length>0}function KA(P){var M=this,T={};if(P)for(var q in P)T[q]=P[q];return T.keyPrefix=Vh(P,M._defaultConfig),HA()?(M._dbInfo=T,T.serializer=Mm,y.resolve()):y.reject()}function $A(P){var M=this,T=M.ready().then(function(){for(var q=M._dbInfo.keyPrefix,G=localStorage.length-1;G>=0;G--){var V=localStorage.key(G);V.indexOf(q)===0&&localStorage.removeItem(V)}});return v(T,P),T}function qh(P,M){var T=this;P=A(P);var q=T.ready().then(function(){var G=T._dbInfo,V=localStorage.getItem(G.keyPrefix+P);return V&&(V=G.serializer.deserialize(V)),V});return v(q,M),q}function zA(P,M){var T=this,q=T.ready().then(function(){for(var G=T._dbInfo,V=G.keyPrefix,te=V.length,pe=localStorage.length,me=1,ye=0;ye<pe;ye++){var he=localStorage.key(ye);if(he.indexOf(V)===0){var Ee=localStorage.getItem(he);if(Ee&&(Ee=G.serializer.deserialize(Ee)),Ee=P(Ee,he.substring(te),me++),Ee!==void 0)return Ee}}});return v(q,M),q}function YA(P,M){var T=this,q=T.ready().then(function(){var G=T._dbInfo,V;try{V=localStorage.key(P)}catch{V=null}return V&&(V=V.substring(G.keyPrefix.length)),V});return v(q,M),q}function QA(P){var M=this,T=M.ready().then(function(){for(var q=M._dbInfo,G=localStorage.length,V=[],te=0;te<G;te++){var pe=localStorage.key(te);pe.indexOf(q.keyPrefix)===0&&V.push(pe.substring(q.keyPrefix.length))}return V});return v(T,P),T}function JA(P){var M=this,T=M.keys().then(function(q){return q.length});return v(T,P),T}function XA(P,M){var T=this;P=A(P);var q=T.ready().then(function(){var G=T._dbInfo;localStorage.removeItem(G.keyPrefix+P)});return v(q,M),q}function ZA(P,M,T){var q=this;P=A(P);var G=q.ready().then(function(){M===void 0&&(M=null);var V=M;return new y(function(te,pe){var me=q._dbInfo;me.serializer.serialize(M,function(ye,he){if(he)pe(he);else try{localStorage.setItem(me.keyPrefix+P,ye),te(V)}catch(Ee){(Ee.name==="QuotaExceededError"||Ee.name==="NS_ERROR_DOM_QUOTA_REACHED")&&pe(Ee),pe(Ee)}})})});return v(G,T),G}function gc(P,M){if(M=k.apply(this,arguments),P=typeof P!="function"&&P||{},!P.name){var T=this.config();P.name=P.name||T.name,P.storeName=P.storeName||T.storeName}var q=this,G;return P.name?G=new y(function(V){P.storeName?V(Vh(P,q._defaultConfig)):V(P.name+"/")}).then(function(V){for(var te=localStorage.length-1;te>=0;te--){var pe=localStorage.key(te);pe.indexOf(V)===0&&localStorage.removeItem(pe)}}):G=y.reject("Invalid arguments"),v(G,M),G}var eF={_driver:"localStorageWrapper",_initStorage:KA,_support:WA(),iterate:zA,getItem:qh,setItem:ZA,removeItem:XA,clear:$A,length:JA,key:YA,keys:QA,dropInstance:gc},fc=function(M,T){return M===T||typeof M=="number"&&typeof T=="number"&&isNaN(M)&&isNaN(T)},tF=function(M,T){for(var q=M.length,G=0;G<q;){if(fc(M[G],T))return!0;G++}return!1},Bh=Array.isArray||function(P){return Object.prototype.toString.call(P)==="[object Array]"},bu={},Vm={},ko={INDEXEDDB:Ur,WEBSQL:BA,LOCALSTORAGE:eF},Wh=[ko.INDEXEDDB._driver,ko.WEBSQL._driver,ko.LOCALSTORAGE._driver],bc=["dropInstance"],qm=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(bc),rF={description:"",driver:Wh.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function iF(P,M){P[M]=function(){var T=arguments;return P.ready().then(function(){return P[M].apply(P,T)})}}function yc(){for(var P=1;P<arguments.length;P++){var M=arguments[P];if(M)for(var T in M)M.hasOwnProperty(T)&&(Bh(M[T])?arguments[0][T]=M[T].slice():arguments[0][T]=M[T])}return arguments[0]}var Gh=function(){function P(M){u(this,P);for(var T in ko)if(ko.hasOwnProperty(T)){var q=ko[T],G=q._driver;this[T]=G,bu[G]||this.defineDriver(q)}this._defaultConfig=yc({},rF),this._config=yc({},this._defaultConfig,M),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return P.prototype.config=function(T){if((typeof T>"u"?"undefined":a(T))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var q in T){if(q==="storeName"&&(T[q]=T[q].replace(/\W/g,"_")),q==="version"&&typeof T[q]!="number")return new Error("Database version must be a number.");this._config[q]=T[q]}return"driver"in T&&T.driver?this.setDriver(this._config.driver):!0}else return typeof T=="string"?this._config[T]:this._config},P.prototype.defineDriver=function(T,q,G){var V=new y(function(te,pe){try{var me=T._driver,ye=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!T._driver){pe(ye);return}for(var he=qm.concat("_initStorage"),Ee=0,dt=he.length;Ee<dt;Ee++){var yt=he[Ee],Ft=!tF(bc,yt);if((Ft||T[yt])&&typeof T[yt]!="function"){pe(ye);return}}var pr=function(){for(var Ka=function(nF){return function(){var $h=new Error("Method "+nF+" is not implemented by the current driver"),zh=y.reject($h);return v(zh,arguments[arguments.length-1]),zh}},hc=0,Kh=bc.length;hc<Kh;hc++){var Bm=bc[hc];T[Bm]||(T[Bm]=Ka(Bm))}};pr();var mr=function(Ka){bu[me]&&console.info("Redefining LocalForage driver: "+me),bu[me]=T,Vm[me]=Ka,te()};"_support"in T?T._support&&typeof T._support=="function"?T._support().then(mr,pe):mr(!!T._support):mr(!0)}catch(Ei){pe(Ei)}});return O(V,q,G),V},P.prototype.driver=function(){return this._driver||null},P.prototype.getDriver=function(T,q,G){var V=bu[T]?y.resolve(bu[T]):y.reject(new Error("Driver not found."));return O(V,q,G),V},P.prototype.getSerializer=function(T){var q=y.resolve(Mm);return O(q,T),q},P.prototype.ready=function(T){var q=this,G=q._driverSet.then(function(){return q._ready===null&&(q._ready=q._initDriver()),q._ready});return O(G,T,T),G},P.prototype.setDriver=function(T,q,G){var V=this;Bh(T)||(T=[T]);var te=this._getSupportedDrivers(T);function pe(){V._config.driver=V.driver()}function me(Ee){return V._extend(Ee),pe(),V._ready=V._initStorage(V._config),V._ready}function ye(Ee){return function(){var dt=0;function yt(){for(;dt<Ee.length;){var Ft=Ee[dt];return dt++,V._dbInfo=null,V._ready=null,V.getDriver(Ft).then(me).catch(yt)}pe();var pr=new Error("No available storage method found.");return V._driverSet=y.reject(pr),V._driverSet}return yt()}}var he=this._driverSet!==null?this._driverSet.catch(function(){return y.resolve()}):y.resolve();return this._driverSet=he.then(function(){var Ee=te[0];return V._dbInfo=null,V._ready=null,V.getDriver(Ee).then(function(dt){V._driver=dt._driver,pe(),V._wrapLibraryMethodsWithReady(),V._initDriver=ye(te)})}).catch(function(){pe();var Ee=new Error("No available storage method found.");return V._driverSet=y.reject(Ee),V._driverSet}),O(this._driverSet,q,G),this._driverSet},P.prototype.supports=function(T){return!!Vm[T]},P.prototype._extend=function(T){yc(this,T)},P.prototype._getSupportedDrivers=function(T){for(var q=[],G=0,V=T.length;G<V;G++){var te=T[G];this.supports(te)&&q.push(te)}return q},P.prototype._wrapLibraryMethodsWithReady=function(){for(var T=0,q=qm.length;T<q;T++)iF(this,qm[T])},P.prototype.createInstance=function(T){return new P(T)},P}(),Hh=new Gh;s.exports=Hh},{3:3}]},{},[4])(4)})});var bue=_(I0=>{Object.defineProperty(I0,"__esModule",{value:!0});var Oo=Pe(),BYe=fue(),iu=Oo.GLOBAL_OBJ,nu=class{static __initStatic(){this.id="Offline"}__init(){this.name=nu.id}constructor(e={}){nu.prototype.__init.call(this),this.maxStoredEvents=e.maxStoredEvents||30,this.offlineEventStore=BYe.default.createInstance({name:"sentry/offlineEventStore"})}setupOnce(e,r){this.hub=r(),"addEventListener"in iu&&iu.addEventListener("online",()=>{this._sendEvents().catch(()=>{(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Oo.logger.warn("could not send cached events")})});let i=s=>this.hub&&this.hub.getIntegration(nu)&&"navigator"in iu&&"onLine"in iu.navigator&&!iu.navigator.onLine?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Oo.logger.log("Event dropped due to being a offline - caching instead"),this._cacheEvent(s).then(o=>this._enforceMaxEvents()).catch(o=>{(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Oo.logger.warn("could not cache event while offline")}),null):s;i.id=this.name,e(i),"navigator"in iu&&"onLine"in iu.navigator&&iu.navigator.onLine&&this._sendEvents().catch(()=>{(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Oo.logger.warn("could not send cached events")})}async _cacheEvent(e){return this.offlineEventStore.setItem(Oo.uuid4(),Oo.normalize(e))}async _enforceMaxEvents(){let e=[];return this.offlineEventStore.iterate((r,i,s)=>{e.push({cacheKey:i,event:r})}).then(()=>this._purgeEvents(e.sort((r,i)=>(i.event.timestamp||0)-(r.event.timestamp||0)).slice(this.maxStoredEvents<e.length?this.maxStoredEvents:e.length).map(r=>r.cacheKey))).catch(r=>{(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Oo.logger.warn("could not enforce max events")})}async _purgeEvent(e){return this.offlineEventStore.removeItem(e)}async _purgeEvents(e){return Promise.all(e.map(r=>this._purgeEvent(r))).then()}async _sendEvents(){return this.offlineEventStore.iterate((e,r,i)=>{this.hub?(this.hub.captureEvent(e),this._purgeEvent(r).catch(s=>{(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Oo.logger.warn("could not purge event from cache")})):(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Oo.logger.warn("no hub found - could not send cached event")})}};nu.__initStatic();I0.Offline=nu});var hue=_(x0=>{Object.defineProperty(x0,"__esModule",{value:!0});var yue=Pe(),WYe=yue.GLOBAL_OBJ,su=class{static __initStatic(){this.id="ReportingObserver"}__init(){this.name=su.id}constructor(e={types:["crash","deprecation","intervention"]}){this._options=e,su.prototype.__init.call(this)}setupOnce(e,r){if(!yue.supportsReportingObserver())return;this._getCurrentHub=r,new WYe.ReportingObserver(this.handler.bind(this),{buffered:!0,types:this._options.types}).observe()}handler(e){let r=this._getCurrentHub&&this._getCurrentHub();if(!(!r||!r.getIntegration(su)))for(let i of e)r.withScope(s=>{s.setExtra("url",i.url);let o=`ReportingObserver [${i.type}]`,a="No details available";if(i.body){let u={};for(let d in i.body)u[d]=i.body[d];if(s.setExtra("body",u),i.type==="crash"){let d=i.body;a=[d.crashId||"",d.reason||""].join(" ").trim()||a}else a=i.body.message||a}r.captureMessage(`${o}: ${a}`)})}};su.__initStatic();x0.ReportingObserver=su});var xue=_(_0=>{Object.defineProperty(_0,"__esModule",{value:!0});var Iue=Pe(),So=class{static __initStatic(){this.id="RewriteFrames"}__init(){this.name=So.id}__init2(){this._prefix="app:///"}constructor(e={}){So.prototype.__init.call(this),So.prototype.__init2.call(this),So.prototype.__init3.call(this),e.root&&(this._root=e.root),e.prefix&&(this._prefix=e.prefix),e.iteratee&&(this._iteratee=e.iteratee)}setupOnce(e,r){e(i=>{let s=r().getIntegration(So);return s?s.process(i):i})}process(e){let r=e;return e.exception&&Array.isArray(e.exception.values)&&(r=this._processExceptionsEvent(r)),r}__init3(){this._iteratee=e=>{if(!e.filename)return e;let r=/^[a-zA-Z]:\\/.test(e.filename)||e.filename.includes("\\")&&!e.filename.includes("/"),i=/^\//.test(e.filename);if(r||i){let s=r?e.filename.replace(/^[a-zA-Z]:/,"").replace(/\\/g,"/"):e.filename,o=this._root?Iue.relative(this._root,s):Iue.basename(s);e.filename=`${this._prefix}${o}`}return e}}_processExceptionsEvent(e){try{return{...e,exception:{...e.exception,values:e.exception.values.map(r=>({...r,...r.stacktrace&&{stacktrace:this._processStacktrace(r.stacktrace)}}))}}}catch{return e}}_processStacktrace(e){return{...e,frames:e&&e.frames&&e.frames.map(r=>this._iteratee(r))}}};So.__initStatic();_0.RewriteFrames=So});var _ue=_(v0=>{Object.defineProperty(v0,"__esModule",{value:!0});var Ra=class{constructor(){Ra.prototype.__init.call(this),Ra.prototype.__init2.call(this)}static __initStatic(){this.id="SessionTiming"}__init(){this.name=Ra.id}__init2(){this._startTime=Date.now()}setupOnce(e,r){e(i=>{let s=r().getIntegration(Ra);return s?s.process(i):i})}process(e){let r=Date.now();return{...e,extra:{...e.extra,["session:start"]:this._startTime,["session:duration"]:r-this._startTime,["session:end"]:r}}}};Ra.__initStatic();v0.SessionTiming=Ra});var vue=_(O0=>{Object.defineProperty(O0,"__esModule",{value:!0});var ou=class{constructor(){ou.prototype.__init.call(this)}static __initStatic(){this.id="Transaction"}__init(){this.name=ou.id}setupOnce(e,r){e(i=>{let s=r().getIntegration(ou);return s?s.process(i):i})}process(e){let r=this._getFramesFromEvent(e);for(let i=r.length-1;i>=0;i--){let s=r[i];if(s.in_app===!0){e.transaction=this._getTransaction(s);break}}return e}_getFramesFromEvent(e){let r=e.exception&&e.exception.values&&e.exception.values[0];return r&&r.stacktrace&&r.stacktrace.frames||[]}_getTransaction(e){return e.module||e.function?`${e.module||"?"}/${e.function||"?"}`:"<unknown>"}};ou.__initStatic();O0.Transaction=ou});var Oue=_(S0=>{Object.defineProperty(S0,"__esModule",{value:!0});var Do=Pe(),Wd=class{static __initStatic(){this.id="HttpClient"}__init(){this.name=Wd.id}constructor(e){Wd.prototype.__init.call(this),this._options={failedRequestStatusCodes:[[500,599]],failedRequestTargets:[/.*/],...e}}setupOnce(e,r){this._getCurrentHub=r,this._wrapFetch(),this._wrapXHR()}_fetchResponseHandler(e,r,i){if(this._getCurrentHub&&this._shouldCaptureResponse(r.status,r.url)){let s=GYe(e,i),o=this._getCurrentHub(),a,u,d,p;o.shouldSendDefaultPii()&&([{headers:a,cookies:d},{headers:u,cookies:p}]=[{cookieHeader:"Cookie",obj:s},{cookieHeader:"Set-Cookie",obj:r}].map(({cookieHeader:f,obj:y})=>{let v=this._extractFetchHeaders(y.headers),O;try{let A=v[f]||v[f.toLowerCase()]||void 0;A&&(O=this._parseCookieString(A))}catch{(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Do.logger.log(`Could not extract cookies from header ${f}`)}return{headers:v,cookies:O}}));let m=this._createEvent({url:s.url,method:s.method,status:r.status,requestHeaders:a,responseHeaders:u,requestCookies:d,responseCookies:p});o.captureEvent(m)}}_xhrResponseHandler(e,r,i){if(this._getCurrentHub&&this._shouldCaptureResponse(e.status,e.responseURL)){let s,o,a,u=this._getCurrentHub();if(u.shouldSendDefaultPii()){try{let p=e.getResponseHeader("Set-Cookie")||e.getResponseHeader("set-cookie")||void 0;p&&(o=this._parseCookieString(p))}catch{(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Do.logger.log("Could not extract cookies from response headers")}try{a=this._getXHRResponseHeaders(e)}catch{(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Do.logger.log("Could not extract headers from response")}s=i}let d=this._createEvent({url:e.responseURL,method:r,status:e.status,requestHeaders:s,responseHeaders:a,responseCookies:o});u.captureEvent(d)}}_getResponseSizeFromHeaders(e){if(e){let r=e["Content-Length"]||e["content-length"];if(r)return parseInt(r,10)}}_parseCookieString(e){return e.split("; ").reduce((r,i)=>{let[s,o]=i.split("=");return r[s]=o,r},{})}_extractFetchHeaders(e){let r={};return e.forEach((i,s)=>{r[s]=i}),r}_getXHRResponseHeaders(e){let r=e.getAllResponseHeaders();return r?r.split(`\r
`).reduce((i,s)=>{let[o,a]=s.split(": ");return i[o]=a,i},{}):{}}_isInGivenRequestTargets(e){return this._options.failedRequestTargets?this._options.failedRequestTargets.some(r=>typeof r=="string"?e.includes(r):r.test(e)):!1}_isInGivenStatusRanges(e){return this._options.failedRequestStatusCodes?this._options.failedRequestStatusCodes.some(r=>typeof r=="number"?r===e:e>=r[0]&&e<=r[1]):!1}_wrapFetch(){Do.supportsNativeFetch()&&Do.addInstrumentationHandler("fetch",e=>{let{response:r,args:i}=e,[s,o]=i;r&&this._fetchResponseHandler(s,r,o)})}_wrapXHR(){"XMLHttpRequest"in Do.GLOBAL_OBJ&&Do.addInstrumentationHandler("xhr",e=>{let{xhr:r}=e,i=r[Do.SENTRY_XHR_DATA_KEY];if(!i)return;let{method:s,request_headers:o}=i;if(s)try{this._xhrResponseHandler(r,s,o)}catch(a){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&Do.logger.warn("Error while extracting response event form XHR response",a)}})}_isSentryRequest(e){let r=this._getCurrentHub&&this._getCurrentHub().getClient();if(!r)return!1;let i=r.getDsn();return i?e.includes(i.host):!1}_shouldCaptureResponse(e,r){return this._isInGivenStatusRanges(e)&&this._isInGivenRequestTargets(r)&&!this._isSentryRequest(r)}_createEvent(e){let r=`HTTP Client Error with status code: ${e.status}`,i={message:r,exception:{values:[{type:"Error",value:r}]},request:{url:e.url,method:e.method,headers:e.requestHeaders,cookies:e.requestCookies},contexts:{response:{status_code:e.status,headers:e.responseHeaders,cookies:e.responseCookies,body_size:this._getResponseSizeFromHeaders(e.responseHeaders)}}};return Do.addExceptionMechanism(i,{type:"http.client"}),i}};Wd.__initStatic();function GYe(t,e){return!e&&t instanceof Request||t instanceof Request&&t.bodyUsed?t:new Request(t,e)}S0.HttpClient=Wd});var Sue=_(us=>{Object.defineProperty(us,"__esModule",{value:!0});var HYe=sue(),KYe=oue(),$Ye=pue(),zYe=mue(),YYe=bue(),QYe=hue(),JYe=xue(),XYe=_ue(),ZYe=vue(),eQe=Oue();us.CaptureConsole=HYe.CaptureConsole;us.Debug=KYe.Debug;us.Dedupe=$Ye.Dedupe;us.ExtraErrorData=zYe.ExtraErrorData;us.Offline=YYe.Offline;us.ReportingObserver=QYe.ReportingObserver;us.RewriteFrames=JYe.RewriteFrames;us.SessionTiming=XYe.SessionTiming;us.Transaction=ZYe.Transaction;us.HttpClient=eQe.HttpClient});var ch=_((ptr,pde)=>{"use strict";var vQe=require("path"),Po="\\\\/",lde=`[^${Po}]`,Ma="\\.",OQe="\\+",SQe="\\?",HD="\\/",DQe="(?=.)",ude="[^/]",z0=`(?:${HD}|$)`,dde=`(?:^|${HD})`,Y0=`${Ma}{1,2}${z0}`,AQe=`(?!${Ma})`,FQe=`(?!${dde}${Y0})`,PQe=`(?!${Ma}{0,1}${z0})`,jQe=`(?!${Y0})`,TQe=`[^.${HD}]`,CQe=`${ude}*?`,cde={DOT_LITERAL:Ma,PLUS_LITERAL:OQe,QMARK_LITERAL:SQe,SLASH_LITERAL:HD,ONE_CHAR:DQe,QMARK:ude,END_ANCHOR:z0,DOTS_SLASH:Y0,NO_DOT:AQe,NO_DOTS:FQe,NO_DOT_SLASH:PQe,NO_DOTS_SLASH:jQe,QMARK_NO_DOT:TQe,STAR:CQe,START_ANCHOR:dde},EQe={...cde,SLASH_LITERAL:`[${Po}]`,QMARK:lde,STAR:`${lde}*?`,DOTS_SLASH:`${Ma}{1,2}(?:[${Po}]|$)`,NO_DOT:`(?!${Ma})`,NO_DOTS:`(?!(?:^|[${Po}])${Ma}{1,2}(?:[${Po}]|$))`,NO_DOT_SLASH:`(?!${Ma}{0,1}(?:[${Po}]|$))`,NO_DOTS_SLASH:`(?!${Ma}{1,2}(?:[${Po}]|$))`,QMARK_NO_DOT:`[^.${Po}]`,START_ANCHOR:`(?:^|[${Po}])`,END_ANCHOR:`(?:[${Po}]|$)`},kQe={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};pde.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:kQe,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:vQe.sep,extglobChars(t){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${t.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(t){return t===!0?EQe:cde}}});var KD=_(pn=>{"use strict";var wQe=require("path"),RQe=process.platform==="win32",{REGEX_BACKSLASH:MQe,REGEX_REMOVE_BACKSLASH:UQe,REGEX_SPECIAL_CHARS:LQe,REGEX_SPECIAL_CHARS_GLOBAL:NQe}=ch();pn.isObject=t=>t!==null&&typeof t=="object"&&!Array.isArray(t);pn.hasRegexChars=t=>LQe.test(t);pn.isRegexChar=t=>t.length===1&&pn.hasRegexChars(t);pn.escapeRegex=t=>t.replace(NQe,"\\$1");pn.toPosixSlashes=t=>t.replace(MQe,"/");pn.removeBackslashes=t=>t.replace(UQe,e=>e==="\\"?"":e);pn.supportsLookbehinds=()=>{let t=process.version.slice(1).split(".").map(Number);return t.length===3&&t[0]>=9||t[0]===8&&t[1]>=10};pn.isWindows=t=>t&&typeof t.windows=="boolean"?t.windows:RQe===!0||wQe.sep==="\\";pn.escapeLast=(t,e,r)=>{let i=t.lastIndexOf(e,r);return i===-1?t:t[i-1]==="\\"?pn.escapeLast(t,e,i-1):`${t.slice(0,i)}\\${t.slice(i)}`};pn.removePrefix=(t,e={})=>{let r=t;return r.startsWith("./")&&(r=r.slice(2),e.prefix="./"),r};pn.wrapOutput=(t,e={},r={})=>{let i=r.contains?"":"^",s=r.contains?"":"$",o=`${i}(?:${t})${s}`;return e.negated===!0&&(o=`(?:^(?!${o}).*$)`),o}});var xde=_((gtr,Ide)=>{"use strict";var mde=KD(),{CHAR_ASTERISK:Q0,CHAR_AT:VQe,CHAR_BACKWARD_SLASH:ph,CHAR_COMMA:qQe,CHAR_DOT:J0,CHAR_EXCLAMATION_MARK:X0,CHAR_FORWARD_SLASH:hde,CHAR_LEFT_CURLY_BRACE:Z0,CHAR_LEFT_PARENTHESES:eN,CHAR_LEFT_SQUARE_BRACKET:BQe,CHAR_PLUS:WQe,CHAR_QUESTION_MARK:gde,CHAR_RIGHT_CURLY_BRACE:GQe,CHAR_RIGHT_PARENTHESES:fde,CHAR_RIGHT_SQUARE_BRACKET:HQe}=ch(),bde=t=>t===hde||t===ph,yde=t=>{t.isPrefix!==!0&&(t.depth=t.isGlobstar?1/0:1)},KQe=(t,e)=>{let r=e||{},i=t.length-1,s=r.parts===!0||r.scanToEnd===!0,o=[],a=[],u=[],d=t,p=-1,m=0,f=0,y=!1,v=!1,O=!1,A=!1,k=!1,U=!1,$=!1,R=!1,z=!1,fe=!1,Q=0,be,ae,re={value:"",depth:0,isGlob:!1},ve=()=>p>=i,K=()=>d.charCodeAt(p+1),Ae=()=>(be=ae,d.charCodeAt(++p));for(;p<i;){ae=Ae();let ce;if(ae===ph){$=re.backslashes=!0,ae=Ae(),ae===Z0&&(U=!0);continue}if(U===!0||ae===Z0){for(Q++;ve()!==!0&&(ae=Ae());){if(ae===ph){$=re.backslashes=!0,Ae();continue}if(ae===Z0){Q++;continue}if(U!==!0&&ae===J0&&(ae=Ae())===J0){if(y=re.isBrace=!0,O=re.isGlob=!0,fe=!0,s===!0)continue;break}if(U!==!0&&ae===qQe){if(y=re.isBrace=!0,O=re.isGlob=!0,fe=!0,s===!0)continue;break}if(ae===GQe&&(Q--,Q===0)){U=!1,y=re.isBrace=!0,fe=!0;break}}if(s===!0)continue;break}if(ae===hde){if(o.push(p),a.push(re),re={value:"",depth:0,isGlob:!1},fe===!0)continue;if(be===J0&&p===m+1){m+=2;continue}f=p+1;continue}if(r.noext!==!0&&(ae===WQe||ae===VQe||ae===Q0||ae===gde||ae===X0)===!0&&K()===eN){if(O=re.isGlob=!0,A=re.isExtglob=!0,fe=!0,ae===X0&&p===m&&(z=!0),s===!0){for(;ve()!==!0&&(ae=Ae());){if(ae===ph){$=re.backslashes=!0,ae=Ae();continue}if(ae===fde){O=re.isGlob=!0,fe=!0;break}}continue}break}if(ae===Q0){if(be===Q0&&(k=re.isGlobstar=!0),O=re.isGlob=!0,fe=!0,s===!0)continue;break}if(ae===gde){if(O=re.isGlob=!0,fe=!0,s===!0)continue;break}if(ae===BQe){for(;ve()!==!0&&(ce=Ae());){if(ce===ph){$=re.backslashes=!0,Ae();continue}if(ce===HQe){v=re.isBracket=!0,O=re.isGlob=!0,fe=!0;break}}if(s===!0)continue;break}if(r.nonegate!==!0&&ae===X0&&p===m){R=re.negated=!0,m++;continue}if(r.noparen!==!0&&ae===eN){if(O=re.isGlob=!0,s===!0){for(;ve()!==!0&&(ae=Ae());){if(ae===eN){$=re.backslashes=!0,ae=Ae();continue}if(ae===fde){fe=!0;break}}continue}break}if(O===!0){if(fe=!0,s===!0)continue;break}}r.noext===!0&&(A=!1,O=!1);let Ce=d,Ue="",C="";m>0&&(Ue=d.slice(0,m),d=d.slice(m),f-=m),Ce&&O===!0&&f>0?(Ce=d.slice(0,f),C=d.slice(f)):O===!0?(Ce="",C=d):Ce=d,Ce&&Ce!==""&&Ce!=="/"&&Ce!==d&&bde(Ce.charCodeAt(Ce.length-1))&&(Ce=Ce.slice(0,-1)),r.unescape===!0&&(C&&(C=mde.removeBackslashes(C)),Ce&&$===!0&&(Ce=mde.removeBackslashes(Ce)));let N={prefix:Ue,input:t,start:m,base:Ce,glob:C,isBrace:y,isBracket:v,isGlob:O,isExtglob:A,isGlobstar:k,negated:R,negatedExtglob:z};if(r.tokens===!0&&(N.maxDepth=0,bde(ae)||a.push(re),N.tokens=a),r.parts===!0||r.tokens===!0){let ce;for(let se=0;se<o.length;se++){let De=ce?ce+1:m,Re=o[se],Ot=t.slice(De,Re);r.tokens&&(se===0&&m!==0?(a[se].isPrefix=!0,a[se].value=Ue):a[se].value=Ot,yde(a[se]),N.maxDepth+=a[se].depth),(se!==0||Ot!=="")&&u.push(Ot),ce=Re}if(ce&&ce+1<t.length){let se=t.slice(ce+1);u.push(se),r.tokens&&(a[a.length-1].value=se,yde(a[a.length-1]),N.maxDepth+=a[a.length-1].depth)}N.slashes=o,N.parts=u}return N};Ide.exports=KQe});var Ode=_((ftr,vde)=>{"use strict";var $D=ch(),Mn=KD(),{MAX_LENGTH:zD,POSIX_REGEX_SOURCE:$Qe,REGEX_NON_SPECIAL_CHARS:zQe,REGEX_SPECIAL_CHARS_BACKREF:YQe,REPLACEMENTS:_de}=$D,QQe=(t,e)=>{if(typeof e.expandRange=="function")return e.expandRange(...t,e);t.sort();let r=`[${t.join("-")}]`;try{new RegExp(r)}catch{return t.map(s=>Mn.escapeRegex(s)).join("..")}return r},xm=(t,e)=>`Missing ${t}: "${e}" - use "\\\\${e}" to match literal characters`,tN=(t,e)=>{if(typeof t!="string")throw new TypeError("Expected a string");t=_de[t]||t;let r={...e},i=typeof r.maxLength=="number"?Math.min(zD,r.maxLength):zD,s=t.length;if(s>i)throw new SyntaxError(`Input length: ${s}, exceeds maximum allowed length: ${i}`);let o={type:"bos",value:"",output:r.prepend||""},a=[o],u=r.capture?"":"?:",d=Mn.isWindows(e),p=$D.globChars(d),m=$D.extglobChars(p),{DOT_LITERAL:f,PLUS_LITERAL:y,SLASH_LITERAL:v,ONE_CHAR:O,DOTS_SLASH:A,NO_DOT:k,NO_DOT_SLASH:U,NO_DOTS_SLASH:$,QMARK:R,QMARK_NO_DOT:z,STAR:fe,START_ANCHOR:Q}=p,be=Oe=>`(${u}(?:(?!${Q}${Oe.dot?A:f}).)*?)`,ae=r.dot?"":k,re=r.dot?R:z,ve=r.bash===!0?be(r):fe;r.capture&&(ve=`(${ve})`),typeof r.noext=="boolean"&&(r.noextglob=r.noext);let K={input:t,index:-1,start:0,dot:r.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:a};t=Mn.removePrefix(t,K),s=t.length;let Ae=[],Ce=[],Ue=[],C=o,N,ce=()=>K.index===s-1,se=K.peek=(Oe=1)=>t[K.index+Oe],De=K.advance=()=>t[++K.index]||"",Re=()=>t.slice(K.index+1),Ot=(Oe="",At=0)=>{K.consumed+=Oe,K.index+=At},Yt=Oe=>{K.output+=Oe.output!=null?Oe.output:Oe.value,Ot(Oe.value)},Ti=()=>{let Oe=1;for(;se()==="!"&&(se(2)!=="("||se(3)==="?");)De(),K.start++,Oe++;return Oe%2===0?!1:(K.negated=!0,K.start++,!0)},xr=Oe=>{K[Oe]++,Ue.push(Oe)},cr=Oe=>{K[Oe]--,Ue.pop()},Xe=Oe=>{if(C.type==="globstar"){let At=K.braces>0&&(Oe.type==="comma"||Oe.type==="brace"),xe=Oe.extglob===!0||Ae.length&&(Oe.type==="pipe"||Oe.type==="paren");Oe.type!=="slash"&&Oe.type!=="paren"&&!At&&!xe&&(K.output=K.output.slice(0,-C.output.length),C.type="star",C.value="*",C.output=ve,K.output+=C.output)}if(Ae.length&&Oe.type!=="paren"&&(Ae[Ae.length-1].inner+=Oe.value),(Oe.value||Oe.output)&&Yt(Oe),C&&C.type==="text"&&Oe.type==="text"){C.value+=Oe.value,C.output=(C.output||"")+Oe.value;return}Oe.prev=C,a.push(Oe),C=Oe},mi=(Oe,At)=>{let xe={...m[At],conditions:1,inner:""};xe.prev=C,xe.parens=K.parens,xe.output=K.output;let qe=(r.capture?"(":"")+xe.open;xr("parens"),Xe({type:Oe,value:At,output:K.output?"":O}),Xe({type:"paren",extglob:!0,value:De(),output:qe}),Ae.push(xe)},Pr=Oe=>{let At=Oe.close+(r.capture?")":""),xe;if(Oe.type==="negate"){let qe=ve;if(Oe.inner&&Oe.inner.length>1&&Oe.inner.includes("/")&&(qe=be(r)),(qe!==ve||ce()||/^\)+$/.test(Re()))&&(At=Oe.close=`)$))${qe}`),Oe.inner.includes("*")&&(xe=Re())&&/^\.[^\\/.]+$/.test(xe)){let jt=tN(xe,{...e,fastpaths:!1}).output;At=Oe.close=`)${jt})${qe})`}Oe.prev.type==="bos"&&(K.negatedExtglob=!0)}Xe({type:"paren",extglob:!0,value:N,output:At}),cr("parens")};if(r.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(t)){let Oe=!1,At=t.replace(YQe,(xe,qe,jt,Ur,Tt,Ci)=>Ur==="\\"?(Oe=!0,xe):Ur==="?"?qe?qe+Ur+(Tt?R.repeat(Tt.length):""):Ci===0?re+(Tt?R.repeat(Tt.length):""):R.repeat(jt.length):Ur==="."?f.repeat(jt.length):Ur==="*"?qe?qe+Ur+(Tt?ve:""):ve:qe?xe:`\\${xe}`);return Oe===!0&&(r.unescape===!0?At=At.replace(/\\/g,""):At=At.replace(/\\+/g,xe=>xe.length%2===0?"\\\\":xe?"\\":"")),At===t&&r.contains===!0?(K.output=t,K):(K.output=Mn.wrapOutput(At,K,e),K)}for(;!ce();){if(N=De(),N==="\0")continue;if(N==="\\"){let xe=se();if(xe==="/"&&r.bash!==!0||xe==="."||xe===";")continue;if(!xe){N+="\\",Xe({type:"text",value:N});continue}let qe=/^\\+/.exec(Re()),jt=0;if(qe&&qe[0].length>2&&(jt=qe[0].length,K.index+=jt,jt%2!==0&&(N+="\\")),r.unescape===!0?N=De():N+=De(),K.brackets===0){Xe({type:"text",value:N});continue}}if(K.brackets>0&&(N!=="]"||C.value==="["||C.value==="[^")){if(r.posix!==!1&&N===":"){let xe=C.value.slice(1);if(xe.includes("[")&&(C.posix=!0,xe.includes(":"))){let qe=C.value.lastIndexOf("["),jt=C.value.slice(0,qe),Ur=C.value.slice(qe+2),Tt=$Qe[Ur];if(Tt){C.value=jt+Tt,K.backtrack=!0,De(),!o.output&&a.indexOf(C)===1&&(o.output=O);continue}}}(N==="["&&se()!==":"||N==="-"&&se()==="]")&&(N=`\\${N}`),N==="]"&&(C.value==="["||C.value==="[^")&&(N=`\\${N}`),r.posix===!0&&N==="!"&&C.value==="["&&(N="^"),C.value+=N,Yt({value:N});continue}if(K.quotes===1&&N!=='"'){N=Mn.escapeRegex(N),C.value+=N,Yt({value:N});continue}if(N==='"'){K.quotes=K.quotes===1?0:1,r.keepQuotes===!0&&Xe({type:"text",value:N});continue}if(N==="("){xr("parens"),Xe({type:"paren",value:N});continue}if(N===")"){if(K.parens===0&&r.strictBrackets===!0)throw new SyntaxError(xm("opening","("));let xe=Ae[Ae.length-1];if(xe&&K.parens===xe.parens+1){Pr(Ae.pop());continue}Xe({type:"paren",value:N,output:K.parens?")":"\\)"}),cr("parens");continue}if(N==="["){if(r.nobracket===!0||!Re().includes("]")){if(r.nobracket!==!0&&r.strictBrackets===!0)throw new SyntaxError(xm("closing","]"));N=`\\${N}`}else xr("brackets");Xe({type:"bracket",value:N});continue}if(N==="]"){if(r.nobracket===!0||C&&C.type==="bracket"&&C.value.length===1){Xe({type:"text",value:N,output:`\\${N}`});continue}if(K.brackets===0){if(r.strictBrackets===!0)throw new SyntaxError(xm("opening","["));Xe({type:"text",value:N,output:`\\${N}`});continue}cr("brackets");let xe=C.value.slice(1);if(C.posix!==!0&&xe[0]==="^"&&!xe.includes("/")&&(N=`/${N}`),C.value+=N,Yt({value:N}),r.literalBrackets===!1||Mn.hasRegexChars(xe))continue;let qe=Mn.escapeRegex(C.value);if(K.output=K.output.slice(0,-C.value.length),r.literalBrackets===!0){K.output+=qe,C.value=qe;continue}C.value=`(${u}${qe}|${C.value})`,K.output+=C.value;continue}if(N==="{"&&r.nobrace!==!0){xr("braces");let xe={type:"brace",value:N,output:"(",outputIndex:K.output.length,tokensIndex:K.tokens.length};Ce.push(xe),Xe(xe);continue}if(N==="}"){let xe=Ce[Ce.length-1];if(r.nobrace===!0||!xe){Xe({type:"text",value:N,output:N});continue}let qe=")";if(xe.dots===!0){let jt=a.slice(),Ur=[];for(let Tt=jt.length-1;Tt>=0&&(a.pop(),jt[Tt].type!=="brace");Tt--)jt[Tt].type!=="dots"&&Ur.unshift(jt[Tt].value);qe=QQe(Ur,r),K.backtrack=!0}if(xe.comma!==!0&&xe.dots!==!0){let jt=K.output.slice(0,xe.outputIndex),Ur=K.tokens.slice(xe.tokensIndex);xe.value=xe.output="\\{",N=qe="\\}",K.output=jt;for(let Tt of Ur)K.output+=Tt.output||Tt.value}Xe({type:"brace",value:N,output:qe}),cr("braces"),Ce.pop();continue}if(N==="|"){Ae.length>0&&Ae[Ae.length-1].conditions++,Xe({type:"text",value:N});continue}if(N===","){let xe=N,qe=Ce[Ce.length-1];qe&&Ue[Ue.length-1]==="braces"&&(qe.comma=!0,xe="|"),Xe({type:"comma",value:N,output:xe});continue}if(N==="/"){if(C.type==="dot"&&K.index===K.start+1){K.start=K.index+1,K.consumed="",K.output="",a.pop(),C=o;continue}Xe({type:"slash",value:N,output:v});continue}if(N==="."){if(K.braces>0&&C.type==="dot"){C.value==="."&&(C.output=f);let xe=Ce[Ce.length-1];C.type="dots",C.output+=N,C.value+=N,xe.dots=!0;continue}if(K.braces+K.parens===0&&C.type!=="bos"&&C.type!=="slash"){Xe({type:"text",value:N,output:f});continue}Xe({type:"dot",value:N,output:f});continue}if(N==="?"){if(!(C&&C.value==="(")&&r.noextglob!==!0&&se()==="("&&se(2)!=="?"){mi("qmark",N);continue}if(C&&C.type==="paren"){let qe=se(),jt=N;if(qe==="<"&&!Mn.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(C.value==="("&&!/[!=<:]/.test(qe)||qe==="<"&&!/<([!=]|\w+>)/.test(Re()))&&(jt=`\\${N}`),Xe({type:"text",value:N,output:jt});continue}if(r.dot!==!0&&(C.type==="slash"||C.type==="bos")){Xe({type:"qmark",value:N,output:z});continue}Xe({type:"qmark",value:N,output:R});continue}if(N==="!"){if(r.noextglob!==!0&&se()==="("&&(se(2)!=="?"||!/[!=<:]/.test(se(3)))){mi("negate",N);continue}if(r.nonegate!==!0&&K.index===0){Ti();continue}}if(N==="+"){if(r.noextglob!==!0&&se()==="("&&se(2)!=="?"){mi("plus",N);continue}if(C&&C.value==="("||r.regex===!1){Xe({type:"plus",value:N,output:y});continue}if(C&&(C.type==="bracket"||C.type==="paren"||C.type==="brace")||K.parens>0){Xe({type:"plus",value:N});continue}Xe({type:"plus",value:y});continue}if(N==="@"){if(r.noextglob!==!0&&se()==="("&&se(2)!=="?"){Xe({type:"at",extglob:!0,value:N,output:""});continue}Xe({type:"text",value:N});continue}if(N!=="*"){(N==="$"||N==="^")&&(N=`\\${N}`);let xe=zQe.exec(Re());xe&&(N+=xe[0],K.index+=xe[0].length),Xe({type:"text",value:N});continue}if(C&&(C.type==="globstar"||C.star===!0)){C.type="star",C.star=!0,C.value+=N,C.output=ve,K.backtrack=!0,K.globstar=!0,Ot(N);continue}let Oe=Re();if(r.noextglob!==!0&&/^\([^?]/.test(Oe)){mi("star",N);continue}if(C.type==="star"){if(r.noglobstar===!0){Ot(N);continue}let xe=C.prev,qe=xe.prev,jt=xe.type==="slash"||xe.type==="bos",Ur=qe&&(qe.type==="star"||qe.type==="globstar");if(r.bash===!0&&(!jt||Oe[0]&&Oe[0]!=="/")){Xe({type:"star",value:N,output:""});continue}let Tt=K.braces>0&&(xe.type==="comma"||xe.type==="brace"),Ci=Ae.length&&(xe.type==="pipe"||xe.type==="paren");if(!jt&&xe.type!=="paren"&&!Tt&&!Ci){Xe({type:"star",value:N,output:""});continue}for(;Oe.slice(0,3)==="/**";){let qa=t[K.index+4];if(qa&&qa!=="/")break;Oe=Oe.slice(3),Ot("/**",3)}if(xe.type==="bos"&&ce()){C.type="globstar",C.value+=N,C.output=be(r),K.output=C.output,K.globstar=!0,Ot(N);continue}if(xe.type==="slash"&&xe.prev.type!=="bos"&&!Ur&&ce()){K.output=K.output.slice(0,-(xe.output+C.output).length),xe.output=`(?:${xe.output}`,C.type="globstar",C.output=be(r)+(r.strictSlashes?")":"|$)"),C.value+=N,K.globstar=!0,K.output+=xe.output+C.output,Ot(N);continue}if(xe.type==="slash"&&xe.prev.type!=="bos"&&Oe[0]==="/"){let qa=Oe[1]!==void 0?"|$":"";K.output=K.output.slice(0,-(xe.output+C.output).length),xe.output=`(?:${xe.output}`,C.type="globstar",C.output=`${be(r)}${v}|${v}${qa})`,C.value+=N,K.output+=xe.output+C.output,K.globstar=!0,Ot(N+De()),Xe({type:"slash",value:"/",output:""});continue}if(xe.type==="bos"&&Oe[0]==="/"){C.type="globstar",C.value+=N,C.output=`(?:^|${v}|${be(r)}${v})`,K.output=C.output,K.globstar=!0,Ot(N+De()),Xe({type:"slash",value:"/",output:""});continue}K.output=K.output.slice(0,-C.output.length),C.type="globstar",C.output=be(r),C.value+=N,K.output+=C.output,K.globstar=!0,Ot(N);continue}let At={type:"star",value:N,output:ve};if(r.bash===!0){At.output=".*?",(C.type==="bos"||C.type==="slash")&&(At.output=ae+At.output),Xe(At);continue}if(C&&(C.type==="bracket"||C.type==="paren")&&r.regex===!0){At.output=N,Xe(At);continue}(K.index===K.start||C.type==="slash"||C.type==="dot")&&(C.type==="dot"?(K.output+=U,C.output+=U):r.dot===!0?(K.output+=$,C.output+=$):(K.output+=ae,C.output+=ae),se()!=="*"&&(K.output+=O,C.output+=O)),Xe(At)}for(;K.brackets>0;){if(r.strictBrackets===!0)throw new SyntaxError(xm("closing","]"));K.output=Mn.escapeLast(K.output,"["),cr("brackets")}for(;K.parens>0;){if(r.strictBrackets===!0)throw new SyntaxError(xm("closing",")"));K.output=Mn.escapeLast(K.output,"("),cr("parens")}for(;K.braces>0;){if(r.strictBrackets===!0)throw new SyntaxError(xm("closing","}"));K.output=Mn.escapeLast(K.output,"{"),cr("braces")}if(r.strictSlashes!==!0&&(C.type==="star"||C.type==="bracket")&&Xe({type:"maybe_slash",value:"",output:`${v}?`}),K.backtrack===!0){K.output="";for(let Oe of K.tokens)K.output+=Oe.output!=null?Oe.output:Oe.value,Oe.suffix&&(K.output+=Oe.suffix)}return K};tN.fastpaths=(t,e)=>{let r={...e},i=typeof r.maxLength=="number"?Math.min(zD,r.maxLength):zD,s=t.length;if(s>i)throw new SyntaxError(`Input length: ${s}, exceeds maximum allowed length: ${i}`);t=_de[t]||t;let o=Mn.isWindows(e),{DOT_LITERAL:a,SLASH_LITERAL:u,ONE_CHAR:d,DOTS_SLASH:p,NO_DOT:m,NO_DOTS:f,NO_DOTS_SLASH:y,STAR:v,START_ANCHOR:O}=$D.globChars(o),A=r.dot?f:m,k=r.dot?y:m,U=r.capture?"":"?:",$={negated:!1,prefix:""},R=r.bash===!0?".*?":v;r.capture&&(R=`(${R})`);let z=ae=>ae.noglobstar===!0?R:`(${U}(?:(?!${O}${ae.dot?p:a}).)*?)`,fe=ae=>{switch(ae){case"*":return`${A}${d}${R}`;case".*":return`${a}${d}${R}`;case"*.*":return`${A}${R}${a}${d}${R}`;case"*/*":return`${A}${R}${u}${d}${k}${R}`;case"**":return A+z(r);case"**/*":return`(?:${A}${z(r)}${u})?${k}${d}${R}`;case"**/*.*":return`(?:${A}${z(r)}${u})?${k}${R}${a}${d}${R}`;case"**/.*":return`(?:${A}${z(r)}${u})?${a}${d}${R}`;default:{let re=/^(.*?)\.(\w+)$/.exec(ae);if(!re)return;let ve=fe(re[1]);return ve?ve+a+re[2]:void 0}}},Q=Mn.removePrefix(t,$),be=fe(Q);return be&&r.strictSlashes!==!0&&(be+=`${u}?`),be};vde.exports=tN});var Dde=_((btr,Sde)=>{"use strict";var JQe=require("path"),XQe=xde(),rN=Ode(),iN=KD(),ZQe=ch(),eJe=t=>t&&typeof t=="object"&&!Array.isArray(t),Er=(t,e,r=!1)=>{if(Array.isArray(t)){let m=t.map(y=>Er(y,e,r));return y=>{for(let v of m){let O=v(y);if(O)return O}return!1}}let i=eJe(t)&&t.tokens&&t.input;if(t===""||typeof t!="string"&&!i)throw new TypeError("Expected pattern to be a non-empty string");let s=e||{},o=iN.isWindows(e),a=i?Er.compileRe(t,e):Er.makeRe(t,e,!1,!0),u=a.state;delete a.state;let d=()=>!1;if(s.ignore){let m={...e,ignore:null,onMatch:null,onResult:null};d=Er(s.ignore,m,r)}let p=(m,f=!1)=>{let{isMatch:y,match:v,output:O}=Er.test(m,a,e,{glob:t,posix:o}),A={glob:t,state:u,regex:a,posix:o,input:m,output:O,match:v,isMatch:y};return typeof s.onResult=="function"&&s.onResult(A),y===!1?(A.isMatch=!1,f?A:!1):d(m)?(typeof s.onIgnore=="function"&&s.onIgnore(A),A.isMatch=!1,f?A:!1):(typeof s.onMatch=="function"&&s.onMatch(A),f?A:!0)};return r&&(p.state=u),p};Er.test=(t,e,r,{glob:i,posix:s}={})=>{if(typeof t!="string")throw new TypeError("Expected input to be a string");if(t==="")return{isMatch:!1,output:""};let o=r||{},a=o.format||(s?iN.toPosixSlashes:null),u=t===i,d=u&&a?a(t):t;return u===!1&&(d=a?a(t):t,u=d===i),(u===!1||o.capture===!0)&&(o.matchBase===!0||o.basename===!0?u=Er.matchBase(t,e,r,s):u=e.exec(d)),{isMatch:Boolean(u),match:u,output:d}};Er.matchBase=(t,e,r,i=iN.isWindows(r))=>(e instanceof RegExp?e:Er.makeRe(e,r)).test(JQe.basename(t));Er.isMatch=(t,e,r)=>Er(e,r)(t);Er.parse=(t,e)=>Array.isArray(t)?t.map(r=>Er.parse(r,e)):rN(t,{...e,fastpaths:!1});Er.scan=(t,e)=>XQe(t,e);Er.compileRe=(t,e,r=!1,i=!1)=>{if(r===!0)return t.output;let s=e||{},o=s.contains?"":"^",a=s.contains?"":"$",u=`${o}(?:${t.output})${a}`;t&&t.negated===!0&&(u=`^(?!${u}).*$`);let d=Er.toRegex(u,e);return i===!0&&(d.state=t),d};Er.makeRe=(t,e={},r=!1,i=!1)=>{if(!t||typeof t!="string")throw new TypeError("Expected a non-empty string");let s={negated:!1,fastpaths:!0};return e.fastpaths!==!1&&(t[0]==="."||t[0]==="*")&&(s.output=rN.fastpaths(t,e)),s.output||(s=rN(t,e)),Er.compileRe(s,e,r,i)};Er.toRegex=(t,e)=>{try{let r=e||{};return new RegExp(t,r.flags||(r.nocase?"i":""))}catch(r){if(e&&e.debug===!0)throw r;return/$^/}};Er.constants=ZQe;Sde.exports=Er});var nN=_((ytr,Ade)=>{"use strict";Ade.exports=Dde()});var wde=_((htr,kde)=>{"use strict";var gh=require("fs"),{Readable:tJe}=require("stream"),mh=require("path"),{promisify:JD}=require("util"),sN=nN(),rJe=JD(gh.readdir),iJe=JD(gh.stat),Fde=JD(gh.lstat),nJe=JD(gh.realpath),sJe="!",Cde="READDIRP_RECURSIVE_ERROR",oJe=new Set(["ENOENT","EPERM","EACCES","ELOOP",Cde]),oN="files",Ede="directories",QD="files_directories",YD="all",Pde=[oN,Ede,QD,YD],aJe=t=>oJe.has(t.code),[jde,lJe]=process.versions.node.split(".").slice(0,2).map(t=>Number.parseInt(t,10)),uJe=process.platform==="win32"&&(jde>10||jde===10&&lJe>=5),Tde=t=>{if(t!==void 0){if(typeof t=="function")return t;if(typeof t=="string"){let e=sN(t.trim());return r=>e(r.basename)}if(Array.isArray(t)){let e=[],r=[];for(let i of t){let s=i.trim();s.charAt(0)===sJe?r.push(sN(s.slice(1))):e.push(sN(s))}return r.length>0?e.length>0?i=>e.some(s=>s(i.basename))&&!r.some(s=>s(i.basename)):i=>!r.some(s=>s(i.basename)):i=>e.some(s=>s(i.basename))}}},_m=class extends tJe{static get defaultOptions(){return{root:".",fileFilter:e=>!0,directoryFilter:e=>!0,type:oN,lstat:!1,depth:2147483648,alwaysStat:!1}}constructor(e={}){super({objectMode:!0,autoDestroy:!0,highWaterMark:e.highWaterMark||4096});let r={..._m.defaultOptions,...e},{root:i,type:s}=r;this._fileFilter=Tde(r.fileFilter),this._directoryFilter=Tde(r.directoryFilter);let o=r.lstat?Fde:iJe;uJe?this._stat=a=>o(a,{bigint:!0}):this._stat=o,this._maxDepth=r.depth,this._wantsDir=[Ede,QD,YD].includes(s),this._wantsFile=[oN,QD,YD].includes(s),this._wantsEverything=s===YD,this._root=mh.resolve(i),this._isDirent="Dirent"in gh&&!r.alwaysStat,this._statsProp=this._isDirent?"dirent":"stats",this._rdOptions={encoding:"utf8",withFileTypes:this._isDirent},this.parents=[this._exploreDir(i,1)],this.reading=!1,this.parent=void 0}async _read(e){if(!this.reading){this.reading=!0;try{for(;!this.destroyed&&e>0;){let{path:r,depth:i,files:s=[]}=this.parent||{};if(s.length>0){let o=s.splice(0,e).map(a=>this._formatEntry(a,r));for(let a of await Promise.all(o)){if(this.destroyed)return;let u=await this._getEntryType(a);u==="directory"&&this._directoryFilter(a)?(i<=this._maxDepth&&this.parents.push(this._exploreDir(a.fullPath,i+1)),this._wantsDir&&(this.push(a),e--)):(u==="file"||this._includeAsFile(a))&&this._fileFilter(a)&&this._wantsFile&&(this.push(a),e--)}}else{let o=this.parents.pop();if(!o){this.push(null);break}if(this.parent=await o,this.destroyed)return}}}catch(r){this.destroy(r)}finally{this.reading=!1}}}async _exploreDir(e,r){let i;try{i=await rJe(e,this._rdOptions)}catch(s){this._onError(s)}return{files:i,depth:r,path:e}}async _formatEntry(e,r){let i;try{let s=this._isDirent?e.name:e,o=mh.resolve(mh.join(r,s));i={path:mh.relative(this._root,o),fullPath:o,basename:s},i[this._statsProp]=this._isDirent?e:await this._stat(o)}catch(s){this._onError(s)}return i}_onError(e){aJe(e)&&!this.destroyed?this.emit("warn",e):this.destroy(e)}async _getEntryType(e){let r=e&&e[this._statsProp];if(r){if(r.isFile())return"file";if(r.isDirectory())return"directory";if(r&&r.isSymbolicLink()){let i=e.fullPath;try{let s=await nJe(i),o=await Fde(s);if(o.isFile())return"file";if(o.isDirectory()){let a=s.length;if(i.startsWith(s)&&i.substr(a,1)===mh.sep){let u=new Error(`Circular symlink detected: "${i}" points to "${s}"`);return u.code=Cde,this._onError(u)}return"directory"}}catch(s){this._onError(s)}}}}_includeAsFile(e){let r=e&&e[this._statsProp];return r&&this._wantsEverything&&!r.isDirectory()}},vm=(t,e={})=>{let r=e.entryType||e.type;if(r==="both"&&(r=QD),r&&(e.type=r),t){if(typeof t!="string")throw new TypeError("readdirp: root argument must be a string. Usage: readdirp(root, options)");if(r&&!Pde.includes(r))throw new Error(`readdirp: Invalid type passed. Use one of ${Pde.join(", ")}`)}else throw new Error("readdirp: root argument is required. Usage: readdirp(root, options)");return e.root=t,new _m(e)},dJe=(t,e={})=>new Promise((r,i)=>{let s=[];vm(t,e).on("data",o=>s.push(o)).on("end",()=>r(s)).on("error",o=>i(o))});vm.promise=dJe;vm.ReaddirpStream=_m;vm.default=vm;kde.exports=vm});var aN=_((Itr,Rde)=>{Rde.exports=function(t,e){if(typeof t!="string")throw new TypeError("expected path to be a string");if(t==="\\"||t==="/")return"/";var r=t.length;if(r<=1)return t;var i="";if(r>4&&t[3]==="\\"){var s=t[2];(s==="?"||s===".")&&t.slice(0,2)==="\\\\"&&(t=t.slice(2),i="//")}var o=t.split(/[/\\]+/);return e!==!1&&o[o.length-1]===""&&o.pop(),i+o.join("/")}});var qde=_((Nde,Vde)=>{"use strict";Object.defineProperty(Nde,"__esModule",{value:!0});var Lde=nN(),cJe=aN(),Mde="!",pJe={returnIndex:!1},mJe=t=>Array.isArray(t)?t:[t],gJe=(t,e)=>{if(typeof t=="function")return t;if(typeof t=="string"){let r=Lde(t,e);return i=>t===i||r(i)}return t instanceof RegExp?r=>t.test(r):r=>!1},Ude=(t,e,r,i)=>{let s=Array.isArray(r),o=s?r[0]:r;if(!s&&typeof o!="string")throw new TypeError("anymatch: second argument must be a string: got "+Object.prototype.toString.call(o));let a=cJe(o,!1);for(let d=0;d<e.length;d++){let p=e[d];if(p(a))return i?-1:!1}let u=s&&[a].concat(r.slice(1));for(let d=0;d<t.length;d++){let p=t[d];if(s?p(...u):p(a))return i?d:!0}return i?-1:!1},lN=(t,e,r=pJe)=>{if(t==null)throw new TypeError("anymatch: specify first argument");let i=typeof r=="boolean"?{returnIndex:r}:r,s=i.returnIndex||!1,o=mJe(t),a=o.filter(d=>typeof d=="string"&&d.charAt(0)===Mde).map(d=>d.slice(1)).map(d=>Lde(d,i)),u=o.filter(d=>typeof d!="string"||typeof d=="string"&&d.charAt(0)!==Mde).map(d=>gJe(d,i));return e==null?(d,p=!1)=>Ude(u,a,d,typeof p=="boolean"?p:!1):Ude(u,a,e,s)};lN.default=lN;Vde.exports=lN});var Wde=_((xtr,Bde)=>{Bde.exports=function(e){if(typeof e!="string"||e==="")return!1;for(var r;r=/(\\).|([@?!+*]\(.*\))/g.exec(e);){if(r[2])return!0;e=e.slice(r.index+r[0].length)}return!1}});var uN=_((_tr,Hde)=>{var fJe=Wde(),Gde={"{":"}","(":")","[":"]"},bJe=function(t){if(t[0]==="!")return!0;for(var e=0,r=-2,i=-2,s=-2,o=-2,a=-2;e<t.length;){if(t[e]==="*"||t[e+1]==="?"&&/[\].+)]/.test(t[e])||i!==-1&&t[e]==="["&&t[e+1]!=="]"&&(i<e&&(i=t.indexOf("]",e)),i>e&&(a===-1||a>i||(a=t.indexOf("\\",e),a===-1||a>i)))||s!==-1&&t[e]==="{"&&t[e+1]!=="}"&&(s=t.indexOf("}",e),s>e&&(a=t.indexOf("\\",e),a===-1||a>s))||o!==-1&&t[e]==="("&&t[e+1]==="?"&&/[:!=]/.test(t[e+2])&&t[e+3]!==")"&&(o=t.indexOf(")",e),o>e&&(a=t.indexOf("\\",e),a===-1||a>o))||r!==-1&&t[e]==="("&&t[e+1]!=="|"&&(r<e&&(r=t.indexOf("|",e)),r!==-1&&t[r+1]!==")"&&(o=t.indexOf(")",r),o>r&&(a=t.indexOf("\\",r),a===-1||a>o))))return!0;if(t[e]==="\\"){var u=t[e+1];e+=2;var d=Gde[u];if(d){var p=t.indexOf(d,e);p!==-1&&(e=p+1)}if(t[e]==="!")return!0}else e++}return!1},yJe=function(t){if(t[0]==="!")return!0;for(var e=0;e<t.length;){if(/[*?{}()[\]]/.test(t[e]))return!0;if(t[e]==="\\"){var r=t[e+1];e+=2;var i=Gde[r];if(i){var s=t.indexOf(i,e);s!==-1&&(e=s+1)}if(t[e]==="!")return!0}else e++}return!1};Hde.exports=function(e,r){if(typeof e!="string"||e==="")return!1;if(fJe(e))return!0;var i=bJe;return r&&r.strict===!1&&(i=yJe),i(e)}});var $de=_((vtr,Kde)=>{"use strict";var hJe=uN(),IJe=require("path").posix.dirname,xJe=require("os").platform()==="win32",dN="/",_Je=/\\/g,vJe=/[\{\[].*[\}\]]$/,OJe=/(^|[^\\])([\{\[]|\([^\)]+$)/,SJe=/\\([\!\*\?\|\[\]\(\)\{\}])/g;Kde.exports=function(e,r){var i=Object.assign({flipBackslashes:!0},r);i.flipBackslashes&&xJe&&e.indexOf(dN)<0&&(e=e.replace(_Je,dN)),vJe.test(e)&&(e+=dN),e+="a";do e=IJe(e);while(hJe(e)||OJe.test(e));return e.replace(SJe,"$1")}});var XD=_(ds=>{"use strict";ds.isInteger=t=>typeof t=="number"?Number.isInteger(t):typeof t=="string"&&t.trim()!==""?Number.isInteger(Number(t)):!1;ds.find=(t,e)=>t.nodes.find(r=>r.type===e);ds.exceedsLimit=(t,e,r=1,i)=>i===!1||!ds.isInteger(t)||!ds.isInteger(e)?!1:(Number(e)-Number(t))/Number(r)>=i;ds.escapeNode=(t,e=0,r)=>{let i=t.nodes[e];i&&(r&&i.type===r||i.type==="open"||i.type==="close")&&i.escaped!==!0&&(i.value="\\"+i.value,i.escaped=!0)};ds.encloseBrace=t=>t.type!=="brace"||t.commas>>0+t.ranges>>0?!1:(t.invalid=!0,!0);ds.isInvalidBrace=t=>t.type!=="brace"?!1:t.invalid===!0||t.dollar?!0:!(t.commas>>0+t.ranges>>0)||t.open!==!0||t.close!==!0?(t.invalid=!0,!0):!1;ds.isOpenOrClose=t=>t.type==="open"||t.type==="close"?!0:t.open===!0||t.close===!0;ds.reduce=t=>t.reduce((e,r)=>(r.type==="text"&&e.push(r.value),r.type==="range"&&(r.type="text"),e),[]);ds.flatten=(...t)=>{let e=[],r=i=>{for(let s=0;s<i.length;s++){let o=i[s];Array.isArray(o)?r(o,e):o!==void 0&&e.push(o)}return e};return r(t),e}});var ZD=_((Str,Yde)=>{"use strict";var zde=XD();Yde.exports=(t,e={})=>{let r=(i,s={})=>{let o=e.escapeInvalid&&zde.isInvalidBrace(s),a=i.invalid===!0&&e.escapeInvalid===!0,u="";if(i.value)return(o||a)&&zde.isOpenOrClose(i)?"\\"+i.value:i.value;if(i.value)return i.value;if(i.nodes)for(let d of i.nodes)u+=r(d);return u};return r(t)}});var Jde=_((Dtr,Qde)=>{"use strict";Qde.exports=function(t){return typeof t=="number"?t-t===0:typeof t=="string"&&t.trim()!==""?Number.isFinite?Number.isFinite(+t):isFinite(+t):!1}});var oce=_((Atr,sce)=>{"use strict";var Xde=Jde(),Yd=(t,e,r)=>{if(Xde(t)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(e===void 0||t===e)return String(t);if(Xde(e)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let i={relaxZeros:!0,...r};typeof i.strictZeros=="boolean"&&(i.relaxZeros=i.strictZeros===!1);let s=String(i.relaxZeros),o=String(i.shorthand),a=String(i.capture),u=String(i.wrap),d=t+":"+e+"="+s+o+a+u;if(Yd.cache.hasOwnProperty(d))return Yd.cache[d].result;let p=Math.min(t,e),m=Math.max(t,e);if(Math.abs(p-m)===1){let A=t+"|"+e;return i.capture?`(${A})`:i.wrap===!1?A:`(?:${A})`}let f=nce(t)||nce(e),y={min:t,max:e,a:p,b:m},v=[],O=[];if(f&&(y.isPadded=f,y.maxLen=String(y.max).length),p<0){let A=m<0?Math.abs(m):1;O=Zde(A,Math.abs(p),y,i),p=y.a=0}return m>=0&&(v=Zde(p,m,y,i)),y.negatives=O,y.positives=v,y.result=DJe(O,v,i),i.capture===!0?y.result=`(${y.result})`:i.wrap!==!1&&v.length+O.length>1&&(y.result=`(?:${y.result})`),Yd.cache[d]=y,y.result};function DJe(t,e,r){let i=cN(t,e,"-",!1,r)||[],s=cN(e,t,"",!1,r)||[],o=cN(t,e,"-?",!0,r)||[];return i.concat(o).concat(s).join("|")}function AJe(t,e){let r=1,i=1,s=tce(t,r),o=new Set([e]);for(;t<=s&&s<=e;)o.add(s),r+=1,s=tce(t,r);for(s=rce(e+1,i)-1;t<s&&s<=e;)o.add(s),i+=1,s=rce(e+1,i)-1;return o=[...o],o.sort(jJe),o}function FJe(t,e,r){if(t===e)return{pattern:t,count:[],digits:0};let i=PJe(t,e),s=i.length,o="",a=0;for(let u=0;u<s;u++){let[d,p]=i[u];d===p?o+=d:d!=="0"||p!=="9"?o+=TJe(d,p,r):a++}return a&&(o+=r.shorthand===!0?"\\d":"[0-9]"),{pattern:o,count:[a],digits:s}}function Zde(t,e,r,i){let s=AJe(t,e),o=[],a=t,u;for(let d=0;d<s.length;d++){let p=s[d],m=FJe(String(a),String(p),i),f="";if(!r.isPadded&&u&&u.pattern===m.pattern){u.count.length>1&&u.count.pop(),u.count.push(m.count[0]),u.string=u.pattern+ice(u.count),a=p+1;continue}r.isPadded&&(f=CJe(p,r,i)),m.string=f+m.pattern+ice(m.count),o.push(m),a=p+1,u=m}return o}function cN(t,e,r,i,s){let o=[];for(let a of t){let{string:u}=a;!i&&!ece(e,"string",u)&&o.push(r+u),i&&ece(e,"string",u)&&o.push(r+u)}return o}function PJe(t,e){let r=[];for(let i=0;i<t.length;i++)r.push([t[i],e[i]]);return r}function jJe(t,e){return t>e?1:e>t?-1:0}function ece(t,e,r){return t.some(i=>i[e]===r)}function tce(t,e){return Number(String(t).slice(0,-e)+"9".repeat(e))}function rce(t,e){return t-t%Math.pow(10,e)}function ice(t){let[e=0,r=""]=t;return r||e>1?`{${e+(r?","+r:"")}}`:""}function TJe(t,e,r){return`[${t}${e-t===1?"":"-"}${e}]`}function nce(t){return/^-?(0+)\d/.test(t)}function CJe(t,e,r){if(!e.isPadded)return t;let i=Math.abs(e.maxLen-String(t).length),s=r.relaxZeros!==!1;switch(i){case 0:return"";case 1:return s?"0?":"0";case 2:return s?"0{0,2}":"00";default:return s?`0{0,${i}}`:`0{${i}}`}}Yd.cache={};Yd.clearCache=()=>Yd.cache={};sce.exports=Yd});var gN=_((Ftr,gce)=>{"use strict";var EJe=require("util"),uce=oce(),ace=t=>t!==null&&typeof t=="object"&&!Array.isArray(t),kJe=t=>e=>t===!0?Number(e):String(e),pN=t=>typeof t=="number"||typeof t=="string"&&t!=="",fh=t=>Number.isInteger(+t),mN=t=>{let e=`${t}`,r=-1;if(e[0]==="-"&&(e=e.slice(1)),e==="0")return!1;for(;e[++r]==="0";);return r>0},wJe=(t,e,r)=>typeof t=="string"||typeof e=="string"?!0:r.stringify===!0,RJe=(t,e,r)=>{if(e>0){let i=t[0]==="-"?"-":"";i&&(t=t.slice(1)),t=i+t.padStart(i?e-1:e,"0")}return r===!1?String(t):t},lce=(t,e)=>{let r=t[0]==="-"?"-":"";for(r&&(t=t.slice(1),e--);t.length<e;)t="0"+t;return r?"-"+t:t},MJe=(t,e)=>{t.negatives.sort((a,u)=>a<u?-1:a>u?1:0),t.positives.sort((a,u)=>a<u?-1:a>u?1:0);let r=e.capture?"":"?:",i="",s="",o;return t.positives.length&&(i=t.positives.join("|")),t.negatives.length&&(s=`-(${r}${t.negatives.join("|")})`),i&&s?o=`${i}|${s}`:o=i||s,e.wrap?`(${r}${o})`:o},dce=(t,e,r,i)=>{if(r)return uce(t,e,{wrap:!1,...i});let s=String.fromCharCode(t);if(t===e)return s;let o=String.fromCharCode(e);return`[${s}-${o}]`},cce=(t,e,r)=>{if(Array.isArray(t)){let i=r.wrap===!0,s=r.capture?"":"?:";return i?`(${s}${t.join("|")})`:t.join("|")}return uce(t,e,r)},pce=(...t)=>new RangeError("Invalid range arguments: "+EJe.inspect(...t)),mce=(t,e,r)=>{if(r.strictRanges===!0)throw pce([t,e]);return[]},UJe=(t,e)=>{if(e.strictRanges===!0)throw new TypeError(`Expected step "${t}" to be a number`);return[]},LJe=(t,e,r=1,i={})=>{let s=Number(t),o=Number(e);if(!Number.isInteger(s)||!Number.isInteger(o)){if(i.strictRanges===!0)throw pce([t,e]);return[]}s===0&&(s=0),o===0&&(o=0);let a=s>o,u=String(t),d=String(e),p=String(r);r=Math.max(Math.abs(r),1);let m=mN(u)||mN(d)||mN(p),f=m?Math.max(u.length,d.length,p.length):0,y=m===!1&&wJe(t,e,i)===!1,v=i.transform||kJe(y);if(i.toRegex&&r===1)return dce(lce(t,f),lce(e,f),!0,i);let O={negatives:[],positives:[]},A=$=>O[$<0?"negatives":"positives"].push(Math.abs($)),k=[],U=0;for(;a?s>=o:s<=o;)i.toRegex===!0&&r>1?A(s):k.push(RJe(v(s,U),f,y)),s=a?s-r:s+r,U++;return i.toRegex===!0?r>1?MJe(O,i):cce(k,null,{wrap:!1,...i}):k},NJe=(t,e,r=1,i={})=>{if(!fh(t)&&t.length>1||!fh(e)&&e.length>1)return mce(t,e,i);let s=i.transform||(y=>String.fromCharCode(y)),o=`${t}`.charCodeAt(0),a=`${e}`.charCodeAt(0),u=o>a,d=Math.min(o,a),p=Math.max(o,a);if(i.toRegex&&r===1)return dce(d,p,!1,i);let m=[],f=0;for(;u?o>=a:o<=a;)m.push(s(o,f)),o=u?o-r:o+r,f++;return i.toRegex===!0?cce(m,null,{wrap:!1,options:i}):m},eA=(t,e,r,i={})=>{if(e==null&&pN(t))return[t];if(!pN(t)||!pN(e))return mce(t,e,i);if(typeof r=="function")return eA(t,e,1,{transform:r});if(ace(r))return eA(t,e,0,r);let s={...i};return s.capture===!0&&(s.wrap=!0),r=r||s.step||1,fh(r)?fh(t)&&fh(e)?LJe(t,e,r,s):NJe(t,e,Math.max(Math.abs(r),1),s):r!=null&&!ace(r)?UJe(r,s):eA(t,e,1,r)};gce.exports=eA});var yce=_((Ptr,bce)=>{"use strict";var VJe=gN(),fce=XD(),qJe=(t,e={})=>{let r=(i,s={})=>{let o=fce.isInvalidBrace(s),a=i.invalid===!0&&e.escapeInvalid===!0,u=o===!0||a===!0,d=e.escapeInvalid===!0?"\\":"",p="";if(i.isOpen===!0||i.isClose===!0)return d+i.value;if(i.type==="open")return u?d+i.value:"(";if(i.type==="close")return u?d+i.value:")";if(i.type==="comma")return i.prev.type==="comma"?"":u?i.value:"|";if(i.value)return i.value;if(i.nodes&&i.ranges>0){let m=fce.reduce(i.nodes),f=VJe(...m,{...e,wrap:!1,toRegex:!0});if(f.length!==0)return m.length>1&&f.length>1?`(${f})`:f}if(i.nodes)for(let m of i.nodes)p+=r(m,i);return p};return r(t)};bce.exports=qJe});var xce=_((jtr,Ice)=>{"use strict";var BJe=gN(),hce=ZD(),Om=XD(),Qd=(t="",e="",r=!1)=>{let i=[];if(t=[].concat(t),e=[].concat(e),!e.length)return t;if(!t.length)return r?Om.flatten(e).map(s=>`{${s}}`):e;for(let s of t)if(Array.isArray(s))for(let o of s)i.push(Qd(o,e,r));else for(let o of e)r===!0&&typeof o=="string"&&(o=`{${o}}`),i.push(Array.isArray(o)?Qd(s,o,r):s+o);return Om.flatten(i)},WJe=(t,e={})=>{let r=e.rangeLimit===void 0?1e3:e.rangeLimit,i=(s,o={})=>{s.queue=[];let a=o,u=o.queue;for(;a.type!=="brace"&&a.type!=="root"&&a.parent;)a=a.parent,u=a.queue;if(s.invalid||s.dollar){u.push(Qd(u.pop(),hce(s,e)));return}if(s.type==="brace"&&s.invalid!==!0&&s.nodes.length===2){u.push(Qd(u.pop(),["{}"]));return}if(s.nodes&&s.ranges>0){let f=Om.reduce(s.nodes);if(Om.exceedsLimit(...f,e.step,r))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let y=BJe(...f,e);y.length===0&&(y=hce(s,e)),u.push(Qd(u.pop(),y)),s.nodes=[];return}let d=Om.encloseBrace(s),p=s.queue,m=s;for(;m.type!=="brace"&&m.type!=="root"&&m.parent;)m=m.parent,p=m.queue;for(let f=0;f<s.nodes.length;f++){let y=s.nodes[f];if(y.type==="comma"&&s.type==="brace"){f===1&&p.push(""),p.push("");continue}if(y.type==="close"){u.push(Qd(u.pop(),p,d));continue}if(y.value&&y.type!=="open"){p.push(Qd(p.pop(),y.value));continue}y.nodes&&i(y,s)}return p};return Om.flatten(i(t))};Ice.exports=WJe});var vce=_((Ttr,_ce)=>{"use strict";_ce.exports={MAX_LENGTH:1024*64,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:"\xA0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}});var Fce=_((Ctr,Ace)=>{"use strict";var GJe=ZD(),{MAX_LENGTH:Oce,CHAR_BACKSLASH:fN,CHAR_BACKTICK:HJe,CHAR_COMMA:KJe,CHAR_DOT:$Je,CHAR_LEFT_PARENTHESES:zJe,CHAR_RIGHT_PARENTHESES:YJe,CHAR_LEFT_CURLY_BRACE:QJe,CHAR_RIGHT_CURLY_BRACE:JJe,CHAR_LEFT_SQUARE_BRACKET:Sce,CHAR_RIGHT_SQUARE_BRACKET:Dce,CHAR_DOUBLE_QUOTE:XJe,CHAR_SINGLE_QUOTE:ZJe,CHAR_NO_BREAK_SPACE:eXe,CHAR_ZERO_WIDTH_NOBREAK_SPACE:tXe}=vce(),rXe=(t,e={})=>{if(typeof t!="string")throw new TypeError("Expected a string");let r=e||{},i=typeof r.maxLength=="number"?Math.min(Oce,r.maxLength):Oce;if(t.length>i)throw new SyntaxError(`Input length (${t.length}), exceeds max characters (${i})`);let s={type:"root",input:t,nodes:[]},o=[s],a=s,u=s,d=0,p=t.length,m=0,f=0,y,v={},O=()=>t[m++],A=k=>{if(k.type==="text"&&u.type==="dot"&&(u.type="text"),u&&u.type==="text"&&k.type==="text"){u.value+=k.value;return}return a.nodes.push(k),k.parent=a,k.prev=u,u=k,k};for(A({type:"bos"});m<p;)if(a=o[o.length-1],y=O(),!(y===tXe||y===eXe)){if(y===fN){A({type:"text",value:(e.keepEscaping?y:"")+O()});continue}if(y===Dce){A({type:"text",value:"\\"+y});continue}if(y===Sce){d++;let k=!0,U;for(;m<p&&(U=O());){if(y+=U,U===Sce){d++;continue}if(U===fN){y+=O();continue}if(U===Dce&&(d--,d===0))break}A({type:"text",value:y});continue}if(y===zJe){a=A({type:"paren",nodes:[]}),o.push(a),A({type:"text",value:y});continue}if(y===YJe){if(a.type!=="paren"){A({type:"text",value:y});continue}a=o.pop(),A({type:"text",value:y}),a=o[o.length-1];continue}if(y===XJe||y===ZJe||y===HJe){let k=y,U;for(e.keepQuotes!==!0&&(y="");m<p&&(U=O());){if(U===fN){y+=U+O();continue}if(U===k){e.keepQuotes===!0&&(y+=U);break}y+=U}A({type:"text",value:y});continue}if(y===QJe){f++;let U={type:"brace",open:!0,close:!1,dollar:u.value&&u.value.slice(-1)==="$"||a.dollar===!0,depth:f,commas:0,ranges:0,nodes:[]};a=A(U),o.push(a),A({type:"open",value:y});continue}if(y===JJe){if(a.type!=="brace"){A({type:"text",value:y});continue}let k="close";a=o.pop(),a.close=!0,A({type:k,value:y}),f--,a=o[o.length-1];continue}if(y===KJe&&f>0){if(a.ranges>0){a.ranges=0;let k=a.nodes.shift();a.nodes=[k,{type:"text",value:GJe(a)}]}A({type:"comma",value:y}),a.commas++;continue}if(y===$Je&&f>0&&a.commas===0){let k=a.nodes;if(f===0||k.length===0){A({type:"text",value:y});continue}if(u.type==="dot"){if(a.range=[],u.value+=y,u.type="range",a.nodes.length!==3&&a.nodes.length!==5){a.invalid=!0,a.ranges=0,u.type="text";continue}a.ranges++,a.args=[];continue}if(u.type==="range"){k.pop();let U=k[k.length-1];U.value+=u.value+y,u=U,a.ranges--;continue}A({type:"dot",value:y});continue}A({type:"text",value:y})}do if(a=o.pop(),a.type!=="root"){a.nodes.forEach($=>{$.nodes||($.type==="open"&&($.isOpen=!0),$.type==="close"&&($.isClose=!0),$.nodes||($.type="text"),$.invalid=!0)});let k=o[o.length-1],U=k.nodes.indexOf(a);k.nodes.splice(U,1,...a.nodes)}while(o.length>0);return A({type:"eos"}),s};Ace.exports=rXe});var Tce=_((Etr,jce)=>{"use strict";var Pce=ZD(),iXe=yce(),nXe=xce(),sXe=Fce(),Un=(t,e={})=>{let r=[];if(Array.isArray(t))for(let i of t){let s=Un.create(i,e);Array.isArray(s)?r.push(...s):r.push(s)}else r=[].concat(Un.create(t,e));return e&&e.expand===!0&&e.nodupes===!0&&(r=[...new Set(r)]),r};Un.parse=(t,e={})=>sXe(t,e);Un.stringify=(t,e={})=>Pce(typeof t=="string"?Un.parse(t,e):t,e);Un.compile=(t,e={})=>(typeof t=="string"&&(t=Un.parse(t,e)),iXe(t,e));Un.expand=(t,e={})=>{typeof t=="string"&&(t=Un.parse(t,e));let r=nXe(t,e);return e.noempty===!0&&(r=r.filter(Boolean)),e.nodupes===!0&&(r=[...new Set(r)]),r};Un.create=(t,e={})=>t===""||t.length<3?[t]:e.expand!==!0?Un.compile(t,e):Un.expand(t,e);jce.exports=Un});var Cce=_((ktr,oXe)=>{oXe.exports=["3dm","3ds","3g2","3gp","7z","a","aac","adp","ai","aif","aiff","alz","ape","apk","appimage","ar","arj","asf","au","avi","bak","baml","bh","bin","bk","bmp","btif","bz2","bzip2","cab","caf","cgm","class","cmx","cpio","cr2","cur","dat","dcm","deb","dex","djvu","dll","dmg","dng","doc","docm","docx","dot","dotm","dra","DS_Store","dsk","dts","dtshd","dvb","dwg","dxf","ecelp4800","ecelp7470","ecelp9600","egg","eol","eot","epub","exe","f4v","fbs","fh","fla","flac","flatpak","fli","flv","fpx","fst","fvt","g3","gh","gif","graffle","gz","gzip","h261","h263","h264","icns","ico","ief","img","ipa","iso","jar","jpeg","jpg","jpgv","jpm","jxr","key","ktx","lha","lib","lvp","lz","lzh","lzma","lzo","m3u","m4a","m4v","mar","mdi","mht","mid","midi","mj2","mka","mkv","mmr","mng","mobi","mov","movie","mp3","mp4","mp4a","mpeg","mpg","mpga","mxu","nef","npx","numbers","nupkg","o","odp","ods","odt","oga","ogg","ogv","otf","ott","pages","pbm","pcx","pdb","pdf","pea","pgm","pic","png","pnm","pot","potm","potx","ppa","ppam","ppm","pps","ppsm","ppsx","ppt","pptm","pptx","psd","pya","pyc","pyo","pyv","qt","rar","ras","raw","resources","rgb","rip","rlc","rmf","rmvb","rpm","rtf","rz","s3m","s7z","scpt","sgi","shar","snap","sil","sketch","slk","smv","snk","so","stl","suo","sub","swf","tar","tbz","tbz2","tga","tgz","thmx","tif","tiff","tlz","ttc","ttf","txz","udf","uvh","uvi","uvm","uvp","uvs","uvu","viv","vob","war","wav","wax","wbmp","wdp","weba","webm","webp","whl","wim","wm","wma","wmv","wmx","woff","woff2","wrm","wvx","xbm","xif","xla","xlam","xls","xlsb","xlsm","xlsx","xlt","xltm","xltx","xm","xmind","xpi","xpm","xwd","xz","z","zip","zipx"]});var kce=_((wtr,Ece)=>{Ece.exports=Cce()});var Rce=_((Rtr,wce)=>{"use strict";var aXe=require("path"),lXe=kce(),uXe=new Set(lXe);wce.exports=t=>uXe.has(aXe.extname(t).slice(1).toLowerCase())});var tA=_(Le=>{"use strict";var{sep:dXe}=require("path"),{platform:bN}=process,cXe=require("os");Le.EV_ALL="all";Le.EV_READY="ready";Le.EV_ADD="add";Le.EV_CHANGE="change";Le.EV_ADD_DIR="addDir";Le.EV_UNLINK="unlink";Le.EV_UNLINK_DIR="unlinkDir";Le.EV_RAW="raw";Le.EV_ERROR="error";Le.STR_DATA="data";Le.STR_END="end";Le.STR_CLOSE="close";Le.FSEVENT_CREATED="created";Le.FSEVENT_MODIFIED="modified";Le.FSEVENT_DELETED="deleted";Le.FSEVENT_MOVED="moved";Le.FSEVENT_CLONED="cloned";Le.FSEVENT_UNKNOWN="unknown";Le.FSEVENT_TYPE_FILE="file";Le.FSEVENT_TYPE_DIRECTORY="directory";Le.FSEVENT_TYPE_SYMLINK="symlink";Le.KEY_LISTENERS="listeners";Le.KEY_ERR="errHandlers";Le.KEY_RAW="rawEmitters";Le.HANDLER_KEYS=[Le.KEY_LISTENERS,Le.KEY_ERR,Le.KEY_RAW];Le.DOT_SLASH=`.${dXe}`;Le.BACK_SLASH_RE=/\\/g;Le.DOUBLE_SLASH_RE=/\/\//;Le.SLASH_OR_BACK_SLASH_RE=/[/\\]/;Le.DOT_RE=/\..*\.(sw[px])$|~$|\.subl.*\.tmp/;Le.REPLACER_RE=/^\.[/\\]/;Le.SLASH="/";Le.SLASH_SLASH="//";Le.BRACE_START="{";Le.BANG="!";Le.ONE_DOT=".";Le.TWO_DOTS="..";Le.STAR="*";Le.GLOBSTAR="**";Le.ROOT_GLOBSTAR="/**/*";Le.SLASH_GLOBSTAR="/**";Le.DIR_SUFFIX="Dir";Le.ANYMATCH_OPTS={dot:!0};Le.STRING_TYPE="string";Le.FUNCTION_TYPE="function";Le.EMPTY_STR="";Le.EMPTY_FN=()=>{};Le.IDENTITY_FN=t=>t;Le.isWindows=bN==="win32";Le.isMacos=bN==="darwin";Le.isLinux=bN==="linux";Le.isIBMi=cXe.type()==="OS400"});var qce=_((Utr,Vce)=>{"use strict";var Ua=require("fs"),ei=require("path"),{promisify:Ih}=require("util"),pXe=Rce(),{isWindows:mXe,isLinux:gXe,EMPTY_FN:fXe,EMPTY_STR:bXe,KEY_LISTENERS:Sm,KEY_ERR:yN,KEY_RAW:bh,HANDLER_KEYS:yXe,EV_CHANGE:iA,EV_ADD:rA,EV_ADD_DIR:hXe,EV_ERROR:Uce,STR_DATA:IXe,STR_END:xXe,BRACE_START:_Xe,STAR:vXe}=tA(),OXe="watch",SXe=Ih(Ua.open),Lce=Ih(Ua.stat),DXe=Ih(Ua.lstat),AXe=Ih(Ua.close),hN=Ih(Ua.realpath),FXe={lstat:DXe,stat:Lce},xN=(t,e)=>{t instanceof Set?t.forEach(e):e(t)},yh=(t,e,r)=>{let i=t[e];i instanceof Set||(t[e]=i=new Set([i])),i.add(r)},PXe=t=>e=>{let r=t[e];r instanceof Set?r.clear():delete t[e]},hh=(t,e,r)=>{let i=t[e];i instanceof Set?i.delete(r):i===r&&delete t[e]},Nce=t=>t instanceof Set?t.size===0:!t,nA=new Map;function Mce(t,e,r,i,s){let o=(a,u)=>{r(t),s(a,u,{watchedPath:t}),u&&t!==u&&sA(ei.resolve(t,u),Sm,ei.join(t,u))};try{return Ua.watch(t,e,o)}catch(a){i(a)}}var sA=(t,e,r,i,s)=>{let o=nA.get(t);o&&xN(o[e],a=>{a(r,i,s)})},jXe=(t,e,r,i)=>{let{listener:s,errHandler:o,rawEmitter:a}=i,u=nA.get(e),d;if(!r.persistent)return d=Mce(t,r,s,o,a),d.close.bind(d);if(u)yh(u,Sm,s),yh(u,yN,o),yh(u,bh,a);else{if(d=Mce(t,r,sA.bind(null,e,Sm),o,sA.bind(null,e,bh)),!d)return;d.on(Uce,async p=>{let m=sA.bind(null,e,yN);if(u.watcherUnusable=!0,mXe&&p.code==="EPERM")try{let f=await SXe(t,"r");await AXe(f),m(p)}catch{}else m(p)}),u={listeners:s,errHandlers:o,rawEmitters:a,watcher:d},nA.set(e,u)}return()=>{hh(u,Sm,s),hh(u,yN,o),hh(u,bh,a),Nce(u.listeners)&&(u.watcher.close(),nA.delete(e),yXe.forEach(PXe(u)),u.watcher=void 0,Object.freeze(u))}},IN=new Map,TXe=(t,e,r,i)=>{let{listener:s,rawEmitter:o}=i,a=IN.get(e),u=new Set,d=new Set,p=a&&a.options;return p&&(p.persistent<r.persistent||p.interval>r.interval)&&(u=a.listeners,d=a.rawEmitters,Ua.unwatchFile(e),a=void 0),a?(yh(a,Sm,s),yh(a,bh,o)):(a={listeners:s,rawEmitters:o,options:r,watcher:Ua.watchFile(e,r,(m,f)=>{xN(a.rawEmitters,v=>{v(iA,e,{curr:m,prev:f})});let y=m.mtimeMs;(m.size!==f.size||y>f.mtimeMs||y===0)&&xN(a.listeners,v=>v(t,m))})},IN.set(e,a)),()=>{hh(a,Sm,s),hh(a,bh,o),Nce(a.listeners)&&(IN.delete(e),Ua.unwatchFile(e),a.options=a.watcher=void 0,Object.freeze(a))}},_N=class{constructor(e){this.fsw=e,this._boundHandleError=r=>e._handleError(r)}_watchWithNodeFs(e,r){let i=this.fsw.options,s=ei.dirname(e),o=ei.basename(e);this.fsw._getWatchedDir(s).add(o);let u=ei.resolve(e),d={persistent:i.persistent};r||(r=fXe);let p;return i.usePolling?(d.interval=i.enableBinaryInterval&&pXe(o)?i.binaryInterval:i.interval,p=TXe(e,u,d,{listener:r,rawEmitter:this.fsw._emitRaw})):p=jXe(e,u,d,{listener:r,errHandler:this._boundHandleError,rawEmitter:this.fsw._emitRaw}),p}_handleFile(e,r,i){if(this.fsw.closed)return;let s=ei.dirname(e),o=ei.basename(e),a=this.fsw._getWatchedDir(s),u=r;if(a.has(o))return;let d=async(m,f)=>{if(this.fsw._throttle(OXe,e,5)){if(!f||f.mtimeMs===0)try{let y=await Lce(e);if(this.fsw.closed)return;let v=y.atimeMs,O=y.mtimeMs;(!v||v<=O||O!==u.mtimeMs)&&this.fsw._emit(iA,e,y),gXe&&u.ino!==y.ino?(this.fsw._closeFile(m),u=y,this.fsw._addPathCloser(m,this._watchWithNodeFs(e,d))):u=y}catch{this.fsw._remove(s,o)}else if(a.has(o)){let y=f.atimeMs,v=f.mtimeMs;(!y||y<=v||v!==u.mtimeMs)&&this.fsw._emit(iA,e,f),u=f}}},p=this._watchWithNodeFs(e,d);if(!(i&&this.fsw.options.ignoreInitial)&&this.fsw._isntIgnored(e)){if(!this.fsw._throttle(rA,e,0))return;this.fsw._emit(rA,e,r)}return p}async _handleSymlink(e,r,i,s){if(this.fsw.closed)return;let o=e.fullPath,a=this.fsw._getWatchedDir(r);if(!this.fsw.options.followSymlinks){this.fsw._incrReadyCount();let u;try{u=await hN(i)}catch{return this.fsw._emitReady(),!0}return this.fsw.closed?void 0:(a.has(s)?this.fsw._symlinkPaths.get(o)!==u&&(this.fsw._symlinkPaths.set(o,u),this.fsw._emit(iA,i,e.stats)):(a.add(s),this.fsw._symlinkPaths.set(o,u),this.fsw._emit(rA,i,e.stats)),this.fsw._emitReady(),!0)}if(this.fsw._symlinkPaths.has(o))return!0;this.fsw._symlinkPaths.set(o,!0)}_handleRead(e,r,i,s,o,a,u){if(e=ei.join(e,bXe),!i.hasGlob&&(u=this.fsw._throttle("readdir",e,1e3),!u))return;let d=this.fsw._getWatchedDir(i.path),p=new Set,m=this.fsw._readdirp(e,{fileFilter:f=>i.filterPath(f),directoryFilter:f=>i.filterDir(f),depth:0}).on(IXe,async f=>{if(this.fsw.closed){m=void 0;return}let y=f.path,v=ei.join(e,y);if(p.add(y),!(f.stats.isSymbolicLink()&&await this._handleSymlink(f,e,v,y))){if(this.fsw.closed){m=void 0;return}(y===s||!s&&!d.has(y))&&(this.fsw._incrReadyCount(),v=ei.join(o,ei.relative(o,v)),this._addToNodeFs(v,r,i,a+1))}}).on(Uce,this._boundHandleError);return new Promise(f=>m.once(xXe,()=>{if(this.fsw.closed){m=void 0;return}let y=u?u.clear():!1;f(),d.getChildren().filter(v=>v!==e&&!p.has(v)&&(!i.hasGlob||i.filterPath({fullPath:ei.resolve(e,v)}))).forEach(v=>{this.fsw._remove(e,v)}),m=void 0,y&&this._handleRead(e,!1,i,s,o,a,u)}))}async _handleDir(e,r,i,s,o,a,u){let d=this.fsw._getWatchedDir(ei.dirname(e)),p=d.has(ei.basename(e));!(i&&this.fsw.options.ignoreInitial)&&!o&&!p&&(!a.hasGlob||a.globFilter(e))&&this.fsw._emit(hXe,e,r),d.add(ei.basename(e)),this.fsw._getWatchedDir(e);let m,f,y=this.fsw.options.depth;if((y==null||s<=y)&&!this.fsw._symlinkPaths.has(u)){if(!o&&(await this._handleRead(e,i,a,o,e,s,m),this.fsw.closed))return;f=this._watchWithNodeFs(e,(v,O)=>{O&&O.mtimeMs===0||this._handleRead(v,!1,a,o,e,s,m)})}return f}async _addToNodeFs(e,r,i,s,o){let a=this.fsw._emitReady;if(this.fsw._isIgnored(e)||this.fsw.closed)return a(),!1;let u=this.fsw._getWatchHelpers(e,s);!u.hasGlob&&i&&(u.hasGlob=i.hasGlob,u.globFilter=i.globFilter,u.filterPath=d=>i.filterPath(d),u.filterDir=d=>i.filterDir(d));try{let d=await FXe[u.statMethod](u.watchPath);if(this.fsw.closed)return;if(this.fsw._isIgnored(u.watchPath,d))return a(),!1;let p=this.fsw.options.followSymlinks&&!e.includes(vXe)&&!e.includes(_Xe),m;if(d.isDirectory()){let f=ei.resolve(e),y=p?await hN(e):e;if(this.fsw.closed||(m=await this._handleDir(u.watchPath,d,r,s,o,u,y),this.fsw.closed))return;f!==y&&y!==void 0&&this.fsw._symlinkPaths.set(f,y)}else if(d.isSymbolicLink()){let f=p?await hN(e):e;if(this.fsw.closed)return;let y=ei.dirname(u.watchPath);if(this.fsw._getWatchedDir(y).add(u.watchPath),this.fsw._emit(rA,u.watchPath,d),m=await this._handleDir(y,d,r,s,e,u,f),this.fsw.closed)return;f!==void 0&&this.fsw._symlinkPaths.set(ei.resolve(e),f)}else m=this._handleFile(u.watchPath,d,r);return a(),this.fsw._addPathCloser(e,m),!1}catch(d){if(this.fsw._handleError(d))return a(),e}}};Vce.exports=_N});var zce=_((Ltr,jN)=>{"use strict";var FN=require("fs"),ti=require("path"),{promisify:PN}=require("util"),Dm;try{Dm=require("fsevents")}catch(t){process.env.CHOKIDAR_PRINT_FSEVENTS_REQUIRE_ERROR&&console.error(t)}if(Dm){let t=process.version.match(/v(\d+)\.(\d+)/);if(t&&t[1]&&t[2]){let e=Number.parseInt(t[1],10),r=Number.parseInt(t[2],10);e===8&&r<16&&(Dm=void 0)}}var{EV_ADD:vN,EV_CHANGE:CXe,EV_ADD_DIR:Bce,EV_UNLINK:oA,EV_ERROR:EXe,STR_DATA:kXe,STR_END:wXe,FSEVENT_CREATED:RXe,FSEVENT_MODIFIED:MXe,FSEVENT_DELETED:UXe,FSEVENT_MOVED:LXe,FSEVENT_UNKNOWN:NXe,FSEVENT_TYPE_FILE:VXe,FSEVENT_TYPE_DIRECTORY:xh,FSEVENT_TYPE_SYMLINK:$ce,ROOT_GLOBSTAR:Wce,DIR_SUFFIX:qXe,DOT_SLASH:Gce,FUNCTION_TYPE:ON,EMPTY_FN:BXe,IDENTITY_FN:WXe}=tA(),GXe=t=>isNaN(t)?{}:{depth:t},DN=PN(FN.stat),HXe=PN(FN.lstat),Hce=PN(FN.realpath),KXe={stat:DN,lstat:HXe},Jd=new Map,$Xe=10,zXe=new Set([69888,70400,71424,72704,73472,131328,131840,262912]),YXe=(t,e)=>({stop:Dm.watch(t,e)});function QXe(t,e,r,i){let s=ti.extname(e)?ti.dirname(e):e,o=ti.dirname(s),a=Jd.get(s);JXe(o)&&(s=o);let u=ti.resolve(t),d=u!==e,p=(f,y,v)=>{d&&(f=f.replace(e,u)),(f===u||!f.indexOf(u+ti.sep))&&r(f,y,v)},m=!1;for(let f of Jd.keys())if(e.indexOf(ti.resolve(f)+ti.sep)===0){s=f,a=Jd.get(s),m=!0;break}return a||m?a.listeners.add(p):(a={listeners:new Set([p]),rawEmitter:i,watcher:YXe(s,(f,y)=>{if(!a.listeners.size)return;let v=Dm.getInfo(f,y);a.listeners.forEach(O=>{O(f,y,v)}),a.rawEmitter(v.event,f,v)})},Jd.set(s,a)),()=>{let f=a.listeners;if(f.delete(p),!f.size&&(Jd.delete(s),a.watcher))return a.watcher.stop().then(()=>{a.rawEmitter=a.watcher=void 0,Object.freeze(a)})}}var JXe=t=>{let e=0;for(let r of Jd.keys())if(r.indexOf(t)===0&&(e++,e>=$Xe))return!0;return!1},XXe=()=>Dm&&Jd.size<128,SN=(t,e)=>{let r=0;for(;!t.indexOf(e)&&(t=ti.dirname(t))!==e;)r++;return r},Kce=(t,e)=>t.type===xh&&e.isDirectory()||t.type===$ce&&e.isSymbolicLink()||t.type===VXe&&e.isFile(),AN=class{constructor(e){this.fsw=e}checkIgnored(e,r){let i=this.fsw._ignoredPaths;if(this.fsw._isIgnored(e,r))return i.add(e),r&&r.isDirectory()&&i.add(e+Wce),!0;i.delete(e),i.delete(e+Wce)}addOrChange(e,r,i,s,o,a,u,d){let p=o.has(a)?CXe:vN;this.handleEvent(p,e,r,i,s,o,a,u,d)}async checkExists(e,r,i,s,o,a,u,d){try{let p=await DN(e);if(this.fsw.closed)return;Kce(u,p)?this.addOrChange(e,r,i,s,o,a,u,d):this.handleEvent(oA,e,r,i,s,o,a,u,d)}catch(p){p.code==="EACCES"?this.addOrChange(e,r,i,s,o,a,u,d):this.handleEvent(oA,e,r,i,s,o,a,u,d)}}handleEvent(e,r,i,s,o,a,u,d,p){if(!(this.fsw.closed||this.checkIgnored(r)))if(e===oA){let m=d.type===xh;(m||a.has(u))&&this.fsw._remove(o,u,m)}else{if(e===vN){if(d.type===xh&&this.fsw._getWatchedDir(r),d.type===$ce&&p.followSymlinks){let f=p.depth===void 0?void 0:SN(i,s)+1;return this._addToFsEvents(r,!1,!0,f)}this.fsw._getWatchedDir(o).add(u)}let m=d.type===xh?e+qXe:e;this.fsw._emit(m,r),m===Bce&&this._addToFsEvents(r,!1,!0)}}_watchWithFsEvents(e,r,i,s){if(this.fsw.closed||this.fsw._isIgnored(e))return;let o=this.fsw.options,u=QXe(e,r,async(d,p,m)=>{if(this.fsw.closed||o.depth!==void 0&&SN(d,r)>o.depth)return;let f=i(ti.join(e,ti.relative(e,d)));if(s&&!s(f))return;let y=ti.dirname(f),v=ti.basename(f),O=this.fsw._getWatchedDir(m.type===xh?f:y);if(zXe.has(p)||m.event===NXe)if(typeof o.ignored===ON){let A;try{A=await DN(f)}catch{}if(this.fsw.closed||this.checkIgnored(f,A))return;Kce(m,A)?this.addOrChange(f,d,r,y,O,v,m,o):this.handleEvent(oA,f,d,r,y,O,v,m,o)}else this.checkExists(f,d,r,y,O,v,m,o);else switch(m.event){case RXe:case MXe:return this.addOrChange(f,d,r,y,O,v,m,o);case UXe:case LXe:return this.checkExists(f,d,r,y,O,v,m,o)}},this.fsw._emitRaw);return this.fsw._emitReady(),u}async _handleFsEventsSymlink(e,r,i,s){if(!(this.fsw.closed||this.fsw._symlinkPaths.has(r))){this.fsw._symlinkPaths.set(r,!0),this.fsw._incrReadyCount();try{let o=await Hce(e);if(this.fsw.closed)return;if(this.fsw._isIgnored(o))return this.fsw._emitReady();this.fsw._incrReadyCount(),this._addToFsEvents(o||e,a=>{let u=e;return o&&o!==Gce?u=a.replace(o,e):a!==Gce&&(u=ti.join(e,a)),i(u)},!1,s)}catch(o){if(this.fsw._handleError(o))return this.fsw._emitReady()}}}emitAdd(e,r,i,s,o){let a=i(e),u=r.isDirectory(),d=this.fsw._getWatchedDir(ti.dirname(a)),p=ti.basename(a);u&&this.fsw._getWatchedDir(a),!d.has(p)&&(d.add(p),(!s.ignoreInitial||o===!0)&&this.fsw._emit(u?Bce:vN,a,r))}initWatch(e,r,i,s){if(this.fsw.closed)return;let o=this._watchWithFsEvents(i.watchPath,ti.resolve(e||i.watchPath),s,i.globFilter);this.fsw._addPathCloser(r,o)}async _addToFsEvents(e,r,i,s){if(this.fsw.closed)return;let o=this.fsw.options,a=typeof r===ON?r:WXe,u=this.fsw._getWatchHelpers(e);try{let d=await KXe[u.statMethod](u.watchPath);if(this.fsw.closed)return;if(this.fsw._isIgnored(u.watchPath,d))throw null;if(d.isDirectory()){if(u.globFilter||this.emitAdd(a(e),d,a,o,i),s&&s>o.depth)return;this.fsw._readdirp(u.watchPath,{fileFilter:p=>u.filterPath(p),directoryFilter:p=>u.filterDir(p),...GXe(o.depth-(s||0))}).on(kXe,p=>{if(this.fsw.closed||p.stats.isDirectory()&&!u.filterPath(p))return;let m=ti.join(u.watchPath,p.path),{fullPath:f}=p;if(u.followSymlinks&&p.stats.isSymbolicLink()){let y=o.depth===void 0?void 0:SN(m,ti.resolve(u.watchPath))+1;this._handleFsEventsSymlink(m,f,a,y)}else this.emitAdd(m,p.stats,a,o,i)}).on(EXe,BXe).on(wXe,()=>{this.fsw._emitReady()})}else this.emitAdd(u.watchPath,d,a,o,i),this.fsw._emitReady()}catch(d){(!d||this.fsw._handleError(d))&&(this.fsw._emitReady(),this.fsw._emitReady())}if(o.persistent&&i!==!0)if(typeof r===ON)this.initWatch(void 0,e,u,a);else{let d;try{d=await Hce(u.watchPath)}catch{}this.initWatch(d,e,u,a)}}};jN.exports=AN;jN.exports.canUse=XXe});var spe=_(GN=>{"use strict";var{EventEmitter:ZXe}=require("events"),BN=require("fs"),Lt=require("path"),{promisify:tpe}=require("util"),eZe=wde(),RN=qde().default,tZe=$de(),TN=uN(),rZe=Tce(),iZe=aN(),nZe=qce(),Yce=zce(),{EV_ALL:CN,EV_READY:sZe,EV_ADD:aA,EV_CHANGE:_h,EV_UNLINK:Qce,EV_ADD_DIR:oZe,EV_UNLINK_DIR:aZe,EV_RAW:lZe,EV_ERROR:EN,STR_CLOSE:uZe,STR_END:dZe,BACK_SLASH_RE:cZe,DOUBLE_SLASH_RE:Jce,SLASH_OR_BACK_SLASH_RE:pZe,DOT_RE:mZe,REPLACER_RE:gZe,SLASH:kN,SLASH_SLASH:fZe,BRACE_START:bZe,BANG:MN,ONE_DOT:rpe,TWO_DOTS:yZe,GLOBSTAR:hZe,SLASH_GLOBSTAR:wN,ANYMATCH_OPTS:UN,STRING_TYPE:WN,FUNCTION_TYPE:IZe,EMPTY_STR:LN,EMPTY_FN:xZe,isWindows:_Ze,isMacos:vZe,isIBMi:OZe}=tA(),SZe=tpe(BN.stat),DZe=tpe(BN.readdir),NN=(t=[])=>Array.isArray(t)?t:[t],ipe=(t,e=[])=>(t.forEach(r=>{Array.isArray(r)?ipe(r,e):e.push(r)}),e),Xce=t=>{let e=ipe(NN(t));if(!e.every(r=>typeof r===WN))throw new TypeError(`Non-string provided as watch path: ${e}`);return e.map(npe)},Zce=t=>{let e=t.replace(cZe,kN),r=!1;for(e.startsWith(fZe)&&(r=!0);e.match(Jce);)e=e.replace(Jce,kN);return r&&(e=kN+e),e},npe=t=>Zce(Lt.normalize(Zce(t))),epe=(t=LN)=>e=>typeof e!==WN?e:npe(Lt.isAbsolute(e)?e:Lt.join(t,e)),AZe=(t,e)=>Lt.isAbsolute(t)?t:t.startsWith(MN)?MN+Lt.join(e,t.slice(1)):Lt.join(e,t),ks=(t,e)=>t[e]===void 0,VN=class{constructor(e,r){this.path=e,this._removeWatcher=r,this.items=new Set}add(e){let{items:r}=this;r&&e!==rpe&&e!==yZe&&r.add(e)}async remove(e){let{items:r}=this;if(!r||(r.delete(e),r.size>0))return;let i=this.path;try{await DZe(i)}catch{this._removeWatcher&&this._removeWatcher(Lt.dirname(i),Lt.basename(i))}}has(e){let{items:r}=this;if(r)return r.has(e)}getChildren(){let{items:e}=this;if(e)return[...e.values()]}dispose(){this.items.clear(),delete this.path,delete this._removeWatcher,delete this.items,Object.freeze(this)}},FZe="stat",PZe="lstat",qN=class{constructor(e,r,i,s){this.fsw=s,this.path=e=e.replace(gZe,LN),this.watchPath=r,this.fullWatchPath=Lt.resolve(r),this.hasGlob=r!==e,e===LN&&(this.hasGlob=!1),this.globSymlink=this.hasGlob&&i?void 0:!1,this.globFilter=this.hasGlob?RN(e,void 0,UN):!1,this.dirParts=this.getDirParts(e),this.dirParts.forEach(o=>{o.length>1&&o.pop()}),this.followSymlinks=i,this.statMethod=i?FZe:PZe}checkGlobSymlink(e){return this.globSymlink===void 0&&(this.globSymlink=e.fullParentDir===this.fullWatchPath?!1:{realPath:e.fullParentDir,linkPath:this.fullWatchPath}),this.globSymlink?e.fullPath.replace(this.globSymlink.realPath,this.globSymlink.linkPath):e.fullPath}entryPath(e){return Lt.join(this.watchPath,Lt.relative(this.watchPath,this.checkGlobSymlink(e)))}filterPath(e){let{stats:r}=e;if(r&&r.isSymbolicLink())return this.filterDir(e);let i=this.entryPath(e);return(this.hasGlob&&typeof this.globFilter===IZe?this.globFilter(i):!0)&&this.fsw._isntIgnored(i,r)&&this.fsw._hasReadPermissions(r)}getDirParts(e){if(!this.hasGlob)return[];let r=[];return(e.includes(bZe)?rZe.expand(e):[e]).forEach(s=>{r.push(Lt.relative(this.watchPath,s).split(pZe))}),r}filterDir(e){if(this.hasGlob){let r=this.getDirParts(this.checkGlobSymlink(e)),i=!1;this.unmatchedGlob=!this.dirParts.some(s=>s.every((o,a)=>(o===hZe&&(i=!0),i||!r[0][a]||RN(o,r[0][a],UN))))}return!this.unmatchedGlob&&this.fsw._isntIgnored(this.entryPath(e),e.stats)}},lA=class extends ZXe{constructor(e){super();let r={};e&&Object.assign(r,e),this._watched=new Map,this._closers=new Map,this._ignoredPaths=new Set,this._throttled=new Map,this._symlinkPaths=new Map,this._streams=new Set,this.closed=!1,ks(r,"persistent")&&(r.persistent=!0),ks(r,"ignoreInitial")&&(r.ignoreInitial=!1),ks(r,"ignorePermissionErrors")&&(r.ignorePermissionErrors=!1),ks(r,"interval")&&(r.interval=100),ks(r,"binaryInterval")&&(r.binaryInterval=300),ks(r,"disableGlobbing")&&(r.disableGlobbing=!1),r.enableBinaryInterval=r.binaryInterval!==r.interval,ks(r,"useFsEvents")&&(r.useFsEvents=!r.usePolling),Yce.canUse()||(r.useFsEvents=!1),ks(r,"usePolling")&&!r.useFsEvents&&(r.usePolling=vZe),OZe&&(r.usePolling=!0);let s=process.env.CHOKIDAR_USEPOLLING;if(s!==void 0){let d=s.toLowerCase();d==="false"||d==="0"?r.usePolling=!1:d==="true"||d==="1"?r.usePolling=!0:r.usePolling=!!d}let o=process.env.CHOKIDAR_INTERVAL;o&&(r.interval=Number.parseInt(o,10)),ks(r,"atomic")&&(r.atomic=!r.usePolling&&!r.useFsEvents),r.atomic&&(this._pendingUnlinks=new Map),ks(r,"followSymlinks")&&(r.followSymlinks=!0),ks(r,"awaitWriteFinish")&&(r.awaitWriteFinish=!1),r.awaitWriteFinish===!0&&(r.awaitWriteFinish={});let a=r.awaitWriteFinish;a&&(a.stabilityThreshold||(a.stabilityThreshold=2e3),a.pollInterval||(a.pollInterval=100),this._pendingWrites=new Map),r.ignored&&(r.ignored=NN(r.ignored));let u=0;this._emitReady=()=>{u++,u>=this._readyCount&&(this._emitReady=xZe,this._readyEmitted=!0,process.nextTick(()=>this.emit(sZe)))},this._emitRaw=(...d)=>this.emit(lZe,...d),this._readyEmitted=!1,this.options=r,r.useFsEvents?this._fsEventsHandler=new Yce(this):this._nodeFsHandler=new nZe(this),Object.freeze(r)}add(e,r,i){let{cwd:s,disableGlobbing:o}=this.options;this.closed=!1;let a=Xce(e);return s&&(a=a.map(u=>{let d=AZe(u,s);return o||!TN(u)?d:iZe(d)})),a=a.filter(u=>u.startsWith(MN)?(this._ignoredPaths.add(u.slice(1)),!1):(this._ignoredPaths.delete(u),this._ignoredPaths.delete(u+wN),this._userIgnored=void 0,!0)),this.options.useFsEvents&&this._fsEventsHandler?(this._readyCount||(this._readyCount=a.length),this.options.persistent&&(this._readyCount*=2),a.forEach(u=>this._fsEventsHandler._addToFsEvents(u))):(this._readyCount||(this._readyCount=0),this._readyCount+=a.length,Promise.all(a.map(async u=>{let d=await this._nodeFsHandler._addToNodeFs(u,!i,0,0,r);return d&&this._emitReady(),d})).then(u=>{this.closed||u.filter(d=>d).forEach(d=>{this.add(Lt.dirname(d),Lt.basename(r||d))})})),this}unwatch(e){if(this.closed)return this;let r=Xce(e),{cwd:i}=this.options;return r.forEach(s=>{!Lt.isAbsolute(s)&&!this._closers.has(s)&&(i&&(s=Lt.join(i,s)),s=Lt.resolve(s)),this._closePath(s),this._ignoredPaths.add(s),this._watched.has(s)&&this._ignoredPaths.add(s+wN),this._userIgnored=void 0}),this}close(){if(this.closed)return this._closePromise;this.closed=!0,this.removeAllListeners();let e=[];return this._closers.forEach(r=>r.forEach(i=>{let s=i();s instanceof Promise&&e.push(s)})),this._streams.forEach(r=>r.destroy()),this._userIgnored=void 0,this._readyCount=0,this._readyEmitted=!1,this._watched.forEach(r=>r.dispose()),["closers","watched","streams","symlinkPaths","throttled"].forEach(r=>{this[`_${r}`].clear()}),this._closePromise=e.length?Promise.all(e).then(()=>{}):Promise.resolve(),this._closePromise}getWatched(){let e={};return this._watched.forEach((r,i)=>{let s=this.options.cwd?Lt.relative(this.options.cwd,i):i;e[s||rpe]=r.getChildren().sort()}),e}emitWithAll(e,r){this.emit(...r),e!==EN&&this.emit(CN,...r)}async _emit(e,r,i,s,o){if(this.closed)return;let a=this.options;_Ze&&(r=Lt.normalize(r)),a.cwd&&(r=Lt.relative(a.cwd,r));let u=[e,r];o!==void 0?u.push(i,s,o):s!==void 0?u.push(i,s):i!==void 0&&u.push(i);let d=a.awaitWriteFinish,p;if(d&&(p=this._pendingWrites.get(r)))return p.lastChange=new Date,this;if(a.atomic){if(e===Qce)return this._pendingUnlinks.set(r,u),setTimeout(()=>{this._pendingUnlinks.forEach((m,f)=>{this.emit(...m),this.emit(CN,...m),this._pendingUnlinks.delete(f)})},typeof a.atomic=="number"?a.atomic:100),this;e===aA&&this._pendingUnlinks.has(r)&&(e=u[0]=_h,this._pendingUnlinks.delete(r))}if(d&&(e===aA||e===_h)&&this._readyEmitted){let m=(f,y)=>{f?(e=u[0]=EN,u[1]=f,this.emitWithAll(e,u)):y&&(u.length>2?u[2]=y:u.push(y),this.emitWithAll(e,u))};return this._awaitWriteFinish(r,d.stabilityThreshold,e,m),this}if(e===_h&&!this._throttle(_h,r,50))return this;if(a.alwaysStat&&i===void 0&&(e===aA||e===oZe||e===_h)){let m=a.cwd?Lt.join(a.cwd,r):r,f;try{f=await SZe(m)}catch{}if(!f||this.closed)return;u.push(f)}return this.emitWithAll(e,u),this}_handleError(e){let r=e&&e.code;return e&&r!=="ENOENT"&&r!=="ENOTDIR"&&(!this.options.ignorePermissionErrors||r!=="EPERM"&&r!=="EACCES")&&this.emit(EN,e),e||this.closed}_throttle(e,r,i){this._throttled.has(e)||this._throttled.set(e,new Map);let s=this._throttled.get(e),o=s.get(r);if(o)return o.count++,!1;let a,u=()=>{let p=s.get(r),m=p?p.count:0;return s.delete(r),clearTimeout(a),p&&clearTimeout(p.timeoutObject),m};a=setTimeout(u,i);let d={timeoutObject:a,clear:u,count:0};return s.set(r,d),d}_incrReadyCount(){return this._readyCount++}_awaitWriteFinish(e,r,i,s){let o,a=e;this.options.cwd&&!Lt.isAbsolute(e)&&(a=Lt.join(this.options.cwd,e));let u=new Date,d=p=>{BN.stat(a,(m,f)=>{if(m||!this._pendingWrites.has(e)){m&&m.code!=="ENOENT"&&s(m);return}let y=Number(new Date);p&&f.size!==p.size&&(this._pendingWrites.get(e).lastChange=y);let v=this._pendingWrites.get(e);y-v.lastChange>=r?(this._pendingWrites.delete(e),s(void 0,f)):o=setTimeout(d,this.options.awaitWriteFinish.pollInterval,f)})};this._pendingWrites.has(e)||(this._pendingWrites.set(e,{lastChange:u,cancelWait:()=>(this._pendingWrites.delete(e),clearTimeout(o),i)}),o=setTimeout(d,this.options.awaitWriteFinish.pollInterval))}_getGlobIgnored(){return[...this._ignoredPaths.values()]}_isIgnored(e,r){if(this.options.atomic&&mZe.test(e))return!0;if(!this._userIgnored){let{cwd:i}=this.options,s=this.options.ignored,o=s&&s.map(epe(i)),a=NN(o).filter(d=>typeof d===WN&&!TN(d)).map(d=>d+wN),u=this._getGlobIgnored().map(epe(i)).concat(o,a);this._userIgnored=RN(u,void 0,UN)}return this._userIgnored([e,r])}_isntIgnored(e,r){return!this._isIgnored(e,r)}_getWatchHelpers(e,r){let i=r||this.options.disableGlobbing||!TN(e)?e:tZe(e),s=this.options.followSymlinks;return new qN(e,i,s,this)}_getWatchedDir(e){this._boundRemove||(this._boundRemove=this._remove.bind(this));let r=Lt.resolve(e);return this._watched.has(r)||this._watched.set(r,new VN(r,this._boundRemove)),this._watched.get(r)}_hasReadPermissions(e){if(this.options.ignorePermissionErrors)return!0;let i=(e&&Number.parseInt(e.mode,10))&511,s=Number.parseInt(i.toString(8)[0],10);return Boolean(4&s)}_remove(e,r,i){let s=Lt.join(e,r),o=Lt.resolve(s);if(i=i??(this._watched.has(s)||this._watched.has(o)),!this._throttle("remove",s,100))return;!i&&!this.options.useFsEvents&&this._watched.size===1&&this.add(e,r,!0),this._getWatchedDir(s).getChildren().forEach(y=>this._remove(s,y));let d=this._getWatchedDir(e),p=d.has(r);d.remove(r),this._symlinkPaths.has(o)&&this._symlinkPaths.delete(o);let m=s;if(this.options.cwd&&(m=Lt.relative(this.options.cwd,s)),this.options.awaitWriteFinish&&this._pendingWrites.has(m)&&this._pendingWrites.get(m).cancelWait()===aA)return;this._watched.delete(s),this._watched.delete(o);let f=i?aZe:Qce;p&&!this._isIgnored(s)&&this._emit(f,s),this.options.useFsEvents||this._closePath(s)}_closePath(e){this._closeFile(e);let r=Lt.dirname(e);this._getWatchedDir(r).remove(Lt.basename(e))}_closeFile(e){let r=this._closers.get(e);r&&(r.forEach(i=>i()),this._closers.delete(e))}_addPathCloser(e,r){if(!r)return;let i=this._closers.get(e);i||(i=[],this._closers.set(e,i)),i.push(r)}_readdirp(e,r){if(this.closed)return;let i={type:CN,alwaysStat:!0,lstat:!0,...r},s=eZe(e,i);return this._streams.add(s),s.once(uZe,()=>{s=void 0}),s.once(dZe,()=>{s&&(this._streams.delete(s),s=void 0)}),s}};GN.FSWatcher=lA;var jZe=(t,e)=>{let r=new lA(e);return r.add(t),r};GN.watch=jZe});var mn=_(HN=>{"use strict";HN.fromCallback=function(t){return Object.defineProperty(function(...e){if(typeof e[e.length-1]=="function")t.apply(this,e);else return new Promise((r,i)=>{t.call(this,...e,(s,o)=>s!=null?i(s):r(o))})},"name",{value:t.name})};HN.fromPromise=function(t){return Object.defineProperty(function(...e){let r=e[e.length-1];if(typeof r!="function")return t.apply(this,e);t.apply(this,e.slice(0,-1)).then(i=>r(null,i),r)},"name",{value:t.name})}});var ape=_((qtr,ope)=>{var lu=require("constants"),TZe=process.cwd,uA=null,CZe=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return uA||(uA=TZe.call(process)),uA};try{process.cwd()}catch{}typeof process.chdir=="function"&&(KN=process.chdir,process.chdir=function(t){uA=null,KN.call(process,t)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,KN));var KN;ope.exports=EZe;function EZe(t){lu.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&e(t),t.lutimes||r(t),t.chown=o(t.chown),t.fchown=o(t.fchown),t.lchown=o(t.lchown),t.chmod=i(t.chmod),t.fchmod=i(t.fchmod),t.lchmod=i(t.lchmod),t.chownSync=a(t.chownSync),t.fchownSync=a(t.fchownSync),t.lchownSync=a(t.lchownSync),t.chmodSync=s(t.chmodSync),t.fchmodSync=s(t.fchmodSync),t.lchmodSync=s(t.lchmodSync),t.stat=u(t.stat),t.fstat=u(t.fstat),t.lstat=u(t.lstat),t.statSync=d(t.statSync),t.fstatSync=d(t.fstatSync),t.lstatSync=d(t.lstatSync),t.chmod&&!t.lchmod&&(t.lchmod=function(m,f,y){y&&process.nextTick(y)},t.lchmodSync=function(){}),t.chown&&!t.lchown&&(t.lchown=function(m,f,y,v){v&&process.nextTick(v)},t.lchownSync=function(){}),CZe==="win32"&&(t.rename=typeof t.rename!="function"?t.rename:function(m){function f(y,v,O){var A=Date.now(),k=0;m(y,v,function U($){if($&&($.code==="EACCES"||$.code==="EPERM"||$.code==="EBUSY")&&Date.now()-A<6e4){setTimeout(function(){t.stat(v,function(R,z){R&&R.code==="ENOENT"?m(y,v,U):O($)})},k),k<100&&(k+=10);return}O&&O($)})}return Object.setPrototypeOf&&Object.setPrototypeOf(f,m),f}(t.rename)),t.read=typeof t.read!="function"?t.read:function(m){function f(y,v,O,A,k,U){var $;if(U&&typeof U=="function"){var R=0;$=function(z,fe,Q){if(z&&z.code==="EAGAIN"&&R<10)return R++,m.call(t,y,v,O,A,k,$);U.apply(this,arguments)}}return m.call(t,y,v,O,A,k,$)}return Object.setPrototypeOf&&Object.setPrototypeOf(f,m),f}(t.read),t.readSync=typeof t.readSync!="function"?t.readSync:function(m){return function(f,y,v,O,A){for(var k=0;;)try{return m.call(t,f,y,v,O,A)}catch(U){if(U.code==="EAGAIN"&&k<10){k++;continue}throw U}}}(t.readSync);function e(m){m.lchmod=function(f,y,v){m.open(f,lu.O_WRONLY|lu.O_SYMLINK,y,function(O,A){if(O){v&&v(O);return}m.fchmod(A,y,function(k){m.close(A,function(U){v&&v(k||U)})})})},m.lchmodSync=function(f,y){var v=m.openSync(f,lu.O_WRONLY|lu.O_SYMLINK,y),O=!0,A;try{A=m.fchmodSync(v,y),O=!1}finally{if(O)try{m.closeSync(v)}catch{}else m.closeSync(v)}return A}}function r(m){lu.hasOwnProperty("O_SYMLINK")&&m.futimes?(m.lutimes=function(f,y,v,O){m.open(f,lu.O_SYMLINK,function(A,k){if(A){O&&O(A);return}m.futimes(k,y,v,function(U){m.close(k,function($){O&&O(U||$)})})})},m.lutimesSync=function(f,y,v){var O=m.openSync(f,lu.O_SYMLINK),A,k=!0;try{A=m.futimesSync(O,y,v),k=!1}finally{if(k)try{m.closeSync(O)}catch{}else m.closeSync(O)}return A}):m.futimes&&(m.lutimes=function(f,y,v,O){O&&process.nextTick(O)},m.lutimesSync=function(){})}function i(m){return m&&function(f,y,v){return m.call(t,f,y,function(O){p(O)&&(O=null),v&&v.apply(this,arguments)})}}function s(m){return m&&function(f,y){try{return m.call(t,f,y)}catch(v){if(!p(v))throw v}}}function o(m){return m&&function(f,y,v,O){return m.call(t,f,y,v,function(A){p(A)&&(A=null),O&&O.apply(this,arguments)})}}function a(m){return m&&function(f,y,v){try{return m.call(t,f,y,v)}catch(O){if(!p(O))throw O}}}function u(m){return m&&function(f,y,v){typeof y=="function"&&(v=y,y=null);function O(A,k){k&&(k.uid<0&&(k.uid+=4294967296),k.gid<0&&(k.gid+=4294967296)),v&&v.apply(this,arguments)}return y?m.call(t,f,y,O):m.call(t,f,O)}}function d(m){return m&&function(f,y){var v=y?m.call(t,f,y):m.call(t,f);return v&&(v.uid<0&&(v.uid+=4294967296),v.gid<0&&(v.gid+=4294967296)),v}}function p(m){if(!m||m.code==="ENOSYS")return!0;var f=!process.getuid||process.getuid()!==0;return!!(f&&(m.code==="EINVAL"||m.code==="EPERM"))}}});var dpe=_((Btr,upe)=>{var lpe=require("stream").Stream;upe.exports=kZe;function kZe(t){return{ReadStream:e,WriteStream:r};function e(i,s){if(!(this instanceof e))return new e(i,s);lpe.call(this);var o=this;this.path=i,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,s=s||{};for(var a=Object.keys(s),u=0,d=a.length;u<d;u++){var p=a[u];this[p]=s[p]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick(function(){o._read()});return}t.open(this.path,this.flags,this.mode,function(m,f){if(m){o.emit("error",m),o.readable=!1;return}o.fd=f,o.emit("open",f),o._read()})}function r(i,s){if(!(this instanceof r))return new r(i,s);lpe.call(this),this.path=i,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,s=s||{};for(var o=Object.keys(s),a=0,u=o.length;a<u;a++){var d=o[a];this[d]=s[d]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=t.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}});var ppe=_((Wtr,cpe)=>{"use strict";cpe.exports=RZe;var wZe=Object.getPrototypeOf||function(t){return t.__proto__};function RZe(t){if(t===null||typeof t!="object")return t;if(t instanceof Object)var e={__proto__:wZe(t)};else var e=Object.create(null);return Object.getOwnPropertyNames(t).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}});var gn=_((Gtr,YN)=>{var hr=require("fs"),MZe=ape(),UZe=dpe(),LZe=ppe(),dA=require("util"),pi,pA;typeof Symbol=="function"&&typeof Symbol.for=="function"?(pi=Symbol.for("graceful-fs.queue"),pA=Symbol.for("graceful-fs.previous")):(pi="___graceful-fs.queue",pA="___graceful-fs.previous");function NZe(){}function fpe(t,e){Object.defineProperty(t,pi,{get:function(){return e}})}var Xd=NZe;dA.debuglog?Xd=dA.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(Xd=function(){var t=dA.format.apply(dA,arguments);t="GFS4: "+t.split(/\n/).join(`
GFS4: `),console.error(t)});hr[pi]||(mpe=global[pi]||[],fpe(hr,mpe),hr.close=function(t){function e(r,i){return t.call(hr,r,function(s){s||gpe(),typeof i=="function"&&i.apply(this,arguments)})}return Object.defineProperty(e,pA,{value:t}),e}(hr.close),hr.closeSync=function(t){function e(r){t.apply(hr,arguments),gpe()}return Object.defineProperty(e,pA,{value:t}),e}(hr.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){Xd(hr[pi]),require("assert").equal(hr[pi].length,0)}));var mpe;global[pi]||fpe(global,hr[pi]);YN.exports=$N(LZe(hr));process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!hr.__patched&&(YN.exports=$N(hr),hr.__patched=!0);function $N(t){MZe(t),t.gracefulify=$N,t.createReadStream=fe,t.createWriteStream=Q;var e=t.readFile;t.readFile=r;function r(re,ve,K){return typeof ve=="function"&&(K=ve,ve=null),Ae(re,ve,K);function Ae(Ce,Ue,C,N){return e(Ce,Ue,function(ce){ce&&(ce.code==="EMFILE"||ce.code==="ENFILE")?Am([Ae,[Ce,Ue,C],ce,N||Date.now(),Date.now()]):typeof C=="function"&&C.apply(this,arguments)})}}var i=t.writeFile;t.writeFile=s;function s(re,ve,K,Ae){return typeof K=="function"&&(Ae=K,K=null),Ce(re,ve,K,Ae);function Ce(Ue,C,N,ce,se){return i(Ue,C,N,function(De){De&&(De.code==="EMFILE"||De.code==="ENFILE")?Am([Ce,[Ue,C,N,ce],De,se||Date.now(),Date.now()]):typeof ce=="function"&&ce.apply(this,arguments)})}}var o=t.appendFile;o&&(t.appendFile=a);function a(re,ve,K,Ae){return typeof K=="function"&&(Ae=K,K=null),Ce(re,ve,K,Ae);function Ce(Ue,C,N,ce,se){return o(Ue,C,N,function(De){De&&(De.code==="EMFILE"||De.code==="ENFILE")?Am([Ce,[Ue,C,N,ce],De,se||Date.now(),Date.now()]):typeof ce=="function"&&ce.apply(this,arguments)})}}var u=t.copyFile;u&&(t.copyFile=d);function d(re,ve,K,Ae){return typeof K=="function"&&(Ae=K,K=0),Ce(re,ve,K,Ae);function Ce(Ue,C,N,ce,se){return u(Ue,C,N,function(De){De&&(De.code==="EMFILE"||De.code==="ENFILE")?Am([Ce,[Ue,C,N,ce],De,se||Date.now(),Date.now()]):typeof ce=="function"&&ce.apply(this,arguments)})}}var p=t.readdir;t.readdir=f;var m=/^v[0-5]\./;function f(re,ve,K){typeof ve=="function"&&(K=ve,ve=null);var Ae=m.test(process.version)?function(C,N,ce,se){return p(C,Ce(C,N,ce,se))}:function(C,N,ce,se){return p(C,N,Ce(C,N,ce,se))};return Ae(re,ve,K);function Ce(Ue,C,N,ce){return function(se,De){se&&(se.code==="EMFILE"||se.code==="ENFILE")?Am([Ae,[Ue,C,N],se,ce||Date.now(),Date.now()]):(De&&De.sort&&De.sort(),typeof N=="function"&&N.call(this,se,De))}}}if(process.version.substr(0,4)==="v0.8"){var y=UZe(t);U=y.ReadStream,R=y.WriteStream}var v=t.ReadStream;v&&(U.prototype=Object.create(v.prototype),U.prototype.open=$);var O=t.WriteStream;O&&(R.prototype=Object.create(O.prototype),R.prototype.open=z),Object.defineProperty(t,"ReadStream",{get:function(){return U},set:function(re){U=re},enumerable:!0,configurable:!0}),Object.defineProperty(t,"WriteStream",{get:function(){return R},set:function(re){R=re},enumerable:!0,configurable:!0});var A=U;Object.defineProperty(t,"FileReadStream",{get:function(){return A},set:function(re){A=re},enumerable:!0,configurable:!0});var k=R;Object.defineProperty(t,"FileWriteStream",{get:function(){return k},set:function(re){k=re},enumerable:!0,configurable:!0});function U(re,ve){return this instanceof U?(v.apply(this,arguments),this):U.apply(Object.create(U.prototype),arguments)}function $(){var re=this;ae(re.path,re.flags,re.mode,function(ve,K){ve?(re.autoClose&&re.destroy(),re.emit("error",ve)):(re.fd=K,re.emit("open",K),re.read())})}function R(re,ve){return this instanceof R?(O.apply(this,arguments),this):R.apply(Object.create(R.prototype),arguments)}function z(){var re=this;ae(re.path,re.flags,re.mode,function(ve,K){ve?(re.destroy(),re.emit("error",ve)):(re.fd=K,re.emit("open",K))})}function fe(re,ve){return new t.ReadStream(re,ve)}function Q(re,ve){return new t.WriteStream(re,ve)}var be=t.open;t.open=ae;function ae(re,ve,K,Ae){return typeof K=="function"&&(Ae=K,K=null),Ce(re,ve,K,Ae);function Ce(Ue,C,N,ce,se){return be(Ue,C,N,function(De,Re){De&&(De.code==="EMFILE"||De.code==="ENFILE")?Am([Ce,[Ue,C,N,ce],De,se||Date.now(),Date.now()]):typeof ce=="function"&&ce.apply(this,arguments)})}}return t}function Am(t){Xd("ENQUEUE",t[0].name,t[1]),hr[pi].push(t),zN()}var cA;function gpe(){for(var t=Date.now(),e=0;e<hr[pi].length;++e)hr[pi][e].length>2&&(hr[pi][e][3]=t,hr[pi][e][4]=t);zN()}function zN(){if(clearTimeout(cA),cA=void 0,hr[pi].length!==0){var t=hr[pi].shift(),e=t[0],r=t[1],i=t[2],s=t[3],o=t[4];if(s===void 0)Xd("RETRY",e.name,r),e.apply(null,r);else if(Date.now()-s>=6e4){Xd("TIMEOUT",e.name,r);var a=r.pop();typeof a=="function"&&a.call(null,i)}else{var u=Date.now()-o,d=Math.max(o-s,1),p=Math.min(d*1.2,100);u>=p?(Xd("RETRY",e.name,r),e.apply(null,r.concat([s]))):hr[pi].push(t)}cA===void 0&&(cA=setTimeout(zN,0))}}});var Zd=_(La=>{"use strict";var bpe=mn().fromCallback,Wi=gn(),VZe=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter(t=>typeof Wi[t]=="function");Object.assign(La,Wi);VZe.forEach(t=>{La[t]=bpe(Wi[t])});La.exists=function(t,e){return typeof e=="function"?Wi.exists(t,e):new Promise(r=>Wi.exists(t,r))};La.read=function(t,e,r,i,s,o){return typeof o=="function"?Wi.read(t,e,r,i,s,o):new Promise((a,u)=>{Wi.read(t,e,r,i,s,(d,p,m)=>{if(d)return u(d);a({bytesRead:p,buffer:m})})})};La.write=function(t,e,...r){return typeof r[r.length-1]=="function"?Wi.write(t,e,...r):new Promise((i,s)=>{Wi.write(t,e,...r,(o,a,u)=>{if(o)return s(o);i({bytesWritten:a,buffer:u})})})};La.readv=function(t,e,...r){return typeof r[r.length-1]=="function"?Wi.readv(t,e,...r):new Promise((i,s)=>{Wi.readv(t,e,...r,(o,a,u)=>{if(o)return s(o);i({bytesRead:a,buffers:u})})})};La.writev=function(t,e,...r){return typeof r[r.length-1]=="function"?Wi.writev(t,e,...r):new Promise((i,s)=>{Wi.writev(t,e,...r,(o,a,u)=>{if(o)return s(o);i({bytesWritten:a,buffers:u})})})};typeof Wi.realpath.native=="function"?La.realpath.native=bpe(Wi.realpath.native):process.emitWarning("fs.realpath.native is not a function. Is fs being monkey-patched?","Warning","fs-extra-WARN0003")});var hpe=_((Ktr,ype)=>{"use strict";var qZe=require("path");ype.exports.checkPath=function(e){if(process.platform==="win32"&&/[<>:"|?*]/.test(e.replace(qZe.parse(e).root,""))){let i=new Error(`Path contains invalid characters: ${e}`);throw i.code="EINVAL",i}}});var vpe=_(($tr,QN)=>{"use strict";var Ipe=Zd(),{checkPath:xpe}=hpe(),_pe=t=>{let e={mode:511};return typeof t=="number"?t:{...e,...t}.mode};QN.exports.makeDir=async(t,e)=>(xpe(t),Ipe.mkdir(t,{mode:_pe(e),recursive:!0}));QN.exports.makeDirSync=(t,e)=>(xpe(t),Ipe.mkdirSync(t,{mode:_pe(e),recursive:!0}))});var ws=_((ztr,Ope)=>{"use strict";var BZe=mn().fromPromise,{makeDir:WZe,makeDirSync:JN}=vpe(),XN=BZe(WZe);Ope.exports={mkdirs:XN,mkdirsSync:JN,mkdirp:XN,mkdirpSync:JN,ensureDir:XN,ensureDirSync:JN}});var uu=_((Ytr,Dpe)=>{"use strict";var GZe=mn().fromPromise,Spe=Zd();function HZe(t){return Spe.access(t).then(()=>!0).catch(()=>!1)}Dpe.exports={pathExists:GZe(HZe),pathExistsSync:Spe.existsSync}});var ZN=_((Qtr,Ape)=>{"use strict";var Fm=gn();function KZe(t,e,r,i){Fm.open(t,"r+",(s,o)=>{if(s)return i(s);Fm.futimes(o,e,r,a=>{Fm.close(o,u=>{i&&i(a||u)})})})}function $Ze(t,e,r){let i=Fm.openSync(t,"r+");return Fm.futimesSync(i,e,r),Fm.closeSync(i)}Ape.exports={utimesMillis:KZe,utimesMillisSync:$Ze}});var ec=_((Jtr,jpe)=>{"use strict";var Pm=Zd(),ri=require("path"),zZe=require("util");function YZe(t,e,r){let i=r.dereference?s=>Pm.stat(s,{bigint:!0}):s=>Pm.lstat(s,{bigint:!0});return Promise.all([i(t),i(e).catch(s=>{if(s.code==="ENOENT")return null;throw s})]).then(([s,o])=>({srcStat:s,destStat:o}))}function QZe(t,e,r){let i,s=r.dereference?a=>Pm.statSync(a,{bigint:!0}):a=>Pm.lstatSync(a,{bigint:!0}),o=s(t);try{i=s(e)}catch(a){if(a.code==="ENOENT")return{srcStat:o,destStat:null};throw a}return{srcStat:o,destStat:i}}function JZe(t,e,r,i,s){zZe.callbackify(YZe)(t,e,i,(o,a)=>{if(o)return s(o);let{srcStat:u,destStat:d}=a;if(d){if(vh(u,d)){let p=ri.basename(t),m=ri.basename(e);return r==="move"&&p!==m&&p.toLowerCase()===m.toLowerCase()?s(null,{srcStat:u,destStat:d,isChangingCase:!0}):s(new Error("Source and destination must not be the same."))}if(u.isDirectory()&&!d.isDirectory())return s(new Error(`Cannot overwrite non-directory '${e}' with directory '${t}'.`));if(!u.isDirectory()&&d.isDirectory())return s(new Error(`Cannot overwrite directory '${e}' with non-directory '${t}'.`))}return u.isDirectory()&&eV(t,e)?s(new Error(mA(t,e,r))):s(null,{srcStat:u,destStat:d})})}function XZe(t,e,r,i){let{srcStat:s,destStat:o}=QZe(t,e,i);if(o){if(vh(s,o)){let a=ri.basename(t),u=ri.basename(e);if(r==="move"&&a!==u&&a.toLowerCase()===u.toLowerCase())return{srcStat:s,destStat:o,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(s.isDirectory()&&!o.isDirectory())throw new Error(`Cannot overwrite non-directory '${e}' with directory '${t}'.`);if(!s.isDirectory()&&o.isDirectory())throw new Error(`Cannot overwrite directory '${e}' with non-directory '${t}'.`)}if(s.isDirectory()&&eV(t,e))throw new Error(mA(t,e,r));return{srcStat:s,destStat:o}}function Fpe(t,e,r,i,s){let o=ri.resolve(ri.dirname(t)),a=ri.resolve(ri.dirname(r));if(a===o||a===ri.parse(a).root)return s();Pm.stat(a,{bigint:!0},(u,d)=>u?u.code==="ENOENT"?s():s(u):vh(e,d)?s(new Error(mA(t,r,i))):Fpe(t,e,a,i,s))}function Ppe(t,e,r,i){let s=ri.resolve(ri.dirname(t)),o=ri.resolve(ri.dirname(r));if(o===s||o===ri.parse(o).root)return;let a;try{a=Pm.statSync(o,{bigint:!0})}catch(u){if(u.code==="ENOENT")return;throw u}if(vh(e,a))throw new Error(mA(t,r,i));return Ppe(t,e,o,i)}function vh(t,e){return e.ino&&e.dev&&e.ino===t.ino&&e.dev===t.dev}function eV(t,e){let r=ri.resolve(t).split(ri.sep).filter(s=>s),i=ri.resolve(e).split(ri.sep).filter(s=>s);return r.reduce((s,o,a)=>s&&i[a]===o,!0)}function mA(t,e,r){return`Cannot ${r} '${t}' to a subdirectory of itself, '${e}'.`}jpe.exports={checkPaths:JZe,checkPathsSync:XZe,checkParentPaths:Fpe,checkParentPathsSync:Ppe,isSrcSubdir:eV,areIdentical:vh}});var Rpe=_((Xtr,wpe)=>{"use strict";var fn=gn(),Oh=require("path"),ZZe=ws().mkdirs,eet=uu().pathExists,tet=ZN().utimesMillis,Sh=ec();function ret(t,e,r,i){typeof r=="function"&&!i?(i=r,r={}):typeof r=="function"&&(r={filter:r}),i=i||function(){},r=r||{},r.clobber="clobber"in r?!!r.clobber:!0,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0001"),Sh.checkPaths(t,e,"copy",r,(s,o)=>{if(s)return i(s);let{srcStat:a,destStat:u}=o;Sh.checkParentPaths(t,a,e,"copy",d=>{if(d)return i(d);Cpe(t,e,r,(p,m)=>{if(p)return i(p);if(!m)return i();iet(u,t,e,r,i)})})})}function iet(t,e,r,i,s){let o=Oh.dirname(r);eet(o,(a,u)=>{if(a)return s(a);if(u)return tV(t,e,r,i,s);ZZe(o,d=>d?s(d):tV(t,e,r,i,s))})}function Cpe(t,e,r,i){if(!r.filter)return i(null,!0);Promise.resolve(r.filter(t,e)).then(s=>i(null,s),s=>i(s))}function tV(t,e,r,i,s){(i.dereference?fn.stat:fn.lstat)(e,(a,u)=>a?s(a):u.isDirectory()?cet(u,t,e,r,i,s):u.isFile()||u.isCharacterDevice()||u.isBlockDevice()?net(u,t,e,r,i,s):u.isSymbolicLink()?get(t,e,r,i,s):u.isSocket()?s(new Error(`Cannot copy a socket file: ${e}`)):u.isFIFO()?s(new Error(`Cannot copy a FIFO pipe: ${e}`)):s(new Error(`Unknown file: ${e}`)))}function net(t,e,r,i,s,o){return e?set(t,r,i,s,o):Epe(t,r,i,s,o)}function set(t,e,r,i,s){if(i.overwrite)fn.unlink(r,o=>o?s(o):Epe(t,e,r,i,s));else return i.errorOnExist?s(new Error(`'${r}' already exists`)):s()}function Epe(t,e,r,i,s){fn.copyFile(e,r,o=>o?s(o):i.preserveTimestamps?oet(t.mode,e,r,s):gA(r,t.mode,s))}function oet(t,e,r,i){return aet(t)?uet(r,t,s=>s?i(s):Tpe(t,e,r,i)):Tpe(t,e,r,i)}function aet(t){return(t&128)===0}function uet(t,e,r){return gA(t,e|128,r)}function Tpe(t,e,r,i){det(e,r,s=>s?i(s):gA(r,t,i))}function gA(t,e,r){return fn.chmod(t,e,r)}function det(t,e,r){fn.stat(t,(i,s)=>i?r(i):tet(e,s.atime,s.mtime,r))}function cet(t,e,r,i,s,o){return e?kpe(r,i,s,o):pet(t.mode,r,i,s,o)}function pet(t,e,r,i,s){fn.mkdir(r,o=>{if(o)return s(o);kpe(e,r,i,a=>a?s(a):gA(r,t,s))})}function kpe(t,e,r,i){fn.readdir(t,(s,o)=>s?i(s):rV(o,t,e,r,i))}function rV(t,e,r,i,s){let o=t.pop();return o?met(t,o,e,r,i,s):s()}function met(t,e,r,i,s,o){let a=Oh.join(r,e),u=Oh.join(i,e);Cpe(a,u,s,(d,p)=>{if(d)return o(d);if(!p)return rV(t,r,i,s,o);Sh.checkPaths(a,u,"copy",s,(m,f)=>{if(m)return o(m);let{destStat:y}=f;tV(y,a,u,s,v=>v?o(v):rV(t,r,i,s,o))})})}function get(t,e,r,i,s){fn.readlink(e,(o,a)=>{if(o)return s(o);if(i.dereference&&(a=Oh.resolve(process.cwd(),a)),t)fn.readlink(r,(u,d)=>u?u.code==="EINVAL"||u.code==="UNKNOWN"?fn.symlink(a,r,s):s(u):(i.dereference&&(d=Oh.resolve(process.cwd(),d)),Sh.isSrcSubdir(a,d)?s(new Error(`Cannot copy '${a}' to a subdirectory of itself, '${d}'.`)):Sh.isSrcSubdir(d,a)?s(new Error(`Cannot overwrite '${d}' with '${a}'.`)):fet(a,r,s)));else return fn.symlink(a,r,s)})}function fet(t,e,r){fn.unlink(e,i=>i?r(i):fn.symlink(t,e,r))}wpe.exports=ret});var Vpe=_((Ztr,Npe)=>{"use strict";var Gi=gn(),Dh=require("path"),bet=ws().mkdirsSync,yet=ZN().utimesMillisSync,Ah=ec();function het(t,e,r){typeof r=="function"&&(r={filter:r}),r=r||{},r.clobber="clobber"in r?!!r.clobber:!0,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0002");let{srcStat:i,destStat:s}=Ah.checkPathsSync(t,e,"copy",r);if(Ah.checkParentPathsSync(t,i,e,"copy"),r.filter&&!r.filter(t,e))return;let o=Dh.dirname(e);return Gi.existsSync(o)||bet(o),Mpe(s,t,e,r)}function Mpe(t,e,r,i){let o=(i.dereference?Gi.statSync:Gi.lstatSync)(e);if(o.isDirectory())return Aet(o,t,e,r,i);if(o.isFile()||o.isCharacterDevice()||o.isBlockDevice())return Iet(o,t,e,r,i);if(o.isSymbolicLink())return jet(t,e,r,i);throw o.isSocket()?new Error(`Cannot copy a socket file: ${e}`):o.isFIFO()?new Error(`Cannot copy a FIFO pipe: ${e}`):new Error(`Unknown file: ${e}`)}function Iet(t,e,r,i,s){return e?xet(t,r,i,s):Upe(t,r,i,s)}function xet(t,e,r,i){if(i.overwrite)return Gi.unlinkSync(r),Upe(t,e,r,i);if(i.errorOnExist)throw new Error(`'${r}' already exists`)}function Upe(t,e,r,i){return Gi.copyFileSync(e,r),i.preserveTimestamps&&_et(t.mode,e,r),iV(r,t.mode)}function _et(t,e,r){return vet(t)&&Oet(r,t),Det(e,r)}function vet(t){return(t&128)===0}function Oet(t,e){return iV(t,e|128)}function iV(t,e){return Gi.chmodSync(t,e)}function Det(t,e){let r=Gi.statSync(t);return yet(e,r.atime,r.mtime)}function Aet(t,e,r,i,s){return e?Lpe(r,i,s):Fet(t.mode,r,i,s)}function Fet(t,e,r,i){return Gi.mkdirSync(r),Lpe(e,r,i),iV(r,t)}function Lpe(t,e,r){Gi.readdirSync(t).forEach(i=>Pet(i,t,e,r))}function Pet(t,e,r,i){let s=Dh.join(e,t),o=Dh.join(r,t);if(i.filter&&!i.filter(s,o))return;let{destStat:a}=Ah.checkPathsSync(s,o,"copy",i);return Mpe(a,s,o,i)}function jet(t,e,r,i){let s=Gi.readlinkSync(e);if(i.dereference&&(s=Dh.resolve(process.cwd(),s)),t){let o;try{o=Gi.readlinkSync(r)}catch(a){if(a.code==="EINVAL"||a.code==="UNKNOWN")return Gi.symlinkSync(s,r);throw a}if(i.dereference&&(o=Dh.resolve(process.cwd(),o)),Ah.isSrcSubdir(s,o))throw new Error(`Cannot copy '${s}' to a subdirectory of itself, '${o}'.`);if(Ah.isSrcSubdir(o,s))throw new Error(`Cannot overwrite '${o}' with '${s}'.`);return Tet(s,r)}else return Gi.symlinkSync(s,r)}function Tet(t,e){return Gi.unlinkSync(e),Gi.symlinkSync(t,e)}Npe.exports=het});var fA=_((err,qpe)=>{"use strict";var Cet=mn().fromCallback;qpe.exports={copy:Cet(Rpe()),copySync:Vpe()}});var Fh=_((trr,Wpe)=>{"use strict";var Bpe=gn(),Eet=mn().fromCallback;function ket(t,e){Bpe.rm(t,{recursive:!0,force:!0},e)}function wet(t){Bpe.rmSync(t,{recursive:!0,force:!0})}Wpe.exports={remove:Eet(ket),removeSync:wet}});var Jpe=_((rrr,Qpe)=>{"use strict";var Ret=mn().fromPromise,Kpe=Zd(),$pe=require("path"),zpe=ws(),Ype=Fh(),Gpe=Ret(async function(e){let r;try{r=await Kpe.readdir(e)}catch{return zpe.mkdirs(e)}return Promise.all(r.map(i=>Ype.remove($pe.join(e,i))))});function Hpe(t){let e;try{e=Kpe.readdirSync(t)}catch{return zpe.mkdirsSync(t)}e.forEach(r=>{r=$pe.join(t,r),Ype.removeSync(r)})}Qpe.exports={emptyDirSync:Hpe,emptydirSync:Hpe,emptyDir:Gpe,emptydir:Gpe}});var tme=_((irr,eme)=>{"use strict";var Met=mn().fromCallback,Xpe=require("path"),du=gn(),Zpe=ws();function Uet(t,e){function r(){du.writeFile(t,"",i=>{if(i)return e(i);e()})}du.stat(t,(i,s)=>{if(!i&&s.isFile())return e();let o=Xpe.dirname(t);du.stat(o,(a,u)=>{if(a)return a.code==="ENOENT"?Zpe.mkdirs(o,d=>{if(d)return e(d);r()}):e(a);u.isDirectory()?r():du.readdir(o,d=>{if(d)return e(d)})})})}function Let(t){let e;try{e=du.statSync(t)}catch{}if(e&&e.isFile())return;let r=Xpe.dirname(t);try{du.statSync(r).isDirectory()||du.readdirSync(r)}catch(i){if(i&&i.code==="ENOENT")Zpe.mkdirsSync(r);else throw i}du.writeFileSync(t,"")}eme.exports={createFile:Met(Uet),createFileSync:Let}});var ome=_((nrr,sme)=>{"use strict";var Net=mn().fromCallback,rme=require("path"),cu=gn(),ime=ws(),Vet=uu().pathExists,{areIdentical:nme}=ec();function qet(t,e,r){function i(s,o){cu.link(s,o,a=>{if(a)return r(a);r(null)})}cu.lstat(e,(s,o)=>{cu.lstat(t,(a,u)=>{if(a)return a.message=a.message.replace("lstat","ensureLink"),r(a);if(o&&nme(u,o))return r(null);let d=rme.dirname(e);Vet(d,(p,m)=>{if(p)return r(p);if(m)return i(t,e);ime.mkdirs(d,f=>{if(f)return r(f);i(t,e)})})})})}function Bet(t,e){let r;try{r=cu.lstatSync(e)}catch{}try{let o=cu.lstatSync(t);if(r&&nme(o,r))return}catch(o){throw o.message=o.message.replace("lstat","ensureLink"),o}let i=rme.dirname(e);return cu.existsSync(i)||ime.mkdirsSync(i),cu.linkSync(t,e)}sme.exports={createLink:Net(qet),createLinkSync:Bet}});var lme=_((srr,ame)=>{"use strict";var pu=require("path"),Ph=gn(),Wet=uu().pathExists;function Get(t,e,r){if(pu.isAbsolute(t))return Ph.lstat(t,i=>i?(i.message=i.message.replace("lstat","ensureSymlink"),r(i)):r(null,{toCwd:t,toDst:t}));{let i=pu.dirname(e),s=pu.join(i,t);return Wet(s,(o,a)=>o?r(o):a?r(null,{toCwd:s,toDst:t}):Ph.lstat(t,u=>u?(u.message=u.message.replace("lstat","ensureSymlink"),r(u)):r(null,{toCwd:t,toDst:pu.relative(i,t)})))}}function Het(t,e){let r;if(pu.isAbsolute(t)){if(r=Ph.existsSync(t),!r)throw new Error("absolute srcpath does not exist");return{toCwd:t,toDst:t}}else{let i=pu.dirname(e),s=pu.join(i,t);if(r=Ph.existsSync(s),r)return{toCwd:s,toDst:t};if(r=Ph.existsSync(t),!r)throw new Error("relative srcpath does not exist");return{toCwd:t,toDst:pu.relative(i,t)}}}ame.exports={symlinkPaths:Get,symlinkPathsSync:Het}});var cme=_((orr,dme)=>{"use strict";var ume=gn();function Ket(t,e,r){if(r=typeof e=="function"?e:r,e=typeof e=="function"?!1:e,e)return r(null,e);ume.lstat(t,(i,s)=>{if(i)return r(null,"file");e=s&&s.isDirectory()?"dir":"file",r(null,e)})}function $et(t,e){let r;if(e)return e;try{r=ume.lstatSync(t)}catch{return"file"}return r&&r.isDirectory()?"dir":"file"}dme.exports={symlinkType:Ket,symlinkTypeSync:$et}});var Ime=_((arr,hme)=>{"use strict";var zet=mn().fromCallback,mme=require("path"),Rs=Zd(),gme=ws(),Yet=gme.mkdirs,Qet=gme.mkdirsSync,fme=lme(),Jet=fme.symlinkPaths,Xet=fme.symlinkPathsSync,bme=cme(),Zet=bme.symlinkType,ett=bme.symlinkTypeSync,ttt=uu().pathExists,{areIdentical:yme}=ec();function rtt(t,e,r,i){i=typeof r=="function"?r:i,r=typeof r=="function"?!1:r,Rs.lstat(e,(s,o)=>{!s&&o.isSymbolicLink()?Promise.all([Rs.stat(t),Rs.stat(e)]).then(([a,u])=>{if(yme(a,u))return i(null);pme(t,e,r,i)}):pme(t,e,r,i)})}function pme(t,e,r,i){Jet(t,e,(s,o)=>{if(s)return i(s);t=o.toDst,Zet(o.toCwd,r,(a,u)=>{if(a)return i(a);let d=mme.dirname(e);ttt(d,(p,m)=>{if(p)return i(p);if(m)return Rs.symlink(t,e,u,i);Yet(d,f=>{if(f)return i(f);Rs.symlink(t,e,u,i)})})})})}function itt(t,e,r){let i;try{i=Rs.lstatSync(e)}catch{}if(i&&i.isSymbolicLink()){let u=Rs.statSync(t),d=Rs.statSync(e);if(yme(u,d))return}let s=Xet(t,e);t=s.toDst,r=ett(s.toCwd,r);let o=mme.dirname(e);return Rs.existsSync(o)||Qet(o),Rs.symlinkSync(t,e,r)}hme.exports={createSymlink:zet(rtt),createSymlinkSync:itt}});var Fme=_((lrr,Ame)=>{"use strict";var{createFile:xme,createFileSync:_me}=tme(),{createLink:vme,createLinkSync:Ome}=ome(),{createSymlink:Sme,createSymlinkSync:Dme}=Ime();Ame.exports={createFile:xme,createFileSync:_me,ensureFile:xme,ensureFileSync:_me,createLink:vme,createLinkSync:Ome,ensureLink:vme,ensureLinkSync:Ome,createSymlink:Sme,createSymlinkSync:Dme,ensureSymlink:Sme,ensureSymlinkSync:Dme}});var bA=_((urr,Pme)=>{function ntt(t,{EOL:e=`
`,finalEOL:r=!0,replacer:i=null,spaces:s}={}){let o=r?e:"";return JSON.stringify(t,i,s).replace(/\n/g,e)+o}function stt(t){return Buffer.isBuffer(t)&&(t=t.toString("utf8")),t.replace(/^\uFEFF/,"")}Pme.exports={stringify:ntt,stripBom:stt}});var Eme=_((drr,Cme)=>{var jm;try{jm=gn()}catch{jm=require("fs")}var yA=mn(),{stringify:jme,stripBom:Tme}=bA();async function ott(t,e={}){typeof e=="string"&&(e={encoding:e});let r=e.fs||jm,i="throws"in e?e.throws:!0,s=await yA.fromCallback(r.readFile)(t,e);s=Tme(s);let o;try{o=JSON.parse(s,e?e.reviver:null)}catch(a){if(i)throw a.message=`${t}: ${a.message}`,a;return null}return o}var att=yA.fromPromise(ott);function ltt(t,e={}){typeof e=="string"&&(e={encoding:e});let r=e.fs||jm,i="throws"in e?e.throws:!0;try{let s=r.readFileSync(t,e);return s=Tme(s),JSON.parse(s,e.reviver)}catch(s){if(i)throw s.message=`${t}: ${s.message}`,s;return null}}async function utt(t,e,r={}){let i=r.fs||jm,s=jme(e,r);await yA.fromCallback(i.writeFile)(t,s,r)}var dtt=yA.fromPromise(utt);function ctt(t,e,r={}){let i=r.fs||jm,s=jme(e,r);return i.writeFileSync(t,s,r)}var ptt={readFile:att,readFileSync:ltt,writeFile:dtt,writeFileSync:ctt};Cme.exports=ptt});var wme=_((crr,kme)=>{"use strict";var hA=Eme();kme.exports={readJson:hA.readFile,readJsonSync:hA.readFileSync,writeJson:hA.writeFile,writeJsonSync:hA.writeFileSync}});var IA=_((prr,Ume)=>{"use strict";var mtt=mn().fromCallback,jh=gn(),Rme=require("path"),Mme=ws(),gtt=uu().pathExists;function ftt(t,e,r,i){typeof r=="function"&&(i=r,r="utf8");let s=Rme.dirname(t);gtt(s,(o,a)=>{if(o)return i(o);if(a)return jh.writeFile(t,e,r,i);Mme.mkdirs(s,u=>{if(u)return i(u);jh.writeFile(t,e,r,i)})})}function btt(t,...e){let r=Rme.dirname(t);if(jh.existsSync(r))return jh.writeFileSync(t,...e);Mme.mkdirsSync(r),jh.writeFileSync(t,...e)}Ume.exports={outputFile:mtt(ftt),outputFileSync:btt}});var Nme=_((mrr,Lme)=>{"use strict";var{stringify:ytt}=bA(),{outputFile:htt}=IA();async function Itt(t,e,r={}){let i=ytt(e,r);await htt(t,i,r)}Lme.exports=Itt});var qme=_((grr,Vme)=>{"use strict";var{stringify:xtt}=bA(),{outputFileSync:_tt}=IA();function vtt(t,e,r){let i=xtt(e,r);_tt(t,i,r)}Vme.exports=vtt});var Wme=_((frr,Bme)=>{"use strict";var Ott=mn().fromPromise,Hi=wme();Hi.outputJson=Ott(Nme());Hi.outputJsonSync=qme();Hi.outputJSON=Hi.outputJson;Hi.outputJSONSync=Hi.outputJsonSync;Hi.writeJSON=Hi.writeJson;Hi.writeJSONSync=Hi.writeJsonSync;Hi.readJSON=Hi.readJson;Hi.readJSONSync=Hi.readJsonSync;Bme.exports=Hi});var zme=_((brr,$me)=>{"use strict";var Stt=gn(),sV=require("path"),Dtt=fA().copy,Kme=Fh().remove,Att=ws().mkdirp,Ftt=uu().pathExists,Gme=ec();function Ptt(t,e,r,i){typeof r=="function"&&(i=r,r={}),r=r||{};let s=r.overwrite||r.clobber||!1;Gme.checkPaths(t,e,"move",r,(o,a)=>{if(o)return i(o);let{srcStat:u,isChangingCase:d=!1}=a;Gme.checkParentPaths(t,u,e,"move",p=>{if(p)return i(p);if(jtt(e))return Hme(t,e,s,d,i);Att(sV.dirname(e),m=>m?i(m):Hme(t,e,s,d,i))})})}function jtt(t){let e=sV.dirname(t);return sV.parse(e).root===e}function Hme(t,e,r,i,s){if(i)return nV(t,e,r,s);if(r)return Kme(e,o=>o?s(o):nV(t,e,r,s));Ftt(e,(o,a)=>o?s(o):a?s(new Error("dest already exists.")):nV(t,e,r,s))}function nV(t,e,r,i){Stt.rename(t,e,s=>s?s.code!=="EXDEV"?i(s):Ttt(t,e,r,i):i())}function Ttt(t,e,r,i){Dtt(t,e,{overwrite:r,errorOnExist:!0,preserveTimestamps:!0},o=>o?i(o):Kme(t,i))}$me.exports=Ptt});var Zme=_((yrr,Xme)=>{"use strict";var Qme=gn(),aV=require("path"),Ctt=fA().copySync,Jme=Fh().removeSync,Ett=ws().mkdirpSync,Yme=ec();function ktt(t,e,r){r=r||{};let i=r.overwrite||r.clobber||!1,{srcStat:s,isChangingCase:o=!1}=Yme.checkPathsSync(t,e,"move",r);return Yme.checkParentPathsSync(t,s,e,"move"),wtt(e)||Ett(aV.dirname(e)),Rtt(t,e,i,o)}function wtt(t){let e=aV.dirname(t);return aV.parse(e).root===e}function Rtt(t,e,r,i){if(i)return oV(t,e,r);if(r)return Jme(e),oV(t,e,r);if(Qme.existsSync(e))throw new Error("dest already exists.");return oV(t,e,r)}function oV(t,e,r){try{Qme.renameSync(t,e)}catch(i){if(i.code!=="EXDEV")throw i;return Mtt(t,e,r)}}function Mtt(t,e,r){return Ctt(t,e,{overwrite:r,errorOnExist:!0,preserveTimestamps:!0}),Jme(t)}Xme.exports=ktt});var tge=_((hrr,ege)=>{"use strict";var Utt=mn().fromCallback;ege.exports={move:Utt(zme()),moveSync:Zme()}});var ige=_((Irr,rge)=>{"use strict";rge.exports={...Zd(),...fA(),...Jpe(),...Fme(),...Wme(),...ws(),...tge(),...IA(),...uu(),...Fh()}});var nge=_(xA=>{"use strict";Object.defineProperty(xA,"__esModule",{value:!0});xA.assertNever=void 0;function Ltt(t,e){throw new Error(e!=null?e:`Uncaught type ${JSON.stringify(t)}`)}xA.assertNever=Ltt});var pV=_(cs=>{"use strict";var Ntt=cs&&cs.__createBinding||(Object.create?function(t,e,r,i){i===void 0&&(i=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,s)}:function(t,e,r,i){i===void 0&&(i=r),t[i]=e[r]}),Vtt=cs&&cs.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),cV=cs&&cs.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Ntt(e,t,r);return Vtt(e,t),e};Object.defineProperty(cs,"__esModule",{value:!0});cs.LocalFileExtensionRegistry=cs.ExtensionFileType=void 0;var lV=cV(spe()),jo=cV(ige()),bn=cV(require("path")),uV=nge(),qtt=require("child_process"),Bt;(function(t){t.CODE="code",t.MANIFEST="manifest",t.UI="ui"})(Bt||(cs.ExtensionFileType=Bt={}));var dV=class{constructor(e,r){this.extensionMap=new Map,this.manifestObservers=[],this.fileObservers=[],this.MANIFEST_FILE_NAME="manifest.json",this.fileExtensionAllowlist=[".css",".html",".js",".json",".jsx",".md",".ts",".tsx"],this.fileNameAllowList=[".gitignore"],this.log=e,this.save=r}generateFileId(){let e=1;for(;this.extensionMap.has(e);)e++;return e}attachObserverToFile(e,r,i){let{type:s}=i;if(s===Bt.MANIFEST&&this.manifestObservers.length||(s===Bt.CODE||s===Bt.UI)&&this.fileObservers.length){let o=lV.watch(r,void 0);s===Bt.CODE||s===Bt.UI?o.on("all",()=>this.fileWatcher(e,i.manifestFileId,s)):s===Bt.MANIFEST?o.on("all",()=>this.manifestFileWatcher(e)):(0,uV.assertNever)(s),o.on("error",a=>{this.log.error(`chokidar error for ${r}: ${a.name}: ${a.message}`)}),this.extensionMap.set(e,{path:r,watcher:o,fileMetadata:i}),s===Bt.CODE||s===Bt.UI?this.notifyFileObservers({type:"added",id:e,manifestFileId:i.manifestFileId},s):s===Bt.MANIFEST?this.loadExtensionManifest(e).then(a=>{this.notifyManifestObservers({type:"added",id:e,localLoadResult:a})}):(0,uV.assertNever)(s)}else this.extensionMap.set(e,{path:r,fileMetadata:i})}addManifestPath(e){for(let[s,o]of this.extensionMap.entries())if(o.path===e)return{id:s,existed:!0};let r=this.generateFileId(),i={type:Bt.MANIFEST,codeFileId:null,uiFileIds:null};return this.attachObserverToFile(r,e,i),this.addOrUpdateFileEntryForManifest(r,i).then(()=>this.save()),{id:r,existed:!1}}getPath(e){let r=this.extensionMap.get(e);if(!r)throw new Error("Unknown plugin");return r.path}removePath(e){let r=this.extensionMap.get(e);if(r&&r.watcher)try{r.watcher.close()}catch(s){}let i=r==null?void 0:r.fileMetadata.type;if(this.extensionMap.delete(e),this.save(),i)if(i===Bt.CODE||i===Bt.UI){let s=r==null?void 0:r.fileMetadata.manifestFileId;this.notifyFileObservers({id:e,type:"removed",manifestFileId:s},i)}else i===Bt.MANIFEST?this.notifyManifestObservers({id:e,type:"removed"}):(0,uV.assertNever)(i)}getCachedMetadata(e){let r=this.extensionMap.get(e);if(r){let{cachedContainsWidget:i,lastKnownName:s,lastKnownPluginId:o}=r;return{cachedContainsWidget:i,lastKnownName:s,lastKnownPluginId:o}}}getOrUpdateCachedMetadataFromManifest(e,r){let i=this.extensionMap.get(e);if(i){let s=this.parseManifestString(r);return i.lastKnownName=typeof(s==null?void 0:s.name)=="string"?s.name:void 0,i.lastKnownPluginId=(s==null?void 0:s.id)||"",i.cachedContainsWidget=s==null?void 0:s.containsWidget,{lastKnownName:i.lastKnownName,lastKnownPluginId:i.lastKnownPluginId,cachedContainsWidget:i.cachedContainsWidget}}}async loadExtensionManifest(e){let r=this.getPath(e),i={lastKnownPluginId:void 0,lastKnownName:void 0,cachedContainsWidget:void 0};try{let s=await jo.readFile(r,{encoding:"utf8"}),o=this.getOrUpdateCachedMetadataFromManifest(e,s)||i,{lastKnownName:a,lastKnownPluginId:u,cachedContainsWidget:d}=o;return{path:r,lastKnownName:a,lastKnownPluginId:u,manifest:s,cachedContainsWidget:d}}catch(s){let o=this.getCachedMetadata(e)||i,{lastKnownName:a,lastKnownPluginId:u,cachedContainsWidget:d}=o;return{path:r,lastKnownName:a,lastKnownPluginId:u,cachedContainsWidget:d,error:String(s)}}}getAllManifestIds(){return Array.from(this.extensionMap.keys()).filter(r=>{var i;return((i=this.extensionMap.get(r))===null||i===void 0?void 0:i.fileMetadata.type)===Bt.MANIFEST})}getManifestIdsToCachedContainsWidgetMap(){let e={};return Array.from(this.extensionMap.keys()).forEach(r=>{let i=this.extensionMap.get(r);i&&i.fileMetadata.type===Bt.MANIFEST&&(e[r]=!!i.cachedContainsWidget)}),e}getManifestIdsToCachedMetadataMap(){let e={};return Array.from(this.extensionMap.keys()).forEach(r=>{let i=this.extensionMap.get(r);if(i&&i.fileMetadata.type===Bt.MANIFEST){let s={lastKnownPluginId:i.lastKnownPluginId,cachedContainsWidget:!!i.cachedContainsWidget};e[r]=s}}),e}updateCachedContainsWidget(e,r){let i=this.extensionMap.get(e);i&&(i.cachedContainsWidget=r),this.extensionMap.set(e,i)}addManifestObserver(e){this.manifestObservers.push(e),this.manifestObservers.length===1&&this.extensionMap.forEach((r,i)=>{!r.watcher&&r.fileMetadata.type===Bt.MANIFEST&&(r.watcher=lV.watch(r.path,void 0),r.watcher.on("all",()=>this.manifestFileWatcher(i)),r.watcher.on("error",s=>{this.log.error(`chokidar error for ${r.path}: ${s.name}: ${s.message}`)}))})}removeManifestObserver(e){let r=this.manifestObservers.indexOf(e);r!==-1&&(this.manifestObservers.splice(r,1),this.manifestObservers.length||this.extensionMap.forEach(i=>{i.watcher&&i.fileMetadata.type===Bt.MANIFEST&&(i.watcher.close(),delete i.watcher)}))}addFileObserver(e,r){this.fileObservers.push(r),this.fileObservers.length<=2&&this.extensionMap.forEach((i,s)=>{!i.watcher&&i.fileMetadata.type===e&&(i.watcher=lV.watch(i.path,void 0),i.watcher.on("all",()=>{this.fileWatcher(s,i.fileMetadata.manifestFileId,e)}),i.watcher.on("error",o=>{this.log.error(`chokidar error for ${i.path}: ${o.name}: ${o.message}`)}))})}removeFileObserver(e,r){let i=this.fileObservers.indexOf(r);i!==-1&&(this.fileObservers.splice(i,1),this.fileObservers.length||this.extensionMap.forEach(s=>{s.watcher&&s.fileMetadata.type===e&&(s.watcher.close(),delete s.watcher)}))}saveToJson(){return Array.from(this.extensionMap.entries()).map(([e,{path:r,lastKnownName:i,lastKnownPluginId:s,fileMetadata:o,cachedContainsWidget:a}])=>({id:e,manifestPath:r,lastKnownName:i,lastKnownPluginId:s,fileMetadata:o,cachedContainsWidget:a}))}loadFromJson(e){let r=[];if(Array.isArray(e))for(let i of e){let s={type:Bt.MANIFEST,codeFileId:null,uiFileIds:null};Object.prototype.hasOwnProperty.call(i,"fileMetadata")?i.fileMetadata.type===Bt.CODE||i.fileMetadata.type===Bt.UI||i.fileMetadata.type===Bt.MANIFEST&&i.fileMetadata.codeFileId?s=i.fileMetadata:(i.fileMetadata.type===Bt.MANIFEST&&!i.fileMetadata.codeFileId||i.fileMetadata.type===Bt.MANIFEST&&!i.fileMetadata.uiFileIds)&&r.push(i.id):r.push(i.id),typeof i.id=="number"&&Math.trunc(i.id)===i.id&&typeof i.manifestPath=="string"&&this.extensionMap.set(i.id,{path:i.manifestPath,lastKnownName:i.lastKnownName,lastKnownPluginId:i.lastKnownPluginId,cachedContainsWidget:i.cachedContainsWidget,fileMetadata:s})}r.forEach(i=>{let s=this.extensionMap.get(i);if(s){let o=s.fileMetadata;this.addOrUpdateFileEntryForManifest(i,o)}})}parseManifestString(e){try{return JSON.parse(e)}catch(r){return this.log.error(`Unable to parse manifest string: ${r}`),null}}removeFileEntry(e){let r=this.extensionMap.get(e);r&&(r.watcher&&(r.watcher.close(),delete r.watcher),this.extensionMap.delete(e))}addOrUpdateFileEntry(e,r,i,s){return r?this.removeFileEntry(r):r=this.generateFileId(),this.attachObserverToFile(r,e,{type:i,manifestFileId:s}),r}addOrUpdateFileEntryForManifest(e,r){return this.loadExtensionManifest(e).then(i=>{var s,o,a;try{if(Object.prototype.hasOwnProperty.call(i,"manifest")){let u=this.extensionMap.get(e),d=this.parseManifestString(i.manifest);if(d){let p=bn.join(bn.dirname(u.path),d.main),m=u.fileMetadata.codeFileId;m=this.addOrUpdateFileEntry(p,m,Bt.CODE,e);let f=(s=u.fileMetadata.uiFileIds)!==null&&s!==void 0?s:[],y=typeof d.ui=="string"?[d.ui]:Object.values((o=d.ui)!==null&&o!==void 0?o:{});if(f.length>y.length)for(let A=y.length;A<f.length;A++)this.removeFileEntry(f[A]);let v=[];for(let A=0;A<y.length;A++){let k=y[A],U=bn.join(bn.dirname(u.path),k),$=(a=f[A])!==null&&a!==void 0?a:null;$=this.addOrUpdateFileEntry(U,$,Bt.UI,e),v.push($)}let O=this.extensionMap.get(e);r.codeFileId=m,r.uiFileIds=v,this.extensionMap.set(e,{fileMetadata:r,...O})}}}catch(u){this.log.error(`Received an invalid manifest when loading manifest: ${u}`)}})}notifyManifestObservers(e){this.manifestObservers.forEach(r=>{try{r(e)}catch(i){this.log.error(i)}})}manifestFileWatcher(e){this.loadExtensionManifest(e).then(r=>{if(this.notifyManifestObservers({type:"changed",id:e,localLoadResult:r}),Object.prototype.hasOwnProperty.call(r,"manifest")){let s=this.extensionMap.get(e).fileMetadata;this.addOrUpdateFileEntryForManifest(e,s)}})}notifyFileObservers(e,r){this.fileObservers.forEach(i=>{try{i(e)}catch(s){this.log.error(s)}})}fileWatcher(e,r,i){this.notifyFileObservers({type:"changed",id:e,manifestFileId:r},i)}async processEntry({entryPath:e,depth:r,topLevel:i,added:s,existed:o}){if((await jo.stat(e)).isDirectory()&&r>0){let u=await jo.readdir(e);u=u.filter(d=>d[0]!=="."),await Promise.all(u.map(d=>this.processEntry({entryPath:bn.resolve(e,d),depth:r-1,topLevel:!1,added:s,existed:o})))}else if(bn.basename(e)===this.MANIFEST_FILE_NAME){let u=this.addManifestPath(e);u.existed?o.push(u.id):s.push(u.id)}else if(i)throw new Error("Manifest must be named 'manifest.json'")}isSubdirOf(e,r){let i=bn.relative(e,r);return i&&!i.startsWith("..")&&!bn.isAbsolute(i)}async getLocalFileExtensionSource(e,r){let i=this.getPath(e),s=JSON.parse(await jo.readFile(i,{encoding:"utf8"})),o=bn.dirname(i),a={stdout:"",stderr:"",path:""};if(s.build&&typeof s.build=="string"&&(a.path=process.env.PATH||"",await new Promise(m=>{(0,qtt.exec)(s.build,{cwd:o},(f,y,v)=>{a.stdout=y,a.stderr=v,f&&(a.buildErrCode=f.code),m()})}),a.buildErrCode))return a;let u=async(m,f)=>{let y=f?s[m][f]:s[m],v=f?m+"."+f:m;if(!y)return;if(typeof y!="string")throw new Error(`Manifest "${v}" property must be a string`);let O=bn.resolve(o,y);if(r&&(await jo.lstat(O)).isSymbolicLink())throw new Error(`Manifest "${v}" file must not be a symlink`);if(!this.isSubdirOf(o,O))throw new Error(`Manifest "${v}" file must be located in same directory, or a subdirectory, as manifest`);return jo.readFile(O,{encoding:"utf8"})},d=async m=>{if(!s[m])return;if(typeof s[m]!="object")throw new Error(`Manifest "${m}" property must be an object`);let f={},y=[],v=Object.keys(s[m]);for(let O of v)y.push(u(m,O));return await Promise.all(y).then(O=>{for(let A=0;A<v.length;A++){let k=v[A],U=O[A];U&&(f[k]=U)}}),f};if(a.source=await u("main"),a.source||(a.source=await u("script")),!a.source)throw new Error("Missing or empty script");let p;return typeof s.ui=="string"?p=await u("ui"):p=await d("ui"),p||(p=await u("html")),p&&(a.html=p),a}async writeExtensionDirectory(e,r,i,s){let o=bn.basename(e);if(!o)throw new Error("Invalid directory name");if(i.name||(i.name=o,s.content=JSON.stringify(i,void 0,2)),await jo.pathExists(e))throw new Error("Overwriting existing files or directories not supported");await jo.ensureDir(e),r.name=e;let a=[["",r]];for(;a.length!==0;){let u=a.pop(),d=bn.join(u[0],u[1].name);await jo.ensureDir(d),u[1].dirs.forEach(p=>{a.push([d,p])}),await Promise.all(u[1].files.map(p=>jo.writeFile(bn.join(d,p.name),p.content,{encoding:"utf8"})))}}sanitizeFileName(e){let r=/[/?<>\\:*|":]/g,i=/[\x00-\x1f\x80-\x9f]/g,s=/^\.+$/,o=/^(con|prn|aux|nul|com[0-9]|lpt[0-9])(\..*)?$/i,a=/[. ]+$/;return e.replace(r,"").replace(i,"").replace(s,"").replace(o,"").replace(a,"")}validateManifestOrThrow(e){if(typeof e.content!="string")throw new Error("Manifest must be a string");let r=JSON.parse(e.content);if(typeof r!="object"||r===null)throw new Error("Manifest must be a JSON object");if(r.build)throw new Error(`Manifest 'build' value "${r.build}" not allowed`);return{manifest:r,manifestFile:e}}fileNameAllowed(e){return this.fileNameAllowList.includes(e)?!0:this.fileExtensionAllowlist.includes(bn.extname(e))&&/^\w+(?:\.\w+)*\.\w+/.test(e)&&e===this.sanitizeFileName(e)}validateExtensionDirectory(e){let r=null,i=null,s=new Set,o=new Set;for(let u of e.files)u.name===this.MANIFEST_FILE_NAME&&({manifest:r,manifestFile:i}=this.validateManifestOrThrow(u));let a=[e];for(;a.length!==0;){let u=a.pop();o.add(u.name),u.files.forEach(d=>s.add(d.name)),a.push(...u.dirs)}for(let u of s)if(!this.fileNameAllowed(u))throw new Error(`Filename "${u}" not allowed`);for(let u of o)if(u!==this.sanitizeFileName(u))throw new Error(`Dirname "${u}" not allowed`);if(r==null||i==null)throw new Error("No manifest found");return{manifest:r,manifestFile:i}}};cs.LocalFileExtensionRegistry=dV});var sge=_(_A=>{"use strict";Object.defineProperty(_A,"__esModule",{value:!0});_A.LocalFileExtensionRegistry=void 0;var Btt=pV();Object.defineProperty(_A,"LocalFileExtensionRegistry",{enumerable:!0,get:function(){return Btt.LocalFileExtensionRegistry}})});var Dge=_((Em,Eh)=>{(function(){var t,e="4.17.21",r=200,i="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",o="Invalid `variable` option passed into `_.template`",a="__lodash_hash_undefined__",u=500,d="__lodash_placeholder__",p=1,m=2,f=4,y=1,v=2,O=1,A=2,k=4,U=8,$=16,R=32,z=64,fe=128,Q=256,be=512,ae=30,re="...",ve=800,K=16,Ae=1,Ce=2,Ue=3,C=1/0,N=9007199254740991,ce=17976931348623157e292,se=0/0,De=4294967295,Re=De-1,Ot=De>>>1,Yt=[["ary",fe],["bind",O],["bindKey",A],["curry",U],["curryRight",$],["flip",be],["partial",R],["partialRight",z],["rearg",Q]],Ti="[object Arguments]",xr="[object Array]",cr="[object AsyncFunction]",Xe="[object Boolean]",mi="[object Date]",Pr="[object DOMException]",Oe="[object Error]",At="[object Function]",xe="[object GeneratorFunction]",qe="[object Map]",jt="[object Number]",Ur="[object Null]",Tt="[object Object]",Ci="[object Promise]",qa="[object Proxy]",Ba="[object RegExp]",gi="[object Set]",Co="[object String]",Wa="[object Symbol]",Rm="[object Undefined]",Ga="[object WeakMap]",Mh="[object WeakSet]",Ha="[object ArrayBuffer]",Eo="[object DataView]",oc="[object Float32Array]",ac="[object Float64Array]",lc="[object Int8Array]",uc="[object Int16Array]",dc="[object Int32Array]",cc="[object Uint8Array]",pc="[object Uint8ClampedArray]",mc="[object Uint16Array]",fu="[object Uint32Array]",kA=/\b__p \+= '';/g,wA=/\b(__p \+=) '' \+/g,Mm=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Um=/&(?:amp|lt|gt|quot|#39);/g,Uh=/[&<>"']/g,Us=RegExp(Um.source),RA=RegExp(Uh.source),MA=/<%-([\s\S]+?)%>/g,Lh=/<%([\s\S]+?)%>/g,Nh=/<%=([\s\S]+?)%>/g,UA=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,LA=/^\w*$/,NA=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Lm=/[\\^$.*+?()[\]{}|]/g,VA=RegExp(Lm.source),Nm=/^\s+/,qA=/\s/,BA=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,WA=/\{\n\/\* \[wrapped with (.+)\] \*/,Vh=/,? & /,GA=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,HA=/[()=,{}\[\]\/\s]/,KA=/\\(\\)?/g,$A=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,qh=/\w*$/,zA=/^[-+]0x[0-9a-f]+$/i,YA=/^0b[01]+$/i,QA=/^\[object .+?Constructor\]$/,JA=/^0o[0-7]+$/i,XA=/^(?:0|[1-9]\d*)$/,ZA=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,gc=/($^)/,eF=/['\n\r\u2028\u2029\\]/g,fc="\\ud800-\\udfff",tF="\\u0300-\\u036f",Bh="\\ufe20-\\ufe2f",bu="\\u20d0-\\u20ff",Vm=tF+Bh+bu,ko="\\u2700-\\u27bf",Wh="a-z\\xdf-\\xf6\\xf8-\\xff",bc="\\xac\\xb1\\xd7\\xf7",qm="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",rF="\\u2000-\\u206f",iF=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",yc="A-Z\\xc0-\\xd6\\xd8-\\xde",Gh="\\ufe0e\\ufe0f",Hh=bc+qm+rF+iF,P="['\u2019]",M="["+fc+"]",T="["+Hh+"]",q="["+Vm+"]",G="\\d+",V="["+ko+"]",te="["+Wh+"]",pe="[^"+fc+Hh+G+ko+Wh+yc+"]",me="\\ud83c[\\udffb-\\udfff]",ye="(?:"+q+"|"+me+")",he="[^"+fc+"]",Ee="(?:\\ud83c[\\udde6-\\uddff]){2}",dt="[\\ud800-\\udbff][\\udc00-\\udfff]",yt="["+yc+"]",Ft="\\u200d",pr="(?:"+te+"|"+pe+")",mr="(?:"+yt+"|"+pe+")",Ei="(?:"+P+"(?:d|ll|m|re|s|t|ve))?",Ka="(?:"+P+"(?:D|LL|M|RE|S|T|VE))?",hc=ye+"?",Kh="["+Gh+"]?",Bm="(?:"+Ft+"(?:"+[he,Ee,dt].join("|")+")"+Kh+hc+")*",PV="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",nF="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",$h=Kh+hc+Bm,zh="(?:"+[V,Ee,dt].join("|")+")"+$h,Qge="(?:"+[he+q+"?",q,Ee,dt,M].join("|")+")",Jge=RegExp(P,"g"),Xge=RegExp(q,"g"),sF=RegExp(me+"(?="+me+")|"+Qge+$h,"g"),Zge=RegExp([yt+"?"+te+"+"+Ei+"(?="+[T,yt,"$"].join("|")+")",mr+"+"+Ka+"(?="+[T,yt+pr,"$"].join("|")+")",yt+"?"+pr+"+"+Ei,yt+"+"+Ka,nF,PV,G,zh].join("|"),"g"),efe=RegExp("["+Ft+fc+Vm+Gh+"]"),tfe=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,rfe=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ife=-1,Qt={};Qt[oc]=Qt[ac]=Qt[lc]=Qt[uc]=Qt[dc]=Qt[cc]=Qt[pc]=Qt[mc]=Qt[fu]=!0,Qt[Ti]=Qt[xr]=Qt[Ha]=Qt[Xe]=Qt[Eo]=Qt[mi]=Qt[Oe]=Qt[At]=Qt[qe]=Qt[jt]=Qt[Tt]=Qt[Ba]=Qt[gi]=Qt[Co]=Qt[Ga]=!1;var $t={};$t[Ti]=$t[xr]=$t[Ha]=$t[Eo]=$t[Xe]=$t[mi]=$t[oc]=$t[ac]=$t[lc]=$t[uc]=$t[dc]=$t[qe]=$t[jt]=$t[Tt]=$t[Ba]=$t[gi]=$t[Co]=$t[Wa]=$t[cc]=$t[pc]=$t[mc]=$t[fu]=!0,$t[Oe]=$t[At]=$t[Ga]=!1;var nfe={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},sfe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ofe={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},afe={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},lfe=parseFloat,ufe=parseInt,jV=typeof global=="object"&&global&&global.Object===Object&&global,dfe=typeof self=="object"&&self&&self.Object===Object&&self,Kr=jV||dfe||Function("return this")(),oF=typeof Em=="object"&&Em&&!Em.nodeType&&Em,yu=oF&&typeof Eh=="object"&&Eh&&!Eh.nodeType&&Eh,TV=yu&&yu.exports===oF,aF=TV&&jV.process,Ln=function(){try{var B=yu&&yu.require&&yu.require("util").types;return B||aF&&aF.binding&&aF.binding("util")}catch{}}(),CV=Ln&&Ln.isArrayBuffer,EV=Ln&&Ln.isDate,kV=Ln&&Ln.isMap,wV=Ln&&Ln.isRegExp,RV=Ln&&Ln.isSet,MV=Ln&&Ln.isTypedArray;function yn(B,Z,Y){switch(Y.length){case 0:return B.call(Z);case 1:return B.call(Z,Y[0]);case 2:return B.call(Z,Y[0],Y[1]);case 3:return B.call(Z,Y[0],Y[1],Y[2])}return B.apply(Z,Y)}function cfe(B,Z,Y,Fe){for(var ot=-1,Ct=B==null?0:B.length;++ot<Ct;){var Lr=B[ot];Z(Fe,Lr,Y(Lr),B)}return Fe}function Nn(B,Z){for(var Y=-1,Fe=B==null?0:B.length;++Y<Fe&&Z(B[Y],Y,B)!==!1;);return B}function pfe(B,Z){for(var Y=B==null?0:B.length;Y--&&Z(B[Y],Y,B)!==!1;);return B}function UV(B,Z){for(var Y=-1,Fe=B==null?0:B.length;++Y<Fe;)if(!Z(B[Y],Y,B))return!1;return!0}function $a(B,Z){for(var Y=-1,Fe=B==null?0:B.length,ot=0,Ct=[];++Y<Fe;){var Lr=B[Y];Z(Lr,Y,B)&&(Ct[ot++]=Lr)}return Ct}function Yh(B,Z){var Y=B==null?0:B.length;return!!Y&&Ic(B,Z,0)>-1}function lF(B,Z,Y){for(var Fe=-1,ot=B==null?0:B.length;++Fe<ot;)if(Y(Z,B[Fe]))return!0;return!1}function ir(B,Z){for(var Y=-1,Fe=B==null?0:B.length,ot=Array(Fe);++Y<Fe;)ot[Y]=Z(B[Y],Y,B);return ot}function za(B,Z){for(var Y=-1,Fe=Z.length,ot=B.length;++Y<Fe;)B[ot+Y]=Z[Y];return B}function uF(B,Z,Y,Fe){var ot=-1,Ct=B==null?0:B.length;for(Fe&&Ct&&(Y=B[++ot]);++ot<Ct;)Y=Z(Y,B[ot],ot,B);return Y}function mfe(B,Z,Y,Fe){var ot=B==null?0:B.length;for(Fe&&ot&&(Y=B[--ot]);ot--;)Y=Z(Y,B[ot],ot,B);return Y}function dF(B,Z){for(var Y=-1,Fe=B==null?0:B.length;++Y<Fe;)if(Z(B[Y],Y,B))return!0;return!1}var gfe=cF("length");function ffe(B){return B.split("")}function bfe(B){return B.match(GA)||[]}function LV(B,Z,Y){var Fe;return Y(B,function(ot,Ct,Lr){if(Z(ot,Ct,Lr))return Fe=Ct,!1}),Fe}function Qh(B,Z,Y,Fe){for(var ot=B.length,Ct=Y+(Fe?1:-1);Fe?Ct--:++Ct<ot;)if(Z(B[Ct],Ct,B))return Ct;return-1}function Ic(B,Z,Y){return Z===Z?Pfe(B,Z,Y):Qh(B,NV,Y)}function yfe(B,Z,Y,Fe){for(var ot=Y-1,Ct=B.length;++ot<Ct;)if(Fe(B[ot],Z))return ot;return-1}function NV(B){return B!==B}function VV(B,Z){var Y=B==null?0:B.length;return Y?mF(B,Z)/Y:se}function cF(B){return function(Z){return Z==null?t:Z[B]}}function pF(B){return function(Z){return B==null?t:B[Z]}}function qV(B,Z,Y,Fe,ot){return ot(B,function(Ct,Lr,Wt){Y=Fe?(Fe=!1,Ct):Z(Y,Ct,Lr,Wt)}),Y}function hfe(B,Z){var Y=B.length;for(B.sort(Z);Y--;)B[Y]=B[Y].value;return B}function mF(B,Z){for(var Y,Fe=-1,ot=B.length;++Fe<ot;){var Ct=Z(B[Fe]);Ct!==t&&(Y=Y===t?Ct:Y+Ct)}return Y}function gF(B,Z){for(var Y=-1,Fe=Array(B);++Y<B;)Fe[Y]=Z(Y);return Fe}function Ife(B,Z){return ir(Z,function(Y){return[Y,B[Y]]})}function BV(B){return B&&B.slice(0,KV(B)+1).replace(Nm,"")}function hn(B){return function(Z){return B(Z)}}function fF(B,Z){return ir(Z,function(Y){return B[Y]})}function Wm(B,Z){return B.has(Z)}function WV(B,Z){for(var Y=-1,Fe=B.length;++Y<Fe&&Ic(Z,B[Y],0)>-1;);return Y}function GV(B,Z){for(var Y=B.length;Y--&&Ic(Z,B[Y],0)>-1;);return Y}function xfe(B,Z){for(var Y=B.length,Fe=0;Y--;)B[Y]===Z&&++Fe;return Fe}var _fe=pF(nfe),vfe=pF(sfe);function Ofe(B){return"\\"+afe[B]}function Sfe(B,Z){return B==null?t:B[Z]}function xc(B){return efe.test(B)}function Dfe(B){return tfe.test(B)}function Afe(B){for(var Z,Y=[];!(Z=B.next()).done;)Y.push(Z.value);return Y}function bF(B){var Z=-1,Y=Array(B.size);return B.forEach(function(Fe,ot){Y[++Z]=[ot,Fe]}),Y}function HV(B,Z){return function(Y){return B(Z(Y))}}function Ya(B,Z){for(var Y=-1,Fe=B.length,ot=0,Ct=[];++Y<Fe;){var Lr=B[Y];(Lr===Z||Lr===d)&&(B[Y]=d,Ct[ot++]=Y)}return Ct}function Jh(B){var Z=-1,Y=Array(B.size);return B.forEach(function(Fe){Y[++Z]=Fe}),Y}function Ffe(B){var Z=-1,Y=Array(B.size);return B.forEach(function(Fe){Y[++Z]=[Fe,Fe]}),Y}function Pfe(B,Z,Y){for(var Fe=Y-1,ot=B.length;++Fe<ot;)if(B[Fe]===Z)return Fe;return-1}function jfe(B,Z,Y){for(var Fe=Y+1;Fe--;)if(B[Fe]===Z)return Fe;return Fe}function _c(B){return xc(B)?Cfe(B):gfe(B)}function ms(B){return xc(B)?Efe(B):ffe(B)}function KV(B){for(var Z=B.length;Z--&&qA.test(B.charAt(Z)););return Z}var Tfe=pF(ofe);function Cfe(B){for(var Z=sF.lastIndex=0;sF.test(B);)++Z;return Z}function Efe(B){return B.match(sF)||[]}function kfe(B){return B.match(Zge)||[]}var wfe=function B(Z){Z=Z==null?Kr:Qa.defaults(Kr.Object(),Z,Qa.pick(Kr,rfe));var Y=Z.Array,Fe=Z.Date,ot=Z.Error,Ct=Z.Function,Lr=Z.Math,Wt=Z.Object,yF=Z.RegExp,Rfe=Z.String,Vn=Z.TypeError,Xh=Y.prototype,Mfe=Ct.prototype,vc=Wt.prototype,Zh=Z["__core-js_shared__"],eI=Mfe.toString,Ut=vc.hasOwnProperty,Ufe=0,$V=function(){var l=/[^.]+$/.exec(Zh&&Zh.keys&&Zh.keys.IE_PROTO||"");return l?"Symbol(src)_1."+l:""}(),tI=vc.toString,Lfe=eI.call(Wt),Nfe=Kr._,Vfe=yF("^"+eI.call(Ut).replace(Lm,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),rI=TV?Z.Buffer:t,Ja=Z.Symbol,iI=Z.Uint8Array,zV=rI?rI.allocUnsafe:t,nI=HV(Wt.getPrototypeOf,Wt),YV=Wt.create,QV=vc.propertyIsEnumerable,sI=Xh.splice,JV=Ja?Ja.isConcatSpreadable:t,Gm=Ja?Ja.iterator:t,hu=Ja?Ja.toStringTag:t,oI=function(){try{var l=Ou(Wt,"defineProperty");return l({},"",{}),l}catch{}}(),qfe=Z.clearTimeout!==Kr.clearTimeout&&Z.clearTimeout,Bfe=Fe&&Fe.now!==Kr.Date.now&&Fe.now,Wfe=Z.setTimeout!==Kr.setTimeout&&Z.setTimeout,aI=Lr.ceil,lI=Lr.floor,hF=Wt.getOwnPropertySymbols,Gfe=rI?rI.isBuffer:t,XV=Z.isFinite,Hfe=Xh.join,Kfe=HV(Wt.keys,Wt),Nr=Lr.max,fi=Lr.min,$fe=Fe.now,zfe=Z.parseInt,ZV=Lr.random,Yfe=Xh.reverse,IF=Ou(Z,"DataView"),Hm=Ou(Z,"Map"),xF=Ou(Z,"Promise"),Oc=Ou(Z,"Set"),Km=Ou(Z,"WeakMap"),$m=Ou(Wt,"create"),uI=Km&&new Km,Sc={},Qfe=Su(IF),Jfe=Su(Hm),Xfe=Su(xF),Zfe=Su(Oc),ebe=Su(Km),dI=Ja?Ja.prototype:t,zm=dI?dI.valueOf:t,e1=dI?dI.toString:t;function F(l){if(_r(l)&&!lt(l)&&!(l instanceof It)){if(l instanceof qn)return l;if(Ut.call(l,"__wrapped__"))return tq(l)}return new qn(l)}var Dc=function(){function l(){}return function(c){if(!gr(c))return{};if(YV)return YV(c);l.prototype=c;var g=new l;return l.prototype=t,g}}();function cI(){}function qn(l,c){this.__wrapped__=l,this.__actions__=[],this.__chain__=!!c,this.__index__=0,this.__values__=t}F.templateSettings={escape:MA,evaluate:Lh,interpolate:Nh,variable:"",imports:{_:F}},F.prototype=cI.prototype,F.prototype.constructor=F,qn.prototype=Dc(cI.prototype),qn.prototype.constructor=qn;function It(l){this.__wrapped__=l,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=De,this.__views__=[]}function tbe(){var l=new It(this.__wrapped__);return l.__actions__=$i(this.__actions__),l.__dir__=this.__dir__,l.__filtered__=this.__filtered__,l.__iteratees__=$i(this.__iteratees__),l.__takeCount__=this.__takeCount__,l.__views__=$i(this.__views__),l}function rbe(){if(this.__filtered__){var l=new It(this);l.__dir__=-1,l.__filtered__=!0}else l=this.clone(),l.__dir__*=-1;return l}function ibe(){var l=this.__wrapped__.value(),c=this.__dir__,g=lt(l),I=c<0,S=g?l.length:0,j=fye(0,S,this.__views__),E=j.start,L=j.end,W=L-E,ne=I?L:E-1,oe=this.__iteratees__,de=oe.length,Se=0,we=fi(W,this.__takeCount__);if(!g||!I&&S==W&&we==W)return S1(l,this.__actions__);var ze=[];e:for(;W--&&Se<we;){ne+=c;for(var mt=-1,Ye=l[ne];++mt<de;){var ht=oe[mt],xt=ht.iteratee,_n=ht.type,Ri=xt(Ye);if(_n==Ce)Ye=Ri;else if(!Ri){if(_n==Ae)continue e;break e}}ze[Se++]=Ye}return ze}It.prototype=Dc(cI.prototype),It.prototype.constructor=It;function Iu(l){var c=-1,g=l==null?0:l.length;for(this.clear();++c<g;){var I=l[c];this.set(I[0],I[1])}}function nbe(){this.__data__=$m?$m(null):{},this.size=0}function sbe(l){var c=this.has(l)&&delete this.__data__[l];return this.size-=c?1:0,c}function obe(l){var c=this.__data__;if($m){var g=c[l];return g===a?t:g}return Ut.call(c,l)?c[l]:t}function abe(l){var c=this.__data__;return $m?c[l]!==t:Ut.call(c,l)}function lbe(l,c){var g=this.__data__;return this.size+=this.has(l)?0:1,g[l]=$m&&c===t?a:c,this}Iu.prototype.clear=nbe,Iu.prototype.delete=sbe,Iu.prototype.get=obe,Iu.prototype.has=abe,Iu.prototype.set=lbe;function wo(l){var c=-1,g=l==null?0:l.length;for(this.clear();++c<g;){var I=l[c];this.set(I[0],I[1])}}function ube(){this.__data__=[],this.size=0}function dbe(l){var c=this.__data__,g=pI(c,l);if(g<0)return!1;var I=c.length-1;return g==I?c.pop():sI.call(c,g,1),--this.size,!0}function cbe(l){var c=this.__data__,g=pI(c,l);return g<0?t:c[g][1]}function pbe(l){return pI(this.__data__,l)>-1}function mbe(l,c){var g=this.__data__,I=pI(g,l);return I<0?(++this.size,g.push([l,c])):g[I][1]=c,this}wo.prototype.clear=ube,wo.prototype.delete=dbe,wo.prototype.get=cbe,wo.prototype.has=pbe,wo.prototype.set=mbe;function Ro(l){var c=-1,g=l==null?0:l.length;for(this.clear();++c<g;){var I=l[c];this.set(I[0],I[1])}}function gbe(){this.size=0,this.__data__={hash:new Iu,map:new(Hm||wo),string:new Iu}}function fbe(l){var c=SI(this,l).delete(l);return this.size-=c?1:0,c}function bbe(l){return SI(this,l).get(l)}function ybe(l){return SI(this,l).has(l)}function hbe(l,c){var g=SI(this,l),I=g.size;return g.set(l,c),this.size+=g.size==I?0:1,this}Ro.prototype.clear=gbe,Ro.prototype.delete=fbe,Ro.prototype.get=bbe,Ro.prototype.has=ybe,Ro.prototype.set=hbe;function xu(l){var c=-1,g=l==null?0:l.length;for(this.__data__=new Ro;++c<g;)this.add(l[c])}function Ibe(l){return this.__data__.set(l,a),this}function xbe(l){return this.__data__.has(l)}xu.prototype.add=xu.prototype.push=Ibe,xu.prototype.has=xbe;function gs(l){var c=this.__data__=new wo(l);this.size=c.size}function _be(){this.__data__=new wo,this.size=0}function vbe(l){var c=this.__data__,g=c.delete(l);return this.size=c.size,g}function Obe(l){return this.__data__.get(l)}function Sbe(l){return this.__data__.has(l)}function Dbe(l,c){var g=this.__data__;if(g instanceof wo){var I=g.__data__;if(!Hm||I.length<r-1)return I.push([l,c]),this.size=++g.size,this;g=this.__data__=new Ro(I)}return g.set(l,c),this.size=g.size,this}gs.prototype.clear=_be,gs.prototype.delete=vbe,gs.prototype.get=Obe,gs.prototype.has=Sbe,gs.prototype.set=Dbe;function t1(l,c){var g=lt(l),I=!g&&Du(l),S=!g&&!I&&rl(l),j=!g&&!I&&!S&&jc(l),E=g||I||S||j,L=E?gF(l.length,Rfe):[],W=L.length;for(var ne in l)(c||Ut.call(l,ne))&&!(E&&(ne=="length"||S&&(ne=="offset"||ne=="parent")||j&&(ne=="buffer"||ne=="byteLength"||ne=="byteOffset")||No(ne,W)))&&L.push(ne);return L}function r1(l){var c=l.length;return c?l[CF(0,c-1)]:t}function Abe(l,c){return DI($i(l),_u(c,0,l.length))}function Fbe(l){return DI($i(l))}function _F(l,c,g){(g!==t&&!fs(l[c],g)||g===t&&!(c in l))&&Mo(l,c,g)}function Ym(l,c,g){var I=l[c];(!(Ut.call(l,c)&&fs(I,g))||g===t&&!(c in l))&&Mo(l,c,g)}function pI(l,c){for(var g=l.length;g--;)if(fs(l[g][0],c))return g;return-1}function Pbe(l,c,g,I){return Xa(l,function(S,j,E){c(I,S,g(S),E)}),I}function i1(l,c){return l&&Ns(c,$r(c),l)}function jbe(l,c){return l&&Ns(c,Yi(c),l)}function Mo(l,c,g){c=="__proto__"&&oI?oI(l,c,{configurable:!0,enumerable:!0,value:g,writable:!0}):l[c]=g}function vF(l,c){for(var g=-1,I=c.length,S=Y(I),j=l==null;++g<I;)S[g]=j?t:rP(l,c[g]);return S}function _u(l,c,g){return l===l&&(g!==t&&(l=l<=g?l:g),c!==t&&(l=l>=c?l:c)),l}function Bn(l,c,g,I,S,j){var E,L=c&p,W=c&m,ne=c&f;if(g&&(E=S?g(l,I,S,j):g(l)),E!==t)return E;if(!gr(l))return l;var oe=lt(l);if(oe){if(E=yye(l),!L)return $i(l,E)}else{var de=bi(l),Se=de==At||de==xe;if(rl(l))return F1(l,L);if(de==Tt||de==Ti||Se&&!S){if(E=W||Se?{}:K1(l),!L)return W?oye(l,jbe(E,l)):sye(l,i1(E,l))}else{if(!$t[de])return S?l:{};E=hye(l,de,L)}}j||(j=new gs);var we=j.get(l);if(we)return we;j.set(l,E),_q(l)?l.forEach(function(Ye){E.add(Bn(Ye,c,g,Ye,l,j))}):Iq(l)&&l.forEach(function(Ye,ht){E.set(ht,Bn(Ye,c,g,ht,l,j))});var ze=ne?W?BF:qF:W?Yi:$r,mt=oe?t:ze(l);return Nn(mt||l,function(Ye,ht){mt&&(ht=Ye,Ye=l[ht]),Ym(E,ht,Bn(Ye,c,g,ht,l,j))}),E}function Tbe(l){var c=$r(l);return function(g){return n1(g,l,c)}}function n1(l,c,g){var I=g.length;if(l==null)return!I;for(l=Wt(l);I--;){var S=g[I],j=c[S],E=l[S];if(E===t&&!(S in l)||!j(E))return!1}return!0}function s1(l,c,g){if(typeof l!="function")throw new Vn(s);return rg(function(){l.apply(t,g)},c)}function Qm(l,c,g,I){var S=-1,j=Yh,E=!0,L=l.length,W=[],ne=c.length;if(!L)return W;g&&(c=ir(c,hn(g))),I?(j=lF,E=!1):c.length>=r&&(j=Wm,E=!1,c=new xu(c));e:for(;++S<L;){var oe=l[S],de=g==null?oe:g(oe);if(oe=I||oe!==0?oe:0,E&&de===de){for(var Se=ne;Se--;)if(c[Se]===de)continue e;W.push(oe)}else j(c,de,I)||W.push(oe)}return W}var Xa=E1(Ls),o1=E1(SF,!0);function Cbe(l,c){var g=!0;return Xa(l,function(I,S,j){return g=!!c(I,S,j),g}),g}function mI(l,c,g){for(var I=-1,S=l.length;++I<S;){var j=l[I],E=c(j);if(E!=null&&(L===t?E===E&&!xn(E):g(E,L)))var L=E,W=j}return W}function Ebe(l,c,g,I){var S=l.length;for(g=pt(g),g<0&&(g=-g>S?0:S+g),I=I===t||I>S?S:pt(I),I<0&&(I+=S),I=g>I?0:Oq(I);g<I;)l[g++]=c;return l}function a1(l,c){var g=[];return Xa(l,function(I,S,j){c(I,S,j)&&g.push(I)}),g}function ii(l,c,g,I,S){var j=-1,E=l.length;for(g||(g=xye),S||(S=[]);++j<E;){var L=l[j];c>0&&g(L)?c>1?ii(L,c-1,g,I,S):za(S,L):I||(S[S.length]=L)}return S}var OF=k1(),l1=k1(!0);function Ls(l,c){return l&&OF(l,c,$r)}function SF(l,c){return l&&l1(l,c,$r)}function gI(l,c){return $a(c,function(g){return Vo(l[g])})}function vu(l,c){c=el(c,l);for(var g=0,I=c.length;l!=null&&g<I;)l=l[Vs(c[g++])];return g&&g==I?l:t}function u1(l,c,g){var I=c(l);return lt(l)?I:za(I,g(l))}function ki(l){return l==null?l===t?Rm:Ur:hu&&hu in Wt(l)?gye(l):Fye(l)}function DF(l,c){return l>c}function kbe(l,c){return l!=null&&Ut.call(l,c)}function wbe(l,c){return l!=null&&c in Wt(l)}function Rbe(l,c,g){return l>=fi(c,g)&&l<Nr(c,g)}function AF(l,c,g){for(var I=g?lF:Yh,S=l[0].length,j=l.length,E=j,L=Y(j),W=1/0,ne=[];E--;){var oe=l[E];E&&c&&(oe=ir(oe,hn(c))),W=fi(oe.length,W),L[E]=!g&&(c||S>=120&&oe.length>=120)?new xu(E&&oe):t}oe=l[0];var de=-1,Se=L[0];e:for(;++de<S&&ne.length<W;){var we=oe[de],ze=c?c(we):we;if(we=g||we!==0?we:0,!(Se?Wm(Se,ze):I(ne,ze,g))){for(E=j;--E;){var mt=L[E];if(!(mt?Wm(mt,ze):I(l[E],ze,g)))continue e}Se&&Se.push(ze),ne.push(we)}}return ne}function Mbe(l,c,g,I){return Ls(l,function(S,j,E){c(I,g(S),j,E)}),I}function Jm(l,c,g){c=el(c,l),l=Q1(l,c);var I=l==null?l:l[Vs(Gn(c))];return I==null?t:yn(I,l,g)}function d1(l){return _r(l)&&ki(l)==Ti}function Ube(l){return _r(l)&&ki(l)==Ha}function Lbe(l){return _r(l)&&ki(l)==mi}function Xm(l,c,g,I,S){return l===c?!0:l==null||c==null||!_r(l)&&!_r(c)?l!==l&&c!==c:Nbe(l,c,g,I,Xm,S)}function Nbe(l,c,g,I,S,j){var E=lt(l),L=lt(c),W=E?xr:bi(l),ne=L?xr:bi(c);W=W==Ti?Tt:W,ne=ne==Ti?Tt:ne;var oe=W==Tt,de=ne==Tt,Se=W==ne;if(Se&&rl(l)){if(!rl(c))return!1;E=!0,oe=!1}if(Se&&!oe)return j||(j=new gs),E||jc(l)?W1(l,c,g,I,S,j):pye(l,c,W,g,I,S,j);if(!(g&y)){var we=oe&&Ut.call(l,"__wrapped__"),ze=de&&Ut.call(c,"__wrapped__");if(we||ze){var mt=we?l.value():l,Ye=ze?c.value():c;return j||(j=new gs),S(mt,Ye,g,I,j)}}return Se?(j||(j=new gs),mye(l,c,g,I,S,j)):!1}function Vbe(l){return _r(l)&&bi(l)==qe}function FF(l,c,g,I){var S=g.length,j=S,E=!I;if(l==null)return!j;for(l=Wt(l);S--;){var L=g[S];if(E&&L[2]?L[1]!==l[L[0]]:!(L[0]in l))return!1}for(;++S<j;){L=g[S];var W=L[0],ne=l[W],oe=L[1];if(E&&L[2]){if(ne===t&&!(W in l))return!1}else{var de=new gs;if(I)var Se=I(ne,oe,W,l,c,de);if(!(Se===t?Xm(oe,ne,y|v,I,de):Se))return!1}}return!0}function c1(l){if(!gr(l)||vye(l))return!1;var c=Vo(l)?Vfe:QA;return c.test(Su(l))}function qbe(l){return _r(l)&&ki(l)==Ba}function Bbe(l){return _r(l)&&bi(l)==gi}function Wbe(l){return _r(l)&&CI(l.length)&&!!Qt[ki(l)]}function p1(l){return typeof l=="function"?l:l==null?Qi:typeof l=="object"?lt(l)?f1(l[0],l[1]):g1(l):wq(l)}function PF(l){if(!tg(l))return Kfe(l);var c=[];for(var g in Wt(l))Ut.call(l,g)&&g!="constructor"&&c.push(g);return c}function Gbe(l){if(!gr(l))return Aye(l);var c=tg(l),g=[];for(var I in l)I=="constructor"&&(c||!Ut.call(l,I))||g.push(I);return g}function jF(l,c){return l<c}function m1(l,c){var g=-1,I=zi(l)?Y(l.length):[];return Xa(l,function(S,j,E){I[++g]=c(S,j,E)}),I}function g1(l){var c=GF(l);return c.length==1&&c[0][2]?z1(c[0][0],c[0][1]):function(g){return g===l||FF(g,l,c)}}function f1(l,c){return KF(l)&&$1(c)?z1(Vs(l),c):function(g){var I=rP(g,l);return I===t&&I===c?iP(g,l):Xm(c,I,y|v)}}function fI(l,c,g,I,S){l!==c&&OF(c,function(j,E){if(S||(S=new gs),gr(j))Hbe(l,c,E,g,fI,I,S);else{var L=I?I(zF(l,E),j,E+"",l,c,S):t;L===t&&(L=j),_F(l,E,L)}},Yi)}function Hbe(l,c,g,I,S,j,E){var L=zF(l,g),W=zF(c,g),ne=E.get(W);if(ne){_F(l,g,ne);return}var oe=j?j(L,W,g+"",l,c,E):t,de=oe===t;if(de){var Se=lt(W),we=!Se&&rl(W),ze=!Se&&!we&&jc(W);oe=W,Se||we||ze?lt(L)?oe=L:jr(L)?oe=$i(L):we?(de=!1,oe=F1(W,!0)):ze?(de=!1,oe=P1(W,!0)):oe=[]:ig(W)||Du(W)?(oe=L,Du(L)?oe=Sq(L):(!gr(L)||Vo(L))&&(oe=K1(W))):de=!1}de&&(E.set(W,oe),S(oe,W,I,j,E),E.delete(W)),_F(l,g,oe)}function b1(l,c){var g=l.length;if(g)return c+=c<0?g:0,No(c,g)?l[c]:t}function y1(l,c,g){c.length?c=ir(c,function(j){return lt(j)?function(E){return vu(E,j.length===1?j[0]:j)}:j}):c=[Qi];var I=-1;c=ir(c,hn(He()));var S=m1(l,function(j,E,L){var W=ir(c,function(ne){return ne(j)});return{criteria:W,index:++I,value:j}});return hfe(S,function(j,E){return nye(j,E,g)})}function Kbe(l,c){return h1(l,c,function(g,I){return iP(l,I)})}function h1(l,c,g){for(var I=-1,S=c.length,j={};++I<S;){var E=c[I],L=vu(l,E);g(L,E)&&Zm(j,el(E,l),L)}return j}function $be(l){return function(c){return vu(c,l)}}function TF(l,c,g,I){var S=I?yfe:Ic,j=-1,E=c.length,L=l;for(l===c&&(c=$i(c)),g&&(L=ir(l,hn(g)));++j<E;)for(var W=0,ne=c[j],oe=g?g(ne):ne;(W=S(L,oe,W,I))>-1;)L!==l&&sI.call(L,W,1),sI.call(l,W,1);return l}function I1(l,c){for(var g=l?c.length:0,I=g-1;g--;){var S=c[g];if(g==I||S!==j){var j=S;No(S)?sI.call(l,S,1):wF(l,S)}}return l}function CF(l,c){return l+lI(ZV()*(c-l+1))}function zbe(l,c,g,I){for(var S=-1,j=Nr(aI((c-l)/(g||1)),0),E=Y(j);j--;)E[I?j:++S]=l,l+=g;return E}function EF(l,c){var g="";if(!l||c<1||c>N)return g;do c%2&&(g+=l),c=lI(c/2),c&&(l+=l);while(c);return g}function ft(l,c){return YF(Y1(l,c,Qi),l+"")}function Ybe(l){return r1(Tc(l))}function Qbe(l,c){var g=Tc(l);return DI(g,_u(c,0,g.length))}function Zm(l,c,g,I){if(!gr(l))return l;c=el(c,l);for(var S=-1,j=c.length,E=j-1,L=l;L!=null&&++S<j;){var W=Vs(c[S]),ne=g;if(W==="__proto__"||W==="constructor"||W==="prototype")return l;if(S!=E){var oe=L[W];ne=I?I(oe,W,L):t,ne===t&&(ne=gr(oe)?oe:No(c[S+1])?[]:{})}Ym(L,W,ne),L=L[W]}return l}var x1=uI?function(l,c){return uI.set(l,c),l}:Qi,Jbe=oI?function(l,c){return oI(l,"toString",{configurable:!0,enumerable:!1,value:sP(c),writable:!0})}:Qi;function Xbe(l){return DI(Tc(l))}function Wn(l,c,g){var I=-1,S=l.length;c<0&&(c=-c>S?0:S+c),g=g>S?S:g,g<0&&(g+=S),S=c>g?0:g-c>>>0,c>>>=0;for(var j=Y(S);++I<S;)j[I]=l[I+c];return j}function Zbe(l,c){var g;return Xa(l,function(I,S,j){return g=c(I,S,j),!g}),!!g}function bI(l,c,g){var I=0,S=l==null?I:l.length;if(typeof c=="number"&&c===c&&S<=Ot){for(;I<S;){var j=I+S>>>1,E=l[j];E!==null&&!xn(E)&&(g?E<=c:E<c)?I=j+1:S=j}return S}return kF(l,c,Qi,g)}function kF(l,c,g,I){var S=0,j=l==null?0:l.length;if(j===0)return 0;c=g(c);for(var E=c!==c,L=c===null,W=xn(c),ne=c===t;S<j;){var oe=lI((S+j)/2),de=g(l[oe]),Se=de!==t,we=de===null,ze=de===de,mt=xn(de);if(E)var Ye=I||ze;else ne?Ye=ze&&(I||Se):L?Ye=ze&&Se&&(I||!we):W?Ye=ze&&Se&&!we&&(I||!mt):we||mt?Ye=!1:Ye=I?de<=c:de<c;Ye?S=oe+1:j=oe}return fi(j,Re)}function _1(l,c){for(var g=-1,I=l.length,S=0,j=[];++g<I;){var E=l[g],L=c?c(E):E;if(!g||!fs(L,W)){var W=L;j[S++]=E===0?0:E}}return j}function v1(l){return typeof l=="number"?l:xn(l)?se:+l}function In(l){if(typeof l=="string")return l;if(lt(l))return ir(l,In)+"";if(xn(l))return e1?e1.call(l):"";var c=l+"";return c=="0"&&1/l==-C?"-0":c}function Za(l,c,g){var I=-1,S=Yh,j=l.length,E=!0,L=[],W=L;if(g)E=!1,S=lF;else if(j>=r){var ne=c?null:dye(l);if(ne)return Jh(ne);E=!1,S=Wm,W=new xu}else W=c?[]:L;e:for(;++I<j;){var oe=l[I],de=c?c(oe):oe;if(oe=g||oe!==0?oe:0,E&&de===de){for(var Se=W.length;Se--;)if(W[Se]===de)continue e;c&&W.push(de),L.push(oe)}else S(W,de,g)||(W!==L&&W.push(de),L.push(oe))}return L}function wF(l,c){return c=el(c,l),l=Q1(l,c),l==null||delete l[Vs(Gn(c))]}function O1(l,c,g,I){return Zm(l,c,g(vu(l,c)),I)}function yI(l,c,g,I){for(var S=l.length,j=I?S:-1;(I?j--:++j<S)&&c(l[j],j,l););return g?Wn(l,I?0:j,I?j+1:S):Wn(l,I?j+1:0,I?S:j)}function S1(l,c){var g=l;return g instanceof It&&(g=g.value()),uF(c,function(I,S){return S.func.apply(S.thisArg,za([I],S.args))},g)}function RF(l,c,g){var I=l.length;if(I<2)return I?Za(l[0]):[];for(var S=-1,j=Y(I);++S<I;)for(var E=l[S],L=-1;++L<I;)L!=S&&(j[S]=Qm(j[S]||E,l[L],c,g));return Za(ii(j,1),c,g)}function D1(l,c,g){for(var I=-1,S=l.length,j=c.length,E={};++I<S;){var L=I<j?c[I]:t;g(E,l[I],L)}return E}function MF(l){return jr(l)?l:[]}function UF(l){return typeof l=="function"?l:Qi}function el(l,c){return lt(l)?l:KF(l,c)?[l]:eq(wt(l))}var eye=ft;function tl(l,c,g){var I=l.length;return g=g===t?I:g,!c&&g>=I?l:Wn(l,c,g)}var A1=qfe||function(l){return Kr.clearTimeout(l)};function F1(l,c){if(c)return l.slice();var g=l.length,I=zV?zV(g):new l.constructor(g);return l.copy(I),I}function LF(l){var c=new l.constructor(l.byteLength);return new iI(c).set(new iI(l)),c}function tye(l,c){var g=c?LF(l.buffer):l.buffer;return new l.constructor(g,l.byteOffset,l.byteLength)}function rye(l){var c=new l.constructor(l.source,qh.exec(l));return c.lastIndex=l.lastIndex,c}function iye(l){return zm?Wt(zm.call(l)):{}}function P1(l,c){var g=c?LF(l.buffer):l.buffer;return new l.constructor(g,l.byteOffset,l.length)}function j1(l,c){if(l!==c){var g=l!==t,I=l===null,S=l===l,j=xn(l),E=c!==t,L=c===null,W=c===c,ne=xn(c);if(!L&&!ne&&!j&&l>c||j&&E&&W&&!L&&!ne||I&&E&&W||!g&&W||!S)return 1;if(!I&&!j&&!ne&&l<c||ne&&g&&S&&!I&&!j||L&&g&&S||!E&&S||!W)return-1}return 0}function nye(l,c,g){for(var I=-1,S=l.criteria,j=c.criteria,E=S.length,L=g.length;++I<E;){var W=j1(S[I],j[I]);if(W){if(I>=L)return W;var ne=g[I];return W*(ne=="desc"?-1:1)}}return l.index-c.index}function T1(l,c,g,I){for(var S=-1,j=l.length,E=g.length,L=-1,W=c.length,ne=Nr(j-E,0),oe=Y(W+ne),de=!I;++L<W;)oe[L]=c[L];for(;++S<E;)(de||S<j)&&(oe[g[S]]=l[S]);for(;ne--;)oe[L++]=l[S++];return oe}function C1(l,c,g,I){for(var S=-1,j=l.length,E=-1,L=g.length,W=-1,ne=c.length,oe=Nr(j-L,0),de=Y(oe+ne),Se=!I;++S<oe;)de[S]=l[S];for(var we=S;++W<ne;)de[we+W]=c[W];for(;++E<L;)(Se||S<j)&&(de[we+g[E]]=l[S++]);return de}function $i(l,c){var g=-1,I=l.length;for(c||(c=Y(I));++g<I;)c[g]=l[g];return c}function Ns(l,c,g,I){var S=!g;g||(g={});for(var j=-1,E=c.length;++j<E;){var L=c[j],W=I?I(g[L],l[L],L,g,l):t;W===t&&(W=l[L]),S?Mo(g,L,W):Ym(g,L,W)}return g}function sye(l,c){return Ns(l,HF(l),c)}function oye(l,c){return Ns(l,G1(l),c)}function hI(l,c){return function(g,I){var S=lt(g)?cfe:Pbe,j=c?c():{};return S(g,l,He(I,2),j)}}function Ac(l){return ft(function(c,g){var I=-1,S=g.length,j=S>1?g[S-1]:t,E=S>2?g[2]:t;for(j=l.length>3&&typeof j=="function"?(S--,j):t,E&&wi(g[0],g[1],E)&&(j=S<3?t:j,S=1),c=Wt(c);++I<S;){var L=g[I];L&&l(c,L,I,j)}return c})}function E1(l,c){return function(g,I){if(g==null)return g;if(!zi(g))return l(g,I);for(var S=g.length,j=c?S:-1,E=Wt(g);(c?j--:++j<S)&&I(E[j],j,E)!==!1;);return g}}function k1(l){return function(c,g,I){for(var S=-1,j=Wt(c),E=I(c),L=E.length;L--;){var W=E[l?L:++S];if(g(j[W],W,j)===!1)break}return c}}function aye(l,c,g){var I=c&O,S=eg(l);function j(){var E=this&&this!==Kr&&this instanceof j?S:l;return E.apply(I?g:this,arguments)}return j}function w1(l){return function(c){c=wt(c);var g=xc(c)?ms(c):t,I=g?g[0]:c.charAt(0),S=g?tl(g,1).join(""):c.slice(1);return I[l]()+S}}function Fc(l){return function(c){return uF(Eq(Cq(c).replace(Jge,"")),l,"")}}function eg(l){return function(){var c=arguments;switch(c.length){case 0:return new l;case 1:return new l(c[0]);case 2:return new l(c[0],c[1]);case 3:return new l(c[0],c[1],c[2]);case 4:return new l(c[0],c[1],c[2],c[3]);case 5:return new l(c[0],c[1],c[2],c[3],c[4]);case 6:return new l(c[0],c[1],c[2],c[3],c[4],c[5]);case 7:return new l(c[0],c[1],c[2],c[3],c[4],c[5],c[6])}var g=Dc(l.prototype),I=l.apply(g,c);return gr(I)?I:g}}function lye(l,c,g){var I=eg(l);function S(){for(var j=arguments.length,E=Y(j),L=j,W=Pc(S);L--;)E[L]=arguments[L];var ne=j<3&&E[0]!==W&&E[j-1]!==W?[]:Ya(E,W);if(j-=ne.length,j<g)return N1(l,c,II,S.placeholder,t,E,ne,t,t,g-j);var oe=this&&this!==Kr&&this instanceof S?I:l;return yn(oe,this,E)}return S}function R1(l){return function(c,g,I){var S=Wt(c);if(!zi(c)){var j=He(g,3);c=$r(c),g=function(L){return j(S[L],L,S)}}var E=l(c,g,I);return E>-1?S[j?c[E]:E]:t}}function M1(l){return Lo(function(c){var g=c.length,I=g,S=qn.prototype.thru;for(l&&c.reverse();I--;){var j=c[I];if(typeof j!="function")throw new Vn(s);if(S&&!E&&OI(j)=="wrapper")var E=new qn([],!0)}for(I=E?I:g;++I<g;){j=c[I];var L=OI(j),W=L=="wrapper"?WF(j):t;W&&$F(W[0])&&W[1]==(fe|U|R|Q)&&!W[4].length&&W[9]==1?E=E[OI(W[0])].apply(E,W[3]):E=j.length==1&&$F(j)?E[L]():E.thru(j)}return function(){var ne=arguments,oe=ne[0];if(E&&ne.length==1&&lt(oe))return E.plant(oe).value();for(var de=0,Se=g?c[de].apply(this,ne):oe;++de<g;)Se=c[de].call(this,Se);return Se}})}function II(l,c,g,I,S,j,E,L,W,ne){var oe=c&fe,de=c&O,Se=c&A,we=c&(U|$),ze=c&be,mt=Se?t:eg(l);function Ye(){for(var ht=arguments.length,xt=Y(ht),_n=ht;_n--;)xt[_n]=arguments[_n];if(we)var Ri=Pc(Ye),vn=xfe(xt,Ri);if(I&&(xt=T1(xt,I,S,we)),j&&(xt=C1(xt,j,E,we)),ht-=vn,we&&ht<ne){var Tr=Ya(xt,Ri);return N1(l,c,II,Ye.placeholder,g,xt,Tr,L,W,ne-ht)}var bs=de?g:this,Bo=Se?bs[l]:l;return ht=xt.length,L?xt=Pye(xt,L):ze&&ht>1&&xt.reverse(),oe&&W<ht&&(xt.length=W),this&&this!==Kr&&this instanceof Ye&&(Bo=mt||eg(Bo)),Bo.apply(bs,xt)}return Ye}function U1(l,c){return function(g,I){return Mbe(g,l,c(I),{})}}function xI(l,c){return function(g,I){var S;if(g===t&&I===t)return c;if(g!==t&&(S=g),I!==t){if(S===t)return I;typeof g=="string"||typeof I=="string"?(g=In(g),I=In(I)):(g=v1(g),I=v1(I)),S=l(g,I)}return S}}function NF(l){return Lo(function(c){return c=ir(c,hn(He())),ft(function(g){var I=this;return l(c,function(S){return yn(S,I,g)})})})}function _I(l,c){c=c===t?" ":In(c);var g=c.length;if(g<2)return g?EF(c,l):c;var I=EF(c,aI(l/_c(c)));return xc(c)?tl(ms(I),0,l).join(""):I.slice(0,l)}function uye(l,c,g,I){var S=c&O,j=eg(l);function E(){for(var L=-1,W=arguments.length,ne=-1,oe=I.length,de=Y(oe+W),Se=this&&this!==Kr&&this instanceof E?j:l;++ne<oe;)de[ne]=I[ne];for(;W--;)de[ne++]=arguments[++L];return yn(Se,S?g:this,de)}return E}function L1(l){return function(c,g,I){return I&&typeof I!="number"&&wi(c,g,I)&&(g=I=t),c=qo(c),g===t?(g=c,c=0):g=qo(g),I=I===t?c<g?1:-1:qo(I),zbe(c,g,I,l)}}function vI(l){return function(c,g){return typeof c=="string"&&typeof g=="string"||(c=Hn(c),g=Hn(g)),l(c,g)}}function N1(l,c,g,I,S,j,E,L,W,ne){var oe=c&U,de=oe?E:t,Se=oe?t:E,we=oe?j:t,ze=oe?t:j;c|=oe?R:z,c&=~(oe?z:R),c&k||(c&=~(O|A));var mt=[l,c,S,we,de,ze,Se,L,W,ne],Ye=g.apply(t,mt);return $F(l)&&J1(Ye,mt),Ye.placeholder=I,X1(Ye,l,c)}function VF(l){var c=Lr[l];return function(g,I){if(g=Hn(g),I=I==null?0:fi(pt(I),292),I&&XV(g)){var S=(wt(g)+"e").split("e"),j=c(S[0]+"e"+(+S[1]+I));return S=(wt(j)+"e").split("e"),+(S[0]+"e"+(+S[1]-I))}return c(g)}}var dye=Oc&&1/Jh(new Oc([,-0]))[1]==C?function(l){return new Oc(l)}:lP;function V1(l){return function(c){var g=bi(c);return g==qe?bF(c):g==gi?Ffe(c):Ife(c,l(c))}}function Uo(l,c,g,I,S,j,E,L){var W=c&A;if(!W&&typeof l!="function")throw new Vn(s);var ne=I?I.length:0;if(ne||(c&=~(R|z),I=S=t),E=E===t?E:Nr(pt(E),0),L=L===t?L:pt(L),ne-=S?S.length:0,c&z){var oe=I,de=S;I=S=t}var Se=W?t:WF(l),we=[l,c,g,I,S,oe,de,j,E,L];if(Se&&Dye(we,Se),l=we[0],c=we[1],g=we[2],I=we[3],S=we[4],L=we[9]=we[9]===t?W?0:l.length:Nr(we[9]-ne,0),!L&&c&(U|$)&&(c&=~(U|$)),!c||c==O)var ze=aye(l,c,g);else c==U||c==$?ze=lye(l,c,L):(c==R||c==(O|R))&&!S.length?ze=uye(l,c,g,I):ze=II.apply(t,we);var mt=Se?x1:J1;return X1(mt(ze,we),l,c)}function q1(l,c,g,I){return l===t||fs(l,vc[g])&&!Ut.call(I,g)?c:l}function B1(l,c,g,I,S,j){return gr(l)&&gr(c)&&(j.set(c,l),fI(l,c,t,B1,j),j.delete(c)),l}function cye(l){return ig(l)?t:l}function W1(l,c,g,I,S,j){var E=g&y,L=l.length,W=c.length;if(L!=W&&!(E&&W>L))return!1;var ne=j.get(l),oe=j.get(c);if(ne&&oe)return ne==c&&oe==l;var de=-1,Se=!0,we=g&v?new xu:t;for(j.set(l,c),j.set(c,l);++de<L;){var ze=l[de],mt=c[de];if(I)var Ye=E?I(mt,ze,de,c,l,j):I(ze,mt,de,l,c,j);if(Ye!==t){if(Ye)continue;Se=!1;break}if(we){if(!dF(c,function(ht,xt){if(!Wm(we,xt)&&(ze===ht||S(ze,ht,g,I,j)))return we.push(xt)})){Se=!1;break}}else if(!(ze===mt||S(ze,mt,g,I,j))){Se=!1;break}}return j.delete(l),j.delete(c),Se}function pye(l,c,g,I,S,j,E){switch(g){case Eo:if(l.byteLength!=c.byteLength||l.byteOffset!=c.byteOffset)return!1;l=l.buffer,c=c.buffer;case Ha:return!(l.byteLength!=c.byteLength||!j(new iI(l),new iI(c)));case Xe:case mi:case jt:return fs(+l,+c);case Oe:return l.name==c.name&&l.message==c.message;case Ba:case Co:return l==c+"";case qe:var L=bF;case gi:var W=I&y;if(L||(L=Jh),l.size!=c.size&&!W)return!1;var ne=E.get(l);if(ne)return ne==c;I|=v,E.set(l,c);var oe=W1(L(l),L(c),I,S,j,E);return E.delete(l),oe;case Wa:if(zm)return zm.call(l)==zm.call(c)}return!1}function mye(l,c,g,I,S,j){var E=g&y,L=qF(l),W=L.length,ne=qF(c),oe=ne.length;if(W!=oe&&!E)return!1;for(var de=W;de--;){var Se=L[de];if(!(E?Se in c:Ut.call(c,Se)))return!1}var we=j.get(l),ze=j.get(c);if(we&&ze)return we==c&&ze==l;var mt=!0;j.set(l,c),j.set(c,l);for(var Ye=E;++de<W;){Se=L[de];var ht=l[Se],xt=c[Se];if(I)var _n=E?I(xt,ht,Se,c,l,j):I(ht,xt,Se,l,c,j);if(!(_n===t?ht===xt||S(ht,xt,g,I,j):_n)){mt=!1;break}Ye||(Ye=Se=="constructor")}if(mt&&!Ye){var Ri=l.constructor,vn=c.constructor;Ri!=vn&&"constructor"in l&&"constructor"in c&&!(typeof Ri=="function"&&Ri instanceof Ri&&typeof vn=="function"&&vn instanceof vn)&&(mt=!1)}return j.delete(l),j.delete(c),mt}function Lo(l){return YF(Y1(l,t,nq),l+"")}function qF(l){return u1(l,$r,HF)}function BF(l){return u1(l,Yi,G1)}var WF=uI?function(l){return uI.get(l)}:lP;function OI(l){for(var c=l.name+"",g=Sc[c],I=Ut.call(Sc,c)?g.length:0;I--;){var S=g[I],j=S.func;if(j==null||j==l)return S.name}return c}function Pc(l){var c=Ut.call(F,"placeholder")?F:l;return c.placeholder}function He(){var l=F.iteratee||oP;return l=l===oP?p1:l,arguments.length?l(arguments[0],arguments[1]):l}function SI(l,c){var g=l.__data__;return _ye(c)?g[typeof c=="string"?"string":"hash"]:g.map}function GF(l){for(var c=$r(l),g=c.length;g--;){var I=c[g],S=l[I];c[g]=[I,S,$1(S)]}return c}function Ou(l,c){var g=Sfe(l,c);return c1(g)?g:t}function gye(l){var c=Ut.call(l,hu),g=l[hu];try{l[hu]=t;var I=!0}catch{}var S=tI.call(l);return I&&(c?l[hu]=g:delete l[hu]),S}var HF=hF?function(l){return l==null?[]:(l=Wt(l),$a(hF(l),function(c){return QV.call(l,c)}))}:uP,G1=hF?function(l){for(var c=[];l;)za(c,HF(l)),l=nI(l);return c}:uP,bi=ki;(IF&&bi(new IF(new ArrayBuffer(1)))!=Eo||Hm&&bi(new Hm)!=qe||xF&&bi(xF.resolve())!=Ci||Oc&&bi(new Oc)!=gi||Km&&bi(new Km)!=Ga)&&(bi=function(l){var c=ki(l),g=c==Tt?l.constructor:t,I=g?Su(g):"";if(I)switch(I){case Qfe:return Eo;case Jfe:return qe;case Xfe:return Ci;case Zfe:return gi;case ebe:return Ga}return c});function fye(l,c,g){for(var I=-1,S=g.length;++I<S;){var j=g[I],E=j.size;switch(j.type){case"drop":l+=E;break;case"dropRight":c-=E;break;case"take":c=fi(c,l+E);break;case"takeRight":l=Nr(l,c-E);break}}return{start:l,end:c}}function bye(l){var c=l.match(WA);return c?c[1].split(Vh):[]}function H1(l,c,g){c=el(c,l);for(var I=-1,S=c.length,j=!1;++I<S;){var E=Vs(c[I]);if(!(j=l!=null&&g(l,E)))break;l=l[E]}return j||++I!=S?j:(S=l==null?0:l.length,!!S&&CI(S)&&No(E,S)&&(lt(l)||Du(l)))}function yye(l){var c=l.length,g=new l.constructor(c);return c&&typeof l[0]=="string"&&Ut.call(l,"index")&&(g.index=l.index,g.input=l.input),g}function K1(l){return typeof l.constructor=="function"&&!tg(l)?Dc(nI(l)):{}}function hye(l,c,g){var I=l.constructor;switch(c){case Ha:return LF(l);case Xe:case mi:return new I(+l);case Eo:return tye(l,g);case oc:case ac:case lc:case uc:case dc:case cc:case pc:case mc:case fu:return P1(l,g);case qe:return new I;case jt:case Co:return new I(l);case Ba:return rye(l);case gi:return new I;case Wa:return iye(l)}}function Iye(l,c){var g=c.length;if(!g)return l;var I=g-1;return c[I]=(g>1?"& ":"")+c[I],c=c.join(g>2?", ":" "),l.replace(BA,`{
/* [wrapped with `+c+`] */
`)}function xye(l){return lt(l)||Du(l)||!!(JV&&l&&l[JV])}function No(l,c){var g=typeof l;return c=c??N,!!c&&(g=="number"||g!="symbol"&&XA.test(l))&&l>-1&&l%1==0&&l<c}function wi(l,c,g){if(!gr(g))return!1;var I=typeof c;return(I=="number"?zi(g)&&No(c,g.length):I=="string"&&c in g)?fs(g[c],l):!1}function KF(l,c){if(lt(l))return!1;var g=typeof l;return g=="number"||g=="symbol"||g=="boolean"||l==null||xn(l)?!0:LA.test(l)||!UA.test(l)||c!=null&&l in Wt(c)}function _ye(l){var c=typeof l;return c=="string"||c=="number"||c=="symbol"||c=="boolean"?l!=="__proto__":l===null}function $F(l){var c=OI(l),g=F[c];if(typeof g!="function"||!(c in It.prototype))return!1;if(l===g)return!0;var I=WF(g);return!!I&&l===I[0]}function vye(l){return!!$V&&$V in l}var Oye=Zh?Vo:dP;function tg(l){var c=l&&l.constructor,g=typeof c=="function"&&c.prototype||vc;return l===g}function $1(l){return l===l&&!gr(l)}function z1(l,c){return function(g){return g==null?!1:g[l]===c&&(c!==t||l in Wt(g))}}function Sye(l){var c=jI(l,function(I){return g.size===u&&g.clear(),I}),g=c.cache;return c}function Dye(l,c){var g=l[1],I=c[1],S=g|I,j=S<(O|A|fe),E=I==fe&&g==U||I==fe&&g==Q&&l[7].length<=c[8]||I==(fe|Q)&&c[7].length<=c[8]&&g==U;if(!(j||E))return l;I&O&&(l[2]=c[2],S|=g&O?0:k);var L=c[3];if(L){var W=l[3];l[3]=W?T1(W,L,c[4]):L,l[4]=W?Ya(l[3],d):c[4]}return L=c[5],L&&(W=l[5],l[5]=W?C1(W,L,c[6]):L,l[6]=W?Ya(l[5],d):c[6]),L=c[7],L&&(l[7]=L),I&fe&&(l[8]=l[8]==null?c[8]:fi(l[8],c[8])),l[9]==null&&(l[9]=c[9]),l[0]=c[0],l[1]=S,l}function Aye(l){var c=[];if(l!=null)for(var g in Wt(l))c.push(g);return c}function Fye(l){return tI.call(l)}function Y1(l,c,g){return c=Nr(c===t?l.length-1:c,0),function(){for(var I=arguments,S=-1,j=Nr(I.length-c,0),E=Y(j);++S<j;)E[S]=I[c+S];S=-1;for(var L=Y(c+1);++S<c;)L[S]=I[S];return L[c]=g(E),yn(l,this,L)}}function Q1(l,c){return c.length<2?l:vu(l,Wn(c,0,-1))}function Pye(l,c){for(var g=l.length,I=fi(c.length,g),S=$i(l);I--;){var j=c[I];l[I]=No(j,g)?S[j]:t}return l}function zF(l,c){if(!(c==="constructor"&&typeof l[c]=="function")&&c!="__proto__")return l[c]}var J1=Z1(x1),rg=Wfe||function(l,c){return Kr.setTimeout(l,c)},YF=Z1(Jbe);function X1(l,c,g){var I=c+"";return YF(l,Iye(I,jye(bye(I),g)))}function Z1(l){var c=0,g=0;return function(){var I=$fe(),S=K-(I-g);if(g=I,S>0){if(++c>=ve)return arguments[0]}else c=0;return l.apply(t,arguments)}}function DI(l,c){var g=-1,I=l.length,S=I-1;for(c=c===t?I:c;++g<c;){var j=CF(g,S),E=l[j];l[j]=l[g],l[g]=E}return l.length=c,l}var eq=Sye(function(l){var c=[];return l.charCodeAt(0)===46&&c.push(""),l.replace(NA,function(g,I,S,j){c.push(S?j.replace(KA,"$1"):I||g)}),c});function Vs(l){if(typeof l=="string"||xn(l))return l;var c=l+"";return c=="0"&&1/l==-C?"-0":c}function Su(l){if(l!=null){try{return eI.call(l)}catch{}try{return l+""}catch{}}return""}function jye(l,c){return Nn(Yt,function(g){var I="_."+g[0];c&g[1]&&!Yh(l,I)&&l.push(I)}),l.sort()}function tq(l){if(l instanceof It)return l.clone();var c=new qn(l.__wrapped__,l.__chain__);return c.__actions__=$i(l.__actions__),c.__index__=l.__index__,c.__values__=l.__values__,c}function Tye(l,c,g){(g?wi(l,c,g):c===t)?c=1:c=Nr(pt(c),0);var I=l==null?0:l.length;if(!I||c<1)return[];for(var S=0,j=0,E=Y(aI(I/c));S<I;)E[j++]=Wn(l,S,S+=c);return E}function Cye(l){for(var c=-1,g=l==null?0:l.length,I=0,S=[];++c<g;){var j=l[c];j&&(S[I++]=j)}return S}function Eye(){var l=arguments.length;if(!l)return[];for(var c=Y(l-1),g=arguments[0],I=l;I--;)c[I-1]=arguments[I];return za(lt(g)?$i(g):[g],ii(c,1))}var kye=ft(function(l,c){return jr(l)?Qm(l,ii(c,1,jr,!0)):[]}),wye=ft(function(l,c){var g=Gn(c);return jr(g)&&(g=t),jr(l)?Qm(l,ii(c,1,jr,!0),He(g,2)):[]}),Rye=ft(function(l,c){var g=Gn(c);return jr(g)&&(g=t),jr(l)?Qm(l,ii(c,1,jr,!0),t,g):[]});function Mye(l,c,g){var I=l==null?0:l.length;return I?(c=g||c===t?1:pt(c),Wn(l,c<0?0:c,I)):[]}function Uye(l,c,g){var I=l==null?0:l.length;return I?(c=g||c===t?1:pt(c),c=I-c,Wn(l,0,c<0?0:c)):[]}function Lye(l,c){return l&&l.length?yI(l,He(c,3),!0,!0):[]}function Nye(l,c){return l&&l.length?yI(l,He(c,3),!0):[]}function Vye(l,c,g,I){var S=l==null?0:l.length;return S?(g&&typeof g!="number"&&wi(l,c,g)&&(g=0,I=S),Ebe(l,c,g,I)):[]}function rq(l,c,g){var I=l==null?0:l.length;if(!I)return-1;var S=g==null?0:pt(g);return S<0&&(S=Nr(I+S,0)),Qh(l,He(c,3),S)}function iq(l,c,g){var I=l==null?0:l.length;if(!I)return-1;var S=I-1;return g!==t&&(S=pt(g),S=g<0?Nr(I+S,0):fi(S,I-1)),Qh(l,He(c,3),S,!0)}function nq(l){var c=l==null?0:l.length;return c?ii(l,1):[]}function qye(l){var c=l==null?0:l.length;return c?ii(l,C):[]}function Bye(l,c){var g=l==null?0:l.length;return g?(c=c===t?1:pt(c),ii(l,c)):[]}function Wye(l){for(var c=-1,g=l==null?0:l.length,I={};++c<g;){var S=l[c];I[S[0]]=S[1]}return I}function sq(l){return l&&l.length?l[0]:t}function Gye(l,c,g){var I=l==null?0:l.length;if(!I)return-1;var S=g==null?0:pt(g);return S<0&&(S=Nr(I+S,0)),Ic(l,c,S)}function Hye(l){var c=l==null?0:l.length;return c?Wn(l,0,-1):[]}var Kye=ft(function(l){var c=ir(l,MF);return c.length&&c[0]===l[0]?AF(c):[]}),$ye=ft(function(l){var c=Gn(l),g=ir(l,MF);return c===Gn(g)?c=t:g.pop(),g.length&&g[0]===l[0]?AF(g,He(c,2)):[]}),zye=ft(function(l){var c=Gn(l),g=ir(l,MF);return c=typeof c=="function"?c:t,c&&g.pop(),g.length&&g[0]===l[0]?AF(g,t,c):[]});function Yye(l,c){return l==null?"":Hfe.call(l,c)}function Gn(l){var c=l==null?0:l.length;return c?l[c-1]:t}function Qye(l,c,g){var I=l==null?0:l.length;if(!I)return-1;var S=I;return g!==t&&(S=pt(g),S=S<0?Nr(I+S,0):fi(S,I-1)),c===c?jfe(l,c,S):Qh(l,NV,S,!0)}function Jye(l,c){return l&&l.length?b1(l,pt(c)):t}var Xye=ft(oq);function oq(l,c){return l&&l.length&&c&&c.length?TF(l,c):l}function Zye(l,c,g){return l&&l.length&&c&&c.length?TF(l,c,He(g,2)):l}function ehe(l,c,g){return l&&l.length&&c&&c.length?TF(l,c,t,g):l}var the=Lo(function(l,c){var g=l==null?0:l.length,I=vF(l,c);return I1(l,ir(c,function(S){return No(S,g)?+S:S}).sort(j1)),I});function rhe(l,c){var g=[];if(!(l&&l.length))return g;var I=-1,S=[],j=l.length;for(c=He(c,3);++I<j;){var E=l[I];c(E,I,l)&&(g.push(E),S.push(I))}return I1(l,S),g}function QF(l){return l==null?l:Yfe.call(l)}function ihe(l,c,g){var I=l==null?0:l.length;return I?(g&&typeof g!="number"&&wi(l,c,g)?(c=0,g=I):(c=c==null?0:pt(c),g=g===t?I:pt(g)),Wn(l,c,g)):[]}function nhe(l,c){return bI(l,c)}function she(l,c,g){return kF(l,c,He(g,2))}function ohe(l,c){var g=l==null?0:l.length;if(g){var I=bI(l,c);if(I<g&&fs(l[I],c))return I}return-1}function ahe(l,c){return bI(l,c,!0)}function lhe(l,c,g){return kF(l,c,He(g,2),!0)}function uhe(l,c){var g=l==null?0:l.length;if(g){var I=bI(l,c,!0)-1;if(fs(l[I],c))return I}return-1}function dhe(l){return l&&l.length?_1(l):[]}function che(l,c){return l&&l.length?_1(l,He(c,2)):[]}function phe(l){var c=l==null?0:l.length;return c?Wn(l,1,c):[]}function mhe(l,c,g){return l&&l.length?(c=g||c===t?1:pt(c),Wn(l,0,c<0?0:c)):[]}function ghe(l,c,g){var I=l==null?0:l.length;return I?(c=g||c===t?1:pt(c),c=I-c,Wn(l,c<0?0:c,I)):[]}function fhe(l,c){return l&&l.length?yI(l,He(c,3),!1,!0):[]}function bhe(l,c){return l&&l.length?yI(l,He(c,3)):[]}var yhe=ft(function(l){return Za(ii(l,1,jr,!0))}),hhe=ft(function(l){var c=Gn(l);return jr(c)&&(c=t),Za(ii(l,1,jr,!0),He(c,2))}),Ihe=ft(function(l){var c=Gn(l);return c=typeof c=="function"?c:t,Za(ii(l,1,jr,!0),t,c)});function xhe(l){return l&&l.length?Za(l):[]}function _he(l,c){return l&&l.length?Za(l,He(c,2)):[]}function vhe(l,c){return c=typeof c=="function"?c:t,l&&l.length?Za(l,t,c):[]}function JF(l){if(!(l&&l.length))return[];var c=0;return l=$a(l,function(g){if(jr(g))return c=Nr(g.length,c),!0}),gF(c,function(g){return ir(l,cF(g))})}function aq(l,c){if(!(l&&l.length))return[];var g=JF(l);return c==null?g:ir(g,function(I){return yn(c,t,I)})}var Ohe=ft(function(l,c){return jr(l)?Qm(l,c):[]}),She=ft(function(l){return RF($a(l,jr))}),Dhe=ft(function(l){var c=Gn(l);return jr(c)&&(c=t),RF($a(l,jr),He(c,2))}),Ahe=ft(function(l){var c=Gn(l);return c=typeof c=="function"?c:t,RF($a(l,jr),t,c)}),Fhe=ft(JF);function Phe(l,c){return D1(l||[],c||[],Ym)}function jhe(l,c){return D1(l||[],c||[],Zm)}var The=ft(function(l){var c=l.length,g=c>1?l[c-1]:t;return g=typeof g=="function"?(l.pop(),g):t,aq(l,g)});function lq(l){var c=F(l);return c.__chain__=!0,c}function Che(l,c){return c(l),l}function AI(l,c){return c(l)}var Ehe=Lo(function(l){var c=l.length,g=c?l[0]:0,I=this.__wrapped__,S=function(j){return vF(j,l)};return c>1||this.__actions__.length||!(I instanceof It)||!No(g)?this.thru(S):(I=I.slice(g,+g+(c?1:0)),I.__actions__.push({func:AI,args:[S],thisArg:t}),new qn(I,this.__chain__).thru(function(j){return c&&!j.length&&j.push(t),j}))});function khe(){return lq(this)}function whe(){return new qn(this.value(),this.__chain__)}function Rhe(){this.__values__===t&&(this.__values__=vq(this.value()));var l=this.__index__>=this.__values__.length,c=l?t:this.__values__[this.__index__++];return{done:l,value:c}}function Mhe(){return this}function Uhe(l){for(var c,g=this;g instanceof cI;){var I=tq(g);I.__index__=0,I.__values__=t,c?S.__wrapped__=I:c=I;var S=I;g=g.__wrapped__}return S.__wrapped__=l,c}function Lhe(){var l=this.__wrapped__;if(l instanceof It){var c=l;return this.__actions__.length&&(c=new It(this)),c=c.reverse(),c.__actions__.push({func:AI,args:[QF],thisArg:t}),new qn(c,this.__chain__)}return this.thru(QF)}function Nhe(){return S1(this.__wrapped__,this.__actions__)}var Vhe=hI(function(l,c,g){Ut.call(l,g)?++l[g]:Mo(l,g,1)});function qhe(l,c,g){var I=lt(l)?UV:Cbe;return g&&wi(l,c,g)&&(c=t),I(l,He(c,3))}function Bhe(l,c){var g=lt(l)?$a:a1;return g(l,He(c,3))}var Whe=R1(rq),Ghe=R1(iq);function Hhe(l,c){return ii(FI(l,c),1)}function Khe(l,c){return ii(FI(l,c),C)}function $he(l,c,g){return g=g===t?1:pt(g),ii(FI(l,c),g)}function uq(l,c){var g=lt(l)?Nn:Xa;return g(l,He(c,3))}function dq(l,c){var g=lt(l)?pfe:o1;return g(l,He(c,3))}var zhe=hI(function(l,c,g){Ut.call(l,g)?l[g].push(c):Mo(l,g,[c])});function Yhe(l,c,g,I){l=zi(l)?l:Tc(l),g=g&&!I?pt(g):0;var S=l.length;return g<0&&(g=Nr(S+g,0)),EI(l)?g<=S&&l.indexOf(c,g)>-1:!!S&&Ic(l,c,g)>-1}var Qhe=ft(function(l,c,g){var I=-1,S=typeof c=="function",j=zi(l)?Y(l.length):[];return Xa(l,function(E){j[++I]=S?yn(c,E,g):Jm(E,c,g)}),j}),Jhe=hI(function(l,c,g){Mo(l,g,c)});function FI(l,c){var g=lt(l)?ir:m1;return g(l,He(c,3))}function Xhe(l,c,g,I){return l==null?[]:(lt(c)||(c=c==null?[]:[c]),g=I?t:g,lt(g)||(g=g==null?[]:[g]),y1(l,c,g))}var Zhe=hI(function(l,c,g){l[g?0:1].push(c)},function(){return[[],[]]});function eIe(l,c,g){var I=lt(l)?uF:qV,S=arguments.length<3;return I(l,He(c,4),g,S,Xa)}function tIe(l,c,g){var I=lt(l)?mfe:qV,S=arguments.length<3;return I(l,He(c,4),g,S,o1)}function rIe(l,c){var g=lt(l)?$a:a1;return g(l,TI(He(c,3)))}function iIe(l){var c=lt(l)?r1:Ybe;return c(l)}function nIe(l,c,g){(g?wi(l,c,g):c===t)?c=1:c=pt(c);var I=lt(l)?Abe:Qbe;return I(l,c)}function sIe(l){var c=lt(l)?Fbe:Xbe;return c(l)}function oIe(l){if(l==null)return 0;if(zi(l))return EI(l)?_c(l):l.length;var c=bi(l);return c==qe||c==gi?l.size:PF(l).length}function aIe(l,c,g){var I=lt(l)?dF:Zbe;return g&&wi(l,c,g)&&(c=t),I(l,He(c,3))}var lIe=ft(function(l,c){if(l==null)return[];var g=c.length;return g>1&&wi(l,c[0],c[1])?c=[]:g>2&&wi(c[0],c[1],c[2])&&(c=[c[0]]),y1(l,ii(c,1),[])}),PI=Bfe||function(){return Kr.Date.now()};function uIe(l,c){if(typeof c!="function")throw new Vn(s);return l=pt(l),function(){if(--l<1)return c.apply(this,arguments)}}function cq(l,c,g){return c=g?t:c,c=l&&c==null?l.length:c,Uo(l,fe,t,t,t,t,c)}function pq(l,c){var g;if(typeof c!="function")throw new Vn(s);return l=pt(l),function(){return--l>0&&(g=c.apply(this,arguments)),l<=1&&(c=t),g}}var XF=ft(function(l,c,g){var I=O;if(g.length){var S=Ya(g,Pc(XF));I|=R}return Uo(l,I,c,g,S)}),mq=ft(function(l,c,g){var I=O|A;if(g.length){var S=Ya(g,Pc(mq));I|=R}return Uo(c,I,l,g,S)});function gq(l,c,g){c=g?t:c;var I=Uo(l,U,t,t,t,t,t,c);return I.placeholder=gq.placeholder,I}function fq(l,c,g){c=g?t:c;var I=Uo(l,$,t,t,t,t,t,c);return I.placeholder=fq.placeholder,I}function bq(l,c,g){var I,S,j,E,L,W,ne=0,oe=!1,de=!1,Se=!0;if(typeof l!="function")throw new Vn(s);c=Hn(c)||0,gr(g)&&(oe=!!g.leading,de="maxWait"in g,j=de?Nr(Hn(g.maxWait)||0,c):j,Se="trailing"in g?!!g.trailing:Se);function we(Tr){var bs=I,Bo=S;return I=S=t,ne=Tr,E=l.apply(Bo,bs),E}function ze(Tr){return ne=Tr,L=rg(ht,c),oe?we(Tr):E}function mt(Tr){var bs=Tr-W,Bo=Tr-ne,Rq=c-bs;return de?fi(Rq,j-Bo):Rq}function Ye(Tr){var bs=Tr-W,Bo=Tr-ne;return W===t||bs>=c||bs<0||de&&Bo>=j}function ht(){var Tr=PI();if(Ye(Tr))return xt(Tr);L=rg(ht,mt(Tr))}function xt(Tr){return L=t,Se&&I?we(Tr):(I=S=t,E)}function _n(){L!==t&&A1(L),ne=0,I=W=S=L=t}function Ri(){return L===t?E:xt(PI())}function vn(){var Tr=PI(),bs=Ye(Tr);if(I=arguments,S=this,W=Tr,bs){if(L===t)return ze(W);if(de)return A1(L),L=rg(ht,c),we(W)}return L===t&&(L=rg(ht,c)),E}return vn.cancel=_n,vn.flush=Ri,vn}var dIe=ft(function(l,c){return s1(l,1,c)}),cIe=ft(function(l,c,g){return s1(l,Hn(c)||0,g)});function pIe(l){return Uo(l,be)}function jI(l,c){if(typeof l!="function"||c!=null&&typeof c!="function")throw new Vn(s);var g=function(){var I=arguments,S=c?c.apply(this,I):I[0],j=g.cache;if(j.has(S))return j.get(S);var E=l.apply(this,I);return g.cache=j.set(S,E)||j,E};return g.cache=new(jI.Cache||Ro),g}jI.Cache=Ro;function TI(l){if(typeof l!="function")throw new Vn(s);return function(){var c=arguments;switch(c.length){case 0:return!l.call(this);case 1:return!l.call(this,c[0]);case 2:return!l.call(this,c[0],c[1]);case 3:return!l.call(this,c[0],c[1],c[2])}return!l.apply(this,c)}}function mIe(l){return pq(2,l)}var gIe=eye(function(l,c){c=c.length==1&&lt(c[0])?ir(c[0],hn(He())):ir(ii(c,1),hn(He()));var g=c.length;return ft(function(I){for(var S=-1,j=fi(I.length,g);++S<j;)I[S]=c[S].call(this,I[S]);return yn(l,this,I)})}),ZF=ft(function(l,c){var g=Ya(c,Pc(ZF));return Uo(l,R,t,c,g)}),yq=ft(function(l,c){var g=Ya(c,Pc(yq));return Uo(l,z,t,c,g)}),fIe=Lo(function(l,c){return Uo(l,Q,t,t,t,c)});function bIe(l,c){if(typeof l!="function")throw new Vn(s);return c=c===t?c:pt(c),ft(l,c)}function yIe(l,c){if(typeof l!="function")throw new Vn(s);return c=c==null?0:Nr(pt(c),0),ft(function(g){var I=g[c],S=tl(g,0,c);return I&&za(S,I),yn(l,this,S)})}function hIe(l,c,g){var I=!0,S=!0;if(typeof l!="function")throw new Vn(s);return gr(g)&&(I="leading"in g?!!g.leading:I,S="trailing"in g?!!g.trailing:S),bq(l,c,{leading:I,maxWait:c,trailing:S})}function IIe(l){return cq(l,1)}function xIe(l,c){return ZF(UF(c),l)}function _Ie(){if(!arguments.length)return[];var l=arguments[0];return lt(l)?l:[l]}function vIe(l){return Bn(l,f)}function OIe(l,c){return c=typeof c=="function"?c:t,Bn(l,f,c)}function SIe(l){return Bn(l,p|f)}function DIe(l,c){return c=typeof c=="function"?c:t,Bn(l,p|f,c)}function AIe(l,c){return c==null||n1(l,c,$r(c))}function fs(l,c){return l===c||l!==l&&c!==c}var FIe=vI(DF),PIe=vI(function(l,c){return l>=c}),Du=d1(function(){return arguments}())?d1:function(l){return _r(l)&&Ut.call(l,"callee")&&!QV.call(l,"callee")},lt=Y.isArray,jIe=CV?hn(CV):Ube;function zi(l){return l!=null&&CI(l.length)&&!Vo(l)}function jr(l){return _r(l)&&zi(l)}function TIe(l){return l===!0||l===!1||_r(l)&&ki(l)==Xe}var rl=Gfe||dP,CIe=EV?hn(EV):Lbe;function EIe(l){return _r(l)&&l.nodeType===1&&!ig(l)}function kIe(l){if(l==null)return!0;if(zi(l)&&(lt(l)||typeof l=="string"||typeof l.splice=="function"||rl(l)||jc(l)||Du(l)))return!l.length;var c=bi(l);if(c==qe||c==gi)return!l.size;if(tg(l))return!PF(l).length;for(var g in l)if(Ut.call(l,g))return!1;return!0}function wIe(l,c){return Xm(l,c)}function RIe(l,c,g){g=typeof g=="function"?g:t;var I=g?g(l,c):t;return I===t?Xm(l,c,t,g):!!I}function eP(l){if(!_r(l))return!1;var c=ki(l);return c==Oe||c==Pr||typeof l.message=="string"&&typeof l.name=="string"&&!ig(l)}function MIe(l){return typeof l=="number"&&XV(l)}function Vo(l){if(!gr(l))return!1;var c=ki(l);return c==At||c==xe||c==cr||c==qa}function hq(l){return typeof l=="number"&&l==pt(l)}function CI(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=N}function gr(l){var c=typeof l;return l!=null&&(c=="object"||c=="function")}function _r(l){return l!=null&&typeof l=="object"}var Iq=kV?hn(kV):Vbe;function UIe(l,c){return l===c||FF(l,c,GF(c))}function LIe(l,c,g){return g=typeof g=="function"?g:t,FF(l,c,GF(c),g)}function NIe(l){return xq(l)&&l!=+l}function VIe(l){if(Oye(l))throw new ot(i);return c1(l)}function qIe(l){return l===null}function BIe(l){return l==null}function xq(l){return typeof l=="number"||_r(l)&&ki(l)==jt}function ig(l){if(!_r(l)||ki(l)!=Tt)return!1;var c=nI(l);if(c===null)return!0;var g=Ut.call(c,"constructor")&&c.constructor;return typeof g=="function"&&g instanceof g&&eI.call(g)==Lfe}var tP=wV?hn(wV):qbe;function WIe(l){return hq(l)&&l>=-N&&l<=N}var _q=RV?hn(RV):Bbe;function EI(l){return typeof l=="string"||!lt(l)&&_r(l)&&ki(l)==Co}function xn(l){return typeof l=="symbol"||_r(l)&&ki(l)==Wa}var jc=MV?hn(MV):Wbe;function GIe(l){return l===t}function HIe(l){return _r(l)&&bi(l)==Ga}function KIe(l){return _r(l)&&ki(l)==Mh}var $Ie=vI(jF),zIe=vI(function(l,c){return l<=c});function vq(l){if(!l)return[];if(zi(l))return EI(l)?ms(l):$i(l);if(Gm&&l[Gm])return Afe(l[Gm]());var c=bi(l),g=c==qe?bF:c==gi?Jh:Tc;return g(l)}function qo(l){if(!l)return l===0?l:0;if(l=Hn(l),l===C||l===-C){var c=l<0?-1:1;return c*ce}return l===l?l:0}function pt(l){var c=qo(l),g=c%1;return c===c?g?c-g:c:0}function Oq(l){return l?_u(pt(l),0,De):0}function Hn(l){if(typeof l=="number")return l;if(xn(l))return se;if(gr(l)){var c=typeof l.valueOf=="function"?l.valueOf():l;l=gr(c)?c+"":c}if(typeof l!="string")return l===0?l:+l;l=BV(l);var g=YA.test(l);return g||JA.test(l)?ufe(l.slice(2),g?2:8):zA.test(l)?se:+l}function Sq(l){return Ns(l,Yi(l))}function YIe(l){return l?_u(pt(l),-N,N):l===0?l:0}function wt(l){return l==null?"":In(l)}var QIe=Ac(function(l,c){if(tg(c)||zi(c)){Ns(c,$r(c),l);return}for(var g in c)Ut.call(c,g)&&Ym(l,g,c[g])}),Dq=Ac(function(l,c){Ns(c,Yi(c),l)}),kI=Ac(function(l,c,g,I){Ns(c,Yi(c),l,I)}),JIe=Ac(function(l,c,g,I){Ns(c,$r(c),l,I)}),XIe=Lo(vF);function ZIe(l,c){var g=Dc(l);return c==null?g:i1(g,c)}var exe=ft(function(l,c){l=Wt(l);var g=-1,I=c.length,S=I>2?c[2]:t;for(S&&wi(c[0],c[1],S)&&(I=1);++g<I;)for(var j=c[g],E=Yi(j),L=-1,W=E.length;++L<W;){var ne=E[L],oe=l[ne];(oe===t||fs(oe,vc[ne])&&!Ut.call(l,ne))&&(l[ne]=j[ne])}return l}),txe=ft(function(l){return l.push(t,B1),yn(Aq,t,l)});function rxe(l,c){return LV(l,He(c,3),Ls)}function ixe(l,c){return LV(l,He(c,3),SF)}function nxe(l,c){return l==null?l:OF(l,He(c,3),Yi)}function sxe(l,c){return l==null?l:l1(l,He(c,3),Yi)}function oxe(l,c){return l&&Ls(l,He(c,3))}function axe(l,c){return l&&SF(l,He(c,3))}function lxe(l){return l==null?[]:gI(l,$r(l))}function uxe(l){return l==null?[]:gI(l,Yi(l))}function rP(l,c,g){var I=l==null?t:vu(l,c);return I===t?g:I}function dxe(l,c){return l!=null&&H1(l,c,kbe)}function iP(l,c){return l!=null&&H1(l,c,wbe)}var cxe=U1(function(l,c,g){c!=null&&typeof c.toString!="function"&&(c=tI.call(c)),l[c]=g},sP(Qi)),pxe=U1(function(l,c,g){c!=null&&typeof c.toString!="function"&&(c=tI.call(c)),Ut.call(l,c)?l[c].push(g):l[c]=[g]},He),mxe=ft(Jm);function $r(l){return zi(l)?t1(l):PF(l)}function Yi(l){return zi(l)?t1(l,!0):Gbe(l)}function gxe(l,c){var g={};return c=He(c,3),Ls(l,function(I,S,j){Mo(g,c(I,S,j),I)}),g}function fxe(l,c){var g={};return c=He(c,3),Ls(l,function(I,S,j){Mo(g,S,c(I,S,j))}),g}var bxe=Ac(function(l,c,g){fI(l,c,g)}),Aq=Ac(function(l,c,g,I){fI(l,c,g,I)}),yxe=Lo(function(l,c){var g={};if(l==null)return g;var I=!1;c=ir(c,function(j){return j=el(j,l),I||(I=j.length>1),j}),Ns(l,BF(l),g),I&&(g=Bn(g,p|m|f,cye));for(var S=c.length;S--;)wF(g,c[S]);return g});function hxe(l,c){return Fq(l,TI(He(c)))}var Ixe=Lo(function(l,c){return l==null?{}:Kbe(l,c)});function Fq(l,c){if(l==null)return{};var g=ir(BF(l),function(I){return[I]});return c=He(c),h1(l,g,function(I,S){return c(I,S[0])})}function xxe(l,c,g){c=el(c,l);var I=-1,S=c.length;for(S||(S=1,l=t);++I<S;){var j=l==null?t:l[Vs(c[I])];j===t&&(I=S,j=g),l=Vo(j)?j.call(l):j}return l}function _xe(l,c,g){return l==null?l:Zm(l,c,g)}function vxe(l,c,g,I){return I=typeof I=="function"?I:t,l==null?l:Zm(l,c,g,I)}var Pq=V1($r),jq=V1(Yi);function Oxe(l,c,g){var I=lt(l),S=I||rl(l)||jc(l);if(c=He(c,4),g==null){var j=l&&l.constructor;S?g=I?new j:[]:gr(l)?g=Vo(j)?Dc(nI(l)):{}:g={}}return(S?Nn:Ls)(l,function(E,L,W){return c(g,E,L,W)}),g}function Sxe(l,c){return l==null?!0:wF(l,c)}function Dxe(l,c,g){return l==null?l:O1(l,c,UF(g))}function Axe(l,c,g,I){return I=typeof I=="function"?I:t,l==null?l:O1(l,c,UF(g),I)}function Tc(l){return l==null?[]:fF(l,$r(l))}function Fxe(l){return l==null?[]:fF(l,Yi(l))}function Pxe(l,c,g){return g===t&&(g=c,c=t),g!==t&&(g=Hn(g),g=g===g?g:0),c!==t&&(c=Hn(c),c=c===c?c:0),_u(Hn(l),c,g)}function jxe(l,c,g){return c=qo(c),g===t?(g=c,c=0):g=qo(g),l=Hn(l),Rbe(l,c,g)}function Txe(l,c,g){if(g&&typeof g!="boolean"&&wi(l,c,g)&&(c=g=t),g===t&&(typeof c=="boolean"?(g=c,c=t):typeof l=="boolean"&&(g=l,l=t)),l===t&&c===t?(l=0,c=1):(l=qo(l),c===t?(c=l,l=0):c=qo(c)),l>c){var I=l;l=c,c=I}if(g||l%1||c%1){var S=ZV();return fi(l+S*(c-l+lfe("1e-"+((S+"").length-1))),c)}return CF(l,c)}var Cxe=Fc(function(l,c,g){return c=c.toLowerCase(),l+(g?Tq(c):c)});function Tq(l){return nP(wt(l).toLowerCase())}function Cq(l){return l=wt(l),l&&l.replace(ZA,_fe).replace(Xge,"")}function Exe(l,c,g){l=wt(l),c=In(c);var I=l.length;g=g===t?I:_u(pt(g),0,I);var S=g;return g-=c.length,g>=0&&l.slice(g,S)==c}function kxe(l){return l=wt(l),l&&RA.test(l)?l.replace(Uh,vfe):l}function wxe(l){return l=wt(l),l&&VA.test(l)?l.replace(Lm,"\\$&"):l}var Rxe=Fc(function(l,c,g){return l+(g?"-":"")+c.toLowerCase()}),Mxe=Fc(function(l,c,g){return l+(g?" ":"")+c.toLowerCase()}),Uxe=w1("toLowerCase");function Lxe(l,c,g){l=wt(l),c=pt(c);var I=c?_c(l):0;if(!c||I>=c)return l;var S=(c-I)/2;return _I(lI(S),g)+l+_I(aI(S),g)}function Nxe(l,c,g){l=wt(l),c=pt(c);var I=c?_c(l):0;return c&&I<c?l+_I(c-I,g):l}function Vxe(l,c,g){l=wt(l),c=pt(c);var I=c?_c(l):0;return c&&I<c?_I(c-I,g)+l:l}function qxe(l,c,g){return g||c==null?c=0:c&&(c=+c),zfe(wt(l).replace(Nm,""),c||0)}function Bxe(l,c,g){return(g?wi(l,c,g):c===t)?c=1:c=pt(c),EF(wt(l),c)}function Wxe(){var l=arguments,c=wt(l[0]);return l.length<3?c:c.replace(l[1],l[2])}var Gxe=Fc(function(l,c,g){return l+(g?"_":"")+c.toLowerCase()});function Hxe(l,c,g){return g&&typeof g!="number"&&wi(l,c,g)&&(c=g=t),g=g===t?De:g>>>0,g?(l=wt(l),l&&(typeof c=="string"||c!=null&&!tP(c))&&(c=In(c),!c&&xc(l))?tl(ms(l),0,g):l.split(c,g)):[]}var Kxe=Fc(function(l,c,g){return l+(g?" ":"")+nP(c)});function $xe(l,c,g){return l=wt(l),g=g==null?0:_u(pt(g),0,l.length),c=In(c),l.slice(g,g+c.length)==c}function zxe(l,c,g){var I=F.templateSettings;g&&wi(l,c,g)&&(c=t),l=wt(l),c=kI({},c,I,q1);var S=kI({},c.imports,I.imports,q1),j=$r(S),E=fF(S,j),L,W,ne=0,oe=c.interpolate||gc,de="__p += '",Se=yF((c.escape||gc).source+"|"+oe.source+"|"+(oe===Nh?$A:gc).source+"|"+(c.evaluate||gc).source+"|$","g"),we="//# sourceURL="+(Ut.call(c,"sourceURL")?(c.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ife+"]")+`
`;l.replace(Se,function(Ye,ht,xt,_n,Ri,vn){return xt||(xt=_n),de+=l.slice(ne,vn).replace(eF,Ofe),ht&&(L=!0,de+=`' +
__e(`+ht+`) +
'`),Ri&&(W=!0,de+=`';
`+Ri+`;
__p += '`),xt&&(de+=`' +
((__t = (`+xt+`)) == null ? '' : __t) +
'`),ne=vn+Ye.length,Ye}),de+=`';
`;var ze=Ut.call(c,"variable")&&c.variable;if(!ze)de=`with (obj) {
`+de+`
}
`;else if(HA.test(ze))throw new ot(o);de=(W?de.replace(kA,""):de).replace(wA,"$1").replace(Mm,"$1;"),de="function("+(ze||"obj")+`) {
`+(ze?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(L?", __e = _.escape":"")+(W?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+de+`return __p
}`;var mt=kq(function(){return Ct(j,we+"return "+de).apply(t,E)});if(mt.source=de,eP(mt))throw mt;return mt}function Yxe(l){return wt(l).toLowerCase()}function Qxe(l){return wt(l).toUpperCase()}function Jxe(l,c,g){if(l=wt(l),l&&(g||c===t))return BV(l);if(!l||!(c=In(c)))return l;var I=ms(l),S=ms(c),j=WV(I,S),E=GV(I,S)+1;return tl(I,j,E).join("")}function Xxe(l,c,g){if(l=wt(l),l&&(g||c===t))return l.slice(0,KV(l)+1);if(!l||!(c=In(c)))return l;var I=ms(l),S=GV(I,ms(c))+1;return tl(I,0,S).join("")}function Zxe(l,c,g){if(l=wt(l),l&&(g||c===t))return l.replace(Nm,"");if(!l||!(c=In(c)))return l;var I=ms(l),S=WV(I,ms(c));return tl(I,S).join("")}function e_e(l,c){var g=ae,I=re;if(gr(c)){var S="separator"in c?c.separator:S;g="length"in c?pt(c.length):g,I="omission"in c?In(c.omission):I}l=wt(l);var j=l.length;if(xc(l)){var E=ms(l);j=E.length}if(g>=j)return l;var L=g-_c(I);if(L<1)return I;var W=E?tl(E,0,L).join(""):l.slice(0,L);if(S===t)return W+I;if(E&&(L+=W.length-L),tP(S)){if(l.slice(L).search(S)){var ne,oe=W;for(S.global||(S=yF(S.source,wt(qh.exec(S))+"g")),S.lastIndex=0;ne=S.exec(oe);)var de=ne.index;W=W.slice(0,de===t?L:de)}}else if(l.indexOf(In(S),L)!=L){var Se=W.lastIndexOf(S);Se>-1&&(W=W.slice(0,Se))}return W+I}function t_e(l){return l=wt(l),l&&Us.test(l)?l.replace(Um,Tfe):l}var r_e=Fc(function(l,c,g){return l+(g?" ":"")+c.toUpperCase()}),nP=w1("toUpperCase");function Eq(l,c,g){return l=wt(l),c=g?t:c,c===t?Dfe(l)?kfe(l):bfe(l):l.match(c)||[]}var kq=ft(function(l,c){try{return yn(l,t,c)}catch(g){return eP(g)?g:new ot(g)}}),i_e=Lo(function(l,c){return Nn(c,function(g){g=Vs(g),Mo(l,g,XF(l[g],l))}),l});function n_e(l){var c=l==null?0:l.length,g=He();return l=c?ir(l,function(I){if(typeof I[1]!="function")throw new Vn(s);return[g(I[0]),I[1]]}):[],ft(function(I){for(var S=-1;++S<c;){var j=l[S];if(yn(j[0],this,I))return yn(j[1],this,I)}})}function s_e(l){return Tbe(Bn(l,p))}function sP(l){return function(){return l}}function o_e(l,c){return l==null||l!==l?c:l}var a_e=M1(),l_e=M1(!0);function Qi(l){return l}function oP(l){return p1(typeof l=="function"?l:Bn(l,p))}function u_e(l){return g1(Bn(l,p))}function d_e(l,c){return f1(l,Bn(c,p))}var c_e=ft(function(l,c){return function(g){return Jm(g,l,c)}}),p_e=ft(function(l,c){return function(g){return Jm(l,g,c)}});function aP(l,c,g){var I=$r(c),S=gI(c,I);g==null&&!(gr(c)&&(S.length||!I.length))&&(g=c,c=l,l=this,S=gI(c,$r(c)));var j=!(gr(g)&&"chain"in g)||!!g.chain,E=Vo(l);return Nn(S,function(L){var W=c[L];l[L]=W,E&&(l.prototype[L]=function(){var ne=this.__chain__;if(j||ne){var oe=l(this.__wrapped__),de=oe.__actions__=$i(this.__actions__);return de.push({func:W,args:arguments,thisArg:l}),oe.__chain__=ne,oe}return W.apply(l,za([this.value()],arguments))})}),l}function m_e(){return Kr._===this&&(Kr._=Nfe),this}function lP(){}function g_e(l){return l=pt(l),ft(function(c){return b1(c,l)})}var f_e=NF(ir),b_e=NF(UV),y_e=NF(dF);function wq(l){return KF(l)?cF(Vs(l)):$be(l)}function h_e(l){return function(c){return l==null?t:vu(l,c)}}var I_e=L1(),x_e=L1(!0);function uP(){return[]}function dP(){return!1}function __e(){return{}}function v_e(){return""}function O_e(){return!0}function S_e(l,c){if(l=pt(l),l<1||l>N)return[];var g=De,I=fi(l,De);c=He(c),l-=De;for(var S=gF(I,c);++g<l;)c(g);return S}function D_e(l){return lt(l)?ir(l,Vs):xn(l)?[l]:$i(eq(wt(l)))}function A_e(l){var c=++Ufe;return wt(l)+c}var F_e=xI(function(l,c){return l+c},0),P_e=VF("ceil"),j_e=xI(function(l,c){return l/c},1),T_e=VF("floor");function C_e(l){return l&&l.length?mI(l,Qi,DF):t}function E_e(l,c){return l&&l.length?mI(l,He(c,2),DF):t}function k_e(l){return VV(l,Qi)}function w_e(l,c){return VV(l,He(c,2))}function R_e(l){return l&&l.length?mI(l,Qi,jF):t}function M_e(l,c){return l&&l.length?mI(l,He(c,2),jF):t}var U_e=xI(function(l,c){return l*c},1),L_e=VF("round"),N_e=xI(function(l,c){return l-c},0);function V_e(l){return l&&l.length?mF(l,Qi):0}function q_e(l,c){return l&&l.length?mF(l,He(c,2)):0}return F.after=uIe,F.ary=cq,F.assign=QIe,F.assignIn=Dq,F.assignInWith=kI,F.assignWith=JIe,F.at=XIe,F.before=pq,F.bind=XF,F.bindAll=i_e,F.bindKey=mq,F.castArray=_Ie,F.chain=lq,F.chunk=Tye,F.compact=Cye,F.concat=Eye,F.cond=n_e,F.conforms=s_e,F.constant=sP,F.countBy=Vhe,F.create=ZIe,F.curry=gq,F.curryRight=fq,F.debounce=bq,F.defaults=exe,F.defaultsDeep=txe,F.defer=dIe,F.delay=cIe,F.difference=kye,F.differenceBy=wye,F.differenceWith=Rye,F.drop=Mye,F.dropRight=Uye,F.dropRightWhile=Lye,F.dropWhile=Nye,F.fill=Vye,F.filter=Bhe,F.flatMap=Hhe,F.flatMapDeep=Khe,F.flatMapDepth=$he,F.flatten=nq,F.flattenDeep=qye,F.flattenDepth=Bye,F.flip=pIe,F.flow=a_e,F.flowRight=l_e,F.fromPairs=Wye,F.functions=lxe,F.functionsIn=uxe,F.groupBy=zhe,F.initial=Hye,F.intersection=Kye,F.intersectionBy=$ye,F.intersectionWith=zye,F.invert=cxe,F.invertBy=pxe,F.invokeMap=Qhe,F.iteratee=oP,F.keyBy=Jhe,F.keys=$r,F.keysIn=Yi,F.map=FI,F.mapKeys=gxe,F.mapValues=fxe,F.matches=u_e,F.matchesProperty=d_e,F.memoize=jI,F.merge=bxe,F.mergeWith=Aq,F.method=c_e,F.methodOf=p_e,F.mixin=aP,F.negate=TI,F.nthArg=g_e,F.omit=yxe,F.omitBy=hxe,F.once=mIe,F.orderBy=Xhe,F.over=f_e,F.overArgs=gIe,F.overEvery=b_e,F.overSome=y_e,F.partial=ZF,F.partialRight=yq,F.partition=Zhe,F.pick=Ixe,F.pickBy=Fq,F.property=wq,F.propertyOf=h_e,F.pull=Xye,F.pullAll=oq,F.pullAllBy=Zye,F.pullAllWith=ehe,F.pullAt=the,F.range=I_e,F.rangeRight=x_e,F.rearg=fIe,F.reject=rIe,F.remove=rhe,F.rest=bIe,F.reverse=QF,F.sampleSize=nIe,F.set=_xe,F.setWith=vxe,F.shuffle=sIe,F.slice=ihe,F.sortBy=lIe,F.sortedUniq=dhe,F.sortedUniqBy=che,F.split=Hxe,F.spread=yIe,F.tail=phe,F.take=mhe,F.takeRight=ghe,F.takeRightWhile=fhe,F.takeWhile=bhe,F.tap=Che,F.throttle=hIe,F.thru=AI,F.toArray=vq,F.toPairs=Pq,F.toPairsIn=jq,F.toPath=D_e,F.toPlainObject=Sq,F.transform=Oxe,F.unary=IIe,F.union=yhe,F.unionBy=hhe,F.unionWith=Ihe,F.uniq=xhe,F.uniqBy=_he,F.uniqWith=vhe,F.unset=Sxe,F.unzip=JF,F.unzipWith=aq,F.update=Dxe,F.updateWith=Axe,F.values=Tc,F.valuesIn=Fxe,F.without=Ohe,F.words=Eq,F.wrap=xIe,F.xor=She,F.xorBy=Dhe,F.xorWith=Ahe,F.zip=Fhe,F.zipObject=Phe,F.zipObjectDeep=jhe,F.zipWith=The,F.entries=Pq,F.entriesIn=jq,F.extend=Dq,F.extendWith=kI,aP(F,F),F.add=F_e,F.attempt=kq,F.camelCase=Cxe,F.capitalize=Tq,F.ceil=P_e,F.clamp=Pxe,F.clone=vIe,F.cloneDeep=SIe,F.cloneDeepWith=DIe,F.cloneWith=OIe,F.conformsTo=AIe,F.deburr=Cq,F.defaultTo=o_e,F.divide=j_e,F.endsWith=Exe,F.eq=fs,F.escape=kxe,F.escapeRegExp=wxe,F.every=qhe,F.find=Whe,F.findIndex=rq,F.findKey=rxe,F.findLast=Ghe,F.findLastIndex=iq,F.findLastKey=ixe,F.floor=T_e,F.forEach=uq,F.forEachRight=dq,F.forIn=nxe,F.forInRight=sxe,F.forOwn=oxe,F.forOwnRight=axe,F.get=rP,F.gt=FIe,F.gte=PIe,F.has=dxe,F.hasIn=iP,F.head=sq,F.identity=Qi,F.includes=Yhe,F.indexOf=Gye,F.inRange=jxe,F.invoke=mxe,F.isArguments=Du,F.isArray=lt,F.isArrayBuffer=jIe,F.isArrayLike=zi,F.isArrayLikeObject=jr,F.isBoolean=TIe,F.isBuffer=rl,F.isDate=CIe,F.isElement=EIe,F.isEmpty=kIe,F.isEqual=wIe,F.isEqualWith=RIe,F.isError=eP,F.isFinite=MIe,F.isFunction=Vo,F.isInteger=hq,F.isLength=CI,F.isMap=Iq,F.isMatch=UIe,F.isMatchWith=LIe,F.isNaN=NIe,F.isNative=VIe,F.isNil=BIe,F.isNull=qIe,F.isNumber=xq,F.isObject=gr,F.isObjectLike=_r,F.isPlainObject=ig,F.isRegExp=tP,F.isSafeInteger=WIe,F.isSet=_q,F.isString=EI,F.isSymbol=xn,F.isTypedArray=jc,F.isUndefined=GIe,F.isWeakMap=HIe,F.isWeakSet=KIe,F.join=Yye,F.kebabCase=Rxe,F.last=Gn,F.lastIndexOf=Qye,F.lowerCase=Mxe,F.lowerFirst=Uxe,F.lt=$Ie,F.lte=zIe,F.max=C_e,F.maxBy=E_e,F.mean=k_e,F.meanBy=w_e,F.min=R_e,F.minBy=M_e,F.stubArray=uP,F.stubFalse=dP,F.stubObject=__e,F.stubString=v_e,F.stubTrue=O_e,F.multiply=U_e,F.nth=Jye,F.noConflict=m_e,F.noop=lP,F.now=PI,F.pad=Lxe,F.padEnd=Nxe,F.padStart=Vxe,F.parseInt=qxe,F.random=Txe,F.reduce=eIe,F.reduceRight=tIe,F.repeat=Bxe,F.replace=Wxe,F.result=xxe,F.round=L_e,F.runInContext=B,F.sample=iIe,F.size=oIe,F.snakeCase=Gxe,F.some=aIe,F.sortedIndex=nhe,F.sortedIndexBy=she,F.sortedIndexOf=ohe,F.sortedLastIndex=ahe,F.sortedLastIndexBy=lhe,F.sortedLastIndexOf=uhe,F.startCase=Kxe,F.startsWith=$xe,F.subtract=N_e,F.sum=V_e,F.sumBy=q_e,F.template=zxe,F.times=S_e,F.toFinite=qo,F.toInteger=pt,F.toLength=Oq,F.toLower=Yxe,F.toNumber=Hn,F.toSafeInteger=YIe,F.toString=wt,F.toUpper=Qxe,F.trim=Jxe,F.trimEnd=Xxe,F.trimStart=Zxe,F.truncate=e_e,F.unescape=t_e,F.uniqueId=A_e,F.upperCase=r_e,F.upperFirst=nP,F.each=uq,F.eachRight=dq,F.first=sq,aP(F,function(){var l={};return Ls(F,function(c,g){Ut.call(F.prototype,g)||(l[g]=c)}),l}(),{chain:!1}),F.VERSION=e,Nn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(l){F[l].placeholder=F}),Nn(["drop","take"],function(l,c){It.prototype[l]=function(g){g=g===t?1:Nr(pt(g),0);var I=this.__filtered__&&!c?new It(this):this.clone();return I.__filtered__?I.__takeCount__=fi(g,I.__takeCount__):I.__views__.push({size:fi(g,De),type:l+(I.__dir__<0?"Right":"")}),I},It.prototype[l+"Right"]=function(g){return this.reverse()[l](g).reverse()}}),Nn(["filter","map","takeWhile"],function(l,c){var g=c+1,I=g==Ae||g==Ue;It.prototype[l]=function(S){var j=this.clone();return j.__iteratees__.push({iteratee:He(S,3),type:g}),j.__filtered__=j.__filtered__||I,j}}),Nn(["head","last"],function(l,c){var g="take"+(c?"Right":"");It.prototype[l]=function(){return this[g](1).value()[0]}}),Nn(["initial","tail"],function(l,c){var g="drop"+(c?"":"Right");It.prototype[l]=function(){return this.__filtered__?new It(this):this[g](1)}}),It.prototype.compact=function(){return this.filter(Qi)},It.prototype.find=function(l){return this.filter(l).head()},It.prototype.findLast=function(l){return this.reverse().find(l)},It.prototype.invokeMap=ft(function(l,c){return typeof l=="function"?new It(this):this.map(function(g){return Jm(g,l,c)})}),It.prototype.reject=function(l){return this.filter(TI(He(l)))},It.prototype.slice=function(l,c){l=pt(l);var g=this;return g.__filtered__&&(l>0||c<0)?new It(g):(l<0?g=g.takeRight(-l):l&&(g=g.drop(l)),c!==t&&(c=pt(c),g=c<0?g.dropRight(-c):g.take(c-l)),g)},It.prototype.takeRightWhile=function(l){return this.reverse().takeWhile(l).reverse()},It.prototype.toArray=function(){return this.take(De)},Ls(It.prototype,function(l,c){var g=/^(?:filter|find|map|reject)|While$/.test(c),I=/^(?:head|last)$/.test(c),S=F[I?"take"+(c=="last"?"Right":""):c],j=I||/^find/.test(c);S&&(F.prototype[c]=function(){var E=this.__wrapped__,L=I?[1]:arguments,W=E instanceof It,ne=L[0],oe=W||lt(E),de=function(ht){var xt=S.apply(F,za([ht],L));return I&&Se?xt[0]:xt};oe&&g&&typeof ne=="function"&&ne.length!=1&&(W=oe=!1);var Se=this.__chain__,we=!!this.__actions__.length,ze=j&&!Se,mt=W&&!we;if(!j&&oe){E=mt?E:new It(this);var Ye=l.apply(E,L);return Ye.__actions__.push({func:AI,args:[de],thisArg:t}),new qn(Ye,Se)}return ze&&mt?l.apply(this,L):(Ye=this.thru(de),ze?I?Ye.value()[0]:Ye.value():Ye)})}),Nn(["pop","push","shift","sort","splice","unshift"],function(l){var c=Xh[l],g=/^(?:push|sort|unshift)$/.test(l)?"tap":"thru",I=/^(?:pop|shift)$/.test(l);F.prototype[l]=function(){var S=arguments;if(I&&!this.__chain__){var j=this.value();return c.apply(lt(j)?j:[],S)}return this[g](function(E){return c.apply(lt(E)?E:[],S)})}}),Ls(It.prototype,function(l,c){var g=F[c];if(g){var I=g.name+"";Ut.call(Sc,I)||(Sc[I]=[]),Sc[I].push({name:c,func:g})}}),Sc[II(t,A).name]=[{name:"wrapper",func:t}],It.prototype.clone=tbe,It.prototype.reverse=rbe,It.prototype.value=ibe,F.prototype.at=Ehe,F.prototype.chain=khe,F.prototype.commit=whe,F.prototype.next=Rhe,F.prototype.plant=Uhe,F.prototype.reverse=Lhe,F.prototype.toJSON=F.prototype.valueOf=F.prototype.value=Nhe,F.prototype.first=F.prototype.head,Gm&&(F.prototype[Gm]=Mhe),F},Qa=wfe();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(Kr._=Qa,define(function(){return Qa})):yu?((yu.exports=Qa)._=Qa,oF._=Qa):Kr._=Qa}).call(Em)});var hrt={};cP(hrt,{activate:()=>frt,deactivate:()=>yrt,extensionContext:()=>gu,figmaState:()=>rr});module.exports=Uq(hrt);var je=Ie(require("vscode"));var Im=Ie(require("vscode"));var Gq=Ie(Nq(),1);function Vq(t,e,r,i,s,o,a){try{var u=t[o](a),d=u.value}catch(p){r(p);return}u.done?e(d):Promise.resolve(d).then(i,s)}function Wq(t){return function(){var e=this,r=arguments;return new Promise(function(i,s){var o=t.apply(e,r);function a(d){Vq(o,i,s,a,u,"next",d)}function u(d){Vq(o,i,s,a,u,"throw",d)}a(void 0)})}}function qq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,i)}return r}function pP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qq(Object(r),!0).forEach(function(i){z_e(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qq(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}function z_e(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Hq="axios-retry";function Kq(t){var e=["ERR_CANCELED","ECONNABORTED"];return!t.response&&Boolean(t.code)&&!e.includes(t.code)&&(0,Gq.default)(t)}var $q=["get","head","options"],Y_e=$q.concat(["put","delete"]);function gP(t){return t.code!=="ECONNABORTED"&&(!t.response||t.response.status>=500&&t.response.status<=599)}function Q_e(t){return t.config?gP(t)&&$q.indexOf(t.config.method)!==-1:!1}function zq(t){return t.config?gP(t)&&Y_e.indexOf(t.config.method)!==-1:!1}function Yq(t){return Kq(t)||zq(t)}function J_e(){return 0}function X_e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:100,i=Math.pow(2,t)*r,s=i*.2*Math.random();return i+s}var Z_e={retries:3,retryCondition:Yq,retryDelay:J_e,shouldResetTimeout:!1,onRetry:()=>{}};function eve(t,e){return pP(pP(pP({},Z_e),e),t[Hq])}function Bq(t,e){var r=eve(t,e);return r.retryCount=r.retryCount||0,t[Hq]=r,r}function tve(t,e){t.defaults.agent===e.agent&&delete e.agent,t.defaults.httpAgent===e.httpAgent&&delete e.httpAgent,t.defaults.httpsAgent===e.httpsAgent&&delete e.httpsAgent}function rve(t,e){return mP.apply(this,arguments)}function mP(){return mP=Wq(function*(t,e){var{retries:r,retryCondition:i}=t,s=t.retryCount<r&&i(e);if(typeof s=="object")try{var o=yield s;return o!==!1}catch{return!1}return s}),mP.apply(this,arguments)}function Wo(t,e){var r=t.interceptors.request.use(s=>{var o=Bq(s,e);return o.lastRequestTime=Date.now(),s}),i=t.interceptors.response.use(null,function(){var s=Wq(function*(o){var{config:a}=o;if(!a)return Promise.reject(o);var u=Bq(a,e);if(yield rve(u,o)){u.retryCount+=1;var{retryDelay:d,shouldResetTimeout:p,onRetry:m}=u,f=d(u.retryCount,o);if(tve(t,a),!p&&a.timeout&&u.lastRequestTime){var y=Date.now()-u.lastRequestTime,v=a.timeout-y-f;if(v<=0)return Promise.reject(o);a.timeout=v}return a.transformRequest=[O=>O],yield m(u.retryCount,o,a),new Promise(O=>setTimeout(()=>O(t(a)),f))}return Promise.reject(o)});return function(o){return s.apply(this,arguments)}}());return{requestInterceptorId:r,responseInterceptorId:i}}Wo.isNetworkError=Kq;Wo.isSafeRequestError=Q_e;Wo.isIdempotentRequestError=zq;Wo.isNetworkOrIdempotentRequestError=Yq;Wo.exponentialDelay=X_e;Wo.isRetryableError=gP;var cn=Ie(require("vscode"));function ng(t,e){return function(){return t.apply(e,arguments)}}var{toString:ive}=Object.prototype,{getPrototypeOf:yP}=Object,MI=(t=>e=>{let r=ive.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),qs=t=>(t=t.toLowerCase(),e=>MI(e)===t),UI=t=>e=>typeof e===t,{isArray:Cc}=Array,sg=UI("undefined");function nve(t){return t!==null&&!sg(t)&&t.constructor!==null&&!sg(t.constructor)&&Kn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}var Xq=qs("ArrayBuffer");function sve(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Xq(t.buffer),e}var ove=UI("string"),Kn=UI("function"),Zq=UI("number"),LI=t=>t!==null&&typeof t=="object",ave=t=>t===!0||t===!1,RI=t=>{if(MI(t)!=="object")return!1;let e=yP(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},lve=qs("Date"),uve=qs("File"),dve=qs("Blob"),cve=qs("FileList"),pve=t=>LI(t)&&Kn(t.pipe),mve=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Kn(t.append)&&((e=MI(t))==="formdata"||e==="object"&&Kn(t.toString)&&t.toString()==="[object FormData]"))},gve=qs("URLSearchParams"),fve=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function og(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let i,s;if(typeof t!="object"&&(t=[t]),Cc(t))for(i=0,s=t.length;i<s;i++)e.call(null,t[i],i,t);else{let o=r?Object.getOwnPropertyNames(t):Object.keys(t),a=o.length,u;for(i=0;i<a;i++)u=o[i],e.call(null,t[u],u,t)}}function eB(t,e){e=e.toLowerCase();let r=Object.keys(t),i=r.length,s;for(;i-- >0;)if(s=r[i],e===s.toLowerCase())return s;return null}var tB=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),rB=t=>!sg(t)&&t!==tB;function bP(){let{caseless:t}=rB(this)&&this||{},e={},r=(i,s)=>{let o=t&&eB(e,s)||s;RI(e[o])&&RI(i)?e[o]=bP(e[o],i):RI(i)?e[o]=bP({},i):Cc(i)?e[o]=i.slice():e[o]=i};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&og(arguments[i],r);return e}var bve=(t,e,r,{allOwnKeys:i}={})=>(og(e,(s,o)=>{r&&Kn(s)?t[o]=ng(s,r):t[o]=s},{allOwnKeys:i}),t),yve=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),hve=(t,e,r,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},Ive=(t,e,r,i)=>{let s,o,a,u={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),o=s.length;o-- >0;)a=s[o],(!i||i(a,t,e))&&!u[a]&&(e[a]=t[a],u[a]=!0);t=r!==!1&&yP(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},xve=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;let i=t.indexOf(e,r);return i!==-1&&i===r},_ve=t=>{if(!t)return null;if(Cc(t))return t;let e=t.length;if(!Zq(e))return null;let r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},vve=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&yP(Uint8Array)),Ove=(t,e)=>{let i=(t&&t[Symbol.iterator]).call(t),s;for(;(s=i.next())&&!s.done;){let o=s.value;e.call(t,o[0],o[1])}},Sve=(t,e)=>{let r,i=[];for(;(r=t.exec(e))!==null;)i.push(r);return i},Dve=qs("HTMLFormElement"),Ave=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,i,s){return i.toUpperCase()+s}),Qq=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),Fve=qs("RegExp"),iB=(t,e)=>{let r=Object.getOwnPropertyDescriptors(t),i={};og(r,(s,o)=>{let a;(a=e(s,o,t))!==!1&&(i[o]=a||s)}),Object.defineProperties(t,i)},Pve=t=>{iB(t,(e,r)=>{if(Kn(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;let i=t[r];if(Kn(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},jve=(t,e)=>{let r={},i=s=>{s.forEach(o=>{r[o]=!0})};return Cc(t)?i(t):i(String(t).split(e)),r},Tve=()=>{},Cve=(t,e)=>(t=+t,Number.isFinite(t)?t:e),fP="abcdefghijklmnopqrstuvwxyz",Jq="0123456789",nB={DIGIT:Jq,ALPHA:fP,ALPHA_DIGIT:fP+fP.toUpperCase()+Jq},Eve=(t=16,e=nB.ALPHA_DIGIT)=>{let r="",{length:i}=e;for(;t--;)r+=e[Math.random()*i|0];return r};function kve(t){return!!(t&&Kn(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}var wve=t=>{let e=new Array(10),r=(i,s)=>{if(LI(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[s]=i;let o=Cc(i)?[]:{};return og(i,(a,u)=>{let d=r(a,s+1);!sg(d)&&(o[u]=d)}),e[s]=void 0,o}}return i};return r(t,0)},Rve=qs("AsyncFunction"),Mve=t=>t&&(LI(t)||Kn(t))&&Kn(t.then)&&Kn(t.catch),H={isArray:Cc,isArrayBuffer:Xq,isBuffer:nve,isFormData:mve,isArrayBufferView:sve,isString:ove,isNumber:Zq,isBoolean:ave,isObject:LI,isPlainObject:RI,isUndefined:sg,isDate:lve,isFile:uve,isBlob:dve,isRegExp:Fve,isFunction:Kn,isStream:pve,isURLSearchParams:gve,isTypedArray:vve,isFileList:cve,forEach:og,merge:bP,extend:bve,trim:fve,stripBOM:yve,inherits:hve,toFlatObject:Ive,kindOf:MI,kindOfTest:qs,endsWith:xve,toArray:_ve,forEachEntry:Ove,matchAll:Sve,isHTMLForm:Dve,hasOwnProperty:Qq,hasOwnProp:Qq,reduceDescriptors:iB,freezeMethods:Pve,toObjectSet:jve,toCamelCase:Ave,noop:Tve,toFiniteNumber:Cve,findKey:eB,global:tB,isContextDefined:rB,ALPHABET:nB,generateString:Eve,isSpecCompliantForm:kve,toJSONObject:wve,isAsyncFn:Rve,isThenable:Mve};function Ec(t,e,r,i,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),i&&(this.request=i),s&&(this.response=s)}H.inherits(Ec,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:H.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var sB=Ec.prototype,oB={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{oB[t]={value:t}});Object.defineProperties(Ec,oB);Object.defineProperty(sB,"isAxiosError",{value:!0});Ec.from=(t,e,r,i,s,o)=>{let a=Object.create(sB);return H.toFlatObject(t,a,function(d){return d!==Error.prototype},u=>u!=="isAxiosError"),Ec.call(a,t.message,e,r,i,s),a.cause=t,a.name=t.name,o&&Object.assign(a,o),a};var Te=Ec;var BB=Ie(qB(),1),qI=BB.default;function PP(t){return H.isPlainObject(t)||H.isArray(t)}function GB(t){return H.endsWith(t,"[]")?t.slice(0,-2):t}function WB(t,e,r){return t?t.concat(e).map(function(s,o){return s=GB(s),!r&&o?"["+s+"]":s}).join(r?".":""):e}function IOe(t){return H.isArray(t)&&!t.some(PP)}var xOe=H.toFlatObject(H,{},null,function(e){return/^is[A-Z]/.test(e)});function _Oe(t,e,r){if(!H.isObject(t))throw new TypeError("target must be an object");e=e||new(qI||FormData),r=H.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(A,k){return!H.isUndefined(k[A])});let i=r.metaTokens,s=r.visitor||m,o=r.dots,a=r.indexes,d=(r.Blob||typeof Blob<"u"&&Blob)&&H.isSpecCompliantForm(e);if(!H.isFunction(s))throw new TypeError("visitor must be a function");function p(O){if(O===null)return"";if(H.isDate(O))return O.toISOString();if(!d&&H.isBlob(O))throw new Te("Blob is not supported. Use a Buffer instead.");return H.isArrayBuffer(O)||H.isTypedArray(O)?d&&typeof Blob=="function"?new Blob([O]):Buffer.from(O):O}function m(O,A,k){let U=O;if(O&&!k&&typeof O=="object"){if(H.endsWith(A,"{}"))A=i?A:A.slice(0,-2),O=JSON.stringify(O);else if(H.isArray(O)&&IOe(O)||(H.isFileList(O)||H.endsWith(A,"[]"))&&(U=H.toArray(O)))return A=GB(A),U.forEach(function(R,z){!(H.isUndefined(R)||R===null)&&e.append(a===!0?WB([A],z,o):a===null?A:A+"[]",p(R))}),!1}return PP(O)?!0:(e.append(WB(k,A,o),p(O)),!1)}let f=[],y=Object.assign(xOe,{defaultVisitor:m,convertValue:p,isVisitable:PP});function v(O,A){if(!H.isUndefined(O)){if(f.indexOf(O)!==-1)throw Error("Circular reference detected in "+A.join("."));f.push(O),H.forEach(O,function(U,$){(!(H.isUndefined(U)||U===null)&&s.call(e,U,H.isString($)?$.trim():$,A,y))===!0&&v(U,A?A.concat($):[$])}),f.pop()}}if(!H.isObject(t))throw new TypeError("data must be an object");return v(t),e}var il=_Oe;function HB(t){let e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function KB(t,e){this._pairs=[],t&&il(t,this,e)}var $B=KB.prototype;$B.append=function(e,r){this._pairs.push([e,r])};$B.toString=function(e){let r=e?function(i){return e.call(this,i,HB)}:HB;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};var zB=KB;function vOe(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Au(t,e,r){if(!e)return t;let i=r&&r.encode||vOe,s=r&&r.serialize,o;if(s?o=s(e,r):o=H.isURLSearchParams(e)?e.toString():new zB(e,r).toString(i),o){let a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}var jP=class{constructor(){this.handlers=[]}use(e,r,i){return this.handlers.push({fulfilled:e,rejected:r,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){H.forEach(this.handlers,function(i){i!==null&&e(i)})}},TP=jP;var kc={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};var YB=Ie(require("url"),1),QB=YB.default.URLSearchParams;var kr={isNode:!0,classes:{URLSearchParams:QB,FormData:qI,Blob:typeof Blob<"u"&&Blob||null},protocols:["http","https","file","data"]};function CP(t,e){return il(t,new kr.classes.URLSearchParams,Object.assign({visitor:function(r,i,s,o){return kr.isNode&&H.isBuffer(r)?(this.append(i,r.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function OOe(t){return H.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function SOe(t){let e={},r=Object.keys(t),i,s=r.length,o;for(i=0;i<s;i++)o=r[i],e[o]=t[o];return e}function DOe(t){function e(r,i,s,o){let a=r[o++],u=Number.isFinite(+a),d=o>=r.length;return a=!a&&H.isArray(s)?s.length:a,d?(H.hasOwnProp(s,a)?s[a]=[s[a],i]:s[a]=i,!u):((!s[a]||!H.isObject(s[a]))&&(s[a]=[]),e(r,i,s[a],o)&&H.isArray(s[a])&&(s[a]=SOe(s[a])),!u)}if(H.isFormData(t)&&H.isFunction(t.entries)){let r={};return H.forEachEntry(t,(i,s)=>{e(OOe(i),s,r,0)}),r}return null}var BI=DOe;function AOe(t,e,r){if(H.isString(t))try{return(e||JSON.parse)(t),H.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(r||JSON.stringify)(t)}var EP={transitional:kc,adapter:["xhr","http"],transformRequest:[function(e,r){let i=r.getContentType()||"",s=i.indexOf("application/json")>-1,o=H.isObject(e);if(o&&H.isHTMLForm(e)&&(e=new FormData(e)),H.isFormData(e))return s&&s?JSON.stringify(BI(e)):e;if(H.isArrayBuffer(e)||H.isBuffer(e)||H.isStream(e)||H.isFile(e)||H.isBlob(e))return e;if(H.isArrayBufferView(e))return e.buffer;if(H.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(o){if(i.indexOf("application/x-www-form-urlencoded")>-1)return CP(e,this.formSerializer).toString();if((u=H.isFileList(e))||i.indexOf("multipart/form-data")>-1){let d=this.env&&this.env.FormData;return il(u?{"files[]":e}:e,d&&new d,this.formSerializer)}}return o||s?(r.setContentType("application/json",!1),AOe(e)):e}],transformResponse:[function(e){let r=this.transitional||EP.transitional,i=r&&r.forcedJSONParsing,s=this.responseType==="json";if(e&&H.isString(e)&&(i&&!this.responseType||s)){let a=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(u){if(a)throw u.name==="SyntaxError"?Te.from(u,Te.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:kr.classes.FormData,Blob:kr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};H.forEach(["delete","get","head","post","put","patch"],t=>{EP.headers[t]={}});var wc=EP;var FOe=H.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),JB=t=>{let e={},r,i,s;return t&&t.split(`
`).forEach(function(a){s=a.indexOf(":"),r=a.substring(0,s).trim().toLowerCase(),i=a.substring(s+1).trim(),!(!r||e[r]&&FOe[r])&&(r==="set-cookie"?e[r]?e[r].push(i):e[r]=[i]:e[r]=e[r]?e[r]+", "+i:i)}),e};var XB=Symbol("internals");function ag(t){return t&&String(t).trim().toLowerCase()}function WI(t){return t===!1||t==null?t:H.isArray(t)?t.map(WI):String(t)}function POe(t){let e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g,i;for(;i=r.exec(t);)e[i[1]]=i[2];return e}var jOe=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function kP(t,e,r,i,s){if(H.isFunction(i))return i.call(this,e,r);if(s&&(e=r),!!H.isString(e)){if(H.isString(i))return e.indexOf(i)!==-1;if(H.isRegExp(i))return i.test(e)}}function TOe(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,i)=>r.toUpperCase()+i)}function COe(t,e){let r=H.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+r,{value:function(s,o,a){return this[i].call(this,e,s,o,a)},configurable:!0})})}var Rc=class{constructor(e){e&&this.set(e)}set(e,r,i){let s=this;function o(u,d,p){let m=ag(d);if(!m)throw new Error("header name must be a non-empty string");let f=H.findKey(s,m);(!f||s[f]===void 0||p===!0||p===void 0&&s[f]!==!1)&&(s[f||d]=WI(u))}let a=(u,d)=>H.forEach(u,(p,m)=>o(p,m,d));return H.isPlainObject(e)||e instanceof this.constructor?a(e,r):H.isString(e)&&(e=e.trim())&&!jOe(e)?a(JB(e),r):e!=null&&o(r,e,i),this}get(e,r){if(e=ag(e),e){let i=H.findKey(this,e);if(i){let s=this[i];if(!r)return s;if(r===!0)return POe(s);if(H.isFunction(r))return r.call(this,s,i);if(H.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=ag(e),e){let i=H.findKey(this,e);return!!(i&&this[i]!==void 0&&(!r||kP(this,this[i],i,r)))}return!1}delete(e,r){let i=this,s=!1;function o(a){if(a=ag(a),a){let u=H.findKey(i,a);u&&(!r||kP(i,i[u],u,r))&&(delete i[u],s=!0)}}return H.isArray(e)?e.forEach(o):o(e),s}clear(e){let r=Object.keys(this),i=r.length,s=!1;for(;i--;){let o=r[i];(!e||kP(this,this[o],o,e,!0))&&(delete this[o],s=!0)}return s}normalize(e){let r=this,i={};return H.forEach(this,(s,o)=>{let a=H.findKey(i,o);if(a){r[a]=WI(s),delete r[o];return}let u=e?TOe(o):String(o).trim();u!==o&&delete r[o],r[u]=WI(s),i[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){let r=Object.create(null);return H.forEach(this,(i,s)=>{i!=null&&i!==!1&&(r[s]=e&&H.isArray(i)?i.join(", "):i)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){let i=new this(e);return r.forEach(s=>i.set(s)),i}static accessor(e){let i=(this[XB]=this[XB]={accessors:{}}).accessors,s=this.prototype;function o(a){let u=ag(a);i[u]||(COe(s,a),i[u]=!0)}return H.isArray(e)?e.forEach(o):o(e),this}};Rc.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);H.reduceDescriptors(Rc.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(i){this[r]=i}}});H.freezeMethods(Rc);var Vr=Rc;function lg(t,e){let r=this||wc,i=e||r,s=Vr.from(i.headers),o=i.data;return H.forEach(t,function(u){o=u.call(r,o,s.normalize(),e?e.status:void 0)}),s.normalize(),o}function ug(t){return!!(t&&t.__CANCEL__)}function ZB(t,e,r){Te.call(this,t??"canceled",Te.ERR_CANCELED,e,r),this.name="CanceledError"}H.inherits(ZB,Te,{__CANCEL__:!0});var hs=ZB;function nl(t,e,r){let i=r.config.validateStatus;!r.status||!i||i(r.status)?t(r):e(new Te("Request failed with status code "+r.status,[Te.ERR_BAD_REQUEST,Te.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function wP(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function RP(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function Fu(t,e){return t&&!wP(e)?RP(t,e):e}var MW=Ie(tW(),1),UW=Ie(require("http"),1),LW=Ie(require("https"),1),NW=Ie(require("util"),1),VW=Ie(vW(),1),Go=Ie(require("zlib"),1);var Cu="1.6.0";function gg(t){let e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}var gSe=/^(?:([^;]+);)?(?:[^;]+;)?(base64|),([\s\S]*)$/;function HP(t,e,r){let i=r&&r.Blob||kr.classes.Blob,s=gg(t);if(e===void 0&&i&&(e=!0),s==="data"){t=s.length?t.slice(s.length+1):t;let o=gSe.exec(t);if(!o)throw new Te("Invalid URL",Te.ERR_INVALID_URL);let a=o[1],u=o[2],d=o[3],p=Buffer.from(decodeURIComponent(d),u?"base64":"utf8");if(e){if(!i)throw new Te("Blob is not supported",Te.ERR_NOT_SUPPORT);return new i([p],{type:a})}return p}throw new Te("Unsupported protocol "+s,Te.ERR_NOT_SUPPORT)}var Eu=Ie(require("stream"),1);var SW=Ie(require("stream"),1);function fSe(t,e){let r=0,i=1e3/e,s=null;return function(a,u){let d=Date.now();if(a||d-r>i)return s&&(clearTimeout(s),s=null),r=d,t.apply(null,u);s||(s=setTimeout(()=>(s=null,r=Date.now(),t.apply(null,u)),i-(d-r)))}}var OW=fSe;function bSe(t,e){t=t||10;let r=new Array(t),i=new Array(t),s=0,o=0,a;return e=e!==void 0?e:1e3,function(d){let p=Date.now(),m=i[o];a||(a=p),r[s]=d,i[s]=p;let f=o,y=0;for(;f!==s;)y+=r[f++],f=f%t;if(s=(s+1)%t,s===o&&(o=(o+1)%t),p-a<e)return;let v=m&&p-m;return v?Math.round(y*1e3/v):void 0}}var zI=bSe;var YI=Symbol("internals"),KP=class extends SW.default.Transform{constructor(e){e=H.toFlatObject(e,{maxRate:0,chunkSize:64*1024,minChunkSize:100,timeWindow:500,ticksRate:2,samplesCount:15},null,(u,d)=>!H.isUndefined(d[u])),super({readableHighWaterMark:e.chunkSize});let r=this,i=this[YI]={length:e.length,timeWindow:e.timeWindow,ticksRate:e.ticksRate,chunkSize:e.chunkSize,maxRate:e.maxRate,minChunkSize:e.minChunkSize,bytesSeen:0,isCaptured:!1,notifiedBytesLoaded:0,ts:Date.now(),bytes:0,onReadCallback:null},s=zI(i.ticksRate*e.samplesCount,i.timeWindow);this.on("newListener",u=>{u==="progress"&&(i.isCaptured||(i.isCaptured=!0))});let o=0;i.updateProgress=OW(function(){let d=i.length,p=i.bytesSeen,m=p-o;if(!m||r.destroyed)return;let f=s(m);o=p,process.nextTick(()=>{r.emit("progress",{loaded:p,total:d,progress:d?p/d:void 0,bytes:m,rate:f||void 0,estimated:f&&d&&p<=d?(d-p)/f:void 0})})},i.ticksRate);let a=()=>{i.updateProgress(!0)};this.once("end",a),this.once("error",a)}_read(e){let r=this[YI];return r.onReadCallback&&r.onReadCallback(),super._read(e)}_transform(e,r,i){let s=this,o=this[YI],a=o.maxRate,u=this.readableHighWaterMark,d=o.timeWindow,p=1e3/d,m=a/p,f=o.minChunkSize!==!1?Math.max(o.minChunkSize,m*.01):0;function y(O,A){let k=Buffer.byteLength(O);o.bytesSeen+=k,o.bytes+=k,o.isCaptured&&o.updateProgress(),s.push(O)?process.nextTick(A):o.onReadCallback=()=>{o.onReadCallback=null,process.nextTick(A)}}let v=(O,A)=>{let k=Buffer.byteLength(O),U=null,$=u,R,z=0;if(a){let fe=Date.now();(!o.ts||(z=fe-o.ts)>=d)&&(o.ts=fe,R=m-o.bytes,o.bytes=R<0?-R:0,z=0),R=m-o.bytes}if(a){if(R<=0)return setTimeout(()=>{A(null,O)},d-z);R<$&&($=R)}$&&k>$&&k-$>f&&(U=O.subarray($),O=O.subarray(0,$)),y(O,U?()=>{process.nextTick(A,null,U)}:A)};v(e,function O(A,k){if(A)return i(A);k?v(k,O):i(null)})}setLength(e){return this[YI].length=+e,this}},$P=KP;var qW=Ie(require("events"),1);var AW=require("util"),FW=require("stream");var{asyncIterator:DW}=Symbol,ySe=async function*(t){t.stream?yield*t.stream():t.arrayBuffer?yield await t.arrayBuffer():t[DW]?yield*t[DW]():yield t},QI=ySe;var hSe=H.ALPHABET.ALPHA_DIGIT+"-_",fg=new AW.TextEncoder,ol=`\r
`,ISe=fg.encode(ol),xSe=2,zP=class{constructor(e,r){let{escapeName:i}=this.constructor,s=H.isString(r),o=`Content-Disposition: form-data; name="${i(e)}"${!s&&r.name?`; filename="${i(r.name)}"`:""}${ol}`;s?r=fg.encode(String(r).replace(/\r?\n|\r\n?/g,ol)):o+=`Content-Type: ${r.type||"application/octet-stream"}${ol}`,this.headers=fg.encode(o+ol),this.contentLength=s?r.byteLength:r.size,this.size=this.headers.byteLength+this.contentLength+xSe,this.name=e,this.value=r}async*encode(){yield this.headers;let{value:e}=this;H.isTypedArray(e)?yield e:yield*QI(e),yield ISe}static escapeName(e){return String(e).replace(/[\r\n"]/g,r=>({"\r":"%0D","\n":"%0A",'"':"%22"})[r])}},_Se=(t,e,r)=>{let{tag:i="form-data-boundary",size:s=25,boundary:o=i+"-"+H.generateString(s,hSe)}=r||{};if(!H.isFormData(t))throw TypeError("FormData instance required");if(o.length<1||o.length>70)throw Error("boundary must be 10-70 characters long");let a=fg.encode("--"+o+ol),u=fg.encode("--"+o+"--"+ol+ol),d=u.byteLength,p=Array.from(t.entries()).map(([f,y])=>{let v=new zP(f,y);return d+=v.size,v});d+=a.byteLength*p.length,d=H.toFiniteNumber(d);let m={"Content-Type":`multipart/form-data; boundary=${o}`};return Number.isFinite(d)&&(m["Content-Length"]=d),e&&e(m),FW.Readable.from(async function*(){for(let f of p)yield a,yield*f.encode();yield u}())},PW=_Se;var jW=Ie(require("stream"),1),YP=class extends jW.default.Transform{__transform(e,r,i){this.push(e),i()}_transform(e,r,i){if(e.length!==0&&(this._transform=this.__transform,e[0]!==120)){let s=Buffer.alloc(2);s[0]=120,s[1]=156,this.push(s,r)}this.__transform(e,r,i)}},TW=YP;var vSe=(t,e)=>H.isAsyncFn(t)?function(...r){let i=r.pop();t.apply(this,r).then(s=>{try{e?i(null,...e(s)):i(null,s)}catch(o){i(o)}},i)}:t,CW=vSe;var EW={flush:Go.default.constants.Z_SYNC_FLUSH,finishFlush:Go.default.constants.Z_SYNC_FLUSH},OSe={flush:Go.default.constants.BROTLI_OPERATION_FLUSH,finishFlush:Go.default.constants.BROTLI_OPERATION_FLUSH},kW=H.isFunction(Go.default.createBrotliDecompress),{http:SSe,https:DSe}=VW.default,ASe=/https:?/,wW=kr.protocols.map(t=>t+":");function FSe(t){t.beforeRedirects.proxy&&t.beforeRedirects.proxy(t),t.beforeRedirects.config&&t.beforeRedirects.config(t)}function BW(t,e,r){let i=e;if(!i&&i!==!1){let s=(0,MW.getProxyForUrl)(r);s&&(i=new URL(s))}if(i){if(i.username&&(i.auth=(i.username||"")+":"+(i.password||"")),i.auth){(i.auth.username||i.auth.password)&&(i.auth=(i.auth.username||"")+":"+(i.auth.password||""));let o=Buffer.from(i.auth,"utf8").toString("base64");t.headers["Proxy-Authorization"]="Basic "+o}t.headers.host=t.hostname+(t.port?":"+t.port:"");let s=i.hostname||i.host;t.hostname=s,t.host=s,t.port=i.port,t.path=r,i.protocol&&(t.protocol=i.protocol.includes(":")?i.protocol:`${i.protocol}:`)}t.beforeRedirects.proxy=function(o){BW(o,e,o.href)}}var PSe=typeof process<"u"&&H.kindOf(process)==="process",jSe=t=>new Promise((e,r)=>{let i,s,o=(d,p)=>{s||(s=!0,i&&i(d,p))},a=d=>{o(d),e(d)},u=d=>{o(d,!0),r(d)};t(a,u,d=>i=d).catch(u)}),TSe=({address:t,family:e})=>{if(!H.isString(t))throw TypeError("address must be a string");return{address:t,family:e||(t.indexOf(".")<0?6:4)}},RW=(t,e)=>TSe(H.isObject(t)?t:{address:t,family:e}),WW=PSe&&function(e){return jSe(async function(i,s,o){let{data:a,lookup:u,family:d}=e,{responseType:p,responseEncoding:m}=e,f=e.method.toUpperCase(),y,v=!1,O;if(u){let ce=CW(u,se=>H.isArray(se)?se:[se]);u=(se,De,Re)=>{ce(se,De,(Ot,Yt,Ti)=>{let xr=H.isArray(Yt)?Yt.map(cr=>RW(cr)):[RW(Yt,Ti)];De.all?Re(Ot,xr):Re(Ot,xr[0].address,xr[0].family)})}}let A=new qW.default,k=()=>{e.cancelToken&&e.cancelToken.unsubscribe(U),e.signal&&e.signal.removeEventListener("abort",U),A.removeAllListeners()};o((ce,se)=>{y=!0,se&&(v=!0,k())});function U(ce){A.emit("abort",!ce||ce.type?new hs(null,e,O):ce)}A.once("abort",s),(e.cancelToken||e.signal)&&(e.cancelToken&&e.cancelToken.subscribe(U),e.signal&&(e.signal.aborted?U():e.signal.addEventListener("abort",U)));let $=Fu(e.baseURL,e.url),R=new URL($,"http://localhost"),z=R.protocol||wW[0];if(z==="data:"){let ce;if(f!=="GET")return nl(i,s,{status:405,statusText:"method not allowed",headers:{},config:e});try{ce=HP(e.url,p==="blob",{Blob:e.env&&e.env.Blob})}catch(se){throw Te.from(se,Te.ERR_BAD_REQUEST,e)}return p==="text"?(ce=ce.toString(m),(!m||m==="utf8")&&(ce=H.stripBOM(ce))):p==="stream"&&(ce=Eu.default.Readable.from(ce)),nl(i,s,{data:ce,status:200,statusText:"OK",headers:new Vr,config:e})}if(wW.indexOf(z)===-1)return s(new Te("Unsupported protocol "+z,Te.ERR_BAD_REQUEST,e));let fe=Vr.from(e.headers).normalize();fe.set("User-Agent","axios/"+Cu,!1);let Q=e.onDownloadProgress,be=e.onUploadProgress,ae=e.maxRate,re,ve;if(H.isSpecCompliantForm(a)){let ce=fe.getContentType(/boundary=([-_\w\d]{10,70})/i);a=PW(a,se=>{fe.set(se)},{tag:`axios-${Cu}-boundary`,boundary:ce&&ce[1]||void 0})}else if(H.isFormData(a)&&H.isFunction(a.getHeaders)){if(fe.set(a.getHeaders()),!fe.hasContentLength())try{let ce=await NW.default.promisify(a.getLength).call(a);Number.isFinite(ce)&&ce>=0&&fe.setContentLength(ce)}catch{}}else if(H.isBlob(a))a.size&&fe.setContentType(a.type||"application/octet-stream"),fe.setContentLength(a.size||0),a=Eu.default.Readable.from(QI(a));else if(a&&!H.isStream(a)){if(!Buffer.isBuffer(a))if(H.isArrayBuffer(a))a=Buffer.from(new Uint8Array(a));else if(H.isString(a))a=Buffer.from(a,"utf-8");else return s(new Te("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",Te.ERR_BAD_REQUEST,e));if(fe.setContentLength(a.length,!1),e.maxBodyLength>-1&&a.length>e.maxBodyLength)return s(new Te("Request body larger than maxBodyLength limit",Te.ERR_BAD_REQUEST,e))}let K=H.toFiniteNumber(fe.getContentLength());H.isArray(ae)?(re=ae[0],ve=ae[1]):re=ve=ae,a&&(be||re)&&(H.isStream(a)||(a=Eu.default.Readable.from(a,{objectMode:!1})),a=Eu.default.pipeline([a,new $P({length:K,maxRate:H.toFiniteNumber(re)})],H.noop),be&&a.on("progress",ce=>{be(Object.assign(ce,{upload:!0}))}));let Ae;if(e.auth){let ce=e.auth.username||"",se=e.auth.password||"";Ae=ce+":"+se}if(!Ae&&R.username){let ce=R.username,se=R.password;Ae=ce+":"+se}Ae&&fe.delete("authorization");let Ce;try{Ce=Au(R.pathname+R.search,e.params,e.paramsSerializer).replace(/^\?/,"")}catch(ce){let se=new Error(ce.message);return se.config=e,se.url=e.url,se.exists=!0,s(se)}fe.set("Accept-Encoding","gzip, compress, deflate"+(kW?", br":""),!1);let Ue={path:Ce,method:f,headers:fe.toJSON(),agents:{http:e.httpAgent,https:e.httpsAgent},auth:Ae,protocol:z,family:d,beforeRedirect:FSe,beforeRedirects:{}};!H.isUndefined(u)&&(Ue.lookup=u),e.socketPath?Ue.socketPath=e.socketPath:(Ue.hostname=R.hostname,Ue.port=R.port,BW(Ue,e.proxy,z+"//"+R.hostname+(R.port?":"+R.port:"")+Ue.path));let C,N=ASe.test(Ue.protocol);if(Ue.agent=N?e.httpsAgent:e.httpAgent,e.transport?C=e.transport:e.maxRedirects===0?C=N?LW.default:UW.default:(e.maxRedirects&&(Ue.maxRedirects=e.maxRedirects),e.beforeRedirect&&(Ue.beforeRedirects.config=e.beforeRedirect),C=N?DSe:SSe),e.maxBodyLength>-1?Ue.maxBodyLength=e.maxBodyLength:Ue.maxBodyLength=1/0,e.insecureHTTPParser&&(Ue.insecureHTTPParser=e.insecureHTTPParser),O=C.request(Ue,function(se){if(O.destroyed)return;let De=[se],Re=+se.headers["content-length"];if(Q){let cr=new $P({length:H.toFiniteNumber(Re),maxRate:H.toFiniteNumber(ve)});Q&&cr.on("progress",Xe=>{Q(Object.assign(Xe,{download:!0}))}),De.push(cr)}let Ot=se,Yt=se.req||O;if(e.decompress!==!1&&se.headers["content-encoding"])switch((f==="HEAD"||se.statusCode===204)&&delete se.headers["content-encoding"],(se.headers["content-encoding"]||"").toLowerCase()){case"gzip":case"x-gzip":case"compress":case"x-compress":De.push(Go.default.createUnzip(EW)),delete se.headers["content-encoding"];break;case"deflate":De.push(new TW),De.push(Go.default.createUnzip(EW)),delete se.headers["content-encoding"];break;case"br":kW&&(De.push(Go.default.createBrotliDecompress(OSe)),delete se.headers["content-encoding"])}Ot=De.length>1?Eu.default.pipeline(De,H.noop):De[0];let Ti=Eu.default.finished(Ot,()=>{Ti(),k()}),xr={status:se.statusCode,statusText:se.statusMessage,headers:new Vr(se.headers),config:e,request:Yt};if(p==="stream")xr.data=Ot,nl(i,s,xr);else{let cr=[],Xe=0;Ot.on("data",function(Pr){cr.push(Pr),Xe+=Pr.length,e.maxContentLength>-1&&Xe>e.maxContentLength&&(v=!0,Ot.destroy(),s(new Te("maxContentLength size of "+e.maxContentLength+" exceeded",Te.ERR_BAD_RESPONSE,e,Yt)))}),Ot.on("aborted",function(){if(v)return;let Pr=new Te("maxContentLength size of "+e.maxContentLength+" exceeded",Te.ERR_BAD_RESPONSE,e,Yt);Ot.destroy(Pr),s(Pr)}),Ot.on("error",function(Pr){O.destroyed||s(Te.from(Pr,null,e,Yt))}),Ot.on("end",function(){try{let Pr=cr.length===1?cr[0]:Buffer.concat(cr);p!=="arraybuffer"&&(Pr=Pr.toString(m),(!m||m==="utf8")&&(Pr=H.stripBOM(Pr))),xr.data=Pr}catch(Pr){return s(Te.from(Pr,null,e,xr.request,xr))}nl(i,s,xr)})}A.once("abort",cr=>{Ot.destroyed||(Ot.emit("error",cr),Ot.destroy())})}),A.once("abort",ce=>{s(ce),O.destroy(ce)}),O.on("error",function(se){s(Te.from(se,null,e,O))}),O.on("socket",function(se){se.setKeepAlive(!0,1e3*60)}),e.timeout){let ce=parseInt(e.timeout,10);if(Number.isNaN(ce)){s(new Te("error trying to parse `config.timeout` to int",Te.ERR_BAD_OPTION_VALUE,e,O));return}O.setTimeout(ce,function(){if(y)return;let De=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",Re=e.transitional||kc;e.timeoutErrorMessage&&(De=e.timeoutErrorMessage),s(new Te(De,Re.clarifyTimeoutError?Te.ETIMEDOUT:Te.ECONNABORTED,e,O)),U()})}if(H.isStream(a)){let ce=!1,se=!1;a.on("end",()=>{ce=!0}),a.once("error",De=>{se=!0,O.destroy(De)}),a.on("close",()=>{!ce&&!se&&U(new hs("Request stream has been aborted",e,O))}),a.pipe(O)}else O.end(a)})};var GW=kr.isStandardBrowserEnv?function(){return{write:function(r,i,s,o,a,u){let d=[];d.push(r+"="+encodeURIComponent(i)),H.isNumber(s)&&d.push("expires="+new Date(s).toGMTString()),H.isString(o)&&d.push("path="+o),H.isString(a)&&d.push("domain="+a),u===!0&&d.push("secure"),document.cookie=d.join("; ")},read:function(r){let i=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();var HW=kr.isStandardBrowserEnv?function(){let e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),i;function s(o){let a=o;return e&&(r.setAttribute("href",a),a=r.href),r.setAttribute("href",a),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return i=s(window.location.href),function(a){let u=H.isString(a)?s(a):a;return u.protocol===i.protocol&&u.host===i.host}}():function(){return function(){return!0}}();function KW(t,e){let r=0,i=zI(50,250);return s=>{let o=s.loaded,a=s.lengthComputable?s.total:void 0,u=o-r,d=i(u),p=o<=a;r=o;let m={loaded:o,total:a,progress:a?o/a:void 0,bytes:u,rate:d||void 0,estimated:d&&a&&p?(a-o)/d:void 0,event:s};m[e?"download":"upload"]=!0,t(m)}}var CSe=typeof XMLHttpRequest<"u",$W=CSe&&function(t){return new Promise(function(r,i){let s=t.data,o=Vr.from(t.headers).normalize(),a=t.responseType,u;function d(){t.cancelToken&&t.cancelToken.unsubscribe(u),t.signal&&t.signal.removeEventListener("abort",u)}let p;H.isFormData(s)&&(kr.isStandardBrowserEnv||kr.isStandardBrowserWebWorkerEnv?o.setContentType(!1):o.getContentType(/^\s*multipart\/form-data/)?H.isString(p=o.getContentType())&&o.setContentType(p.replace(/^\s*(multipart\/form-data);+/,"$1")):o.setContentType("multipart/form-data"));let m=new XMLHttpRequest;if(t.auth){let O=t.auth.username||"",A=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";o.set("Authorization","Basic "+btoa(O+":"+A))}let f=Fu(t.baseURL,t.url);m.open(t.method.toUpperCase(),Au(f,t.params,t.paramsSerializer),!0),m.timeout=t.timeout;function y(){if(!m)return;let O=Vr.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders()),k={data:!a||a==="text"||a==="json"?m.responseText:m.response,status:m.status,statusText:m.statusText,headers:O,config:t,request:m};nl(function($){r($),d()},function($){i($),d()},k),m=null}if("onloadend"in m?m.onloadend=y:m.onreadystatechange=function(){!m||m.readyState!==4||m.status===0&&!(m.responseURL&&m.responseURL.indexOf("file:")===0)||setTimeout(y)},m.onabort=function(){m&&(i(new Te("Request aborted",Te.ECONNABORTED,t,m)),m=null)},m.onerror=function(){i(new Te("Network Error",Te.ERR_NETWORK,t,m)),m=null},m.ontimeout=function(){let A=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",k=t.transitional||kc;t.timeoutErrorMessage&&(A=t.timeoutErrorMessage),i(new Te(A,k.clarifyTimeoutError?Te.ETIMEDOUT:Te.ECONNABORTED,t,m)),m=null},kr.isStandardBrowserEnv){let O=HW(f)&&t.xsrfCookieName&&GW.read(t.xsrfCookieName);O&&o.set(t.xsrfHeaderName,O)}s===void 0&&o.setContentType(null),"setRequestHeader"in m&&H.forEach(o.toJSON(),function(A,k){m.setRequestHeader(k,A)}),H.isUndefined(t.withCredentials)||(m.withCredentials=!!t.withCredentials),a&&a!=="json"&&(m.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&m.addEventListener("progress",KW(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&m.upload&&m.upload.addEventListener("progress",KW(t.onUploadProgress)),(t.cancelToken||t.signal)&&(u=O=>{m&&(i(!O||O.type?new hs(null,t,m):O),m.abort(),m=null)},t.cancelToken&&t.cancelToken.subscribe(u),t.signal&&(t.signal.aborted?u():t.signal.addEventListener("abort",u)));let v=gg(f);if(v&&kr.protocols.indexOf(v)===-1){i(new Te("Unsupported protocol "+v+":",Te.ERR_BAD_REQUEST,t));return}m.send(s||null)})};var QP={http:WW,xhr:$W};H.forEach(QP,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});var zW=t=>`- ${t}`,ESe=t=>H.isFunction(t)||t===null||t===!1,JI={getAdapter:t=>{t=H.isArray(t)?t:[t];let{length:e}=t,r,i,s={};for(let o=0;o<e;o++){r=t[o];let a;if(i=r,!ESe(r)&&(i=QP[(a=String(r)).toLowerCase()],i===void 0))throw new Te(`Unknown adapter '${a}'`);if(i)break;s[a||"#"+o]=i}if(!i){let o=Object.entries(s).map(([u,d])=>`adapter ${u} `+(d===!1?"is not supported by the environment":"is not available in the build")),a=e?o.length>1?`since :
`+o.map(zW).join(`
`):" "+zW(o[0]):"as no adapter specified";throw new Te("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return i},adapters:QP};function JP(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new hs(null,t)}function XI(t){return JP(t),t.headers=Vr.from(t.headers),t.data=lg.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),JI.getAdapter(t.adapter||wc.adapter)(t).then(function(i){return JP(t),i.data=lg.call(t,t.transformResponse,i),i.headers=Vr.from(i.headers),i},function(i){return ug(i)||(JP(t),i&&i.response&&(i.response.data=lg.call(t,t.transformResponse,i.response),i.response.headers=Vr.from(i.response.headers))),Promise.reject(i)})}var YW=t=>t instanceof Vr?t.toJSON():t;function Ho(t,e){e=e||{};let r={};function i(p,m,f){return H.isPlainObject(p)&&H.isPlainObject(m)?H.merge.call({caseless:f},p,m):H.isPlainObject(m)?H.merge({},m):H.isArray(m)?m.slice():m}function s(p,m,f){if(H.isUndefined(m)){if(!H.isUndefined(p))return i(void 0,p,f)}else return i(p,m,f)}function o(p,m){if(!H.isUndefined(m))return i(void 0,m)}function a(p,m){if(H.isUndefined(m)){if(!H.isUndefined(p))return i(void 0,p)}else return i(void 0,m)}function u(p,m,f){if(f in e)return i(p,m);if(f in t)return i(void 0,p)}let d={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:u,headers:(p,m)=>s(YW(p),YW(m),!0)};return H.forEach(Object.keys(Object.assign({},t,e)),function(m){let f=d[m]||s,y=f(t[m],e[m],m);H.isUndefined(y)&&f!==u||(r[m]=y)}),r}var XP={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{XP[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});var QW={};XP.transitional=function(e,r,i){function s(o,a){return"[Axios v"+Cu+"] Transitional option '"+o+"'"+a+(i?". "+i:"")}return(o,a,u)=>{if(e===!1)throw new Te(s(a," has been removed"+(r?" in "+r:"")),Te.ERR_DEPRECATED);return r&&!QW[a]&&(QW[a]=!0,console.warn(s(a," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(o,a,u):!0}};function kSe(t,e,r){if(typeof t!="object")throw new Te("options must be an object",Te.ERR_BAD_OPTION_VALUE);let i=Object.keys(t),s=i.length;for(;s-- >0;){let o=i[s],a=e[o];if(a){let u=t[o],d=u===void 0||a(u,o,t);if(d!==!0)throw new Te("option "+o+" must be "+d,Te.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Te("Unknown option "+o,Te.ERR_BAD_OPTION)}}var ZI={assertOptions:kSe,validators:XP};var al=ZI.validators,Vc=class{constructor(e){this.defaults=e,this.interceptors={request:new TP,response:new TP}}request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=Ho(this.defaults,r);let{transitional:i,paramsSerializer:s,headers:o}=r;i!==void 0&&ZI.assertOptions(i,{silentJSONParsing:al.transitional(al.boolean),forcedJSONParsing:al.transitional(al.boolean),clarifyTimeoutError:al.transitional(al.boolean)},!1),s!=null&&(H.isFunction(s)?r.paramsSerializer={serialize:s}:ZI.assertOptions(s,{encode:al.function,serialize:al.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let a=o&&H.merge(o.common,o[r.method]);o&&H.forEach(["delete","get","head","post","put","patch","common"],O=>{delete o[O]}),r.headers=Vr.concat(a,o);let u=[],d=!0;this.interceptors.request.forEach(function(A){typeof A.runWhen=="function"&&A.runWhen(r)===!1||(d=d&&A.synchronous,u.unshift(A.fulfilled,A.rejected))});let p=[];this.interceptors.response.forEach(function(A){p.push(A.fulfilled,A.rejected)});let m,f=0,y;if(!d){let O=[XI.bind(this),void 0];for(O.unshift.apply(O,u),O.push.apply(O,p),y=O.length,m=Promise.resolve(r);f<y;)m=m.then(O[f++],O[f++]);return m}y=u.length;let v=r;for(f=0;f<y;){let O=u[f++],A=u[f++];try{v=O(v)}catch(k){A.call(this,k);break}}try{m=XI.call(this,v)}catch(O){return Promise.reject(O)}for(f=0,y=p.length;f<y;)m=m.then(p[f++],p[f++]);return m}getUri(e){e=Ho(this.defaults,e);let r=Fu(e.baseURL,e.url);return Au(r,e.params,e.paramsSerializer)}};H.forEach(["delete","get","head","options"],function(e){Vc.prototype[e]=function(r,i){return this.request(Ho(i||{},{method:e,url:r,data:(i||{}).data}))}});H.forEach(["post","put","patch"],function(e){function r(i){return function(o,a,u){return this.request(Ho(u||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:o,data:a}))}}Vc.prototype[e]=r(),Vc.prototype[e+"Form"]=r(!0)});var bg=Vc;var yg=class{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(o){r=o});let i=this;this.promise.then(s=>{if(!i._listeners)return;let o=i._listeners.length;for(;o-- >0;)i._listeners[o](s);i._listeners=null}),this.promise.then=s=>{let o,a=new Promise(u=>{i.subscribe(u),o=u}).then(s);return a.cancel=function(){i.unsubscribe(o)},a},e(function(o,a,u){i.reason||(i.reason=new hs(o,a,u),r(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;let r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}static source(){let e;return{token:new yg(function(s){e=s}),cancel:e}}},JW=yg;function ZP(t){return function(r){return t.apply(null,r)}}function ej(t){return H.isObject(t)&&t.isAxiosError===!0}var tj={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(tj).forEach(([t,e])=>{tj[e]=t});var XW=tj;function ZW(t){let e=new bg(t),r=ng(bg.prototype.request,e);return H.extend(r,bg.prototype,e,{allOwnKeys:!0}),H.extend(r,e,null,{allOwnKeys:!0}),r.create=function(s){return ZW(Ho(t,s))},r}var wr=ZW(wc);wr.Axios=bg;wr.CanceledError=hs;wr.CancelToken=JW;wr.isCancel=ug;wr.VERSION=Cu;wr.toFormData=il;wr.AxiosError=Te;wr.Cancel=wr.CanceledError;wr.all=function(e){return Promise.all(e)};wr.spread=ZP;wr.isAxiosError=ej;wr.mergeConfig=Ho;wr.AxiosHeaders=Vr;wr.formToJSON=t=>BI(H.isHTMLForm(t)?new FormData(t):t);wr.getAdapter=JI.getAdapter;wr.HttpStatusCode=XW;wr.default=wr;var Bs=wr;var{Axios:Jst,AxiosError:Xst,CanceledError:Zst,isCancel:eot,CancelToken:tot,VERSION:rot,all:iot,Cancel:not,isAxiosError:ex,spread:sot,toFormData:oot,AxiosHeaders:aot,HttpStatusCode:lot,formToJSON:uot,getAdapter:dot,mergeConfig:cot}=Bs;var q0=Ie(t2());var Or={prod:"https://www.figma.com",staging:"https://staging.figma.com",dev:"https://local.figma.engineering:8443"},Ig={prod:"__Host-figma.integ",staging:"__Host-figma.integ",dev:"figma.integ"};var ku=class extends Error{},Bc=class extends Error{constructor(e,r){r?(super(`${e}: ${r.message??"no message"}`),this.stack=`${this.stack||""}
Caused by:
${r.stack||""}`):super(e)}},tx=class extends Bc{},xg=class extends Bc{},Ko=class extends Bc{},rx=class extends Bc{};var ll=Ie(require("vscode"));var Nt=class{constructor(){this.listeners=[]}add(e){return this.listeners.push(e),{dispose:()=>this.remove(e)}}remove(e){let r=this.listeners.indexOf(e);r>-1&&this.listeners.splice(r,1)}invoke(...e){this.listeners.forEach(r=>{r(...e)})}isEmpty(){return this.listeners.length===0}dispose(){this.listeners=[]}};var i2={key:"loggedIn"},n2={key:"selectedOrgId"},r2="fileState",s2="SEEN_UNSUPPORTED_VERSION_DIALOG",nj="autoOpenFile";function zt(t){return void 0||"prod"}async function o2(t,e){return t.globalState.update("environmentOverride",e)}function Yr(t,e){return`${e.key}.${zt(t)}`}function ix(){return ll.workspace.getConfiguration("figma").get("autocompleteBlocks")}function nx(){return ll.workspace.getConfiguration("figma").get("autocompleteProperties")}function a2(){return ll.workspace.getConfiguration("figma").get("assetExportDirectory")}function l2(){return ll.workspace.getConfiguration("figma").get("assetPublicDirectory")}var _g=new Nt;function wu(t){return t.globalState.get(Yr(t,n2))||null}async function sj(t,e){await t.globalState.update(Yr(t,n2),e),_g.invoke(e)}async function oj(t,e){return t.globalState.update(Yr(t,i2),e)}function Xi(t){return Boolean(t.globalState.get(Yr(t,i2)))}async function aj(t,e,r){let i=t.globalState.get(r2)??{};i[e]=r,await t.globalState.update(r2,i)}async function u2(t,e){return t?.globalState.update(nj,e)}function sx(t){return t?.globalState.get(nj)}async function d2(t){return t?.globalState.update(nj,void 0)}async function c2(t){return t.globalState.update(s2,ll.version)}function p2(t){return ll.version===t.globalState.get(s2)}function Gt(t){return t!==null&&typeof t=="object"&&"type"in t}function yi(t,e){if(t){for(let r of t)if(r.name===e)return r}return null}var ox=class extends Error{};var ax=class extends Error{constructor(r){super();this.errorCode=r}};function Ru(){let t,e;return[new Promise((i,s)=>{t=i,e=s}),t,e]}function Ws(t,e){if(!Boolean(t)){let r=new Error(e);setTimeout(()=>{throw r})}}function Et(t,e){if(!Boolean(t))throw new Error(e||"assertion failure")}function m2(t,e){if(t==null)throw new Error(e||"assertion failure")}function g2(t,e){try{return JSON.stringify(t)===JSON.stringify(e)}catch{return Ws(!1,"Comparison of embedded objects failed"),!1}}function f2(t,e,r){for(let i of r){let s=i[0];if(i[1].def.type.kind==="datetime"){if(t[s]?.getTime()!==e[s]?.getTime())return!1}else if(t[s]!==e[s])return!1}return!0}function b2(t,e){if(t.length!==e.length)return!1;let r=!0;return t.forEach(i=>{e.find(s=>s.fieldName===i.fieldName&&s.info===i.info)||(r=!1)}),r}function y2(t){let e=!1;return function(){e||(e=!0,t())}}function uj(t){return new Promise(e=>setTimeout(e,t))}function h2(t,e){let r=new Error;setTimeout(()=>{try{t()}catch(i){throw i.cause=r,i}},e)}var lj=class extends Error{},Wc=class{constructor(e){this.config=e;Wc.validateConfig(e),this.timeoutMs=e.backoffInitialMs*(1+this.jitter()),this.count=0}nextBackoffMs(){if(!this.shouldAttempt())throw new lj("Max attempt exhausted");let e=this.timeoutMs;return this.timeoutMs*=this.config.backoffMultiplier+this.jitter(),this.timeoutMs=Math.min(this.timeoutMs,this.config.backoffMaxMs),this.count+=1,e}shouldAttempt(){return this.config.maxAttempt===void 0||this.config.maxAttempt>this.count}reset(){this.timeoutMs=this.config.backoffInitialMs,this.count=0}attemptsSoFar(){return this.count}jitter(){return(Math.random()-.5)*this.config.spreadMultiplier}static validateConfig(e){if(e.backoffInitialMs<=0)throw new Error("backoffInitialMs must be > 0");if(e.backoffMaxMs<=0)throw new Error("backoffMaxMs must be > 0");if(e.backoffMultiplier<1)throw new Error("backoffMultiplier must be >= 1");if(e.spreadMultiplier<0||e.spreadMultiplier>=2)throw new Error("To ensure positive initial timeout, spreadMultiplier must be between 0 (inclusive) and 2 (exclusive)");if(e.backoffMultiplier-.5*e.spreadMultiplier<1)throw new Error("To ensure positive and non-shrinking exponential timeout, increase backoffMultiplier or decrease spreadMultiplier such that (backoffMultiplier - 0.5 * spreadMultiplier) >= 1")}};function I2(t){let e=new Set,r=i=>{switch(i.type){case"binary":case"in":e.add(i.left);break;case"or":case"and":i.expressions.forEach(r);break}};return t&&r(t),e}function vg(t){let e=[],r=i=>{switch(i.type){case"binary":case"in":Gt(i.right)&&e.push(i.right);break;case"or":case"and":i.expressions.forEach(r);break}};return t&&r(t),e}var Og=null;function x2(t){return!!t&&"fields"in t}function _2(t){return t.type.kind==="object"||t.type.kind==="objects"}function lx(t){return"embedded"in t&&t.embedded}function dj(t){return"computed"in t}var ux=t=>({type:"field",ref:t}),dx=t=>({type:"view",ref:t});var Ne=class extends Error{constructor(e){super(e),Object.setPrototypeOf(this,new.target.prototype)}};var $c=Ie(Mu());function dl(t,e,r,i=!0){let{type:s,name:o}=e,a=o;if(r===void 0)return{argName:a,type:"error",msg:"must not be undefined"};if(r===null){if(!e.nullable)return{argName:a,type:"error",msg:"must not be null"}}else if(s.kind==="list"){if(!(r instanceof Array))return{argName:a,type:"error",msg:"expected an array"};let u=[];for(let d in r){let p=dl(t,{name:`${o}[${d}]`,type:s.ofType},r[d],i);if(p.type==="error")return p;u.push(p.parsedValue)}return{argName:a,type:"parsing",value:r,parsedValue:u}}else if(s.kind==="map"){if(typeof r!="object"||r instanceof Array||r instanceof Date)return{argName:a,type:"error",msg:"expected a map"};let u={};for(let d in r){let p=dl(t,{name:`${o}["${d}"]`,type:s.valueType},r[d],i);if(p.type==="error")return p;u[d]=p.parsedValue}return{argName:a,type:"parsing",value:r,parsedValue:u}}else if(s.kind==="enum"){let u=t.enumDef(s);if(typeof r!="string"||!u.isValidValue(r))return{argName:a,type:"error",msg:`expected one of: ${u.values.join(", ")}`}}else{let u,d;switch(s.kind){case"datetime":case"date":i?(u=`string representation of ${s.kind}`,d=m=>{if(typeof m!="string")return null;let f=Date.parse(m);return Number.isNaN(f)?null:new Date(f)}):(u="Date",d=m=>m instanceof Date?m:null);break;case"bigint":u="string representation of bigint",d=m=>typeof m!="string"?null:/^-?[0-9]+$/.test(m)?m:null;break;case"uuid":u="string representation of uuid",d=m=>typeof m!="string"?null:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/.test(m)?m:null;break;case"string":u="string",d=m=>typeof m=="string"?m:null;break;case"int":case"float":u="number",d=m=>typeof m=="number"?m:null;break;case"bool":u="boolean",d=m=>typeof m=="boolean"?m:null;break}let p=d(r);return p===null?{argName:a,type:"error",msg:`expected ${u}, got ${typeof r} from ${JSON.stringify(r)}`}:{argName:a,type:"parsing",value:r,parsedValue:p}}return{argName:a,type:"parsing",value:r,parsedValue:r}}function Hs(t,e){return new Ne(`${t.join(".")} - ${e}`)}function Gx(t,e,r,i,s,o){for(let a in e){let u=e[a],d=yi(r,a);if(!d)throw Hs(t,$c.oneLine`
        Found arg with name '${a}', but the field doesn't accept an
        arg with this name`);if(Gt(u)){let p=yi(u.type==="session"?o.session.args:i,u.ref);if(!p)throw Hs(t,$c.oneLine`
          Found arg with name '${u.ref}', but there isn't a declaration of
          an arg with this name`);if(p.nullable&&!d.nullable)throw Hs(t,$c.oneLine`
          Query arg '${u.ref}' is nullable but used as a field argument that
          is not nullable`);if(!zc(p.type,d.type)&&!o.legacyConfig.isTypeConversionExempted(s?"computedFieldArg":"viewArg",p.type.kind,d.type.kind,t.join(".")+"."+p.name))throw Hs(t,$c.oneLine`
          Query arg '${p.name}' of type ${p.type.kind} is being
          used for field argument '${d.name}' of type
          ${d.type.kind}`)}else{let p=dl(o,d,u);if(p.type==="error")throw Hs(t,`Arg '${p.argName}': ${p.msg}`)}}for(let{name:a}of r)if(e[a]===void 0)throw Hs(t,`Argument '${a}' is required`)}function cl(t,e){let r=new Set;for(let{name:i}of e){if(r.has(i))throw new Ne($c.oneLine`
        ${t} declares multiple arguments named '${i}'
      `);r.add(i)}}function zc(t,e){return t.kind==="map"&&e.kind==="map"?zc(t.valueType,e.valueType):t.kind==="list"&&e.kind==="list"?zc(t.ofType,e.ofType):t.kind==="object"&&e.kind==="object"||t.kind==="objects"&&e.kind==="objects"?t.name===e.name:t.kind===e.kind||t.kind==="date"&&e.kind==="datetime"||t.kind==="bigint"&&e.kind==="string"||t.kind==="uuid"&&e.kind==="string"}var fr=Ie(Mu());var rH=Ie(Mu());var Yg=class{constructor(e){this.name=e.name,this.type=e.type,this.nullable=e.nullable||!1,this.deprecated=e.deprecated}validate(e,r){if(this.type.kind==="enum"&&!e.enums.has(this.type.name))throw new Ne(rH.oneLine`
        field '${this.name}' of object type '${r.name}' refers to undefined
        enum type '${this.type.name}'`)}};function iH(t){return!nH(t)&&!Uu(t)}var Qg=Ie(Mu()),pl=class{constructor(e){this.queriedFields=[];this.pendingComputedFields=new Set;this.name=e.name,this.fields=new Map,this.embedded=e.embedded,this.naturalKey=e.naturalKey,this.annotations=e.annotations,this.deprecated=e.deprecated;for(let r of e.fields)_2(r)?(this.fields.set(r.name,new Yn(r)),lx(r)&&this.queriedFields.push(r.name)):dj(r)?this.pendingComputedFields.add(r.name):(this.fields.set(r.name,new Yg(r)),this.queriedFields.push(r.name));this.needsTransform=e.fields.some(({type:r})=>Hx(r)||r.kind==="list"&&Hx(r.ofType))}constructComputedFields(e,r){for(let i of e.fields)dj(i)&&(this.fields.set(i.name,new Lu(i,this,r)),this.pendingComputedFields.delete(i.name))}validate(e){if(this.name==="root")for(let r of this.fields.values())if(r instanceof Yn){if(r.embedded)throw new Ne(Qg.oneLine`
               root fields cannot be embedded type, but '${r.name}'
               is embedded`)}else throw new Ne(Qg.oneLine`
            root fields must be of object type, but '${r.name}' is
            '${r.type.kind}'`);else this.embedded||this.fieldDef("id");for(let r of this.fields.values())r.validate(e,this)}fieldDef(e){let r=this.fields.get(e);if(r)return r;throw this.pendingComputedFields.has(e)?new Ne(Qg.oneLine`
        field '${e}' is a computed field of '${this.name}', but computed fields haven't yet been constructed.
        You may need to re-order objects in the Schema definition.
      `):new Ne(Qg.oneLine`
      field '${e}' isn't present in object type '${this.name}'`)}readPlainObject(e){if(!this.needsTransform)return e;let r={id:e.id};for(let[i,{type:s}]of this.fields.entries()){if(!(i in e))continue;let o=e[i];r[i]=this.readPlainObjectField(i,o,s)}return r}readPlainObjectField(e,r,i){if(!this.needsTransform)return r;if(i||(i=this.fields.get(e).type),r!==null){if(Hx(i))return sH(r);if(i.kind==="list"&&Hx(i.ofType))return r.map(sH)}return r}};function Hx(t){return t.kind==="date"||t.kind==="datetime"}function sH(t){return Et(typeof t=="string"),new Date(t)}var Ij=Ie(Mu());var hj=t=>({type:"ok",value:t,unwrap(){return t},unwrapErr(){throw new Error(`Expected Err, found Ok(${t})`)}}),Jg=t=>({type:"err",error:t,unwrap(){throw t instanceof Error?t:new Error(`Expected Ok, found Err(${t})`)},unwrapErr(){return t}});var ml=class{constructor(e,r,i,s,o,a,u){this.name=e;this.metadata=o;this.context=a;this.rootShapeOverride=u;this.annotations=r.annotations,this.dslDef=Object.freeze(JSON.parse(JSON.stringify(r))),this.fields=r.fields,this.root=new Ks({parent:this,objectDef:i,objectFieldDef:new Yn({name:e,type:{kind:"object",name:i.name}}),fieldArgs:{},fields:r.fields,viewArgs:r.args||[],schema:s,metadata:{shouldValidateDeprecated:!!o?.shouldValidateDeprecated,shouldUseMissingFields:!!o?.shouldUseMissingFields},context:a,shapeOverride:u}),this.args=r.args||[],this.props=r.props,this.schema=s,cl(`View '${e}'`,this.args)}get path(){return this.isComputedFieldDependency?[this.metadata?.computedObjectName]:[]}get isComputedFieldDependency(){return!!this.metadata?.isComputedFieldDependency}_parseAndValidateArguments(e,r){let i={};for(let s in e){if(s==="__requestId"){i[s]=e[s];continue}let o=e[s],a=yi(this.args,s);if(a){let u=dl(this.schema,a,o,r);if(u.type==="error")return Jg(new Ne(Ij.oneLine`
View '${this.name}': argument error: '${u.argName}' '${u.msg}'`));i[s]=u.parsedValue}else return Jg(new Ne(Ij.oneLine`
View '${this.name}': argument error: '${s}' is not a valid argument
`))}for(let{name:s}of this.args)if(e[s]===void 0)return Jg(new Ne(`View '${this.name}': Missing argument '${s}'`));return hj(i)}parseAndValidateArguments(e){return this._parseAndValidateArguments(e,!0)}validateArguments(e){let r=this._parseAndValidateArguments(e,!1);return r.type==="ok"?hj(void 0):Jg(r.error)}hasStaticQueries(){let e=[this.root];for(;e.length;){let r=e.pop();if(r.objectFieldDef.resolver?.realtimePolicy.type==="Static")return!0;for(let i of r.queries.values()||[])e.push(i)}return!1}};var Lu=class{constructor(e,r,i){this.objectDef=r;if(this.name=e.name,this.type=e.type,this.nullable=!1,this.deprecated=e.deprecated,this.dependencies=e.dependencies,!r.naturalKey){this.args=(e.args||[]).concat([{name:"_rootId",type:{kind:"string"}}]),this.view=new ml(this.name,{fields:{root:[{_rootId:dx("_rootId")},e.dependencies]},args:this.args},new pl({name:"root",fields:[{name:"root",args:[{name:"_rootId",type:{kind:"string"}}],type:{kind:"object",name:r.name},filter:["id","=",ux("_rootId")]}]}),i,{isComputedFieldDependency:!0,computedObjectName:r.name,shouldUseMissingFields:!0});return}let s=[],o={};for(let d of r.naturalKey.values()){let p=r.fields.get(d);if(!p)throw new Error(`cannot create computed field def for ${e.name}; natural key ${d} is not found on object def for ${r.name}`);if(!iH(p))throw new Error(`cannot create computed field def for ${e.name}; natural key ${p.name} is not of scalar type on object def for ${r.name}`);s.push({name:"_nk_"+d,type:p.type}),o["_nk_"+d]=dx("_nk_"+d)}this.args=(e.args||[]).concat(...s);let a,u=[];for(let d of this.objectDef.naturalKey.values())u.push([d,"=",ux("_nk_"+d)]);u.length>1?a={and:u}:a=u[0],this.view=new ml(this.name,{fields:{root:[o,e.dependencies]},args:this.args},new pl({name:"root",fields:[{name:"root",args:s,type:{kind:"object",name:r.name},filter:a}]}),i,{isComputedFieldDependency:!0,computedObjectName:r.name,shouldUseMissingFields:!0},void 0,i.scopedQueryShapeFromRoot(r.name))}get displayName(){return`${this.objectDef.name}.${this.name}`}validate(e,r){cl(`Computed field '${this.name}' of object type '${r.name}'`,this.args)}};function Uu(t){return typeof t.view=="object"}var Yn=class{constructor(e){if(this.name=e.name,this.type=e.type,this.nullable=e.nullable||!1,this.deprecated=e.deprecated,lx(e))this.embedded=!0,this.args=[],this.checkCanRead=void 0;else{if(this.embedded=!1,this.args=e.args||[],this.expectedMaxCount=e.expectedMaxCount,this.filter=e.filter?xj(e.filter):void 0,e.neverCheckCanRead&&e.checkCanRead)throw new Error("neverCheckCanRead: true cannot be declared alongside checkCanRead.");this.neverCheckCanRead=e.neverCheckCanRead||!1,this.checkCanRead=e.checkCanRead||void 0,this.pagination=e.pagination,this.resolver=e.resolver}this.orderBy=Cje(e.orderBy)}isNullable(){return this.nullable}isList(){return this.type.kind==="objects"}get filterFields(){let e=new Set;for(let{type:r,ref:i}of vg(this.filter))r==="parent"&&e.add(i);return e}get dependentFields(){let e=new Set;if(this.orderBy&&this.orderBy!=="Unordered")for(let[r]of this.orderBy)e.add(r);for(let r of I2(this.filter))e.add(r);return e}validate(e,r){e.objects.has(this.type.name)||this.throwFieldError(r,`refers to undefined object type '${this.type.name}'`);let i=new Set;if(this.checkCanRead){Object.keys(this.checkCanRead).length===0&&this.throwFieldError(r,"uses checkCanRead attribute and it doesn't take any arguments. checkCanRead must take arguments such as { userId: fieldArg('userId') } or { userId: session('userId') }. This also means the corresponding canRead field must take these arguments as well.");for(let d in this.checkCanRead){let p=this.checkCanRead[d];Gt(p)&&(!yi(this.args,p.ref)&&!yi(e.session.args,p.ref)?this.throwFieldError(r,`uses argument '${p.ref}' in its checkCanRead call but does not declare it`):i.add(p.ref))}}let s=e.objectDef(this.type);this.embedded&&!s.embedded&&this.throwFieldError(r,`refers to object '${this.type.name}' as an embedded field, but object '${this.type.name}' is not marked as embedded`),s.embedded&&!this.embedded&&this.throwFieldError(r,`refers to embedded object type '${this.type.name}' without marking as embedded. Add embedded: true`),this.isResolvable(r)||this.throwFieldError(r,"does not contain a filter or resolver and is not embedded"),this.checkCanRead&&(!this.checkCanRead.fieldName&&!s.fields.has("canRead")&&this.throwFieldError(r,`has checkCanRead set to true but '${s.name}' does not have a 'canRead' field`),this.checkCanRead.fieldName&&!s.fields.has(this.checkCanRead.fieldName.toString())&&this.throwFieldError(r,`has checkCanRead set to true and with fieldName set to '${this.checkCanRead.fieldName.toString()}' but '${s.name}' does not have a this field`),this.checkCanRead.fieldName&&s.fields.get(this.checkCanRead.fieldName.toString()).type.kind!=="bool"&&this.throwFieldError(r,`has checkCanRead set to true and with fieldName set to '${this.checkCanRead.fieldName.toString()}' but '${this.checkCanRead.fieldName.toString()}' return type is not bool`)),cl(`field '${this.name}' of object type '${r.name}'`,this.args);let o=d=>{let p=s.fields.get(d.left);return p||this.throwFilterError(r,`refers to field '${d.left}', which does not exist on object '${this.type.name}'`),p},a=d=>{if(Gt(d.right)&&d.right.type==="field"){let p=yi(this.args,d.right.ref);return p||this.throwFieldError(r,`uses argument '${d.right.ref}' in its filter but does not declare it`),i.add(d.right.ref),p}if(Gt(d.right)&&d.right.type==="parent"){let p=r.fields.get(d.right.ref);return p||this.throwFieldError(r,`refers to unknown parent field '${d.right.ref}' in its filter`),p}throw new Ne(fr.oneLine`
        Filter condition of '${this.name}' in object type ${r.name} expects an argument or parent field,
        but is a ${typeof d.right} with the value '${d.right}'`)},u=d=>{if(!d)return;let p=null,m=null;switch(d.type){case"binary":if(p=o(d),["list","map","object","objects"].indexOf(p.type.kind)>-1)throw new Ne(fr.oneLine`
              Cannot filter on field '${d.left}' in object type '${r.name}'. Filter on type
              '${p.type.kind}' is not supported.`);if((p.type.kind==="date"||p.type.kind==="datetime")&&(d.op==="="||d.op==="<>")&&d.right!==null)throw new Ne(fr.oneLine`
              Cannot filter on field '${d.left}' in object type '${r.name}'. '${d.op}' filter
              on type '${p.type.kind}' is not is not supported for non-null values.`);if(Uu(p))throw new Ne(fr.oneLine`
              Cannot filter on field '${d.left}' in object type '${r.name}'. Filters on computed fields
              are not supported since filter conditions get translated directly to SQL queries and there are no
              column in the database corresponding directly to the computed field.`);if(Gt(d.right)){if(m=a(d),!zc(m.type,p.type)&&!e.legacyConfig.isTypeConversionExempted("filterArg",m.type.kind,p.type.kind,`${r.name}.${this.name}.${d.left}`))throw new Ne(fr.oneLine`
                Cannot filter on field '${d.left}' in object type '${r.name}' due to inconsistent type.
                LHS is a '${p.type.kind}' but RHS is a '${m.type.kind}'`)}else if(d.right!==null)switch(p.type.kind){case"int":case"float":if(typeof d.right!="number")throw new Ne(fr.oneLine`
                      Cannot filter on field '${d.left}' in object type '${r.name}' due to inconsistent type.
                      LHS is a number but RHS is a '${typeof d.right}'`);break;case"string":case"bigint":case"uuid":if(typeof d.right!="string")throw new Ne(fr.oneLine`
                      Cannot filter on field '${d.left}' in object type '${r.name}' due to inconsistent type.
                      LHS is a string but RHS is a '${typeof d.right}'`);break;case"enum":if(typeof d.right!="string")throw new Ne(fr.oneLine`
                      Cannot filter on field '${d.left}' in object type '${r.name}' due to inconsistent type.
                      LHS is a string but RHS is a '${typeof d.right}'`);let f=e.enumDef(p.type);if(!f.isValidValue(d.right))throw new Ne(fr.oneLine`
                      Cannot filter on field '${d.left}' in object type '${r.name}' due to invalid enum value '${d.right}'.
                      Expecting one of ${f.values.join(", ")}`);break;case"bool":if(typeof d.right!="boolean")throw new Ne(fr.oneLine`
                      Cannot filter on field '${d.left}' in object type '${r.name}' due to inconsistent type.
                      LHS is a boolean but RHS is a '${typeof d.right}'`);break;case"datetime":case"date":if(!(d.right instanceof Date))throw new Ne(fr.oneLine`
                      Cannot filter on field '${d.left}' in object type '${r.name}' due to inconsistent type.
                      LHS is a date but RHS is a '${typeof d.right}'`);break;default:throw new Ne(fr.oneLine`
                    Filter on field '${d.left}' in object type '${r.name}' has unexpected type ${p.type.kind}`)}else if([">","<",">=","<="].indexOf(d.op)>-1)throw new Ne(fr.oneLine`
                  Cannot filter on field '${d.left}' in object type '${r.name}'. '${d.op}' filter
                  on type '${p.type.kind}' is not is not supported for null values.`);break;case"in":if(p=o(d),["list","map","object","objects","date","datetime"].indexOf(p.type.kind)>-1)throw new Ne(fr.oneLine`
              Cannot filter on field '${d.left}' in object type '${r.name}'. Filter on type
              ${p.type.kind} is not supported.`);if(Gt(d.right)){if(m=a(d),m.type.kind!=="list")throw new Ne(fr.oneLine`
                Cannot filter on field '${d.left}' in object type '${r.name}' because
                argument ${d.right.ref} has invalid type ${m.type.kind}`);if(!zc(m.type.ofType,p.type))throw new Ne(fr.oneLine`
                Cannot filter on field '${d.left}' in object type '${r.name}' due to inconsistent type.
                LHS is a '${p.type.kind}' but RHS is a list of '${m.type.ofType.kind}'`)}else if(d.right.length>0)switch(p.type.kind){case"int":case"float":if(typeof d.right[0]!="number")throw new Ne(fr.oneLine`
                      Cannot filter on field '${d.left}' in object type '${r.name}' due to inconsistent type.
                      LHS is a number but RHS is a list of ${typeof d.right[0]}`);break;case"string":if(typeof d.right[0]!="string")throw new Ne(fr.oneLine`
                      Cannot filter on field '${d.left}' in object type '${r.name}' due to inconsistent type.
                      LHS is a string but RHS is a list of ${typeof d.right[0]}`);break;case"enum":if(typeof d.right[0]!="string")throw new Ne(fr.oneLine`
                      Cannot filter on field '${d.left}' in object type '${r.name}' due to inconsistent type.
                      LHS is a string but RHS is a list of ${typeof d.right[0]}`);let f=e.enumDef(p.type);for(let y of d.right)if(!f.isValidValue(y))throw new Ne(fr.oneLine`
                        Cannot filter on field '${d.left}' in object type '${r.name}' due to invalid enum value '${y}'.
                        Expecting one of ${f.values.join(", ")}`);break;case"bool":if(typeof d.right[0]!="boolean")throw new Ne(fr.oneLine`
                      Cannot filter on field '${d.left}' in object type '${r.name}' due to inconsistent type.
                      LHS is a boolean but RHS is a list of ${typeof d.right[0]}`);break;default:throw new Ne(fr.oneLine`
                    Filter on field '${d.left}' in object type '${r.name}' has unexpected type ${p.type.kind}`)}break;case"or":case"and":d.expressions.map(f=>u(f))}};u(this.filter),this.resolver&&!(this.resolver.queryParams?.userId&&Gt(this.resolver.queryParams.userId))&&this.throwFieldError(r,`uses resolver and it doesn't define userId in its queryParams attribute.
      This is required. Please choose one of the following options and add to queryParams:
      1. If current userId comes from viewArgs, e.g. session('userId'):
         queryParams: { userId: fieldArg('userId') }
         and add an field arg to ${this.name} object field. When using it in views, fill the arg with session('userId').
      2. If current userId can come from parent object:
         queryParams: { userId: parent('the_user_id_field_name') }
      `);for(let d in this.resolver?.queryParams||{}){let p=this.resolver?.queryParams[d];!p||!Gt(p)||(p.type==="field"&&(yi(this.args,p.ref)||this.throwFieldError(r,`uses argument ${p.ref}' in its resolver config but does not declare it`),i.add(p.ref)),p.type==="parent"&&!r.fields.get(p.ref)&&this.throwFieldError(r,`refers to unknown parent field '${p.ref}' in its resolver config`))}if(this.resolver?.realtimePolicy.type==="RedisPubsub")for(let d of this.resolver?.realtimePolicy.channelPostfix||[])Gt(d)&&(d.type==="field"&&(yi(this.args,d.ref)||this.throwFieldError(r,`uses argument '${d.ref}' in its resolver config but does not declare it`),i.add(d.ref)),d.type==="parent"&&!r.fields.get(d.ref)&&this.throwFieldError(r,`refers to unknown parent field '${d.ref}' in its resolver config`));if(this.pagination?.firstPageSize&&Gt(this.pagination?.firstPageSize)){let d=yi(this.args,this.pagination?.firstPageSize.ref);d||this.throwFieldError(r,`uses argument '${this.pagination?.firstPageSize.ref}' in its pagination config but does not declare it`),d.type.kind!=="int"&&this.throwFieldError(r,`uses argument '${this.pagination?.firstPageSize.ref}' in its pagination config but it's not int type. It's ${d.type.kind}`),i.add(this.pagination?.firstPageSize.ref)}if(this.pagination?.selectedCursorColumn&&Gt(this.pagination?.selectedCursorColumn)){let d=yi(this.args,this.pagination?.selectedCursorColumn.ref);d||this.throwFieldError(r,`uses argument '${this.pagination?.selectedCursorColumn.ref}' in its pagination cursor column config but does not declare it`),d.type.kind!=="string"&&this.throwFieldError(r,`uses argument '${this.pagination?.selectedCursorColumn.ref}' in its pagination cursor column config but it's not string type. It's ${d.type.kind}`),i.add(this.pagination?.selectedCursorColumn.ref)}if(this.pagination?.sortOrder&&Gt(this.pagination?.sortOrder)){let d=yi(this.args,this.pagination?.sortOrder.ref);d||this.throwFieldError(r,`uses argument '${this.pagination?.sortOrder.ref}' in its pagination sort order config but does not declare it`),d.type.kind!=="string"&&this.throwFieldError(r,`uses argument '${this.pagination?.sortOrder.ref}' in its pagination sort order config but it's not string type. It's ${d.type.kind}`),i.add(this.pagination?.sortOrder.ref)}for(let d of this.args)if(!i.has(d.name)){if(d.name==="initialPageSize")continue;this.throwFieldError(r,`declares argument '${d.name}' but does not use it`)}}throwFilterError(e,r){throw new Ne(`filter condition of '${this.name}' of type '${this.type.name}' on '${e.name}' ${r}`)}throwFieldError(e,r){throw new Ne(`field '${this.name}' of type '${this.type.name}' on '${e.name}' ${r}`)}isResolvable(e){return this.filter||this.resolver||this.embedded&&e.name!=="root"}};function nH(t){return typeof t.embedded=="boolean"}function Cje(t){if(t)return t==="Unordered"?"Unordered":t.map(e=>e instanceof Array?e:[e,"ASC"])}function xj(t){if("or"in t)return{type:"or",expressions:t.or.map(xj)};if("and"in t)return{type:"and",expressions:t.and.map(xj)};let[e,r,i]=t;switch(r){case"in":return{type:"in",left:e,right:i};default:return{type:"binary",left:e,op:r,right:i}}}var $o=class{constructor(e={},r={},i){this.sessionArgs=e;this.viewArgs=r;this.options=i;this.statsCollector={queryNodes:0,instanceNodes:0,computations:0,queriesSubscribed:0,hiddenInstances:0,errorsNullableSoaked:0};this.overrides=null;this.options?.inheritedStats&&(this.statsCollector=this.options.inheritedStats)}get tracingContext(){return this.options?.tracingContext}get isContextForComputedField(){return this.options?.isContextForComputedField}substituteFieldArgument(e){return Gt(e)?e.type==="session"?this.sessionArgs[e.ref]:this.viewArgs[e.ref]:e}substituteExpressionArgument(e,r,i){return Gt(e)?e.type==="parent"?i[e.ref]:this.substituteFieldArgument(r[e.ref]):e}substituteExpression(e,r,i){let s=o=>{switch(o.type){case"binary":return{...o,right:this.substituteExpressionArgument(o.right,r,i)};case"in":return{...o,right:this.substituteExpressionArgument(o.right,r,i)};case"or":case"and":return{...o,expressions:o.expressions.map(s)}}};return e?s(e):void 0}substituteIndexingHint(e,r,i){if(!e)return null;if(Array.isArray(e.values))return e;let s=this.substituteExpressionArgument(e.values,r,i);return!Array.isArray(s)&&typeof s=="object"&&s!==null?null:{field:e.field,values:Array.isArray(s)?s:[s]}}};var Xg=class{constructor(e,r,i){this.computationDef=e;this.context=r;let s={};for(let o in r.viewArgs){let a=r.viewArgs[o];o.startsWith("_nk_")||(s[o]=a)}this.computationId=JSON.stringify([this.objectName,this.fieldName,i,s])}get fieldDef(){return this.computationDef.computedFieldDef}get objectName(){return this.fieldDef.objectDef.name}get fieldName(){return this.fieldDef.name}trackEvent(e,r){this.context.tracingContext?.trackComputationEvent(this,e,r)}};var Yc=class{constructor(e,r,i,s,o,a,u){this.parent=e;this.computedFieldDef=r;this.fieldArgs=i;this.viewArgs=s;this.optional=u;let d=this.computedFieldDef.name;Gx([...a,d],{...this.fieldArgs,...this.dummyArgs(e.objectDef)},this.computedFieldDef.args,this.viewArgs,!0,o)}dummyArgs(e){if(e.naturalKey){let r={};for(let i of e.naturalKey.values())switch(e.fields.get(i).type.kind){case"string":r["_nk_"+i]="";break;case"bigint":r["_nk_"+i]="0";break;case"uuid":r["_nk_"+i]="00000000-0000-0000-0000-000000000000";break;case"int":case"float":r["_nk_"+i]=0;break;case"bool":r["_nk_"+i]=!1;break;case"enum":case"list":case"map":r["_nk_"+i]=[];break;default:throw new Error("this natural key type is unsupported, add a dummy type to this switch for computed fields to work")}return r}return{_rootId:""}}parameterizedComputation(e,r,i){let s={_rootId:r.id};for(let o of i?.values()||[])s["_nk_"+o]=r[o];for(let o in this.fieldArgs){let a=this.fieldArgs[o];s[o]=e.substituteFieldArgument(a)}return new Xg(this,new $o(e.sessionArgs,s,{logger:e.options?.logger,tracingContext:e.tracingContext,isContextForComputedField:!0,inheritedStats:e.statsCollector}),r.id)}};var Zg=class{constructor(e,r){this.def=e;this.optional=r}};var Ks=class{constructor({parent:e,objectDef:r,objectFieldDef:i,fieldArgs:s,fields:o,viewArgs:a,schema:u,metadata:d,optional:p,context:m,shapeOverride:f}){this.queries=new Map;this.computations=new Map;this.projectedFields=new Map;this.transmittedFields=new Set;this.aliasMappings=new Map;this.optionalFields=new Set;this._missingOptionalFields=new Map;this.parent=e,this.objectDef=r,this.objectFieldDef=i,this.fieldArgs=s,this.optional=p,this.context=m,this.metadata=d,this.shape=f??u.scopedQueryShape(this.parent.name,this.objectFieldDef.name);for(let v of i.args)v.name in this.fieldArgs||(v.defaultValue!==void 0?this.fieldArgs={...this.fieldArgs,[v.name]:v.defaultValue}:v.name==="initialPageSize"&&(this.fieldArgs={...this.fieldArgs,initialPageSize:0}));if(d?.shouldValidateDeprecated&&this.objectDef.deprecated)throw new Ne(`Object ${this.objectDef.name} was deprecated on ${this.objectDef.deprecated.date} and cannot be used in views. Reason: ${this.objectDef.deprecated.reason}`);Gx(this.path,this.fieldArgs,i.args,a,this.isComputedFieldDependency,u);for(let v in o){let O=v,A=o[v],k=!1;A&&x2(A)&&(A.aliasedField&&(O=A.aliasedField,this.aliasMappings.set(O,v)),k=!!A.optional,k&&this.optionalFields.add(O),A=A.fields);let[U,$]=Array.isArray(A)?A:[{},A],R;try{R=this.objectDef.fieldDef(O)}catch(z){if(z instanceof Ne)if(k&&d?.shouldUseMissingFields){this._missingOptionalFields.set(O,{fieldName:O,info:z.message}),this.transmittedFields.add(O);continue}else throw z}if(R){if(d?.shouldValidateDeprecated&&R.deprecated)throw new Ne(`The field ${O} was deprecated on ${R.deprecated.date} and cannot be used in views. Reason: ${R.deprecated.reason}`);if(R instanceof Yn){if($===Og)throw Hs(this.path,`expected nested fields for '${O}' but got '_'`);try{let z=this.isComputedFieldDependency&&this.name==="root"&&R.name==="root";this.queries.set(O,new Ks({parent:this,objectDef:u.objectDef(R.type),objectFieldDef:R,fieldArgs:U,fields:$,viewArgs:a,schema:u,metadata:d,optional:k,shapeOverride:z?f:void 0}))}catch(z){if(k&&z instanceof Ne&&d?.shouldUseMissingFields){this._missingOptionalFields.set(O,{fieldName:O,info:z.message}),this.transmittedFields.add(O);continue}else throw z}R.embedded&&this.transmittedFields.add(O);for(let z of R.filterFields)this.transmittedFields.add(z)}else if(R instanceof Lu){if($!==Og)throw Hs(this.path,`cannot query field '${O}'`);this.computations.set(O,new Yc(this,R,U,a,u,this.path,k))}else{if($!==Og)throw Hs(this.path,`cannot query field '${O}'`);this.projectedFields.set(O,new Zg(R,k)),this.transmittedFields.add(O)}}}r.name!=="root"&&this.transmittedFields.add("id");let{checkCanRead:y}=this.objectFieldDef;if(y){let v={};for(let A in y){if(A==="fieldName")continue;let k=y[A];Gt(k)&&this.fieldArgs[k.ref]?v[A]=this.fieldArgs[k.ref]:v[A]=k}let O="canRead";y.fieldName&&(O=y.fieldName.toString()),this.permissionComputation=new Yc(this,this.objectDef.fieldDef(O),v,a,u,this.path)}for(let v of this.objectFieldDef.dependentFields)this.transmittedFields.add(v);this.context?.options?.logger?.debug("VIEW_QUERY_DEF.CREATE",this.debugFields)}isNullable(){return this.objectFieldDef.isNullable()}isList(){return this.objectFieldDef.isList()}get path(){return[...this.parent.path,this.objectFieldDef.name]}get name(){return this.objectDef.name}get missingOptionalFields(){if(!this.metadata?.shouldUseMissingFields)throw new Error("invalid missingOptionalFields access with shouldUseMissingFields=false, are you trying to call missingOptionalFields from the Livegraph client? The client should only inspect missing fields via a QueryObserver.");return Array.from(this._missingOptionalFields.values())}get debugFields(){return{parent:this.parent.name,queryReturnType:this.objectDef.name,field:this.objectFieldDef.name,optional:this.optional,queryFields:JSON.stringify(Array.from(this.queries.keys())),projectedBaseFields:JSON.stringify(Array.from(this.projectedFields.keys())),canonicalShapeID:this.shape?.id}}dealias(e){return this.aliasMappings.get(e)||e}missingOptionalFieldsForEmbeddedInstance(e){let r=[];for(let i of this.optionalFields.values())e[i]===void 0&&r.push({fieldName:i,info:`optional field '${i}' was missing in instance of object '${this.objectDef.name}'`});return r}projectInstance(e){let r={};if(this.objectFieldDef.embedded)for(let i of this.projectedFields.keys())r[this.dealias(i)]=i in e?e[i]:null;else for(let i of this.projectedFields.keys())r[this.dealias(i)]=e[i];for(let i of this.projectedFields.keys())this.optionalFields.has(i)&&(r[this.dealias(i)]={status:"loaded",data:r[this.dealias(i)]});return r}projectResults(e){let r={},i=[...this.projectedFields.keys(),...this.computations.keys(),...this.queries.keys()];for(let s of i){let o=this.dealias(s);o in e?r[o]=e[o]:this.objectFieldDef.embedded&&(r[o]=null)}return r}get indexingHint(){if(this._indexingHint!==void 0)return this._indexingHint;if(!this.objectFieldDef.filter)return this._indexingHint=null,null;let e=(i,s)=>{let o=[d=>!!d&&d.field==="id",d=>!!d&&this.objectDef.fieldDef(d.field).type.kind==="string",d=>d!==null,d=>!0],a=o.findIndex(d=>d(i)),u=o.findIndex(d=>d(s));return a<=u?i:s},r=i=>i.type==="or"?null:i.type==="and"?i.expressions.map(r).reduce((s,o)=>e(s,o)):i.type==="in"?{field:i.left,values:i.right}:i.op==="="?{field:i.left,values:Gt(i.right)?i.right:[i.right]}:null;return this._indexingHint=r(this.objectFieldDef.filter)||null,this._indexingHint}get isComputedFieldDependency(){return this.parent.isComputedFieldDependency}};var ef=class{constructor({fields:e,filter:r,limit:i}){this.fields=e,this.limit=i,this.filter=r}matches(e){if(!this.filter)return!0;let r=i=>{switch(i.type){case"binary":let s=e[i.left],o=i.right;switch(i.op){case"=":return s===o;case"<>":return s!==o}if(s===null||o===null)return!1;switch(i.op){case">":return s>o;case">=":return s>=o;case"<":return s<o;case"<=":return s<=o}case"in":let a=e[i.left];return i.right.some(d=>d===a);case"or":return i.expressions.some(r);case"and":return i.expressions.every(r)}};return r(this.filter)}singleMatchingId(){if(this.filter&&this.filter.type==="binary"){let{left:e,right:r}=this.filter;if(e==="id"&&typeof r=="string")return r}return null}};var kje=200,gl=class{constructor(e,r,i,s){this.queryDef=e;this.context=r;this.parent=i;this.paginationArgs=s;let o=[];for(let u of this.queryDef.objectFieldDef.args){let d=this.queryDef.fieldArgs[u.name];Gt(d)?d.type==="session"?o.push(this.context.sessionArgs[d.ref]):o.push(this.context.viewArgs[d.ref]):o.push(d)}this.usedResolverValues=vg(this.filter).filter(({type:u})=>u==="parent").map(({ref:u})=>i[u]),this.usedResolverValues.push(...this.getUsedHttpResolverValues());let a=[o,this.usedResolverValues];this.isStaticQuery()&&r.viewArgs.__requestId&&a.push(r.viewArgs.__requestId),this.isPaginationQuery()&&a.push(s),this.queryId=wje(this.queryDef,a),this._substituted=new ef({fields:this.queryDef.objectDef.queriedFields,filter:this.context.substituteExpression(this.filter,this.queryDef.fieldArgs,i)||null,limit:this.queryDef.objectFieldDef.expectedMaxCount??kje}),this.indexingHint=this.context.substituteIndexingHint(this.queryDef.indexingHint,this.queryDef.fieldArgs,i)}queryInfo(){return{objectName:this.queryDef.objectDef.name,parent:{objectName:this.queryDef.parent instanceof Ks?this.queryDef.parent.objectDef.name:null,fieldName:this.queryDef.objectFieldDef.name}}}get objectName(){return this.queryDef.objectFieldDef.type.name}get filter(){return this.queryDef.objectFieldDef.filter}get orderBy(){return this.queryDef.objectFieldDef.orderBy}substituted(){return this._substituted}getResolvedHttpResolverConfig(){let e=this.queryDef.objectFieldDef.resolver;if(e?.type!=="HTTP")return null;let r={};for(let s in e.queryParams){let o=e.queryParams[s],a=this.context.substituteExpressionArgument(o,this.queryDef.fieldArgs,this.parent);r[s]=a}let i=[];if(e.realtimePolicy.type==="RedisPubsub"){let s=e.realtimePolicy.channelPostfix;for(let o of s){let a=this.context.substituteExpressionArgument(o,this.queryDef.fieldArgs,this.parent);i.push(a)}}return{...e,queryParams:r,realtimePolicy:e.realtimePolicy.type==="RedisPubsub"?{...e.realtimePolicy,channelPostfix:i}:e.realtimePolicy}}getUsedHttpResolverValues(){let e=this.queryDef.objectFieldDef.resolver;if(e?.type!=="HTTP")return[];let r=[];for(let i of Object.keys(e.queryParams).sort()){let s=e.queryParams[i];if(!Gt(s)||s.type!=="parent")continue;let o=this.context.substituteExpressionArgument(s,this.queryDef.fieldArgs,this.parent);r.push(o)}if(e.realtimePolicy.type==="RedisPubsub"){let i=e.realtimePolicy.channelPostfix;for(let s of i){if(!Gt(s)||s.type!=="parent")continue;let o=this.context.substituteExpressionArgument(s,this.queryDef.fieldArgs,this.parent);r.push(o)}}return r}isContextStale(e){return vg(this.filter).filter(({type:r})=>r==="parent").some(({ref:r},i)=>this.usedResolverValues[i]!==e[r])}isPaginationQuery(){return this.paginationArgs!==void 0}isStaticQuery(){return this.queryDef.objectFieldDef.resolver?.realtimePolicy.type==="Static"}getBinaryFilterResolvedParentValue(e){return!this.filter||this.filter.type!=="binary"||!Gt(this.filter.right)||this.filter.left!==e||this.filter.right.type!=="parent"?null:this.parent[this.filter.right.ref]}getFirstPageSizeOrDefault(e){let r=this.queryDef.objectFieldDef.pagination?.firstPageSize;if(!r)return e;let i=this.context.substituteFieldArgument(r);return typeof i=="number"?i:e}getSelectedCursorColumns(){let e=this.queryDef.objectFieldDef.pagination?.selectedCursorColumn;if(!e)return null;let r=this.context.substituteFieldArgument(e),i=this.queryDef.objectFieldDef.pagination?.cursorColumnSet;return typeof r=="string"&&i&&i[r]||null}getPaginationSortOrder(){let e=this.queryDef.objectFieldDef.pagination?.sortOrder;if(!e)return null;let r=this.context.substituteFieldArgument(e);return r==="ASC"||r==="DESC"?r:null}order(){let e=this.orderBy;return e==="Unordered"?null:(r,i)=>{for(let[s,o]of[...e||[],["id","ASC"]]){let a=r[s],u=i[s];if(!(a===null&&u===null)){if(a===null)return o==="ASC"?1:-1;if(u===null||a<u)return o==="ASC"?-1:1;if(a>u)return o==="ASC"?1:-1}}return 0}}};function wje(t,e){let r=t.parent instanceof Ks?t.parent.objectDef.name:null;return t.isComputedFieldDependency&&r==="root"&&t.objectFieldDef.name==="root"?JSON.stringify(["computed","root",t.objectDef.name].concat(e)):JSON.stringify([r,t.objectFieldDef.name].concat(e))}function oH(t,e){let r=JSON.parse(e);if(r[0]==="computed")return{kind:"object",name:r[2]};let i=r[0],s=r[1],a=t.objectDef({kind:"object",name:i}).fieldDef(s);if(!(a instanceof Yn))throw new Error(`queryId ${e} references a non-object field`);return a.type}function Qc(t,e){e&&(t.queryNodes+=e.queryNodes,t.instanceNodes+=e.instanceNodes,t.maxDepth=Math.max(t.maxDepth,e.maxDepth+1),t.computations+=e.computations,t.failedQueries+=e.failedQueries)}var fl=class{constructor({parent:e,queryDef:r,observable:i,context:s}){this.children=[];this._status={type:"loading"};this.initStats=null;this.nextCursor={start:null,end:null};this.previousPageCountsForReconnection=null;this.isPaginatedNodeFetching=!1;this.clientIsFetching=!1;this.parent=e,this.queryDef=r,this.observable=i,this.context=s,this.query=new gl(r,s,e.instance),this.isPaginatedNodeFetching=!0,this.clientIsFetching=!0;let o=Zi.DEFAULT_INITIAL_COUNT;this.children.push(new Zi({parent:this,queryDef:this.queryDef,observable:this.observable,context:this.context,paginationData:{before:this.nextCursor.start,after:this.nextCursor.end,count:o}})),this.context.options?.paginationQueryNodeMap?.set(this.query.queryId,this)}get fieldName(){return this.queryDef.objectFieldDef.name}get path(){return[...this.parent.path,"pagination-"+this.fieldName]}result(){if(this._status.type==="loading")return{status:"loading",data:null,errors:null};if(this._status.type==="failed"){let o=this._status.error.code;return this._result={status:"errors",data:null,errors:[{code:o,path:[this.fieldName],error:new Error(this._status.error.message)}]},this._result}if(this._result)return this._result;let e=[],r=[],i=!0;for(let o of this.children){let a=o.result();switch(a.status){case"loading":return this._result=a,this._result;case"errors":{i=!1;for(let u of a.errors)r.push({...u,path:[this.fieldName,...u.path]});break}case"loaded":{for(let u of a.errors)r.push({...u,path:[this.fieldName,...u.path]});Array.isArray(a.data)?e.push(...a.data):a.data&&e.push(a.data);break}}}if(!i)return this._result={status:"errors",data:null,errors:r},this.clientIsFetching=!1,this._result;let s=Object.assign(e,{loadNext:o=>{m2(this._result,"Load next should never be called on a loading node"),this._result={...this._result},this._result.data.isLoadingNextPage=!0,this.parent.resetResult(),this.parent.resultsUpdated(),this.loadNextPage(o)},hasNextPage:()=>this.hasNextPage(),isLoadingNextPage:!1});return this._result={status:"loaded",errors:r,data:s},this.clientIsFetching=!1,this._result}resultsUpdated(){this.children.every(e=>e.isLoaded())&&(this._status.type="loaded"),this._status.type!=="loading"&&this.parent.resultsUpdated()}resetResult(){this._result=void 0,this.parent.resetResult()}identifier(){return{viewArgs:this.context.viewArgs,sessionArgs:this.context.sessionArgs,queryId:this.query.queryId}}onError(e){this.resetResult(),this._status={type:"failed",error:e},this.parent.resultsUpdated(),this.isPaginatedNodeFetching=!1}hasNextPage(){return!!this.nextCursor.end}isLoadingNextPage(){return this.clientIsFetching}loadNextPage(e){if(this.isPaginatedNodeFetching){this.context.options?.logger?.error(new Error(`Trying to fetch next page for query ${this.query.queryId} when there is an ongoing fetch more request.`));return}if(this.isPaginatedNodeFetching=!0,this.clientIsFetching=!0,!this.hasNextPage()){this.context.options?.logger?.error(new Error(`Trying to fetch next page for query ${this.query.queryId} when there are no more pages left`));return}this.children.push(new Zi({parent:this,queryDef:this.queryDef,observable:this.observable,context:this.context,paginationData:{before:this.nextCursor.start,after:this.nextCursor.end,count:e}})),this.observable.requestPaginationChange(this.query,e)}destroy(){for(let e of this.children)e.destroy();this.context.options?.paginationQueryNodeMap?.delete(this.query.queryId)}recreateIfStale(e,r){for(let i=0;i<this.children.length;i++){let s=this.children[i],o=s.recreateIfStale(e,r);o&&(s.destroy(),this.children[i]=o)}}onPaginationResults(e){if(this.isPaginatedNodeFetching=!1,this.nextCursor=e,this.previousPageCountsForReconnection)if(this.previousPageCountsForReconnection.length&&this.nextCursor.end){let r=this.previousPageCountsForReconnection.shift();this.loadNextPage(r)}else this.previousPageCountsForReconnection=null}isLoaded(){return this._status.type==="loaded"}getInitStats(){if(this.initStats)return this.initStats;if(!this.isLoaded())return null;this.initStats={queryNodes:1,instanceNodes:0,maxDepth:1,computations:0,failedQueries:0};for(let e of this.children.values())Qc(this.initStats,e.getInitStats());return this.initStats}startReconnectionState(){this.previousPageCountsForReconnection=this.children.map(r=>r.paginationArgs.count);for(let r of this.children)r.destroy();this.children=[],this.nextCursor={start:null,end:null};let e=this.previousPageCountsForReconnection.shift();this.children.push(new Zi({parent:this,queryDef:this.queryDef,observable:this.observable,context:this.context,paginationData:{before:this.nextCursor.start,after:this.nextCursor.end,count:e}})),this.isPaginatedNodeFetching=!0,this.clientIsFetching=!0}onInitialResults(e,r,i){throw new Error("PaginationNode should never directly receive results.")}onAddResult(e){throw new Error("Method not implemented.")}onRemoveResult(e,r){throw new Error("Method not implemented.")}onUpdateResult(e){throw new Error("Method not implemented.")}detachChild(e){throw new Error("Method not implemented.")}restoreChild(e){throw new Error("Method not implemented.")}overridesChanged(){throw new Error("Method not implemented.")}getLoadingPathsForDebugging(){let e=[];this._status.type==="loading"&&e.push(this.fieldName);for(let r of this.children.values())e.push(...r.getLoadingPathsForDebugging());return e}resultWithLoadingStates(){throw new Error("Method not implemented.")}};var Rje=Object.freeze({status:"loading",data:null,errors:null}),Hlt=Object.freeze({status:"disabled",data:null,errors:null}),Mje=new Map;var _j=class{constructor({parent:e,queryDef:r,observable:i,context:s,paginationData:o}){this.children=new Map;this.detachedChildren=new Set;this._isLoaded=!1;this._status={type:"loading"};this.initStats=null;this.parent=e,this.observable=i,this.context=s,this.unsubscribe=()=>{};let a;e instanceof fl&&o?(a=this.parent.parent.instance,this.paginationArgs=o,this.query=new gl(r,s,a,{before:o.before,after:o.after,count:o.count})):(Et(e instanceof Qn),a=e.instance,this.query=new gl(r,s,a)),s.statsCollector.queryNodes++;let{objectFieldDef:u}=r;if(this.isEmbedded||u.name in a){let d=a[u.name],p=a.id;if(!d)this.onInitialResults({},!1,void 0,[]);else if(Array.isArray(d)){let m={};d.forEach((y,v)=>{let O=`${p}-${v.toString().padStart(10,"0")}`;y instanceof Object?m[O]={id:O,...y}:typeof y=="string"?m[O]={id:y}:this.context.options?.logger?.warn("EMBEDDED_INSTANCE_INVALID_TYPE",this.query.queryId,y)});let f=[];for(let y in a){f=this.query.queryDef.missingOptionalFieldsForEmbeddedInstance(m[y]);break}this.onInitialResults(m,!1,void 0,f)}else{let m=`${p}-${0}`,f={id:m,...d},y=this.query.queryDef.missingOptionalFieldsForEmbeddedInstance(f);this.onInitialResults({[m]:f},!1,void 0,y)}}else this.unsubscribe=this.observable.subscribeQuery(this.query,this);this.context.options?.logger?.debug("VIEW_QUERY_NODE.CREATE",this.debugFields)}get isEmbedded(){return this.query.queryDef.objectFieldDef.embedded}get fieldName(){return this.query.queryDef.objectFieldDef.name}get path(){return[...this.parent.path,this.fieldName]}get debugFields(){return{query:this.query.queryId,canonicalShapeID:this.query.queryDef.shape?.id,path:this.path,embedded:this.isEmbedded}}identifier(){return{viewArgs:this.context.viewArgs,sessionArgs:this.context.sessionArgs}}overridesChanged(){this.context.overrides?.has(this.query.objectName)&&this.resetResult();for(let[e,r]of this.children)r.overridesChanged()}destroy(){for(let e of this.children.values())e.destroy();this.unsubscribe()}onError(e){this.resetResult(),this._status={type:"failed",error:e},this.parent.resultsUpdated()}onInitialResults(e,r,i,s){i&&(Et(this.parent instanceof fl),this.parent.onPaginationResults(i)),this.context.options?.logger?.debug("VIEW_QUERY_NODE.INITIAL_RESULT",this.query.queryId,e),r&&this.context.statsCollector.queriesSubscribed++,Et(this._status.type!=="loaded","Unexpected initial results on already loaded node");for(let o in e)this.children.set(o,new Qn(this,this.context,e[o],this.query.queryDef,s||[]));this._status={type:"loaded"},this.resetResult(),this.parent.resultsUpdated()}onAddResult(e,r){this.context.options?.logger?.debug("VIEW_QUERY_NODE.ADD_RESULT",this.query.queryId,e),Et(this._status.type==="loaded","Unexpected incremental results on node that hasn't loaded yet"),this.children.set(e.id,new Qn(this,this.context,e,this.query.queryDef,r||[])),this.resetResult(),this.parent.resultsUpdated()}onUpdateResult(e,r){if(this.context.options?.logger?.debug("VIEW_QUERY_NODE.UPDATE_RESULT",this.query.queryId,e),Et(this._status.type==="loaded","Unexpected incremental results on node that hasn't loaded yet"),Et(this.children.has(e.id)||e.uuid&&this.children.has(e.uuid),`onUpdateResult: this.children.has(instance.id) = ${this.children.has(e.id)}, instance.id = ${e.id}
       (instance.uuid && this.children.has(instance.uuid)) = ${e.uuid&&this.children.has(e.uuid)}, instance.uuid = ${e.uuid}`),e.uuid&&this.children.has(e.uuid)&&e.id!==e.uuid){let i=this.children.get(e.uuid);this.children.delete(e.uuid),this.children.set(e.id,i)}this.children.get(e.id).onUpdateResult(e,r||[])&&this.parent.resultsUpdated()}onRemoveResult(e){let{id:r}=e;if(this.context.options?.logger?.debug("VIEW_QUERY_NODE.REMOVE_RESULT",this.query.queryId,e),Et(this._status.type==="loaded","Unexpected incremental results on node that hasn't loaded yet"),Et(this.children.has(e.id)||e.uuid&&this.children.has(e.uuid),`onRemoveResult: this.children.has(instance.id) = ${this.children.has(e.id)}, instance.id = ${e.id}
       (instance.uuid && this.children.has(instance.uuid)) = ${e.uuid&&this.children.has(e.uuid)}, instance.uuid = ${e.uuid}`),e.uuid&&this.children.has(e.uuid)&&e.id!==e.uuid){let i=this.children.get(e.uuid);this.children.delete(e.uuid),this.children.set(e.id,i)}this.children.get(r).destroy(),this.children.delete(r),this.detachedChildren.delete(r),this.resetResult(),this.parent.resultsUpdated()}detachChild({id:e}){this.detachedChildren.add(e),this.resetResult(),this.parent.resultsUpdated()}restoreChild({id:e}){this.detachedChildren.delete(e),this.resetResult()}resultsUpdated(){this._status.type!=="loading"&&this.parent.resultsUpdated()}recreateIfStale(e,r){if(this.isEmbedded){if(g2(e[this.query.queryDef.objectFieldDef.name],r[this.query.queryDef.objectFieldDef.name]))return}else if(!this.query.isContextStale(r))return;return new _j({parent:this.parent,queryDef:this.query.queryDef,observable:this.observable,context:this.context})}getLoadingPathsForDebugging(){let e=[];this._status.type==="loading"&&e.push(this.fieldName);let r=[...this.children.values()].filter(s=>!this.detachedChildren.has(s.instance.id)),i=this.query.order();i&&r.sort(({instance:s},{instance:o})=>i(s,o));for(let s of r){let o=s.getLoadingPathsForDebugging();e.push(...o.map(a=>`${this.fieldName}["${s.instance.id}"].${a}`))}return e}result(){if(this._status.type==="loading")return Rje;if(this._status.type==="failed"){let p=this._status.error.code;return this._result={status:"errors",data:null,errors:[{code:p,path:[this.fieldName],error:new Error(this._status.error.message)}]},this._result}if(this._result)return this._result;let e=[...this.children.values()].filter(p=>!this.detachedChildren.has(p.instance.id)),r=this.context.overrides?.get(this.query.objectName)||Mje,i=[];for(let p of e){let m=p.instance,f=p.result();if(f.status==="loaded"){let y=r.get(p.instance.id);if(y){if(y.type==="delete")continue;if(y.type==="create")continue;if(y.type==="update")if(m={...m,...y.delta},this.query.substituted().matches(m))f.data=this.query.queryDef.projectResults({...f.data,...y.delta});else continue}}i.push({instance:m,result:f})}for(let[p,m]of r)m.type==="create"&&this.query.substituted().matches(m.instance)&&i.push({instance:m.instance,result:{status:"loaded",data:this.query.queryDef.projectResults(m.instance),errors:[]}});let s=this.query.order();s&&i.sort(({instance:p},{instance:m})=>s(p,m));let{fieldName:o}=this,a=[],u=[],d=!0;for(let{result:p}of i)switch(p.status){case"loading":return this._result=p,this._result;case"errors":d=!1;for(let m of p.errors)a.push({...m,path:[o,...m.path]});break;case"loaded":for(let m of p.errors)a.push({...m,path:[o,...m.path]});u.push(p.data);break}return d?this.query.queryDef.isList()?(this._result={status:"loaded",errors:a,data:u},this._result):u.length>0?(this._result={status:"loaded",errors:a,data:u[0]},this._result):this.query.queryDef.isNullable()?(this._result={status:"loaded",errors:a,data:null},this._result):(this._result={status:"errors",data:null,errors:[...a,{code:"nonNullableResult",path:[o]}]},this._result):(this.query.queryDef.isNullable()?(this.context.statsCollector.errorsNullableSoaked++,this.context.options?.logger?.info("VIEW_QUERY_NODE.NULLABLE_ERROR_SOAK",{errors:a,...this.debugFields}),this._result={status:"loaded",errors:a,data:null}):this._result={status:"errors",data:null,errors:a},this._result)}resultWithLoadingStates(){let e=this.result();return{id:this.query.queryId,status:e.status,children:Array.from(this.children.entries()).map(([r,i])=>i.resultWithLoadingStates()),data:e.status==="errors"?e.errors:void 0}}resetResult(){this._result=void 0,this._isLoaded=!1,this.parent.resetResult()}isLoaded(){if(this._status.type==="loading")return!1;if(this._isLoaded)return!0;for(let e of this.children.values())if(!e.isLoaded())return!1;return this._isLoaded=!0,this._isLoaded}getQueryIds(){let e=[this.query.queryId];for(let[r,i]of this.children)e.push(...i.getQueryIds());return e}getInitStats(){if(this.initStats)return this.initStats;if(!this.isLoaded())return null;this.initStats={queryNodes:1,instanceNodes:0,maxDepth:1,computations:0,failedQueries:this._status.type==="failed"?1:0};for(let e of this.children.values())Qc(this.initStats,e.getInitStats());return this.initStats}},Zi=_j;Zi.DEFAULT_INITIAL_COUNT=10;function aH(t){return t instanceof Zi}var Uje=Object.freeze({status:"loading"}),zo=class{constructor({parent:e,computationDef:r,observable:i,context:s,instance:o}){this.initStats=null;this.parent=e,this.observable=i,this.computation=r.parameterizedComputation(s,o,e.queryDef.objectDef.naturalKey),this.computation.trackEvent("LiveViewComputationNode.constructor");let a=r.computedFieldDef.name;a in o?(this.unsubscribe=()=>{},this.onUpdateResult(o[a])):this.unsubscribe=i.subscribeComputation(this.computation,this)}get path(){return[...this.parent.path,this.computation.computationId]}get fieldName(){return this.computation.fieldName}overridesChanged(){}destroy(){this.unsubscribe()}onUpdateResult(e){this.computation.trackEvent("LiveViewComputationNode.onUpdateResult"),this._result={status:"loaded",errors:[],data:e},this.parent.resetResult(),this.parent.resultsUpdated()}onErrors(e){this.computation.trackEvent("LiveViewComputationNode.onErrors",e);let{name:r}=this.computation.fieldDef;this._result={status:"errors",data:null,errors:e.map(i=>({...i,path:[r,...i.path]}))},this.parent.resetResult(),this.parent.resultsUpdated()}recreateIfStale(e,r){}getLoadingPathsForDebugging(){return this._result?[]:[this.computation.fieldDef.name]}result(){return this._result?this._result:Uje}resultWithLoadingStates(){let e=this.result();return{id:this.computation.computationId,status:e.status,children:[],data:e.status==="errors"?e.errors:void 0}}isLoaded(){return!!this._result}getInitStats(){return this.initStats?this.initStats:this.isLoaded()?(this.initStats={queryNodes:0,instanceNodes:0,maxDepth:1,computations:1,failedQueries:0},this.initStats):null}};function lH(t){return t instanceof zo}var Qn=class{constructor(e,r,i,s,o){this.parent=e;this.context=r;this.instance=i;this.queryDef=s;this.missingOptionalFields=o;this.children=[];this._isLoaded=!1;this.initStats=null;r.statsCollector.instanceNodes++;for(let[a,u]of s.queries.entries())this.missingOptionalFields.some(p=>a===p.fieldName)||(u.objectFieldDef.pagination?this.children.push(new fl({parent:this,queryDef:u,observable:e.observable,context:r})):this.children.push(new Zi({parent:this,queryDef:u,observable:e.observable,context:r})));for(let[a,u]of s.computations.entries())this.missingOptionalFields.some(p=>a===p.fieldName)||this.children.push(new zo({parent:this,computationDef:u,observable:e.observable,context:r,instance:i}));r.options?.logger?.debug("VIEW_INSTANCE_NODE.CREATE",this.debugFields)}get debugFields(){return{object:this.queryDef.name,parent:this.parent.path,instanceFields:JSON.stringify(Array.from(Object.getOwnPropertyNames(this.instance))),queryFields:JSON.stringify(Array.from(this.queryDef.queries.keys())),projectedBaseFields:JSON.stringify(Array.from(this.queryDef.projectedFields.keys()))}}get path(){return[...this.parent.path,this.instance.id||"root"]}get queriedChildren(){return this.children.filter(aH)}get computedChildren(){return this.children.filter(lH)}overridesChanged(){for(let e of this.children)e.overridesChanged()}destroy(){for(let e of this.children)e.destroy()}resultsUpdated(){this.parent.resultsUpdated()}onUpdateResult(e,r){let i=f2(e,this.instance,this.queryDef.projectedFields)&&b2(this.missingOptionalFields,r),s=this.instance;this.instance=e;for(let o=0;o<this.children.length;o++){let a=this.children[o],u=a.recreateIfStale(s,e);u&&(a.destroy(),this.children[o]=u)}return i?!1:(this.missingOptionalFields=r,this.resetResult(),!0)}getLoadingPathsForDebugging(){let e=[];for(let r of this.children){let i=r.getLoadingPathsForDebugging();e.push.apply(e,i)}return e}result(){if(this._result)return this._result;let e=[],r=this.queryDef.projectInstance(this.instance),i=!0;for(let s of this.children){let o=s.result();switch(o.status){case"loading":if(this.queryDef.optionalFields.has(s.fieldName)&&this.queryDef.name==="root"){r[this.queryDef.dealias(s.fieldName)]={status:"error",error:`'root.${s.fieldName}' is missing, marked optional. Check server logs for more details.`};continue}return this._result=o,this._result;case"errors":i=!1,e.push.apply(e,o.errors);break;case"loaded":s.fieldName in this.instance&&s instanceof zo?r[this.queryDef.dealias(s.fieldName)]=this.instance[s.fieldName]:(e.push.apply(e,o.errors),r[this.queryDef.dealias(s.fieldName)]=o.data),this.queryDef.optionalFields.has(s.fieldName)&&(r[this.queryDef.dealias(s.fieldName)]={status:"loaded",data:o.data});break}}for(let s of this.missingOptionalFields)r[this.queryDef.dealias(s.fieldName)]={status:"error",error:s.info||""};return i?this._result={status:"loaded",errors:e,data:r}:this._result={status:"errors",data:null,errors:e},this._result}resultWithLoadingStates(){return{id:this.instance.id,status:this.result().status,children:this.children.map(e=>e.resultWithLoadingStates()),data:this.instance}}resetResult(){this._result=void 0,this._isLoaded=!1,this.parent.resetResult()}isLoaded(){if(this._isLoaded)return!0;for(let e of this.children)if(!e.isLoaded())return!1;return this._isLoaded=!0,this._isLoaded}getQueryIds(){let e=[];for(let r of this.queriedChildren)e.push(...r.getQueryIds());return e}getInitStats(){if(this.initStats)return this.initStats;if(!this.isLoaded())return null;this.initStats={queryNodes:0,instanceNodes:1,maxDepth:1,computations:0,failedQueries:0};for(let e of this.children)Qc(this.initStats,e.getInitStats());return this.initStats}};function uH(t){let e=[],r=i=>{if(i&&i.toJSON&&typeof i.toJSON=="function"&&(i=i.toJSON()),i===void 0)return;if(typeof i=="number")return isFinite(i)?""+i:"null";if(typeof i!="object")return JSON.stringify(i);if(Array.isArray(i)){let u="[";for(let d=0;d<i.length;d++)d&&(u+=","),u+=r(i[d])||"null";return u+"]"}if(i===null)return"null";if(e.indexOf(i)!==-1)throw new TypeError("Converting circular structure to JSON");let s=e.push(i)-1,o=Object.keys(i).sort(),a="";for(let u of o){let d=r(i[u]);d&&(a&&(a+=","),a+=JSON.stringify(u)+":"+d)}return e.splice(s,1),"{"+a+"}"};return r(t)}function vj(t,e){return uH([t,e])}var Jc=class{constructor(e,r,i,s,o){this.key=e;this.viewDef=r;this.context=i;this.observable=s;this.cancelNextTick=()=>{};this.initResultReady=!1;o=o||{},this.root=new Qn(this,i,{},r.root,[]),Et(!o.onResultsResolved||o.onNextTick),this.root.children.length===0&&o.onNextTick&&(this.cancelNextTick=o.onNextTick(()=>this.resultsUpdated())),this.onResultsResolved=o.onResultsResolved}get path(){return[this.key]}get viewArgs(){return this.context.viewArgs}resultsUpdated(){this.onResultsResolved&&this.onResultsResolved(this.result()),this.reportTime()}overridesChanged(){this.root.overridesChanged()}destroy(){this.cancelNextTick(),this.root.destroy()}result(){return this.root.result()}resultWithLoadingStates(){return this.root.resultWithLoadingStates()}resetResult(){}isLoaded(){return this.root.isLoaded()}getQueryIds(){return this.root.getQueryIds()}reportTime(){let{tracingContext:e}=this.context;if(e&&!this.initResultReady&&this.isLoaded()){this.initResultReady=!0;let r=Date.now()-e.startTime,i=this.root.getInitStats();i&&e.viewInitReporter(e.viewName,this.context.viewArgs,this.context.sessionArgs,i,this.context.statsCollector,!!this.context.isContextForComputedField,r,this.context.tracingContext.originalViewName)}}};var Kx=class{constructor(e,r){this.key=e;this.value=r}orInsert(){return this.value}orInsertWith(){return this.value}andModify(e){return e(this.value),this}},$x=class{constructor(e,r){this.key=e;this.map=r}orInsert(e){return this.map.set(this.key,e),e}orInsertWith(e){return this.orInsert(e())}andModify(){return this}},Nu=class extends Map{entry(e){return this.has(e)?new Kx(e,this.get(e)):new $x(e,this)}},Oj=class extends Kx{orDefault(){return this.value}},Sj=class extends $x{orDefault(){return this.orInsert(this.map.default(this.key))}},zx=class extends Map{constructor(r,i){super(i);this.default=r}entry(r){return this.has(r)?new Oj(r,this.get(r)):new Sj(r,this)}};var Vu=class{constructor(e,r){this.serverId=null;this.shadowMutations=new Set;this.shadowQueries=new Set;this.serverQueries=new Set;this.serverIdResolveList=[];this.serverFields=e,this.shadowFields=e,r||(this.serverId=e.id)}fields(){return this.shadowMutations.size===0?this.serverFields:this.shadowFields}dependentQueries(){return this.shadowMutations.size===0?this.serverQueries:this.shadowQueries}resolvePendingServerIdList(e){this.serverId=e.id;for(let r of this.serverIdResolveList)r(this.serverId);this.serverIdResolveList=[]}applyMutation(e){if(this.serverFields={...this.serverFields,...e},this.shadowFields={...this.shadowFields,id:e.id},this.resolvePendingServerIdList(e),this.shadowMutations.size===0)for(let r of this.dependentQueries().values())for(let i of r.observers)i.onUpdateResult(this.serverFields,r.missingFields)}applyShadowMutation(e,r,i){this.shadowMutations.size===0&&(this.shadowFields={...this.serverFields},this.shadowQueries=new Set(this.serverQueries)),this.shadowMutations.add(e),i&&(this.shadowFields={...this.shadowFields,...i,...r})}removeShadowMutation(e,r){r?this.shadowMutations.delete(e):this.shadowMutations=new Set}getServerSideId(){if(this.serverId)return Promise.resolve(this.serverId);let[e,r]=Ru();return this.serverIdResolveList.push(r),e}};var tf=class{constructor(e,r){this.objectDef=e;this.emitter=r;this.instanceStates=new Nu;this.instanceStatesByUuid=new Nu;this.shadowInstances=new Set;this.queryStates=new Nu;this.possiblyOrphanedQueryResults=new Nu;this.possiblyOrphanInstances=new Set}getAllQueryIds(){return Array.from(this.queryStates.keys())}addInstance(e,r){if(this.emitter.emit({type:"STORE.ADD_INSTANCE",objectName:this.objectDef.name,instance:r.fields()}),Et(e.results.type!=="failed"),!e.results.instances.has(r)){if(e.results.instances.add(r),e.results.type==="loaded")for(let i of e.observers)i.onAddResult(r.fields(),e.missingFields);r.dependentQueries().add(e)}}removeInstance(e,r,i){if(this.emitter.emit({type:"STORE.REMOVE_INSTANCE",objectName:this.objectDef.name,instance:r.fields()}),Et(e.results.type!=="failed"),!e.results.instances.has(r)){Ws(!1,"tried to remove instance that does not exist");return}e.results.instances.delete(r);for(let s of e.observers)i?s.onRemoveResult(r.fields()):s.detachChild(r.fields());r.dependentQueries().delete(e)}applyShadowMutationAdd(e,r,i){let s=this.instanceStates.entry(r).orInsertWith(()=>new Vu({id:r},!0));this.shadowInstances.add(s),s.applyShadowMutation(e,{id:r},i);let o=[];for(let[a,u]of this.queryStates.entries())u.query.matches(s.fields())&&u.results.type!=="failed"&&(o.push(a),this.addInstance(u,s));return o}applyShadowMutationAddWithUUID(e,r,i){let s=this.instanceStatesByUuid.entry(r).orInsertWith(()=>new Vu({id:r,uuid:r},!0));this.shadowInstances.add(s),s.applyShadowMutation(e,{uuid:r},{...i,id:r});let o=[];for(let[a,u]of this.queryStates.entries())u.query.matches(s.fields())&&u.results.type!=="failed"&&(o.push(a),this.addInstance(u,s));return o}applyShadowMutationDelete(e,r,i){this.shadowInstances.add(i),i.applyShadowMutation(e,{id:r},null);let s=[];for(let o of i.dependentQueries().values())o.results.type!=="failed"&&(this.removeInstance(o,i,!1),s.push(o.queryId));return s}applyShadowMutationDeleteWithUUID(e,r,i){this.shadowInstances.add(i),i.applyShadowMutation(e,{uuid:r},null);let s=[];for(let o of i.dependentQueries().values())o.results.type!=="failed"&&(this.removeInstance(o,i,!1),s.push(o.queryId));return s}applyShadowMutationUpdate(e,r,i,s){this.shadowInstances.add(i),i.applyShadowMutation(e,{id:r},s);let o=i.fields(),a=[];for(let u of this.queryStates.values())if(u.results.type!=="failed")if(u.results.instances.has(i)){if(!u.query.matches(o))this.removeInstance(u,i,!1);else for(let d of u.observers)d.onUpdateResult(o,u.missingFields);a.push(u.queryId)}else u.query.matches(o)&&(this.addInstance(u,i),a.push(u.queryId));return a}applyShadowMutationUpdateWithUUID(e,r,i,s){this.shadowInstances.add(i),i.applyShadowMutation(e,{uuid:r},s);let o=i.fields(),a=[];for(let u of this.queryStates.values())if(u.results.type!=="failed")if(u.results.instances.has(i)){if(!u.query.matches(o))this.removeInstance(u,i,!1);else for(let d of u.observers)d.onUpdateResult(o,u.missingFields);a.push(u.queryId)}else u.query.matches(o)&&(this.addInstance(u,i),a.push(u.queryId));return a}removeShadowMutations(e,r,i){for(let s in r){let o=this.instanceStates.get(s);if(o!==void 0&&o.shadowMutations.has(e)&&(o.removeShadowMutation(e,i),o.shadowMutations.size===0)){this.shadowInstances.delete(o);let a=o.fields();for(let u of o.dependentQueries().values())for(let d of u.observers)d.restoreChild(a);for(let u of this.queryStates.values())if(u.results.type!=="failed")if(u.results.instances.has(o))if(!o.dependentQueries().has(u))this.removeInstance(u,o,!0);else for(let d of u.observers)d.onUpdateResult(a,u.missingFields);else o.dependentQueries().has(u)&&this.addInstance(u,o);this.checkOrphanInstance(o)}}}removeShadowMutationsWithUUID(e,r,i){for(let s in r){let o=this.instanceStatesByUuid.get(s);if(o!==void 0&&o.shadowMutations.has(e)&&(o.removeShadowMutation(e,i),o.shadowMutations.size===0)){this.shadowInstances.delete(o);let a=o.fields();for(let u of o.dependentQueries().values())for(let d of u.observers)d.restoreChild(a);for(let u of this.queryStates.values())if(u.results.type!=="failed")if(u.results.instances.has(o))if(!o.dependentQueries().has(u))this.removeInstance(u,o,!0);else for(let d of u.observers)d.onUpdateResult(a,u.missingFields);else o.dependentQueries().has(u)&&this.addInstance(u,o);this.checkOrphanInstance(o)}}}resolvePendingServerIdList(e){for(let r in e){let i=this.objectDef.readPlainObject(e[r]);i.uuid&&this.instanceStatesByUuid.has(i.uuid)&&this.instanceStatesByUuid.get(i.uuid).resolvePendingServerIdList(i)}}applyMutations(e,r){for(let i in e){let s=this.objectDef.readPlainObject(e[i]);if(this.instanceStates.has(i))this.instanceStates.get(i).applyMutation(s);else if(s.uuid&&this.instanceStatesByUuid.has(s.uuid)){let o=this.instanceStatesByUuid.get(s.uuid);this.instanceStates.set(s.id,o),o.applyMutation(s)}else{let o=new Vu(s,!1);s.uuid&&this.instanceStatesByUuid.set(s.uuid,o),this.instanceStates.set(s.id,o),this.possiblyOrphanInstances.add(o)}}for(let i in r){let s=r[i];if(!this.queryStates.has(i)){this.possiblyOrphanedQueryResults.set(i,s);continue}let o=this.queryStates.get(i);this.setQueryStateResults(o,s,e)}}subscribe(e,r){let i=this.queryStates.entry(e.queryId).orInsertWith(()=>({queryId:e.queryId,results:{type:"loading",instances:new Set},query:e.substituted(),observers:new Set,missingFields:[]}));if(Et(!i.observers.has(r)),i.observers.add(r),this.possiblyOrphanedQueryResults.has(e.queryId))this.setQueryStateResults(i,this.possiblyOrphanedQueryResults.get(e.queryId)),this.possiblyOrphanedQueryResults.delete(e.queryId);else if(i.results.type==="loaded"){let s={};for(let o of i.results.instances.values()){let a=o.fields();s[a.id]=a}r.onInitialResults(s,!1,void 0,i.missingFields)}else i.results.type==="failed"&&r.onError(i.results.error);return()=>{if(Et(i.observers.has(r)),i.observers.delete(r),i.observers.size===0){if(i.results.type!=="failed")for(let s of i.results.instances.values())s.dependentQueries().delete(i),this.checkOrphanInstance(s);this.queryStates.delete(e.queryId)}}}getIdFromUuid(e){if(!this.instanceStatesByUuid.has(e))throw new Error(`uuid ${e} doesn't exist in object store ${this.objectDef.name}`);return this.instanceStatesByUuid.get(e).getServerSideId()}setQueryStateResults(e,r,i){if("error"in r){e.results={type:"failed",error:r.error};for(let d of e.observers)d.onError(r.error);return}let{results:s,fullResults:o,pagination:a,missingFields:u}=r;if(e.missingFields=u||[],e.results.type==="loaded"){for(let d in s){this.instanceStates.has(d)||Et(this.instanceStates.has(d),`objectId ${d} is missing from ${this.objectDef.name} store. queryResults is ${JSON.stringify(r)}`);let p=this.instanceStates.get(d);if(this.shadowInstances.has(p)){s[d]===!0?p.serverQueries.add(e):p.serverQueries.delete(e);continue}s[d]===!0?this.addInstance(e,p):(this.removeInstance(e,p,!0),this.possiblyOrphanInstances.add(p))}if(o){for(let d of e.results.instances)!this.shadowInstances.has(d)&&!s[d.fields().id]&&(this.removeInstance(e,d,!0),this.possiblyOrphanInstances.add(d));for(let d of this.shadowInstances.values())s[d.fields().id]||d.serverQueries.delete(e)}}else{Et(o),e.results={type:"loaded",instances:e.results.type==="loading"?e.results.instances:new Set};let d={};for(let p in s){Et(s[p]),Et(this.instanceStates.has(p));let m=this.instanceStates.get(p);m.serverQueries.add(e),this.shadowInstances.has(m)||(d[p]=m.fields(),e.results.instances.add(m))}for(let p of this.shadowInstances.values()){let m=p.fields();e.query.matches(m)&&(d[m.id]=m)}for(let p of e.observers)p.onInitialResults(d,!0,a,u)}}cleanupOrphans(){this.possiblyOrphanedQueryResults.clear();for(let e of this.possiblyOrphanInstances)this.checkOrphanInstance(e)}checkOrphanInstance(e){let r=this.instanceStates.has(e.fields().id),i=this.instanceStates.get(e.fields().id)===e,s=e.dependentQueries().size===0,o=this.shadowInstances.has(e);if(r&&i&&s&&!o){this.instanceStates.delete(e.fields().id);let a=e.fields().uuid;a&&this.instanceStatesByUuid.delete(a)}}};var rf=class{constructor(e){this.objectDef=e;this.states=new zx(()=>({state:{type:"loading"},observers:new Set}))}applyMutations(e){for(let r in e){let i=e[r],s=this.states.entry(r).orDefault();if("error"in i)s.state={type:"failed",errors:[{code:"computedFieldError",path:["computedFieldFunction"],error:new Error(i.error.message)}]};else{let{value:o}=i,{fieldName:a}=i;this.objectDef.fields.has(a)&&(o=this.objectDef.readPlainObjectField(a,o),s.state={type:"loaded",value:o})}for(let o of s.observers.values())s.state.type==="loaded"?o.onUpdateResult(s.state.value):s.state.type==="failed"&&o.onErrors(s.state.errors)}}subscribe({computationId:e},r){let i=this.states.entry(e).orDefault();return Et(!i.observers.has(r)),i.observers.add(r),i.state.type==="loaded"?r.onUpdateResult(i.state.value):i.state.type==="failed"&&r.onErrors(i.state.errors),()=>{i.observers.delete(r),i.observers.size===0&&this.states.delete(e)}}};var Yx=class{constructor(e){this.observable=e}subscribeQuery(e,r){return this.observable.subscribeQuery(e,new Dj(r))}subscribeComputation(e,r){return this.observable.subscribeComputation(e,new Aj(r))}requestPaginationChange(e,r){}},Dj=class{constructor(e){this.next=e}onInitialResults(e,r){this.next.onInitialResults(e,r)}onAddResult(e){}onRemoveResult(e,r){}onUpdateResult(e){}onError(e){}detachChild(e){}restoreChild(e){}identifier(){return this.next.identifier()}},Aj=class{constructor(e){this.next=e;this.receivedInitialResults=!1}onUpdateResult(e){this.receivedInitialResults||(this.next.onUpdateResult(e),this.receivedInitialResults=!0)}onErrors(e){}};var Qx=class{constructor(e,r,i,s,o,a){this.key=e;this.viewRef=r;this.observable=o;this.traceId=a;this.frozenView=null;this.subscriptions=[];this.view=new Jc(e,i,s,o)}getSubscriptionObservers(){return this.subscriptions}addSubscription(e){this.subscriptions.push(e)}removeSubscription(e){this.subscriptions=this.subscriptions.filter(r=>r!==e)}updateOverrides(e){if(!this.frozenView){let r=this.view.result().status==="loaded";this.frozenView=new Jc(this.key,this.view.viewDef,new $o(this.view.context.sessionArgs,this.view.context.viewArgs,this.view.context.options),new Yx(this.observable)),r&&Et(this.frozenView.result().status==="loaded")}this.frozenView.context.overrides=e,this.frozenView.overridesChanged()}resolveOptimisticUpdates(){this.frozenView=null}viewArgs(){return this.view.viewArgs}activeView(){return this.frozenView?this.frozenView:this.view}destroy(){this.view.destroy()}};function Fj(t){let e=new Map;for(let r of t)for(let i in r.mutations){let s=r.mutations[i],o=e.get(i);o||(o=new Map,e.set(i,o));for(let a in s){let u=s[a];if(!u||r.type==="delete")o.set(a,{type:"delete"});else if(r.type==="create")o.has(a)&&console.warn(`Optimistically creating ${i} with id ${a} detected but an optimistic operation with that ID already exists.`),o.set(a,{type:"create",instance:{id:a,...u}});else{let d=o.get(a);d?d.type==="create"?o.set(a,{type:"create",instance:{...d.instance,...u}}):d.type==="update"&&o.set(a,{type:"update",delta:{...d.delta,...u}}):o.set(a,{type:"update",delta:u})}}}return e}var Pj=class{constructor(e){this.emitter=e}criticalAndPage(e){}error(e){}warn(e){}info(e){}debug(e,...r){switch(e){case"VIEW_QUERY_NODE.ADD_RESULT":case"VIEW_QUERY_NODE.UPDATE_RESULT":case"VIEW_QUERY_NODE.REMOVE_RESULT":this.emitter.emit({type:e,queryId:r[0],instance:r[1]});break;case"VIEW_QUERY_NODE.INITIAL_RESULT":this.emitter.emit({type:e,queryId:r[0],instances:r[1]});break;default:}}},Yo=class{constructor(e,r,i,s,o){this.args=e;this.schema=r;this.viewRegistry=i;this.emitter=s;this.onPaginationChange=o;this.viewSubscriptions=new Map;this.failedViewSubscriptions=new Map;this.nextSubscriptionId=1;this.orderedMutationsByView=new Map;this.paginationQueryNodeMap=new Map;this.stores={};this.isInMutationBatch=!1;this.shouldNotifyOnMutationBatchCompletion=!1;this.contextLogger=new Pj(this.emitter);for(let[a,u]of r.objects)this.stores[a]={queries:new tf(u,this.emitter),computations:new rf(u)}}getAllQueryIds(){let e=[];for(let r in this.stores){let i=this.stores[r];i&&e.push(...i.queries.getAllQueryIds())}return e}resolvePendingServerIdList(e){for(let r in e){let{instances:i}=e[r],s=this.getStores(r);s&&s.queries.resolvePendingServerIdList(i)}}applyMutations(e){this.emitter.emit({type:"SESSION.APPLY_MUTATIONS",mutations:e});for(let r in e){let{instances:i,queries:s,computations:o}=e[r],a=this.getStores(r);a&&(a.queries.applyMutations(i,s),a.computations.applyMutations(o))}this.notifyObservers();for(let r in e){let i=this.getStores(r);i&&i.queries.cleanupOrphans()}}applyShadowMutations(e,r,i){this.emitter.emit({type:"SESSION.APPLY_SHADOW_MUTATIONS",transactionId:e,mutations:r,operationType:i});let s=new Set,o={};for(let[u,d]of this.viewSubscriptions.entries())o[u]=d.activeView().root.result().status;for(let u in r){let d=this.getStores(u);if(!d)continue;let p=r[u];for(let m in r[u]){let f=d.queries.instanceStates.get(m),y=p[m];for(let v in y){let O=this.schema.objects.get(u)?.fields.get(v);O&&Uu(O)&&console.warn(`Optimistic updates for computed fields are not supported. Optimistically updating computed field '${v}' on object '${u}' may not work`)}if(f===void 0){if(i==="update"||i==="delete"){console.warn(`Update triggered on non-existent instance of object type ${u}, id ${m}`);continue}Et(y);for(let v of d.queries.applyShadowMutationAdd(e,m,y))s.add(v)}else if(y===null)for(let v of d.queries.applyShadowMutationDelete(e,m,f))s.add(v);else for(let v of d.queries.applyShadowMutationUpdate(e,m,f,y))s.add(v)}}let a=[];for(let[u,d]of this.viewSubscriptions.entries())o[u]==="loaded"&&d.activeView().root.result().status==="loading"&&a.push(d.activeView().root.queryDef.objectFieldDef.name);return a.length>0&&console.error(`[LG Realtime] It seems like an optimistic update did not provide sufficient data to generate a complete view result. This caused the view(s): ${a.join()} to appear as if they had been dropped. If you need to update a subtree(an object and its children objects), the full children instances need to be included.`),this.notifyObservers(),Array.from(s.values())}removeShadowMutations(e,r,i){this.emitter.emit({type:"SESSION.REMOVE_SHADOW_MUTATIONS",transactionId:e,mutations:r,success:i});for(let s in r){let o=this.getStores(s);o&&o.queries.removeShadowMutations(e,r[s],i)}this.notifyObservers()}applyShadowMutationsWithUUID(e,r,i){this.emitter.emit({type:"SESSION.APPLY_SHADOW_MUTATIONS",transactionId:e,mutations:r,operationType:i});let s=new Set,o={};for(let[u,d]of this.viewSubscriptions.entries())o[u]=d.activeView().root.result().status;for(let u in r){let d=this.getStores(u);if(!d)continue;let p=r[u];for(let m in r[u]){let f=d.queries.instanceStatesByUuid.get(m),y=p[m];for(let v in y){let O=this.schema.objects.get(u)?.fields.get(v);O&&Uu(O)&&console.warn(`Optimistic updates for computed fields are not supported. Optimistically updating computed field '${v}' on object '${u}' may not work`)}if(f===void 0){if(i==="update"||i==="delete"){console.warn(`Update triggered on non-existent instance of object type ${u}, uuid ${m}`);continue}Et(y);for(let v of d.queries.applyShadowMutationAddWithUUID(e,m,y))s.add(v)}else if(i==="delete")for(let v of d.queries.applyShadowMutationDeleteWithUUID(e,m,f))s.add(v);else if(y!==null)for(let v of d.queries.applyShadowMutationUpdateWithUUID(e,m,f,y))s.add(v)}}let a=[];for(let[u,d]of this.viewSubscriptions.entries())o[u]==="loaded"&&d.activeView().root.result().status==="loading"&&a.push(d.activeView().root.queryDef.objectFieldDef.name);return a.length>0&&console.error(`[LG Realtime] It seems like an optimistic update did not provide sufficient data to generate a complete view result. This caused the view(s): ${a.join()} to appear as if they had been dropped. If you need to update a subtree(an object and its children objects), the full children instances need to be included.`),this.notifyObservers(),Array.from(s.values())}removeShadowMutationsWithUUID(e,r,i){this.emitter.emit({type:"SESSION.REMOVE_SHADOW_MUTATIONS",transactionId:e,mutations:r,success:i});for(let s in r){let o=this.getStores(s);o&&o.queries.removeShadowMutationsWithUUID(e,r[s],i)}this.notifyObservers()}getIdFromUuid(e,r){let i=this.getStores(e);if(!i)throw new Error(`objectName ${e} doesn't exist`);return i.queries.getIdFromUuid(r)}applyShadowMutationsByView(e,r,i,s){this.emitter.emit({type:"SESSION.APPLY_SHADOW_MUTATIONS_BY_VIEW",viewName:e,transactionId:r,mutations:i,operationType:s});let o=this.orderedMutationsByView.get(e);o||(o=[],this.orderedMutationsByView.set(e,o)),o.push({transactionId:r,mutations:i,type:s,resolved:!1});let a=Fj(o);for(let[u,d]of this.viewSubscriptions)d.viewRef._name===e&&d.updateOverrides(a);this.notifyObservers()}removeShadowMutationsByView(e,r,i,s){this.emitter.emit({type:"SESSION.REMOVE_SHADOW_MUTATIONS_BY_VIEW",viewName:e,transactionId:r,mutations:i,success:s});let o=this.orderedMutationsByView.get(e);if(!o){Ws(!1,"Removing a shadow mutation from a view that has no mutations.");return}let a=o.findIndex(d=>d.transactionId===r);if(a>=0&&(s?o[a].resolved=!0:o.splice(a,1)),o.filter(d=>!d.resolved).length===0){for(let[d,p]of this.viewSubscriptions)p.viewRef._name===e&&p.resolveOptimisticUpdates();this.orderedMutationsByView.delete(e)}else{let d=Fj(o);for(let[p,m]of this.viewSubscriptions)m.viewRef._name===e&&m.updateOverrides(d)}this.notifyObservers()}subscribe(e,r,i,s){let o=this.viewRegistry.get(e._name);if(!o)throw new Error(`View with name ${e._name} not found`);o.validateArguments(r).unwrap();let a=vj(o.name,r),u;this.viewSubscriptions.has(a)?u=this.viewSubscriptions.get(a):(this.args.sessionId||this.emitter.emit({type:"SESSION.SUBSCRIBE_BEFORE_SESSION_ID_SET",sessionArgs:this.args,viewName:o.name}),u=new Qx(a,e,o,new $o(this.args,r,{logger:this.contextLogger,isContextForComputedField:!1,paginationQueryNodeMap:this.paginationQueryNodeMap}),this,s),this.viewSubscriptions.set(a,u));let d={id:this.nextSubscriptionId++,view:e,args:r,observer:i,unsubscribe:y2(()=>{u.removeSubscription(d),u.getSubscriptionObservers().length===0&&(this.viewSubscriptions.delete(a),u.destroy())}),clientUnsubscribed:!1,lastResult:null};return u.addSubscription(d),Yo.nextTick(()=>{d.clientUnsubscribed||this.notifyObserver(u,d)}),d}cleanupFailedSubscribeView(e){let r=e,i=this.viewSubscriptions.get(r);if(i){for(let s of i.getSubscriptionObservers()){let o={status:"errors",data:null,errors:[]};Yo.nextTick(()=>{s.clientUnsubscribed||(s.observer(o),s.lastResult=o)})}this.failedViewSubscriptions.set(r,i),this.viewSubscriptions.delete(r)}}hasActiveSubscriptions(e,r){let i=vj(e,r),s=this.viewSubscriptions.get(i);return!!s&&s.getSubscriptionObservers().length>0}uniqueSubscriptions(){let e=[];for(let[r,i]of this.failedViewSubscriptions.entries())this.viewSubscriptions.has(r)||e.push({viewRef:i.viewRef,args:i.viewArgs()});this.failedViewSubscriptions.clear();for(let r of this.viewSubscriptions.values())e.push({viewRef:r.viewRef,args:r.viewArgs(),traceId:r.traceId});return e}startReconnectionStateForPaginationQueries(){for(let e of this.paginationQueryNodeMap.values())e.startReconnectionState()}subscribeQuery(e,r){this.emitter.emit({type:"SESSION.SUBSCRIBE_QUERY",query:e});let i=this.getStores(e.objectName);return i?i.queries.subscribe(e,r):()=>{}}requestPaginationChange(e,r){this.onPaginationChange(e.queryId,r),this.notifyObservers()}subscribeComputation(e,r){this.emitter.emit({type:"SESSION.SUBSCRIBE_COMPUTATION",computation:e});let i=this.getStores(e.objectName);return i?i.computations.subscribe(e,r):()=>{}}batchMutations(e){this.isInMutationBatch=!0,this.shouldNotifyOnMutationBatchCompletion=!1;try{e()}finally{this.isInMutationBatch=!1,this.shouldNotifyOnMutationBatchCompletion&&this.notifyObservers()}}notifyObservers(){if(this.isInMutationBatch){this.shouldNotifyOnMutationBatchCompletion=!0;return}for(let e of this.viewSubscriptions.values())for(let r of e.getSubscriptionObservers())this.notifyObserver(e,r)}notifyObserver(e,r){let i=e.activeView().result();r.lastResult!==i&&(r.lastResult?.status==="loaded"&&i.status==="loading"||(this.emitter.emit({type:"SESSION.NOTIFY_OBSERVERS",view:e.viewRef,args:e.viewArgs(),result:i,subscriptionId:r.id}),r.clientUnsubscribed||(r.observer(i),r.lastResult=i)))}getStores(e){let r=this.stores[e];return r||(this.emitter.emit({type:"SESSION.UNEXPECTED_OBJECT_NAME",objectName:e}),null)}static nextTick(e){setTimeout(e,0)}static async tick(){return new Promise(e=>{this.nextTick(()=>{e()})})}getViewSubscriptionsForTesting(){return this.viewSubscriptions}getViewSubscriptionsForDebugging(){let e={};for(let[r,i]of this.viewSubscriptions.entries()){let s=i.activeView().root.result();s.status==="loading"&&(s={...s,loadingPaths:i.activeView().root.getLoadingPathsForDebugging()}),e[r]=s}return e}prettyPrintLiveViewTree(e){let r="",i=null;if(typeof e=="string"){if(!this.viewSubscriptions.has(e)){let a=[...this.viewSubscriptions.keys()].join(`
`).replace(/"/g,'\\"');throw new Error(`Subscription key not found, possible options: 
${a}`)}r=e,i=this.viewSubscriptions.get(r).activeView().root}else if(e instanceof Qn)r=e.parent.key,i=e;else throw new Error("Please enter a subscription key or a LiveViewInstanceNode");let s=`Logging LiveView tree for subscription: ${r} 
View Name: ${i.queryDef.objectFieldDef.name} 
`,o=[[i,0]];for(;o.length>0;){let[a,u]=o.pop();if(s+="  ".repeat(u),a instanceof Qn){a.children.forEach(p=>{o.push([p,u+1])});let d=a.instance.id;s+=`I: ${d||"Root Instance"} 
`}else if(a instanceof Zi){a.children.forEach(f=>{o.push([f,u+1])});let d=a.query.queryDef,p=[],m=a.query.context.viewArgs;m&&Object.keys(m).forEach(f=>{p.push(`${d.objectDef.name}.${f} = ${m[f]}`)}),s+=`Q: ${d.objectFieldDef.name} `,p.length>0?s+=`args:(${p.join()})
`:s+=`(${d.objectDef.name})
`}else if(a instanceof zo){let d=a.result();d.status==="loaded"?s+=`C: ${a.fieldName} = ${d.data} 
`:s+=`C: ${a.fieldName} is loading 
`}}return s}};var Jx=class{constructor(){this.listeners=new Set}addListener(e){this.listeners.add(e)}removeListener(e){this.listeners.delete(e)}emit(e){this.listeners.forEach(r=>{try{r(e)}catch(i){console.error(i)}})}};var Lje=5*1e3,Nje=30*1e3,Vje=1*60*60*1e3,qje=["AWSALBTG","AWSALBTGCORS","AWSALB","AWSALBCORS"],Bje={backoffInitialMs:250,backoffMaxMs:2*60*1e3,backoffMultiplier:2,spreadMultiplier:.3},nf=class{constructor(e,r,i,s,o={}){this.url=e;this.wsImpl=r;this.args=i;this.emitter=s;this.clientOptions=o;this.ws=null;this.state={type:"disconnected"};this.backoff=new Wc(Bje);this.onCloseResolve=null;this.alreadyConnectedOnce=!1;this.reconnectTimeout=null;this.inactivityDisconnect=null;this.preventReconnectForDebugging=!1;this.preventAutoReconnectOnNextClose=!1;this.observers=new Set;this.visibilityChange=()=>{this.clientOptions.document?.visibilityState==="visible"?(this.clearInactivityDisconnect(),this.connect()):this.scheduleInactivityDisconnect()};this._lastAckTime=new Date(0);o.document&&o.document.addEventListener("visibilitychange",this.visibilityChange),this.registerPingInterval()}cleanup(){this.clientOptions.document&&this.clientOptions.document.removeEventListener("visibilitychange",this.visibilityChange),this.clearInactivityDisconnect(),this.closeWithoutReconnecting()}registerPingInterval(){setInterval(()=>{this.ready()&&this.send({messageType:"ping"})},this.getIntervalWithJitter())}addObserver(e){this.observers.add(e)}removeObserver(e){this.observers.delete(e)}get debug(){return{disconnect:()=>{this.preventReconnectForDebugging=!0,this.ws&&this.ws.close(1e3,"for-testing")},reconnect:()=>{this.preventReconnectForDebugging=!1,this.connect()},sendPingNow:()=>{this.sendPingNow()}}}async connect(){let[e,r]=Ru(),i=!1,s=this.alreadyConnectedOnce,o=this.clientOptions.document?.visibilityState==="hidden"&&s;if(this.preventReconnectForDebugging||o||this.state.type==="connected"||this.state.type==="connecting")return"skipped";this.clearReconnect(),this.ws=this.wsImpl(this.url),this.setConnectionState({type:"connecting"});let a=this.ws;return this.ws.onopen=async()=>{let u=a,d=this.ws;if(Ws(u===d,"Current websocket is different from newly-opened websocket"),Et(this.ws!==null,"websocket should be non-null"),this.ws?.readyState!==this.ws?.OPEN)return;this.setConnectionState({type:"connected",authenticated:!1,count:this.backoff.attemptsSoFar()}),r("success"),i=!0;let p=this.clientOptions.tags?.clientType||"unknown",m={...this.clientOptions.tags,...this.clientOptions.document?.URL&&{clientUrl:this.clientOptions.document?.URL}},f={messageType:"auth",clientType:p,args:this.args,tags:m};this.emitter.emit({type:"REQUEST_MESSAGE",message:f}),this.ws.send(JSON.stringify(f))},this.ws.onclose=u=>{if(this.setConnectionState({type:"disconnected"}),this.emitter.emit({type:"CONNECTION_CLOSED",url:this.url,closeEvent:u}),u.code===4001&&typeof document=="object")for(let d of qje)document.cookie=`${d}=; max-age=-1; path=/;`;if(i||r("failure"),this.onCloseResolve?.(),this.preventAutoReconnectOnNextClose){this.preventAutoReconnectOnNextClose=!1;return}this.reconnectTimeout||(this.reconnectTimeout=setTimeout(()=>{this.reconnectTimeout=null,this.connect()},this.backoff.nextBackoffMs()))},this.ws.onerror=u=>{this.emitter.emit({type:"ERROR",error:u})},this.ws.onmessage=({data:u})=>{let d=JSON.parse(u);if(d){switch(this.emitter.emit({type:"RESPONSE_MESSAGE",message:d}),d.messageType){case"authSuccess":this.setConnectionState({type:"connected",authenticated:!0,count:this.backoff.attemptsSoFar()}),this.backoff.reset();break;case"authFail":this.emitter.emit({type:"ERROR",error:new ox}),this.setConnectionState({type:"error",errorType:"authFail"}),this.closeWithoutReconnecting();break;case"ack":this._lastAckTime=new Date;break;case"requestError":this.setConnectionState({type:"error",errorType:"requestError"}),this.ws?.close();break;case"requestBeforeAuth":this.setConnectionState({type:"error",errorType:"requestBeforeAuth"}),this.ws?.close();break;case"serverError":this.setConnectionState({type:"error",errorType:"serverError"}),this.ws?.close();break}for(let p of this.observers)p.handleMessage(d)}},e}clearReconnect(){this.reconnectTimeout&&(clearTimeout(this.reconnectTimeout),this.reconnectTimeout=null)}async closeWithoutReconnecting(){let[e,r]=Ru();this.onCloseResolve=r,this.clearReconnect(),this.preventAutoReconnectOnNextClose=!0,!(this.ws===null||this.ws?.readyState===this.ws?.CLOSED)&&(this.ws.close(),await e)}async reconnect(){return this.preventAutoReconnectOnNextClose=!1,this.connect()}getIntervalWithJitter(){return Nje+(Math.random()-.5)*Lje}ready(){return this.state.type==="connected"&&this.state.authenticated&&!!this.ws&&this.ws?.readyState===this.ws?.OPEN}send(e){this.ready()?(this.emitter.emit({type:"REQUEST_MESSAGE",message:e}),this.ws.send(JSON.stringify(e))):Ws(!1,`ClientConnection.send called with message type ${e.messageType} while in non-ready state`)}sendPingNow(){this.ready()&&this.send({messageType:"ping"})}getLastAckTime(){return this._lastAckTime}scheduleInactivityDisconnect(){this.inactivityDisconnect=setTimeout(()=>{this.closeWithoutReconnecting()},Vje)}clearInactivityDisconnect(){this.inactivityDisconnect&&(clearTimeout(this.inactivityDisconnect),this.inactivityDisconnect=null)}setConnectionState(e){e.type==="connected"&&(this.alreadyConnectedOnce=!0),this.state=e,this.emitter.emit({type:"CONNECTION_STATE",state:e,url:this.url})}getState(){return this.state}isReconnectScheduled(){return this.state.type==="disconnected"&&this.reconnectTimeout!==null}getBackoff(){return this.backoff}};var dH=Ie(require("crypto")),Zx=new Uint8Array(256),Xx=Zx.length;function jj(){return Xx>Zx.length-16&&(dH.default.randomFillSync(Zx),Xx=0),Zx.slice(Xx,Xx+=16)}var cH=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Wje(t){return typeof t=="string"&&cH.test(t)}var pH=Wje;var si=[];for(let t=0;t<256;++t)si.push((t+256).toString(16).substr(1));function Gje(t,e=0){let r=(si[t[e+0]]+si[t[e+1]]+si[t[e+2]]+si[t[e+3]]+"-"+si[t[e+4]]+si[t[e+5]]+"-"+si[t[e+6]]+si[t[e+7]]+"-"+si[t[e+8]]+si[t[e+9]]+"-"+si[t[e+10]]+si[t[e+11]]+si[t[e+12]]+si[t[e+13]]+si[t[e+14]]+si[t[e+15]]).toLowerCase();if(!pH(r))throw TypeError("Stringified UUID is invalid");return r}var mH=Gje;function Hje(t,e,r){t=t||{};let i=t.random||(t.rng||jj)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,e){r=r||0;for(let s=0;s<16;++s)e[r+s]=i[s];return e}return mH(i)}var Tj=Hje;var Kje=2e3;var sf=class{constructor(e,r,i,s,o,a={}){this.args=e;this.viewRegistry=i;this.transactionId=1;this.syncDelayForDebugging=0;this.shouldSendSyncQueryIds=!1;this.syncQueryIds=new Map;this.syncCallbacks=new Map;this.pendingGlobalOptimisticUpdates=new Set;this.globalOptimisticUpdateResolutionCallbacks=[];this.emitter=new Jx;this.healthListeners=new Set;this.pendingOptimisticMutationList=new Array;this.pendingMutationList=new Array;this.updateSLOConfig={enabled:!1};this.session=new Yo(e,r,i,this.emitter,(u,d)=>{this.requestPaginationChange(u,d)}),this.shouldSendSyncQueryIds=!!a.syncClientQueryIds,this.connection=new nf(s,o,e,this.emitter,a),this.connection.addObserver(this),this.addEventListener(this.healthListener.bind(this))}cleanup(){this.connection.cleanup()}async connect(){await this.connection.connect()}async close(){await this.connection.closeWithoutReconnecting()}addEventListener(e){return this.emitter.addListener(e)}removeEventListener(e){return this.emitter.removeListener(e)}healthListener(e){if(e.type==="CONNECTION_STATE"){let r=this.getHealthStatusForConnectionState(e.state);for(let i of this.healthListeners)i(r)}}getHealthStatus(){return this.getHealthStatusForConnectionState(this.connection.getState())}getHealthStatusForConnectionState(e){return e.type==="connected"?0:e.type==="connecting"?2:1}addHealthListener(e){return this.healthListeners.add(e),()=>this.removeHealthListener(e)}removeHealthListener(e){this.healthListeners.delete(e)}handleMessage(e){switch(e.messageType){case"authSuccess":if(this.args.sessionId=e.sessionId,!this.connection.ready()){Ws(!1,"Expected connection to be in ready state");break}this.session.startReconnectionStateForPaginationQueries();for(let{viewRef:i,args:s,traceId:o}of this.session.uniqueSubscriptions())this.requestSubscription(i,s,"refresh",o);for(let i of this.syncCallbacks.keys())this.requestSync(i,this.syncQueryIds.get(i));break;case"featureFlags":this.updateSLOConfig=e.updateSLO;break;case"pendingMutations":this.hasUnresolvedGlobalOptimisticUpdates()?(this.globalOptimisticUpdateResolutionCallbacks.push(()=>{this.session.applyMutations(e.mutations)}),this.pendingMutationList.push(e.mutations),this.session.resolvePendingServerIdList(e.mutations)):this.session.applyMutations(e.mutations);break;case"synced":let r=this.syncCallbacks.get(e.transactionId);r&&r();break;case"viewSubscriptionFailed":{this.emitter.emit({type:"ERROR",error:new ax(e.errorCode)}),this.session.cleanupFailedSubscribeView(e.liveViewKey);break}}}requestSubscription(e,r,i,s){let o={messageType:"subscribe",viewName:e._name,viewHash:e._hash,loadType:i,args:r,traceId:s};this.connection.ready()&&(this.connection.send(o),this.emitter.emit({type:"SUBSCRIBE_VIEW_SERVER",view:e,args:r}))}requestPaginationChange(e,r){let i={messageType:"paginationChangeMessage",operationType:"LoadNext",queryId:e,count:r};this.connection.ready()&&this.connection.send(i)}subscribeAndUnsubscribeInBatches(e,r,i,s){i.unsubscribeStaleSubscriptions(r);for(let o of r){let a=i.getStableArgs(o);if(i.subscriptions.has(a))continue;let u=this.subscribeBase(e,a,d=>{u.lastResult=d,i.recomputeViewResult(r,s)});i.subscriptions.set(a,u)}i.recomputeViewResult(r,s)}subscribeBase(e,r,i,s){let o=this.session.hasActiveSubscriptions(e._name,r),a=this.session.subscribe(e,r,i,s);return o||(this.emitter.emit({type:"SUBSCRIBE_VIEW_CLIENT",view:e,args:r}),this.requestSubscription(e,r,"initial_load",s)),a}getUnsubscribeFunction(e){return()=>{e.clientUnsubscribed=!0,h2(()=>{e.unsubscribe(),!this.session.hasActiveSubscriptions(e.view._name,e.args)&&this.connection.ready()&&(this.connection.send({messageType:"unsubscribe",viewName:e.view._name,args:e.args}),this.emitter.emit({type:"UNSUBSCRIBE_VIEW_SERVER",view:e.view,args:e.args}))},Kje)}}subscribe(e,r,i,s){let o=r;this.viewRegistry.get(e._name)?.hasStaticQueries()&&(o={...r,__requestId:Tj()});let a=this.subscribeBase(e,o,i,s);return this.getUnsubscribeFunction(a)}hasUnresolvedGlobalOptimisticUpdates(){return this.pendingGlobalOptimisticUpdates.size>0}handleBeforeOptimisticUpdateApplied(e){this.pendingGlobalOptimisticUpdates.add(e)}handleAfterOptimisticUpdateResolved(e){if(this.pendingGlobalOptimisticUpdates.delete(e),!this.hasUnresolvedGlobalOptimisticUpdates()){let r=this.globalOptimisticUpdateResolutionCallbacks;this.globalOptimisticUpdateResolutionCallbacks=[],this.session.batchMutations(()=>{for(let i of r)i()}),this.checkMissingMutations()}}checkUUIDExistenceInPendingMutation(e,r){for(let i of r)for(let s in i)for(let o in i[s].instances){let a=i[s].instances[o];if(e===a.uuid)return!0}return!1}checkMissingMutations(){for(let e of this.pendingOptimisticMutationList)for(let r in e)for(let i in e[r]){let s=e[r][i];s?.uuid&&(this.checkUUIDExistenceInPendingMutation(s.uuid,this.pendingMutationList)?this.emitter.emit({type:"PENDING_MUTATION_EXISTENCE",exist:!0,objectName:r,optimisticInstance:s}):this.emitter.emit({type:"PENDING_MUTATION_EXISTENCE",exist:!1,objectName:r,optimisticInstance:s}))}this.pendingOptimisticMutationList=[],this.pendingMutationList=[]}async applyMutations(e,r,i){let s=this.transactionId;this.transactionId++;let o=this.session.applyShadowMutations(s,e,i);this.handleBeforeOptimisticUpdateApplied(s);let a;try{a=await r}catch(d){throw this.session.removeShadowMutations(s,e,!1),this.handleAfterOptimisticUpdateResolved(s),d}let u=!1;try{await this.sync(s,o),u=!0}finally{this.pendingOptimisticMutationList.push(e),this.globalOptimisticUpdateResolutionCallbacks.push(()=>{this.session.removeShadowMutations(s,e,u)}),this.handleAfterOptimisticUpdateResolved(s)}return a}waitForServerSideObjectsWithUUIDs(e){let r=[];for(let i in e)for(let s in e[i])r.push(this.getIdFromUuid(i,s));return Promise.all(r)}async applyMutationsWithUUID(e,r,i){let s=this.transactionId;this.transactionId++;let o=this.session.applyShadowMutationsWithUUID(s,e,i);this.handleBeforeOptimisticUpdateApplied(s);let a;try{a=await r}catch(d){throw this.session.removeShadowMutationsWithUUID(s,e,!1),this.handleAfterOptimisticUpdateResolved(s),d}let u=!1;try{i==="create"?(this.emitter.emit({type:"WAIT_SERVER_OBJECTS_STARTED",mutations:e}),await this.waitForServerSideObjectsWithUUIDs(e),await uj(this.syncDelayForDebugging),this.emitter.emit({type:"WAIT_SERVER_OBJECTS_ENDED",mutations:e})):await this.sync(s,o),u=!0}finally{this.pendingOptimisticMutationList.push(e),this.globalOptimisticUpdateResolutionCallbacks.unshift(()=>{this.session.removeShadowMutationsWithUUID(s,e,u)}),this.handleAfterOptimisticUpdateResolved(s)}return a}getIdFromUuid(e,r){return this.session.getIdFromUuid(e,r)}async deprecatedApplyMutationsByView(e,r,i,s){let o=this.transactionId;this.transactionId++,this.session.applyShadowMutationsByView(e._name,o,r,s);let a;try{a=await i}catch(d){throw this.session.removeShadowMutationsByView(e._name,o,r,!1),d}let u=!1;try{let d=[];for(let p of this.session.getAllQueryIds())oH(this.session.schema,p).name in r&&d.push(p);await this.sync(o,d),u=!0}finally{this.session.removeShadowMutationsByView(e._name,o,r,u)}return a}requestSync(e,r){if(this.connection.ready()){let i={messageType:"sync",transactionId:e};this.shouldSendSyncQueryIds&&(i.queryIds=r),this.connection.send(i),this.emitter.emit({type:"SYNC_STARTED",transactionId:e})}}async sync(e=this.transactionId++,r){let[i,s]=Ru();this.syncCallbacks.set(e,s),r&&this.syncQueryIds.set(e,r),this.requestSync(e,r),await i,this.syncDelayForDebugging&&await uj(this.syncDelayForDebugging),this.syncCallbacks.delete(e),this.syncQueryIds.delete(e),this.emitter.emit({type:"SYNC_COMPLETED",transactionId:e})}get debug(){return{subscriptions:this.session.getViewSubscriptionsForDebugging(),prettyPrintLiveViewTree:e=>this.session.prettyPrintLiveViewTree(e),setOptimisticUpdateResolutionDelay:e=>this.syncDelayForDebugging=e,...this.connection.debug}}};var of=class{constructor(e){this.name=e.name,this.values=e.values,this.annotations=e.annotations}isValidValue(e){return this.values.some(r=>typeof r=="string"?e===r:e===r[1])}validate(e){}};var Xc=Ie(Mu());var af=class{constructor(e){this.args=e&&e.args||[{name:"userId",type:{kind:"string"},nullable:!0}],this.args.find(r=>r.name==="sessionId")||this.args.push({name:"sessionId",type:{kind:"string"},nullable:!0}),cl("Session definition ",this.args),this.validateUserIdArgument(this.args)}validateUserIdArgument(e){for(let r of e)if(r.name==="userId"){if(!["string","bigint"].includes(r.type.kind))throw new Ne(Xc.oneLine`
            Session definition error: 'userId' arg must be of type 'string' or 'bigint'
          `);return}throw new Ne(Xc.oneLine`
      Session definition error: 'userId' arg of type 'string' or 'bigint' is required
    `)}parseAndValidateArguments(e,r){let i={userId:null,sessionId:""};for(let s in e){let o=yi(this.args,s);if(o){let a=dl(r,o,e[s]);if(a.type==="error")throw new Ne(Xc.oneLine`
            Session argument error: '${a.argName}' '${a.msg}'`);i[s]=a.parsedValue}else throw new Ne(Xc.oneLine`
          Session argument error: '${s}' is not a valid argument
          name`)}for(let s of this.args)if(!(s.name in e))throw new Ne(Xc.oneLine`
          Session argument error: the argument '${s.name}' is missing`);return i}};var lf=class{constructor(e){this.typeConversionExemptions={viewArg:{},filterArg:{},computedFieldArg:{}};this.populateTypeConversions(e),this.allowAllConversions=e?.allowAllExemptions??!0}populateTypeConversions(e){if(!e?.exemptions)return;let r=JSON.parse(JSON.stringify(e?.exemptions));for(let i in e?.exemptions){let s=i;for(let o in r[s])for(let a in r[s][o])r[s][o][a]=new Set(e.exemptions[s][o][a])}this.typeConversionExemptions=r}isTypeConversionExempted(e,r,i,s){try{return this.allowAllConversions||this.typeConversionExemptions[e][r][i].has(s)}catch{return!1}}};var Zc=class{constructor(e,r){this.schema=e;this.queryShapeIdResolver=r;this.session=new af(e.session),this.legacyConfig=new lf(e.legacyConfigDef),this.enums=new Map;for(let i of e.enums||[])this.enums.set(i.name,new of(i));this.objects=new Map;for(let i of e.objects)this.objects.set(i.name,new pl(i));for(let i of e.objects)this.objects.get(i.name).constructComputedFields(i,this);this.enums.forEach(i=>i.validate(this)),this.objects.forEach(i=>i.validate(this)),this.version=e.version||"0.0.0"}typeWithKind(e,r){let i=this[e].get(r);if(i)return i;throw new Ne(`${e} with name '${r}' isn't present in schema`)}enumDef({name:e}){return this.typeWithKind("enums",e)}objectDef({name:e}){return this.typeWithKind("objects",e)}scopedQueryShape(e,r){return this.queryShapeIdResolver?.shapeFromParent(e,r)}scopedQueryShapeFromRoot(e){return this.queryShapeIdResolver?.shapeFromRoot(e)}toJSON(){return this.schema}};var uf=class{constructor(e,r){this.views=new Map;for(let i in e)this.views.set(i,new ml(i,e[i],r.objects.get("root"),r,{shouldValidateDeprecated:!0,shouldUseMissingFields:!1}))}get(e){return this.views.get(e)||null}};var df=class extends sf{optimisticallyCreate(e,r){return this.applyMutations(e,r,"create")}optimisticallyUpdate(e,r){return this.applyMutations(e,r,"update")}optimisticallyDelete(e,r){return this.applyMutations(e,r,"delete")}optimisticallyCreateWithUUID(e,r){return this.applyMutationsWithUUID(e,r,"create")}optimisticallyUpdateWithUUID(e,r){return this.applyMutationsWithUUID(e,r,"update")}optimisticallyDeleteWithUUID(e,r){return this.applyMutationsWithUUID(e,r,"delete")}getIdFromUuid(e,r){return super.getIdFromUuid(e,r)}deprecatedOptimisticallyCreateByView(e,r,i){return this.deprecatedApplyMutationsByView(e,r,i,"create")}deprecatedOptimisticallyUpdateByView(e,r,i){return this.deprecatedApplyMutationsByView(e,r,i,"update")}deprecatedOptimisticallyDeleteByView(e,r,i){return this.deprecatedApplyMutationsByView(e,r,i,"delete")}};var n=null;function Cj(t){return!!t&&"fields"in t}var D=t=>({type:"field",ref:t}),x=t=>({type:"view",ref:t}),b=t=>({type:"session",ref:t}),h=t=>({type:"parent",ref:t});function ee(t,e){return e&&Cj(e)?{aliasedField:t,optional:e.optional,fields:e.fields}:{aliasedField:t,fields:e}}function Ej(t){return t?Cj(t)?t.aliasedField?{aliasedField:t.aliasedField,optional:!0,fields:t.fields}:{optional:!0,fields:t.fields}:{optional:!0,fields:t}:{optional:!0,fields:null}}var Wwe=Ie(Dn());var Jwe=Ie(Dn());var Kwe=Ie(Dn());var $we=Ie(Dn());var Xwe=Ie(Dn());var Zwe=Ie(Dn());var Bj=class{constructor(){this.enums=[]}addEnum(e){this.enums.push(e)}},gt=new Bj;gt.addEnum({name:"LinkAccess",values:["org_view","org_edit","view","edit","inherit","invite_only"]});gt.addEnum({name:"TeamAccess",values:[["TEAM_ACCESS_VIEW","team_view"],["TEAM_ACCESS_EDIT","team_edit"],["TEAM_ACCESS_DISABLED","team_access_disabled"]]});gt.addEnum({name:"TaxIdVerificationStatus",values:["unverified","verified","pending","unavailable"]});gt.addEnum({name:"ProtoLinkAccess",values:["org_view","view","inherit"]});gt.addEnum({name:"OrgAccess",values:["public","private","secret"]});gt.addEnum({name:"OrgPermission",values:["admin","member","guest"]});gt.addEnum({name:"WorkspacePermission",values:["admin","member"]});gt.addEnum({name:"WorkspaceUpdateReason",values:[["SELF_SELECTED","self"],["MOVED_BY_ADMIN","moved"],["AUTO_ASSIGNED","auto"]]});gt.addEnum({name:"OrgAccountType",values:["starter","full","restricted"]});gt.addEnum({name:"ResourceType",values:["file","file_repo","folder","team"]});gt.addEnum({name:"SharedWithYouResourceType",values:["file","file_repo","folder","team","prototype"]});gt.addEnum({name:"SubscriptionType",values:["ok","grace_period","past_due","no_monthly_sub_editor_count_exceeded","incomplete"]});gt.addEnum({name:"TeamRestrictionsType",values:["locked","editors_limited","projects_limited","files_limited","projects_limited_legacy","files_limited_legacy","whiteboard_files_limited","whiteboard_files_limited_beta"]});gt.addEnum({name:"EditorType",values:["design","whiteboard"]});gt.addEnum({name:"LicenseType",values:["design","whiteboard","dev_mode"]});gt.addEnum({name:"FigFileLinkType",values:["design","whiteboard","external"]});gt.addEnum({name:"FavoritedResourceType",values:["file","prototype","folder","team","workspace"]});gt.addEnum({name:"ViewerMode",values:["canvas","prototype","whiteboard","library"]});gt.addEnum({name:"VerificationStatus",values:["verified","unverified","blocked"]});gt.addEnum({name:"PublishingStatus",values:["blocked","org_private","pending_user_visual_compliance","pending_public","org_private_pending_public","delisted","delisted_creator_stripe_disabled","approved_public"]});gt.addEnum({name:"SidebarMigrationStatus",values:["migration_not_needed","migration_needed","migrated"]});gt.addEnum({name:"DeviceType",values:["desktop","ipad"]});gt.addEnum({name:"CustomTemplatesPermissions",values:["ALLOW","DISABLE"]});gt.addEnum({name:"GracePeriodType",values:["pro_trial","downgraded_org_team","promo_code","admin_override"]});gt.addEnum({name:"PinnedStatus",values:["unpinned","pinned"]});gt.addEnum({name:"ActivityType",values:["file_seen","design_file_seen","whiteboard_file_seen","file_edit","design_file_edit","whiteboard_file_edit"]});gt.addEnum({name:"CommunityPublisherRole",values:["creator","publisher"]});gt.addEnum({name:"PluginSecurityFormResponseStatus",values:["pending","approved","rejected"]});gt.addEnum({name:"ColorProfilePreference",values:["default","srgb","display_p3"]});gt.addEnum({name:"FeaturedScimMetadata",values:[["COST_CENTER","costCenter"],["ORGANIZATION","organization"],["DIVISION","division"],["DEPARTMENT","department"]]});gt.addEnum({name:"OrgUserUpgradeReason",values:["role_upgrade","invite_redeem","org_invite_redeem","invite_autoupgrade","resource_moved_to_org","drafts_share","access_edit_link","create_team","join_team","join_team_request","admin_upgrade","scim","figma_admin","depart_team","create_file","edit_request_approval","edit_request_auto_approval","run_plugin","resource_moved_from_org_drafts","default_paid_status","fj_ga_reupgrade","edit_button","edit_action","active_edit_action","org_merge"]});gt.addEnum({name:"LicenseGroupUpdateReason",values:[["SELF_SELECTED","self"],["SELF_SELECTED_NOT_LISTED","not listed"],["SELF_SELECTED_DONT_KNOW","don't know"],["MOVED_BY_ADMIN","moved"],["AUTO_ASSIGNED","auto"]]});gt.addEnum({name:"FeedPostContainerType",values:["org","workspace","team","project"]});gt.addEnum({name:"BillingTrialResourceType",values:["Org"]});gt.addEnum({name:"BillingTrialPlanType",values:["Organization","Enterprise"]});gt.addEnum({name:"AutoRunBehavior",values:["INHERIT","NONE","OVERRIDE"]});gt.addEnum({name:"CodegenSettingsBehavior",values:["INHERIT","OVERRIDE"]});gt.addEnum({name:"CodeExtensionLanguageType",values:[["PUBLISHED_PLUGIN","published-plugin"],["FIRST_PARTY","first-party"]]});gt.addEnum({name:"DimensionUnit",values:["PIXEL","SCALED"]});var QK=[...gt.enums];var JK={name:"AccountManagerMessage",fields:[{name:"id",type:{kind:"bigint"}},{name:"amUserId",type:{kind:"bigint"}},{name:"targetUserId",type:{kind:"bigint"}},{name:"amName",type:{kind:"string"}},{name:"amEmail",type:{kind:"string"}},{name:"amAvatarUrl",type:{kind:"string"}},{name:"ctaUrl",type:{kind:"string"}},{name:"sentAt",type:{kind:"datetime"},nullable:!0},{name:"reminderSentAt",type:{kind:"datetime"},nullable:!0}]};var XK={name:"AccountTypeRequest",fields:[{name:"id",type:{kind:"bigint"}},{name:"requestableUserId",type:{kind:"bigint"}},{name:"requestableUserType",type:{kind:"string"}},{name:"status",type:{kind:"string"}},{name:"_editorTypeRaw",type:{kind:"int"}},{name:"editorType",type:{kind:"enum",name:"EditorType"},computed:!0,dependencies:{_editorTypeRaw:n}},{name:"licenseType",type:{kind:"enum",name:"LicenseType"},computed:!0,dependencies:{_editorTypeRaw:n}},{name:"fileKey",type:{kind:"string"},nullable:!0},{name:"message",type:{kind:"string"},nullable:!0},{name:"createdAt",type:{kind:"datetime"}}]};var ZK={name:"ActiveFileUser",fields:[{name:"id",type:{kind:"string"}},{name:"handle",type:{kind:"string"}},{name:"imageUrl",type:{kind:"string"}}]};var e3={name:"ActivityLog",fields:[{name:"id",type:{kind:"bigint"}},{name:"actorId",type:{kind:"bigint"},nullable:!0},{name:"actor",type:{kind:"object",name:"User"},nullable:!0,filter:["id","=",h("actorId")]},{name:"teamId",type:{kind:"bigint"},nullable:!0},{name:"createdAt",type:{kind:"datetime"}},{name:"eventName",type:{kind:"string"}},{name:"orgId",type:{kind:"bigint"}},{name:"ipAddress",type:{kind:"string"}},{name:"isFigmaAdminAction",type:{kind:"bool"}},{name:"metadata",type:{kind:"string"}},{name:"actedOnType",type:{kind:"string"},nullable:!0},{name:"actedOnIdOrKey",type:{kind:"string"},nullable:!0},{name:"isIdpAction",type:{kind:"bool"}},{name:"org",type:{kind:"object",name:"Org"},filter:["id","=",h("orgId")]},{name:"canRead",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:{id:n,org:{currentPrivilegedOrgUser:[{userId:D("userId")},{id:n,permission:n,licenseGroupAdmins:{id:n}}]}}}]};var t3={name:"AdminRequestDashboardRow",fields:[{name:"id",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"}},{name:"request",type:{kind:"object",name:"AccountTypeRequest"},filter:["id","=",h("id")],nullable:!1},{name:"user",type:{kind:"object",name:"User"},filter:["id","=",h("userId")],nullable:!1}]};var r3={name:"AdminRequestDashboardRowCount",fields:[{name:"id",type:{kind:"bigint"}},{name:"rowCount",type:{kind:"int"}}]};var i3={name:"WhitelistedPlugin",fields:[{name:"id",type:{kind:"bigint"}},{name:"pluginId",type:{kind:"bigint"}},{name:"plugin",type:{kind:"object",name:"Plugin"},filter:["id","=",h("pluginId")],nullable:!0},{name:"orgId",type:{kind:"bigint"}},{name:"createdAt",type:{kind:"datetime"}},{name:"allowlistGroupType",type:{kind:"string"}},{name:"allowlistGroupId",type:{kind:"bigint"}},{name:"allowlistedLicenseGroup",type:{kind:"object",name:"LicenseGroup"},filter:["id","=",h("allowlistGroupId")],nullable:!0},{name:"allowlistedWorkspace",type:{kind:"object",name:"Workspace"},filter:["id","=",h("allowlistGroupId")],nullable:!0},{name:"allowlistedOrg",type:{kind:"object",name:"Org"},filter:["id","=",h("allowlistGroupId")],nullable:!0}]};var n3={name:"ApprovedLibrary",fields:[{name:"id",type:{kind:"bigint"}},{name:"fileKey",type:{kind:"string"}},{name:"resourceType",type:{kind:"string"}},{name:"resourceId",type:{kind:"bigint"}}]};var s3={name:"AssetPublishStatus",fields:[{name:"id",type:{kind:"uuid"}},{name:"createdAt",type:{kind:"datetime"}},{name:"updatedAt",type:{kind:"datetime"}},{name:"userId",type:{kind:"bigint"}},{name:"libraryPublishId",type:{kind:"uuid"}},{name:"fileKey",type:{kind:"string"}},{name:"nodeId",type:{kind:"string"}},{name:"assetKey",type:{kind:"string"}},{name:"status",type:{kind:"string"}},{name:"assetType",type:{kind:"string"}},{name:"error",type:{kind:"string"},nullable:!0}]};var yl=[{name:"id",type:{kind:"bigint"}},{name:"orgId",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"}},{name:"draftsFolderId",type:{kind:"bigint"},nullable:!0},{name:"permission",type:{kind:"enum",name:"OrgPermission"}},{name:"accountType",type:{kind:"enum",name:"OrgAccountType"}},{name:"whiteboardPaidStatus",type:{kind:"enum",name:"OrgAccountType"}},{name:"devModePaidStatus",type:{kind:"enum",name:"OrgAccountType"}},{name:"designPaidStatus",type:{kind:"enum",name:"OrgAccountType"},computed:!0,dependencies:{accountType:n}},{name:"accountTypeChangedAt",type:{kind:"datetime"},nullable:!0},{name:"createdAt",type:{kind:"datetime"}},{name:"updatedAt",type:{kind:"datetime"}},{name:"disabledAt",type:{kind:"datetime"},nullable:!0},{name:"agreedToCommunityTosAt",type:{kind:"datetime"},nullable:!0},{name:"description",type:{kind:"string"},nullable:!0},{name:"showFigjamUserOnboarding",type:{kind:"bool"},nullable:!0},{name:"hasShownFigjamAdminOnboarding",type:{kind:"bool"},nullable:!0},{name:"hasShownFigjamAdminLaunchOnboarding",type:{kind:"bool"},nullable:!0},{name:"userStateChangedAt",type:{kind:"datetime"},nullable:!0},{name:"draftsProject",type:{kind:"object",name:"Project"},filter:["id","=",h("draftsFolderId")],nullable:!0},{name:"licenseGroupMember",type:{kind:"object",name:"LicenseGroupMember"},filter:["orgUserId","=",h("id")],nullable:!0},{name:"licenseGroupAdmins",type:{kind:"objects",name:"LicenseGroupAdmin"},filter:["orgUserId","=",h("id")],nullable:!0},{name:"workspaceUsers",type:{kind:"objects",name:"WorkspaceUser"},filter:["orgUserId","=",h("id")]},{name:"designOrgAccountTypeRequest",type:{kind:"object",name:"OrgAccountTypeRequest"},filter:{and:[["orgUserId","=",h("id")],["_editorTypeRaw","=",0]]},nullable:!0},{name:"whiteboardOrgAccountTypeRequest",type:{kind:"object",name:"OrgAccountTypeRequest"},filter:{and:[["orgUserId","=",h("id")],["_editorTypeRaw","=",1]]},nullable:!0},{name:"designAccountTypeRequest",type:{kind:"object",name:"AccountTypeRequest"},filter:{and:[["requestableUserId","=",h("id")],["requestableUserType","=","OrgUser"],["_editorTypeRaw","=",0]]},nullable:!0},{name:"whiteboardAccountTypeRequest",type:{kind:"object",name:"AccountTypeRequest"},filter:{and:[["requestableUserId","=",h("id")],["requestableUserType","=","OrgUser"],["_editorTypeRaw","=",1]]},nullable:!0},{name:"devModeAccountTypeRequest",type:{kind:"object",name:"AccountTypeRequest"},filter:{and:[["requestableUserId","=",h("id")],["requestableUserType","=","OrgUser"],["_editorTypeRaw","=",2]]},nullable:!0},{name:"fileBrowserPreferences",type:{kind:"object",name:"FileBrowserPreferences"},nullable:!0,filter:{and:[["userId","=",h("userId")],["orgId","=",h("orgId")]]}},{name:"fileBrowserSectionPreferences",type:{kind:"objects",name:"FileBrowserSectionPreferences"},nullable:!0,filter:{and:[["userId","=",h("userId")],["orgId","=",h("orgId")]]},expectedMaxCount:1e3},{name:"favoritedResources",type:{kind:"objects",name:"FavoritedResource"},filter:{and:[["userId","=",h("userId")],["orgId","=",h("orgId")]]},expectedMaxCount:100,deprecated:{reason:"Use favoritedFile, favoritedPrototype, etc",date:"2022-03-18"}},{name:"favoritedFiles",type:{kind:"objects",name:"FavoritedFile"},nullable:!0,filter:{and:[["resourceType","=","file"],["userId","=",h("userId")],["orgId","=",h("orgId")],["teamId","=",null]]},expectedMaxCount:100},{name:"favoritedPrototypes",type:{kind:"objects",name:"FavoritedPrototype"},nullable:!0,filter:{and:[["resourceType","=","prototype"],["userId","=",h("userId")],["orgId","=",h("orgId")],["teamId","=",null]]},expectedMaxCount:100},{name:"favoritedProjects",type:{kind:"objects",name:"FavoritedProject"},nullable:!0,filter:{and:[["resourceType","=","folder"],["userId","=",h("userId")],["orgId","=",h("orgId")]]},expectedMaxCount:1e3},{name:"favoritedTeams",type:{kind:"objects",name:"FavoritedTeam"},nullable:!0,filter:{and:[["resourceType","=","team"],["userId","=",h("userId")],["orgId","=",h("orgId")]]},expectedMaxCount:1e3},{name:"favoritedWorkspaces",type:{kind:"objects",name:"FavoritedWorkspace"},nullable:!0,filter:{and:[["resourceType","=","workspace"],["userId","=",h("userId")],["orgId","=",h("orgId")]]},expectedMaxCount:1e3},{name:"userSidebarSections",type:{kind:"objects",name:"UserSidebarSection"},nullable:!0,filter:{and:[["userId","=",h("userId")],["orgId","=",h("orgId")]]},expectedMaxCount:1e3},{name:"recentSearches",type:{kind:"objects",name:"RecentSearch"},nullable:!0,filter:{and:[["userId","=",h("userId")],["orgId","=",h("orgId")]]},expectedMaxCount:100},{name:"pluginRequests",type:{kind:"objects",name:"PluginRequest"},nullable:!0,filter:["orgUserId","=",h("id")]}];var o3={name:"BaseOrgUser",fields:[...yl,{name:"user",type:{kind:"object",name:"User"},filter:["id","=",h("userId")]},{name:"org",type:{kind:"object",name:"OrgInfo"},filter:["id","=",h("orgId")],nullable:!0},{name:"designUserUpgrades",type:{kind:"objects",name:"OrgUserUpgrade"},nullable:!0,checkCanRead:{userId:D("userId")},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:{and:[["_editorTypeRaw","=",0],["orgUserId","=",h("id")]]},orderBy:[["createdAt","DESC"]]},{name:"whiteboardUserUpgrades",type:{kind:"objects",name:"OrgUserUpgrade"},nullable:!0,checkCanRead:{userId:D("userId")},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:{and:[["_editorTypeRaw","=",1],["orgUserId","=",h("id")]]},orderBy:[["createdAt","DESC"]]},{name:"mostRecentDesignUserUpgrade",type:{kind:"object",name:"OrgUserUpgrade"},nullable:!0,checkCanRead:{userId:D("userId")},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:{and:[["_editorTypeRaw","=",0],["orgUserId","=",h("id")]]},orderBy:[["createdAt","DESC"]],expectedMaxCount:1},{name:"mostRecentWhiteboardUserUpgrade",type:{kind:"object",name:"OrgUserUpgrade"},nullable:!0,checkCanRead:{userId:D("userId")},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:{and:[["_editorTypeRaw","=",1],["orgUserId","=",h("id")]]},orderBy:[["createdAt","DESC"]],expectedMaxCount:1}]};var a3={name:"BillingTrial",fields:[{name:"id",type:{kind:"bigint"}},{name:"createdAt",type:{kind:"datetime"}},{name:"updatedAt",type:{kind:"datetime"}},{name:"deactivatedAt",type:{kind:"datetime"},nullable:!0},{name:"trialPeriodStart",type:{kind:"datetime"}},{name:"trialPeriodEnd",type:{kind:"datetime"}},{name:"resourceType",type:{kind:"enum",name:"BillingTrialResourceType"}},{name:"resourceId",type:{kind:"bigint"}},{name:"planType",type:{kind:"enum",name:"BillingTrialPlanType"}},{name:"metadata",type:{kind:"map",valueType:{kind:"string"}},nullable:!0}]};var l3={name:"Checkpoint",embedded:!0,fields:[{name:"key",type:{kind:"string"}}]};var u3={name:"CodeExtensionLanguage",embedded:!0,fields:[{name:"type",type:{kind:"enum",name:"CodeExtensionLanguageType"}},{name:"id",type:{kind:"string"}},{name:"pluginLanguage",type:{kind:"string"},nullable:!0}]};var d3={name:"CodeExtensionPreferences",embedded:!0,fields:[{name:"scaleFactor",type:{kind:"float"},nullable:!0},{name:"unit",type:{kind:"enum",name:"DimensionUnit"},nullable:!0},{name:"customSettings",type:{kind:"map",valueType:{kind:"string"}},nullable:!0}]};var c3={name:"ColorPalette",fields:[{name:"id",type:{kind:"bigint"}},{name:"name",type:{kind:"string"},nullable:!0},{name:"creatorId",type:{kind:"bigint"}},{name:"teamId",type:{kind:"bigint"}},{name:"baseColors",type:{kind:"list",ofType:{kind:"string"}}},{name:"uuid",type:{kind:"uuid"}},{name:"team",type:{kind:"object",name:"Team"},nullable:!0,filter:["id","=",h("teamId")]},{name:"canRead",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:{team:{orgId:n}}},{name:"isTeamDefault",type:{kind:"bool"},computed:!0,dependencies:{uuid:n,team:{defaultColorPaletteUuid:n}}}]};var p3={name:"Comment",fields:[{name:"id",type:{kind:"bigint"}},{name:"uuid",type:{kind:"string"},nullable:!0},{name:"key",type:{kind:"string"}},{name:"userId",type:{kind:"bigint"}},{name:"parentId",type:{kind:"bigint"},nullable:!0},{name:"orderId",type:{kind:"int"},nullable:!0},{name:"createdAt",type:{kind:"datetime"}},{name:"resolvedAt",type:{kind:"datetime"},nullable:!0},{name:"deletedAt",type:{kind:"datetime"},nullable:!0},{name:"clientMeta",type:{kind:"object",name:"CommentClientMeta"},embedded:!0,nullable:!0},{name:"authorMeta",type:{kind:"object",name:"CommentAuthorMeta"},embedded:!0,nullable:!0},{name:"messageMeta",type:{kind:"objects",name:"CommentMessageMeta"},embedded:!0},{name:"messageMetaStylized",type:{kind:"objects",name:"CommentMessageMeta"},embedded:!0,nullable:!0},{name:"thumbnailUrl",type:{kind:"string"},nullable:!0},{name:"user",type:{kind:"object",name:"User"},filter:["id","=",h("userId")]},{name:"attachments",type:{kind:"objects",name:"CommentAttachment"},filter:["fileCommentId","=",h("id")],expectedMaxCount:5},{name:"reactions",type:{kind:"objects",name:"CommentReaction"},filter:["fileCommentId","=",h("id")],expectedMaxCount:200},{name:"isCanvasMention",type:{kind:"bool"},nullable:!0},{name:"commentPin",type:{kind:"object",name:"CommentPin"},filter:{and:[["fileKey","=",h("key")],["fileCommentId","=",h("id")]]},nullable:!0}]};var m3={name:"CommentAttachment",fields:[{name:"id",type:{kind:"uuid"}},{name:"fileCommentId",type:{kind:"bigint"},nullable:!0},{name:"fileKey",type:{kind:"string"}},{name:"type",type:{kind:"string"},computed:!0,dependencies:{mediaType:n}},{name:"mediaType",type:{kind:"string"}},{name:"altText",type:{kind:"string"},nullable:!0},{name:"thumbnailSha1",type:{kind:"string"}},{name:"thumbnailUrl",type:{kind:"string"},computed:!0,dependencies:{id:n,fileCommentId:n,locality:n}},{name:"imageSha1",type:{kind:"string"}},{name:"imageUrl",type:{kind:"string"},computed:!0,dependencies:{id:n,fileCommentId:n,locality:n}},{name:"createdAt",type:{kind:"datetime"}},{name:"uploadedAt",type:{kind:"datetime"}},{name:"deletedAt",type:{kind:"datetime"},nullable:!0},{name:"metadata",type:{kind:"object",name:"CommentAttachmentMetadata"},embedded:!0},{name:"locality",type:{kind:"string"}}]};var g3={name:"CommentAttachmentMetadata",embedded:!0,fields:[{name:"file_name",type:{kind:"string"},nullable:!0},{name:"dimensions",type:{kind:"object",name:"Dimensions"},nullable:!0,embedded:!0},{name:"thumbnail_dimensions",type:{kind:"object",name:"Dimensions"},nullable:!0,embedded:!0}]};var f3={name:"CommentAuthorMeta",embedded:!0,fields:[{name:"appId",type:{kind:"bigint"},nullable:!0},{name:"app",type:{kind:"object",name:"OauthApp"},filter:["clientId","=",h("appId")],nullable:!0}]};var b3={name:"CommentClientMeta",embedded:!0,fields:[{name:"id",type:{kind:"bigint"}},{name:"x",type:{kind:"int"}},{name:"y",type:{kind:"int"}},{name:"nodeId",type:{kind:"string"},nullable:!0},{name:"pageId",type:{kind:"string"},nullable:!0},{name:"nodeOffset",type:{kind:"object",name:"Vector"},nullable:!0,embedded:!0},{name:"inFrame",type:{kind:"bool"},nullable:!0},{name:"selectionBoxAnchor",type:{kind:"object",name:"Vector"},nullable:!0,embedded:!0},{name:"stablePath",type:{kind:"list",ofType:{kind:"string"}},nullable:!0}]};var y3={name:"CommentMessageMeta",embedded:!0,fields:[{name:"id",type:{kind:"bigint"}},{name:"t",type:{kind:"string"},nullable:!0},{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"user",type:{kind:"object",name:"User"},filter:["id","=",h("userId")],nullable:!0},{name:"link",type:{kind:"string"},nullable:!0},{name:"isHashtag",type:{kind:"bool"},nullable:!0},{name:"styles",type:{kind:"list",ofType:{kind:"string"}},nullable:!0},{name:"children",type:{kind:"objects",name:"CommentMessageMeta"},embedded:!0,nullable:!0}]};var h3={name:"CommentPin",fields:[{name:"id",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"}},{name:"fileKey",type:{kind:"string"}},{name:"fileCommentId",type:{kind:"bigint"}},{name:"createdAt",type:{kind:"datetime"}},{name:"updatedAt",type:{kind:"datetime"}}]};var I3={name:"CommentReaction",fields:[{name:"id",type:{kind:"bigint"}},{name:"fileCommentId",type:{kind:"bigint"}},{name:"fileKey",type:{kind:"string"},nullable:!0},{name:"emoji",type:{kind:"string"}},{name:"userId",type:{kind:"bigint"}},{name:"user",type:{kind:"object",name:"User"},filter:["id","=",h("userId")]},{name:"createdAt",type:{kind:"datetime"}},{name:"sortTimestamp",type:{kind:"datetime"},nullable:!0}]};var x3={name:"CommentReadStatus",fields:[{name:"id",type:{kind:"bigint"}},{name:"fileKey",type:{kind:"string"}},{name:"userId",type:{kind:"bigint"}},{name:"createdAt",type:{kind:"datetime"}},{name:"allReadAt",type:{kind:"datetime"},nullable:!0},{name:"readComments",type:{kind:"map",valueType:{kind:"string"}}},{name:"unreadComments",type:{kind:"map",valueType:{kind:"string"}}}]};var _3={name:"CommunityBadge",fields:[{name:"id",type:{kind:"bigint"}},{name:"profileId",type:{kind:"bigint"},nullable:!0},{name:"badgeType",type:{kind:"string"}},{name:"profile",nullable:!0,type:{kind:"objects",name:"Profile"},filter:["id","=",h("profileId")]}]};var v3={name:"CommunityComment",fields:[{name:"id",type:{kind:"bigint"}},{name:"profileId",type:{kind:"bigint"}},{name:"resourceVersionId",type:{kind:"bigint"}},{name:"pluginId",type:{kind:"bigint"},nullable:!0},{name:"hubFileId",type:{kind:"bigint"},nullable:!0},{name:"createdAt",type:{kind:"datetime"}},{name:"updatedAt",type:{kind:"datetime"}},{name:"editedAt",type:{kind:"datetime"}},{name:"ratingValue",type:{kind:"bigint"},nullable:!0},{name:"message",type:{kind:"string"},nullable:!0},{name:"messageMeta",type:{kind:"objects",name:"CommentMessageMeta"},embedded:!0,deprecated:{reason:"Use communityMessageMeta instead",date:"2023-05-17"}},{name:"communityMessageMeta",type:{kind:"objects",name:"CommunityCommentMessageMeta"},embedded:!0,nullable:!0},{name:"profile",type:{kind:"object",name:"Profile"},filter:["id","=",h("profileId")]},{name:"plugin",type:{kind:"object",name:"Plugin"},filter:["id","=",h("pluginId")],nullable:!0},{name:"hubFile",type:{kind:"object",name:"HubFile"},filter:["id","=",h("hubFileId")],nullable:!0}]};var O3={name:"CommunityCommentMessageMeta",embedded:!0,fields:[{name:"id",type:{kind:"bigint"}},{name:"t",type:{kind:"string"},nullable:!0},{name:"link",type:{kind:"string"},nullable:!0},{name:"styles",type:{kind:"list",ofType:{kind:"string"}},nullable:!0},{name:"profileId",type:{kind:"bigint"},nullable:!0},{name:"children",type:{kind:"objects",name:"CommunityCommentMessageMeta"},embedded:!0,nullable:!0}]};var S3={name:"CommunityHubFollow",fields:[{name:"id",type:{kind:"bigint"}},{name:"followerProfileId",type:{kind:"bigint"}},{name:"followedProfileId",type:{kind:"bigint"}}]};var D3={name:"CommunityHubLike",fields:[{name:"id",type:{kind:"bigint"}},{name:"pluginId",type:{kind:"bigint"},nullable:!0},{name:"hubFileId",type:{kind:"bigint"},nullable:!0},{name:"profileId",type:{kind:"bigint"}},{name:"hiddenAt",type:{kind:"datetime"},nullable:!0},{name:"createdAt",type:{kind:"datetime"}},{name:"updatedAt",type:{kind:"datetime"}},{name:"currentUser",nullable:!0,type:{kind:"object",name:"User"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["id","=",D("userId")]},{name:"canRead",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"profileId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:{currentUser:[{userId:D("userId")},{id:n,profileId:n}]}}]};var w_=[{name:"id",type:{kind:"bigint"}},{name:"updatedAt",type:{kind:"datetime"}},{name:"createdAt",type:{kind:"datetime"}},{name:"numComponents",type:{kind:"int"},nullable:!0},{name:"numStateGroups",type:{kind:"int"},nullable:!0},{name:"numStyles",type:{kind:"int"},nullable:!0},{name:"numStylesFill",type:{kind:"int"},nullable:!0},{name:"numStylesText",type:{kind:"int"},nullable:!0},{name:"numStylesEffect",type:{kind:"int"},nullable:!0},{name:"numStylesGrid",type:{kind:"int"},nullable:!0},{name:"numVariables",type:{kind:"int"},nullable:!0},{name:"numVariablesBoolean",type:{kind:"int"},nullable:!0},{name:"numVariablesColor",type:{kind:"int"},nullable:!0},{name:"numVariablesFloat",type:{kind:"int"},nullable:!0},{name:"numVariablesString",type:{kind:"int"},nullable:!0},{name:"numVariableSets",type:{kind:"int"},nullable:!0}];var A3={name:"CommunityLibrary",fields:[...w_,{name:"hubFileId",type:{kind:"bigint"}},{name:"hubFile",type:{kind:"object",name:"HubFile"},filter:["id","=",h("hubFileId")]},{name:"canRead",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:{hubFile:{canRead:[{userId:x("userId")},n]}}},{name:"name",type:{kind:"string"},computed:!0,dependencies:{hubFile:{currentHubFileVersion:{name:n}}}},{name:"libraryHierarchyPaths",type:{kind:"objects",name:"LibraryHierarchyPath"},args:[{name:"initialPageSize",type:{kind:"int"}}],filter:["hubFileId","=",h("hubFileId")],expectedMaxCount:1e4}]};var R_=[{name:"hubFileId",type:{kind:"bigint"}},{name:"communityLibrary",type:{kind:"object",name:"CommunityLibrary"},filter:["hubFileId","=",h("hubFileId")],nullable:!0}];var M_=[{name:"id",type:{kind:"bigint"}},{name:"fileKey",type:{kind:"string"}},{name:"isSubscribed",type:{kind:"bool"}},{name:"file",type:{kind:"object",name:"File"},filter:["key","=",h("fileKey")]}];var F3={name:"CommunityLibraryFileSubscription",fields:[...M_,...R_,{name:"canRead",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:{communityLibrary:{canRead:[{userId:x("userId")},n]}}}]};var P3={name:"CommunityM10nResourceStat",fields:[{name:"id",type:{kind:"bigint"}},{name:"monetizedResourceMetadataId",type:{kind:"bigint"}},{name:"allTimeTotalEarned",type:{kind:"bigint"}},{name:"monthlyTotalEarned",type:{kind:"bigint"}},{name:"numPurchases",type:{kind:"bigint"}},{name:"monetizedResourceMetadata",type:{kind:"object",name:"MonetizedResourceMetadata"},filter:["id","=",h("monetizedResourceMetadataId")]},{name:"canRead",type:{kind:"bool"},args:[{name:"sessionUserId",type:{kind:"string"},nullable:!0},{name:"monetizedResourceMetadataId",type:{kind:"bigint"}}],computed:!0,dependencies:{monetizedResourceMetadata:{id:n,hubFileId:n,pluginId:n,widgetId:n,hubFile:{profile:{associatedUsers:{id:n}}},plugin:{profile:{associatedUsers:{id:n}}},widget:{profile:{associatedUsers:{id:n}}}}}}]};var j3={name:"CommunityPublisher",fields:[{name:"id",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"isPending",type:{kind:"bool"}},{name:"profileId",type:{kind:"bigint"}},{name:"pluginId",type:{kind:"bigint"},nullable:!0},{name:"hubFileId",type:{kind:"bigint"},nullable:!0},{name:"role",type:{kind:"string"},nullable:!0},{name:"profile",type:{kind:"object",name:"Profile"},filter:["id","=",h("profileId")]},{name:"role",type:{kind:"enum",name:"CommunityPublisherRole"},nullable:!0}]};var T3={name:"CommunityQuickstartLibrary",fields:[{name:"id",type:{kind:"bigint"}},...R_]};var C3={name:"CommunityRatingStats",fields:[{name:"id",type:{kind:"bigint"}},{name:"hubFileId",type:{kind:"bigint"},nullable:!0},{name:"pluginId",type:{kind:"bigint"},nullable:!0},{name:"widgetId",type:{kind:"bigint"},nullable:!0},{name:"oneStars",type:{kind:"bigint"}},{name:"twoStars",type:{kind:"bigint"}},{name:"threeStars",type:{kind:"bigint"}},{name:"fourStars",type:{kind:"bigint"}},{name:"fiveStars",type:{kind:"bigint"}},{name:"totalRatings",type:{kind:"bigint"}},{name:"avgRating",type:{kind:"float"},nullable:!0},{name:"createdAt",type:{kind:"datetime"}},{name:"updatedAt",type:{kind:"datetime"}}]};var E3={name:"CommunityResourcePayment",fields:[{name:"id",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"}},{name:"monetizedResourceMetadataId",type:{kind:"bigint"}},{name:"status",type:{kind:"int"}},{name:"subscriptionExpiresAt",type:{kind:"datetime"},nullable:!0},{name:"subscriptionCanceledAt",type:{kind:"datetime"},nullable:!0},{name:"purchasedAt",type:{kind:"datetime"},nullable:!0},{name:"refundReason",type:{kind:"string"},nullable:!0},{name:"subscriptionInterval",type:{kind:"string"},nullable:!0},{name:"canRead",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:{userId:n}}]};var zs={id:n,canView:[{userId:x("userId")},n],trashedAt:n};var ip=[{name:"fileKey",type:{kind:"string"}},{name:"hubFileId",type:{kind:"bigint"},nullable:!0},{name:"id",type:{kind:"bigint"}},{name:"name",type:{kind:"string"}},{name:"description",type:{kind:"string"},nullable:!0},{name:"nodeId",type:{kind:"string"}},{name:"userId",type:{kind:"string"}},{name:"createdAt",type:{kind:"datetime"}},{name:"updatedAt",type:{kind:"datetime"}},{name:"unpublishedAt",type:{kind:"datetime"},nullable:!0},{name:"checkpoint",type:{kind:"object",name:"Checkpoint"},embedded:!0},{name:"file",type:{kind:"object",name:"File"},filter:["key","=",h("fileKey")],nullable:!0},{name:"hubFile",type:{kind:"object",name:"HubFile"},filter:["id","=",h("hubFileId")],nullable:!0},{name:"user",type:{kind:"object",name:"User"},filter:["id","=",h("userId")],nullable:!0},{name:"canRead",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:{unpublishedAt:n,file:{...zs}}}];var np=[...ip,{name:"checkpoint",type:{kind:"object",name:"Checkpoint"},embedded:!0},{name:"description_rt",type:{kind:"string"},nullable:!0},{name:"libraryHierarchyPathId",type:{kind:"bigint"},nullable:!0},{name:"thumbnailUrl",type:{kind:"string"},nullable:!0}];var k3={name:"Component",fields:[...np,{name:"componentKey",type:{kind:"string"}},{name:"contentHash",type:{kind:"string"}},{name:"minNodeWidth",type:{kind:"int"},nullable:!0},{name:"minNodeHeight",type:{kind:"int"},nullable:!0},{name:"containingFrame",type:{kind:"object",name:"LibraryItemContainingFrame"},embedded:!0,nullable:!0}]};var w3={name:"DefaultTeam",fields:[{name:"id",type:{kind:"bigint"}},{name:"resourceId",type:{kind:"bigint"}},{name:"resourceType",type:{kind:"string"}},{name:"teamId",type:{kind:"bigint"}},{name:"team",type:{kind:"object",name:"Team"},nullable:!0,filter:["id","=",h("teamId")]}]};var R3={name:"DeveloperCodeSnippet",fields:[{name:"id",type:{kind:"bigint"}},{name:"key",type:{kind:"string"}},{name:"code_snippet",type:{kind:"string"}},{name:"platform",type:{kind:"string"}},{name:"updatedAt",type:{kind:"datetime"}},{name:"createdAt",type:{kind:"datetime"}},{name:"last_updated_by",type:{kind:"bigint"}}]};var M3={name:"DeveloperLink",fields:[{name:"id",type:{kind:"bigint"}},{name:"key",type:{kind:"bigint"}},{name:"linkName",type:{kind:"string"}},{name:"linkUrl",type:{kind:"string"}}]};var U3={name:"DeveloperRelatedLink",naturalKey:new Set(["fileKey","id"]),fields:[{name:"id",type:{kind:"bigint"}},{name:"nodeId",type:{kind:"string"}},{name:"fileKey",type:{kind:"string"}},{name:"linkName",type:{kind:"string"}},{name:"linkUrl",type:{kind:"string"}},{name:"linkPreviewJson",type:{kind:"string"},nullable:!0},{name:"isUserOverride",type:{kind:"bool"}}]};var L3={name:"Dimensions",embedded:!0,fields:[{name:"id",type:{kind:"bigint"}},{name:"width",type:{kind:"int"}},{name:"height",type:{kind:"int"}}]};var N3={name:"DraftFile",fields:[{name:"id",type:{kind:"string"}},{name:"key",type:{kind:"string"}},{name:"createdAt",type:{kind:"datetime"}},{name:"updatedAt",type:{kind:"datetime"}},{name:"name",type:{kind:"string"}},{name:"file",type:{kind:"object",name:"File"},filter:["key","=",h("key")],nullable:!0,checkCanRead:{userId:b("userId")}}]};var V3={name:"EduGracePeriod",fields:[{name:"id",type:{kind:"bigint"}},{name:"createdAt",type:{kind:"datetime"}},{name:"userId",type:{kind:"bigint"}},{name:"teamId",type:{kind:"bigint"}},{name:"isValid",type:{kind:"bool"},computed:!0,dependencies:{createdAt:n}}]};var q3={name:"EmbeddedSCIMInfo",embedded:!0,fields:[{name:"enterpriseFields",type:{kind:"object",name:"SCIMEnterpriseFields"},embedded:!0},{name:"figmaEnterpriseFields",type:{kind:"object",name:"SCIMFigmaEnterpriseFields"},embedded:!0,nullable:!0},{name:"figmaPermission",type:{kind:"string"},nullable:!0},{name:"figjamPermission",type:{kind:"string"},nullable:!0}]};var B3={name:"ExperimentAssignment",fields:[{name:"id",type:{kind:"bigint"}},{name:"resourceId",type:{kind:"bigint"}},{name:"resourceType",type:{kind:"string"}},{name:"experimentId",type:{kind:"bigint"}},{name:"treatmentId",type:{kind:"bigint"}}]};var Ys=[{name:"id",type:{kind:"bigint"}},{name:"userId",type:{kind:"string"}},{name:"orgId",type:{kind:"string"},nullable:!0},{name:"createdAt",type:{kind:"datetime"}},{name:"updatedAt",type:{kind:"datetime"}},{name:"resourceId",type:{kind:"string"}},{name:"resourceType",type:{kind:"enum",name:"FavoritedResourceType"}},{name:"sidebarSectionId",type:{kind:"string"},nullable:!0},{name:"teamId",type:{kind:"string"},nullable:!0}];var W3={name:"FavoritedFile",fields:[...Ys,{name:"readableFile",args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],type:{kind:"object",name:"File"},filter:["key","=",h("resourceId")],checkCanRead:{userId:D("userId")},nullable:!0},{name:"readableWhiteboardFile",args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],type:{kind:"object",name:"File"},filter:{and:[["key","=",h("resourceId")],["_editorTypeRaw","=",1]]},checkCanRead:{userId:D("userId")},nullable:!0},{name:"file",type:{kind:"object",name:"File"},filter:["key","=",h("resourceId")],nullable:!0,deprecated:{reason:"Use readableFile instead",date:"2022-05-06"}}]};var G3={name:"FavoritedProject",fields:[...Ys,{name:"readableProject",type:{kind:"object",name:"Project"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["id","=",h("resourceId")],checkCanRead:{userId:D("userId")},nullable:!0}]};var H3={name:"FavoritedPrototype",fields:[...Ys,{name:"readablePrototype",type:{kind:"object",name:"Prototype"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["id","=",h("resourceId")],checkCanRead:{userId:D("userId")},nullable:!0},{name:"prototype",type:{kind:"object",name:"Prototype"},filter:["id","=",h("resourceId")],nullable:!0,deprecated:{reason:"Use readablePrototype",date:"2022-05-06"}}]};var K3={name:"FavoritedResource",fields:[{name:"id",type:{kind:"bigint"}},{name:"userId",type:{kind:"string"}},{name:"orgId",type:{kind:"string"},nullable:!0},{name:"resourceId",type:{kind:"string"}},{name:"resourceType",type:{kind:"string"}}],deprecated:{reason:"Use FavoritedFile, FavoritedPrototype, etc",date:"2022-03-18"}};var $3={name:"FavoritedTeam",fields:[...Ys,{name:"team",type:{kind:"object",name:"Team"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["id","=",h("resourceId")],checkCanRead:{userId:D("userId")},nullable:!0}]};var z3={name:"FavoritedWorkspace",fields:[...Ys,{name:"licenseGroup",type:{kind:"object",name:"LicenseGroup"},filter:["id","=",h("resourceId")],nullable:!0},{name:"workspace",type:{kind:"object",name:"Workspace"},filter:["id","=",h("resourceId")],nullable:!0,checkCanRead:{userId:b("userId")}}]};var Y3={name:"FeedComment",fields:[{name:"id",type:{kind:"bigint"}},{name:"uuid",type:{kind:"string"},nullable:!0},{name:"feedPostPublicUuid",type:{kind:"uuid"}},{name:"userId",type:{kind:"bigint"}},{name:"user",type:{kind:"object",name:"User"},filter:["id","=",h("userId")]},{name:"messageMeta",type:{kind:"objects",name:"CommentMessageMeta"},embedded:!0},{name:"createdAt",type:{kind:"datetime"}},{name:"reactions",type:{kind:"objects",name:"FeedReaction"},expectedMaxCount:1e3,orderBy:[["createdAt","ASC"]],filter:{and:[["feedResourceId","=",h("id")],["feedResourceType","=","FeedComment"]]}},{name:"attachments",type:{kind:"objects",name:"FeedCommentAttachment"},expectedMaxCount:10,orderBy:[["uploadedAt","ASC"]],filter:["feedCommentId","=",h("id")]}]};var Q3={name:"FeedCommentAttachment",fields:[{name:"id",type:{kind:"uuid"}},{name:"feedCommentId",type:{kind:"bigint"},nullable:!0},{name:"type",type:{kind:"string"},computed:!0,dependencies:{mediaType:n}},{name:"mediaType",type:{kind:"string"}},{name:"altText",type:{kind:"string"},nullable:!0},{name:"thumbnailSha1",type:{kind:"string"}},{name:"thumbnailUrl",type:{kind:"string"},computed:!0,dependencies:{id:n,feedCommentId:n,locality:n}},{name:"imageSha1",type:{kind:"string"}},{name:"imageUrl",type:{kind:"string"},computed:!0,dependencies:{id:n,feedCommentId:n,locality:n}},{name:"createdAt",type:{kind:"datetime"}},{name:"uploadedAt",type:{kind:"datetime"}},{name:"deletedAt",type:{kind:"datetime"},nullable:!0},{name:"metadata",type:{kind:"object",name:"CommentAttachmentMetadata"},embedded:!0},{name:"locality",type:{kind:"string"}}]};function oi(t,e){if(t===null)return null;for(let r of e||[])delete t[r];return t}function nr(t,e){let r={};return t===null&&e===null?{}:t===null?e:e===null?t:(new Set([...Object.keys(t),...Object.keys(e)]).forEach(s=>{let o=t[s],a=e[s];if(o===void 0){r[s]=a;return}if(a===void 0){r[s]=o;return}if(typeof o!=typeof a)throw new Error("Values are not of the same type [typeof]");if(typeof o!="object")throw new Error("Values are not of type object and hence not null, an array, or a plain object.");if(Array.isArray(o)!==Array.isArray(a))throw new Error("Values are not of the same type [Array.isArray]");if(o===null!=(a===null))throw new Error("Values are not of the same type [null]");if(o===n){r[s]=n;return}if(Array.isArray(o)&&Array.isArray(a)){let p=o,m=a;r[s]=J3(p,m);return}if((o==null?void 0:o.aliasedField)!==(a==null?void 0:a.aliasedField))throw new Error("Aliased Fields dont match");if(o!=null&&o.aliasedField&&(a!=null&&a.aliasedField)){let p=o,m=a;if(p&&m){if(Array.isArray(p.fields)&&Array.isArray(m.fields)){let y={aliasedField:p.aliasedField,fields:J3(p.fields,m.fields)};r[s]=y;return}let f={aliasedField:p.aliasedField,fields:nr(p.fields,m.fields)};r[s]=f;return}}let u=o,d=a;r[s]=nr(u,d)}),r)}function J3(t,e){if(t===null&&e===null)return null;if(t===null)return e;if(e===null)return t;let r=new Set(Object.keys(t[0])),i=new Set(Object.keys(e[0]));if(r.size!==i.size||![...r].every(s=>i.has(s)))throw new Error("View args do not match.");return[t[0],nr(t[1],e[1])]}var X3={"FILE::CAN_VIEW_PROTOTYPE":{deletedAt:null,editorType:null,fileRepoId:null,folderId:null,hasFileLinkPassword:null,hasProtoLinkPassword:null,id:null,key:null,linkAccess:null,parentOrgId:null,protoLinkAccess:null,sourceFileKey:null,teamId:null,trashedAt:null,_project_permsV2:{deletedAt:null,id:null,inviteOnlyAt:null,path:null,teamId:null,viewOnlyAt:null},currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{draftsFolderId:null,permission:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{email:null,emailDomain:null,id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],folderOwnerRole:{id:null},org:{bigmaEnabledAt:null,domainCapture:null,domainCaptureDomains:null,id:null,inExpExpiringPublicLinks:null,inExpWorkspaceLevelLinkControls:null},orgDraftsFolderOwnerBaseOrgUser:{accountType:null,whiteboardPaidStatus:null},orgSharedSetting:{id:null,publicLinkControlsSetting:null},repo:{linkAccess:null,protoLinkAccess:null},roleOnObjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectProjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectRepoForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectTeamForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],sourceFile:{hasFileLinkPassword:null,hasProtoLinkPassword:null,id:null},team:{defaultPermission:null,orgAccess:null,orgId:null},workshopMode:{expiresAt:null},workspaceSharedSetting:{id:null,publicLinkControlsSetting:null},sourceFileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null,prevPrivateProtoLinkAccess:null},fileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null,prevPrivateProtoLinkAccess:null}},"FILE::CAN_VIEW":{deletedAt:null,editorType:null,fileRepoId:null,folderId:null,hasFileLinkPassword:null,id:null,key:null,linkAccess:null,parentOrgId:null,sourceFileKey:null,teamId:null,_project_permsV2:{deletedAt:null,id:null,inviteOnlyAt:null,path:null,teamId:null,viewOnlyAt:null},currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{draftsFolderId:null,permission:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{email:null,emailDomain:null,id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],folderOwnerRole:{id:null},org:{bigmaEnabledAt:null,domainCapture:null,domainCaptureDomains:null,id:null,inExpExpiringPublicLinks:null,inExpWorkspaceLevelLinkControls:null},orgDraftsFolderOwnerBaseOrgUser:{accountType:null,whiteboardPaidStatus:null},orgSharedSetting:{id:null,publicLinkControlsSetting:null},repo:{linkAccess:null},roleOnObjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectProjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectRepoForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectTeamForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],sourceFile:{hasFileLinkPassword:null,id:null},team:{defaultPermission:null,orgAccess:null,orgId:null},workshopMode:{expiresAt:null},workspaceSharedSetting:{id:null,publicLinkControlsSetting:null},sourceFileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null},fileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null}},"FILE::CAN_EDIT":{deletedAt:null,editorType:null,fileRepoId:null,folderId:null,hasFileLinkPassword:null,id:null,key:null,linkAccess:null,parentOrgId:null,sourceFileKey:null,teamId:null,trashedAt:null,_project_permsV2:{deletedAt:null,id:null,inviteOnlyAt:null,path:null,teamId:null,viewOnlyAt:null},currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{accountType:null,draftsFolderId:null,id:null,permission:null,whiteboardPaidStatus:null}],currentTeamUser:[{userId:{type:"view",ref:"userId"}},{designPaidStatus:null,draftsFolderId:null,id:null,whiteboardPaidStatus:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{email:null,emailDomain:null,externalRestrictedOrgId:null,id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}],studentValidatedAt:null}],eduGracePeriod:[{userId:{type:"view",ref:"userId"}},{createdAt:null,id:null}],folderOwnerRole:{id:null},org:{bigmaEnabledAt:null,domainCapture:null,domainCaptureDomains:null,hasOrgEditLinksEditHeuristics:null,id:null,inExpExpiringPublicLinks:null,inExpWorkspaceLevelLinkControls:null},orgDraftsFolderOwnerBaseOrgUser:{accountType:null,whiteboardPaidStatus:null},orgSharedSetting:{id:null,publicLinkControlsSetting:null},repo:{linkAccess:null},roleOnObjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectProjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectRepoForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectTeamForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],sourceFile:{hasFileLinkPassword:null,id:null},team:{defaultPermission:null,hasLockedRestriction:null,hasProEditLinksEditHeuristics:null,id:null,orgAccess:null,orgId:null,studentTeamAt:null,subscription:null},workspaceSharedSetting:{id:null,publicLinkControlsSetting:null},sourceFileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null},fileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null}},"FILE::CAN_EDIT_CANVAS":{deletedAt:null,editorType:null,fileRepoId:null,folderId:null,hasFileLinkPassword:null,id:null,key:null,linkAccess:null,parentOrgId:null,sourceFileKey:null,teamId:null,trashedAt:null,_project_permsV2:{deletedAt:null,id:null,inviteOnlyAt:null,path:null,teamId:null,viewOnlyAt:null},currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{accountType:null,draftsFolderId:null,id:null,permission:null,whiteboardPaidStatus:null}],currentTeamUser:[{userId:{type:"view",ref:"userId"}},{designPaidStatus:null,draftsFolderId:null,id:null,whiteboardPaidStatus:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{email:null,emailDomain:null,externalRestrictedOrgId:null,id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}],studentValidatedAt:null}],eduGracePeriod:[{userId:{type:"view",ref:"userId"}},{createdAt:null,id:null}],folderOwnerRole:{id:null},org:{bigmaEnabledAt:null,domainCapture:null,domainCaptureDomains:null,figjamDisabledAt:null,hasOrgEditLinksEditHeuristics:null,id:null,inExpExpiringPublicLinks:null,inExpWorkspaceLevelLinkControls:null},orgDraftsFolderOwnerBaseOrgUser:{accountType:null,whiteboardPaidStatus:null},orgSharedSetting:{id:null,publicLinkControlsSetting:null},repo:{linkAccess:null},roleOnObjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectProjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectRepoForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectTeamForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],sourceFile:{hasFileLinkPassword:null,id:null},team:{defaultPermission:null,hasLockedRestriction:null,hasProEditLinksEditHeuristics:null,id:null,orgAccess:null,orgId:null,studentTeamAt:null,subscription:null},workshopMode:{expiresAt:null},workspaceSharedSetting:{id:null,publicLinkControlsSetting:null},sourceFileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null},fileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null}},"FILE::CAN_PUBLISH_TEMPLATE":{deletedAt:null,editorType:null,fileRepoId:null,folderId:null,hasFileLinkPassword:null,id:null,key:null,linkAccess:null,parentOrgId:null,sourceFileKey:null,teamId:null,trashedAt:null,_project_permsV2:{deletedAt:null,id:null,inviteOnlyAt:null,path:null,teamId:null,viewOnlyAt:null},currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{accountType:null,draftsFolderId:null,id:null,permission:null,whiteboardPaidStatus:null}],currentTeamUser:[{userId:{type:"view",ref:"userId"}},{designPaidStatus:null,draftsFolderId:null,id:null,whiteboardPaidStatus:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{email:null,emailDomain:null,externalRestrictedOrgId:null,id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}],studentValidatedAt:null}],eduGracePeriod:[{userId:{type:"view",ref:"userId"}},{createdAt:null,id:null}],folderOwnerRole:{id:null},org:{bigmaEnabledAt:null,customTemplatesAllowed:null,domainCapture:null,domainCaptureDomains:null,hasOrgEditLinksEditHeuristics:null,id:null,inExpExpiringPublicLinks:null,inExpWorkspaceLevelLinkControls:null},orgDraftsFolderOwnerBaseOrgUser:{accountType:null,whiteboardPaidStatus:null},orgSharedSetting:{id:null,publicLinkControlsSetting:null},repo:{linkAccess:null},roleOnObjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectProjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectRepoForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectTeamForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],sourceFile:{hasFileLinkPassword:null,id:null},team:{defaultPermission:null,hasLockedRestriction:null,hasProEditLinksEditHeuristics:null,id:null,orgAccess:null,orgId:null,studentTeamAt:null,subscription:null},workspaceSharedSetting:{id:null,publicLinkControlsSetting:null},sourceFileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null},fileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null}},"FILE::CAN_INSERT_TEMPLATE":{editorType:null,currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{id:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}]},"FILE::CAN_ADMIN":{currentUser:[{userId:{type:"view",ref:"userId"}},{id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}]},"FILE::IS_OWNER":{deletedAt:null,editorType:null,folderId:null,parentOrgId:null,teamId:null,_project_permsV2:{deletedAt:null,id:null,inviteOnlyAt:null,path:null,teamId:null,viewOnlyAt:null},currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{accountType:null,draftsFolderId:null,id:null,whiteboardPaidStatus:null}],currentTeamUser:[{userId:{type:"view",ref:"userId"}},{designPaidStatus:null,draftsFolderId:null,id:null,whiteboardPaidStatus:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],org:{hasOrgEditLinksEditHeuristics:null,id:null},orgDraftsFolderOwnerBaseOrgUser:{accountType:null,whiteboardPaidStatus:null},roleOnObjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectProjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectRepoForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectTeamForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],team:{hasProEditLinksEditHeuristics:null,id:null,orgId:null,subscription:null}},"FILE::CAN_BECOME_EDITOR":{deletedAt:null,editorType:null,fileRepoId:null,folderId:null,hasFileLinkPassword:null,id:null,key:null,linkAccess:null,parentOrgId:null,sourceFileKey:null,teamId:null,trashedAt:null,_project_permsV2:{deletedAt:null,id:null,inviteOnlyAt:null,path:null,teamId:null,viewOnlyAt:null},currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{accountType:null,draftsFolderId:null,id:null,permission:null,whiteboardPaidStatus:null}],currentTeamUser:[{userId:{type:"view",ref:"userId"}},{designPaidStatus:null,draftsFolderId:null,id:null,whiteboardPaidStatus:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{email:null,emailDomain:null,externalRestrictedOrgId:null,id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}],studentValidatedAt:null}],eduGracePeriod:[{userId:{type:"view",ref:"userId"}},{createdAt:null,id:null}],folderOwnerRole:{id:null},org:{bigmaEnabledAt:null,domainCapture:null,domainCaptureDomains:null,id:null,inExpExpiringPublicLinks:null,inExpWorkspaceLevelLinkControls:null},orgDraftsFolderOwnerBaseOrgUser:{accountType:null,whiteboardPaidStatus:null},orgSharedSetting:{id:null,publicLinkControlsSetting:null},repo:{linkAccess:null},roleOnObjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectProjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectRepoForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectTeamForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],sourceFile:{hasFileLinkPassword:null,id:null},team:{defaultPermission:null,hasLockedRestriction:null,id:null,orgAccess:null,orgId:null,studentTeamAt:null,subscription:null},workshopMode:{expiresAt:null},workspaceSharedSetting:{id:null,publicLinkControlsSetting:null},sourceFileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null},fileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null}},"FILE::CAN_MANAGE":{deletedAt:null,editorType:null,fileRepoId:null,folderId:null,hasFileLinkPassword:null,id:null,key:null,linkAccess:null,parentOrgId:null,sourceFileKey:null,teamId:null,_project_permsV2:{deletedAt:null,id:null,inviteOnlyAt:null,path:null,teamId:null,viewOnlyAt:null},currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{accountType:null,draftsFolderId:null,id:null,permission:null,whiteboardPaidStatus:null}],currentTeamUser:[{userId:{type:"view",ref:"userId"}},{designPaidStatus:null,draftsFolderId:null,id:null,whiteboardPaidStatus:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{email:null,emailDomain:null,externalRestrictedOrgId:null,id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}],studentValidatedAt:null}],eduGracePeriod:[{userId:{type:"view",ref:"userId"}},{createdAt:null,id:null}],folderOwnerRole:{id:null},org:{bigmaEnabledAt:null,domainCapture:null,domainCaptureDomains:null,hasOrgEditLinksEditHeuristics:null,id:null,inExpExpiringPublicLinks:null,inExpWorkspaceLevelLinkControls:null},orgDraftsFolderOwnerBaseOrgUser:{accountType:null,whiteboardPaidStatus:null},orgSharedSetting:{id:null,publicLinkControlsSetting:null},repo:{linkAccess:null},roleOnObjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectProjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectRepoForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectTeamForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],sourceFile:{hasFileLinkPassword:null,id:null},team:{defaultPermission:null,hasLockedRestriction:null,hasProEditLinksEditHeuristics:null,id:null,orgAccess:null,orgId:null,studentTeamAt:null,subscription:null},workspaceSharedSetting:{id:null,publicLinkControlsSetting:null},sourceFileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null},fileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null}},"FILE::HAS_ROLE_ACCESS":{deletedAt:null,editorType:null,fileRepoId:null,folderId:null,hasFileLinkPassword:null,id:null,key:null,linkAccess:null,parentOrgId:null,sourceFileKey:null,teamId:null,trashedAt:null,_project_permsV2:{deletedAt:null,id:null,inviteOnlyAt:null,path:null,teamId:null,viewOnlyAt:null},currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{draftsFolderId:null,permission:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{email:null,emailDomain:null,id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],folderOwnerRole:{id:null},org:{bigmaEnabledAt:null,domainCapture:null,domainCaptureDomains:null,id:null,inExpExpiringPublicLinks:null,inExpWorkspaceLevelLinkControls:null},orgDraftsFolderOwnerBaseOrgUser:{accountType:null,whiteboardPaidStatus:null},orgSharedSetting:{id:null,publicLinkControlsSetting:null},repo:{linkAccess:null},roleOnObjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectProjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectRepoForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectTeamForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],sourceFile:{hasFileLinkPassword:null,id:null},team:{defaultPermission:null,orgAccess:null,orgId:null},workspaceSharedSetting:{id:null,publicLinkControlsSetting:null},sourceFileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null},fileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null}},"FILE::CAN_BE_MENTIONED_IN_COMMENT":{deletedAt:null,editorType:null,fileRepoId:null,folderId:null,hasFileLinkPassword:null,id:null,key:null,linkAccess:null,parentOrgId:null,sourceFileKey:null,teamId:null,trashedAt:null,_project_permsV2:{deletedAt:null,id:null,inviteOnlyAt:null,path:null,teamId:null,viewOnlyAt:null},currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{draftsFolderId:null,permission:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{email:null,emailDomain:null,id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],folderOwnerRole:{id:null},org:{bigmaEnabledAt:null,domainCapture:null,domainCaptureDomains:null,id:null,inExpExpiringPublicLinks:null,inExpWorkspaceLevelLinkControls:null},orgDraftsFolderOwnerBaseOrgUser:{accountType:null,whiteboardPaidStatus:null},orgSharedSetting:{id:null,publicLinkControlsSetting:null},repo:{linkAccess:null},roleOnObjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectProjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectRepoForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectTeamForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],sourceFile:{hasFileLinkPassword:null,id:null},team:{defaultPermission:null,orgAccess:null,orgId:null},workspaceSharedSetting:{id:null,publicLinkControlsSetting:null},sourceFileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null},fileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null}},"FILE::CAN_DOWNLOAD_FILE":{deletedAt:null,editorType:null,fileRepoId:null,folderId:null,hasFileLinkPassword:null,id:null,key:null,linkAccess:null,parentOrgId:null,sourceFileKey:null,teamId:null,_project_permsV2:{deletedAt:null,id:null,inviteOnlyAt:null,path:null,teamId:null,viewOnlyAt:null},currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{draftsFolderId:null,permission:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{email:null,emailDomain:null,id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],folderOwnerRole:{id:null},org:{bigmaEnabledAt:null,domainCapture:null,domainCaptureDomains:null,id:null,inExpExpiringPublicLinks:null,inExpWorkspaceLevelLinkControls:null},orgDraftsFolderOwnerBaseOrgUser:{accountType:null,whiteboardPaidStatus:null},orgSharedSetting:{id:null,publicLinkControlsSetting:null},repo:{linkAccess:null},roleOnObjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectProjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectRepoForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectTeamForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],sourceFile:{hasFileLinkPassword:null,id:null},team:{defaultPermission:null,orgAccess:null,orgId:null},workspaceSharedSetting:{id:null,publicLinkControlsSetting:null},sourceFileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null},fileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null}},"FILE::CAN_ACCESS_FILE_THROUGH_API":{deletedAt:null,editorType:null,fileRepoId:null,folderId:null,hasFileLinkPassword:null,id:null,key:null,linkAccess:null,parentOrgId:null,sourceFileKey:null,teamId:null,_project_permsV2:{deletedAt:null,id:null,inviteOnlyAt:null,path:null,teamId:null,viewOnlyAt:null},currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{draftsFolderId:null,permission:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{email:null,emailDomain:null,id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],folderOwnerRole:{id:null},org:{bigmaEnabledAt:null,domainCapture:null,domainCaptureDomains:null,id:null,inExpExpiringPublicLinks:null,inExpWorkspaceLevelLinkControls:null},orgDraftsFolderOwnerBaseOrgUser:{accountType:null,whiteboardPaidStatus:null},orgSharedSetting:{id:null,publicLinkControlsSetting:null},repo:{linkAccess:null},roleOnObjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectProjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectRepoForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectTeamForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],sourceFile:{hasFileLinkPassword:null,id:null},team:{defaultPermission:null,orgAccess:null,orgId:null},workspaceSharedSetting:{id:null,publicLinkControlsSetting:null},sourceFileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null},fileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null}},"FILE::CAN_MODIFY_ROLES":{deletedAt:null,editorType:null,fileRepoId:null,folderId:null,hasFileLinkPassword:null,id:null,key:null,linkAccess:null,parentOrgId:null,sourceFileKey:null,teamId:null,trashedAt:null,_project_permsV2:{deletedAt:null,id:null,inviteOnlyAt:null,path:null,teamId:null,viewOnlyAt:null},currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{accountType:null,draftsFolderId:null,id:null,permission:null,whiteboardPaidStatus:null}],currentTeamUser:[{userId:{type:"view",ref:"userId"}},{designPaidStatus:null,draftsFolderId:null,id:null,whiteboardPaidStatus:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{email:null,emailDomain:null,externalRestrictedOrgId:null,id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}],studentValidatedAt:null}],eduGracePeriod:[{userId:{type:"view",ref:"userId"}},{createdAt:null,id:null}],folderOwnerRole:{id:null},org:{bigmaEnabledAt:null,domainCapture:null,domainCaptureDomains:null,hasOrgEditLinksEditHeuristics:null,id:null,inExpExpiringPublicLinks:null,inExpWorkspaceLevelLinkControls:null},orgDraftsFolderOwnerBaseOrgUser:{accountType:null,whiteboardPaidStatus:null},orgSharedSetting:{id:null,publicLinkControlsSetting:null},repo:{linkAccess:null},roleOnObjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectProjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectRepoForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectTeamForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],sourceFile:{hasFileLinkPassword:null,id:null},team:{defaultPermission:null,hasLockedRestriction:null,hasProEditLinksEditHeuristics:null,id:null,orgAccess:null,orgId:null,studentTeamAt:null,subscription:null},workspaceSharedSetting:{id:null,publicLinkControlsSetting:null},sourceFileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null},fileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null}},"FILE::CAN_VIEW_METADATA":{deletedAt:null,editorType:null,fileRepoId:null,hasFileLinkPassword:null,id:null,key:null,linkAccess:null,parentOrgId:null,sourceFileKey:null,_project_permsV2:{deletedAt:null,id:null,inviteOnlyAt:null,path:null,teamId:null,viewOnlyAt:null},currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{permission:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{email:null,emailDomain:null,id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],folderOwnerRole:{id:null},org:{bigmaEnabledAt:null,domainCapture:null,domainCaptureDomains:null,id:null,inExpExpiringPublicLinks:null,inExpWorkspaceLevelLinkControls:null},orgSharedSetting:{id:null,publicLinkControlsSetting:null},repo:{linkAccess:null},roleOnObjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectProjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectRepoForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectTeamForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],sourceFile:{hasFileLinkPassword:null,id:null},team:{defaultPermission:null,orgAccess:null,orgId:null},workshopMode:{expiresAt:null},workspaceSharedSetting:{id:null,publicLinkControlsSetting:null},sourceFileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null},fileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null}},"FILE::CAN_GAIN_VIEW":{editorType:null,fileRepoId:null,linkAccess:null,parentOrgId:null,currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{permission:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{email:null,emailDomain:null,id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],org:{bigmaEnabledAt:null,domainCapture:null,domainCaptureDomains:null,id:null,inExpExpiringPublicLinks:null},repo:{linkAccess:null},sourceFileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null},fileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null}},"FILE::CAN_GAIN_VIEW_PROTOTYPE":{id:null,parentOrgId:null,protoLinkAccess:null,trashedAt:null,currentUser:[{userId:{type:"view",ref:"userId"}},{email:null,emailDomain:null,id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],org:{domainCapture:null,domainCaptureDomains:null,id:null}},"FILE::CAN_DISCOVER":{deletedAt:null,editorType:null,fileRepoId:null,folderId:null,hasFileLinkPassword:null,id:null,key:null,linkAccess:null,orgBrowsable:null,parentOrgId:null,sourceFileKey:null,teamId:null,trashedAt:null,_project_permsV2:{deletedAt:null,id:null,inviteOnlyAt:null,path:null,teamId:null,viewOnlyAt:null},currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{draftsFolderId:null,permission:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{email:null,emailDomain:null,id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],folderOwnerRole:{id:null},org:{bigmaEnabledAt:null,domainCapture:null,domainCaptureDomains:null,id:null,inExpExpiringPublicLinks:null,inExpWorkspaceLevelLinkControls:null},orgDraftsFolderOwnerBaseOrgUser:{accountType:null,whiteboardPaidStatus:null},orgSharedSetting:{id:null,publicLinkControlsSetting:null},repo:{linkAccess:null,orgBrowsable:null},roleOnObjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectProjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectRepoForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectTeamForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],sourceFile:{hasFileLinkPassword:null,id:null},team:{defaultPermission:null,orgAccess:null,orgId:null},workspaceSharedSetting:{id:null,publicLinkControlsSetting:null},sourceFileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevOrgBrowsable:null,prevPrivateLinkAccess:null},fileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevOrgBrowsable:null,prevPrivateLinkAccess:null}},"FILE::CAN_RENAME":{deletedAt:null,editorType:null,fileRepoId:null,folderId:null,hasFileLinkPassword:null,id:null,key:null,linkAccess:null,parentOrgId:null,sourceFileKey:null,teamId:null,trashedAt:null,_project_permsV2:{deletedAt:null,id:null,inviteOnlyAt:null,path:null,teamId:null,viewOnlyAt:null},currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{accountType:null,draftsFolderId:null,id:null,permission:null,whiteboardPaidStatus:null}],currentTeamUser:[{userId:{type:"view",ref:"userId"}},{designPaidStatus:null,draftsFolderId:null,id:null,whiteboardPaidStatus:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{email:null,emailDomain:null,externalRestrictedOrgId:null,id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}],studentValidatedAt:null}],eduGracePeriod:[{userId:{type:"view",ref:"userId"}},{createdAt:null,id:null}],folderOwnerRole:{id:null},org:{bigmaEnabledAt:null,domainCapture:null,domainCaptureDomains:null,hasOrgEditLinksEditHeuristics:null,id:null,inExpExpiringPublicLinks:null,inExpWorkspaceLevelLinkControls:null},orgDraftsFolderOwnerBaseOrgUser:{accountType:null,whiteboardPaidStatus:null},orgSharedSetting:{id:null,publicLinkControlsSetting:null},repo:{linkAccess:null},roleOnObjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectProjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectRepoForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectTeamForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],sourceFile:{hasFileLinkPassword:null,id:null},team:{defaultPermission:null,hasLockedRestriction:null,hasProEditLinksEditHeuristics:null,id:null,orgAccess:null,orgId:null,studentTeamAt:null,subscription:null},workspaceSharedSetting:{id:null,publicLinkControlsSetting:null},sourceFileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null},fileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null}},"FILE::CAN_DELETE":{deletedAt:null,editorType:null,fileRepoId:null,folderId:null,hasFileLinkPassword:null,id:null,key:null,linkAccess:null,parentOrgId:null,sourceFileKey:null,teamId:null,trashedAt:null,_project_permsV2:{deletedAt:null,id:null,inviteOnlyAt:null,path:null,teamId:null,viewOnlyAt:null},currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{accountType:null,draftsFolderId:null,id:null,permission:null,whiteboardPaidStatus:null}],currentTeamUser:[{userId:{type:"view",ref:"userId"}},{designPaidStatus:null,draftsFolderId:null,id:null,whiteboardPaidStatus:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{email:null,emailDomain:null,externalRestrictedOrgId:null,id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}],studentValidatedAt:null}],eduGracePeriod:[{userId:{type:"view",ref:"userId"}},{createdAt:null,id:null}],folderOwnerRole:{id:null},org:{bigmaEnabledAt:null,domainCapture:null,domainCaptureDomains:null,hasOrgEditLinksEditHeuristics:null,id:null,inExpExpiringPublicLinks:null,inExpWorkspaceLevelLinkControls:null},orgDraftsFolderOwnerBaseOrgUser:{accountType:null,whiteboardPaidStatus:null},orgSharedSetting:{id:null,publicLinkControlsSetting:null},repo:{linkAccess:null},roleOnObjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectProjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectRepoForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectTeamForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],sourceFile:{hasFileLinkPassword:null,id:null},team:{defaultPermission:null,hasLockedRestriction:null,hasProEditLinksEditHeuristics:null,id:null,orgAccess:null,orgId:null,studentTeamAt:null,subscription:null},workspaceSharedSetting:{id:null,publicLinkControlsSetting:null},sourceFileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null},fileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null}},"FILE::CAN_FAVORITE":{deletedAt:null,editorType:null,fileRepoId:null,folderId:null,hasFileLinkPassword:null,hasProtoLinkPassword:null,id:null,key:null,linkAccess:null,parentOrgId:null,protoLinkAccess:null,sourceFileKey:null,teamId:null,trashedAt:null,_project_permsV2:{deletedAt:null,id:null,inviteOnlyAt:null,path:null,teamId:null,viewOnlyAt:null},currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{draftsFolderId:null,permission:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{email:null,emailDomain:null,id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],folderOwnerRole:{id:null},org:{bigmaEnabledAt:null,domainCapture:null,domainCaptureDomains:null,id:null,inExpExpiringPublicLinks:null,inExpWorkspaceLevelLinkControls:null},orgDraftsFolderOwnerBaseOrgUser:{accountType:null,whiteboardPaidStatus:null},orgSharedSetting:{id:null,publicLinkControlsSetting:null},repo:{linkAccess:null,protoLinkAccess:null},roleOnObjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectProjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectRepoForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectTeamForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],sourceFile:{hasFileLinkPassword:null,hasProtoLinkPassword:null,id:null},team:{defaultPermission:null,orgAccess:null,orgId:null},workshopMode:{expiresAt:null},workspaceSharedSetting:{id:null,publicLinkControlsSetting:null},sourceFileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null,prevPrivateProtoLinkAccess:null},fileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null,prevPrivateProtoLinkAccess:null}},"FILE::CAN_VIEW_AND_CREATE_COMMENTS":{deletedAt:null,editorType:null,fileRepoId:null,folderId:null,hasFileLinkPassword:null,hasProtoLinkPassword:null,id:null,key:null,linkAccess:null,parentOrgId:null,protoLinkAccess:null,sourceFileKey:null,teamId:null,trashedAt:null,_project_permsV2:{deletedAt:null,id:null,inviteOnlyAt:null,path:null,teamId:null,viewOnlyAt:null},currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{draftsFolderId:null,permission:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{email:null,emailDomain:null,id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],folderOwnerRole:{id:null},org:{bigmaEnabledAt:null,domainCapture:null,domainCaptureDomains:null,id:null,inExpExpiringPublicLinks:null,inExpWorkspaceLevelLinkControls:null},orgDraftsFolderOwnerBaseOrgUser:{accountType:null,whiteboardPaidStatus:null},orgSharedSetting:{id:null,publicLinkControlsSetting:null},repo:{linkAccess:null,protoLinkAccess:null},roleOnObjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectProjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectRepoForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectTeamForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],sourceFile:{hasFileLinkPassword:null,hasProtoLinkPassword:null,id:null},team:{defaultPermission:null,orgAccess:null,orgId:null},workshopMode:{expiresAt:null},workspaceSharedSetting:{id:null,publicLinkControlsSetting:null},sourceFileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null,prevPrivateProtoLinkAccess:null},fileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null,prevPrivateProtoLinkAccess:null}},"FILE::CAN_MOVE_COMMENTS":{deletedAt:null,editorType:null,fileRepoId:null,folderId:null,hasFileLinkPassword:null,id:null,key:null,linkAccess:null,parentOrgId:null,sourceFileKey:null,teamId:null,trashedAt:null,_project_permsV2:{deletedAt:null,id:null,inviteOnlyAt:null,path:null,teamId:null,viewOnlyAt:null},currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{accountType:null,draftsFolderId:null,id:null,permission:null,whiteboardPaidStatus:null}],currentTeamUser:[{userId:{type:"view",ref:"userId"}},{designPaidStatus:null,draftsFolderId:null,id:null,whiteboardPaidStatus:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{email:null,emailDomain:null,externalRestrictedOrgId:null,id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}],studentValidatedAt:null}],eduGracePeriod:[{userId:{type:"view",ref:"userId"}},{createdAt:null,id:null}],folderOwnerRole:{id:null},org:{bigmaEnabledAt:null,domainCapture:null,domainCaptureDomains:null,hasOrgEditLinksEditHeuristics:null,id:null,inExpExpiringPublicLinks:null,inExpWorkspaceLevelLinkControls:null},orgDraftsFolderOwnerBaseOrgUser:{accountType:null,whiteboardPaidStatus:null},orgSharedSetting:{id:null,publicLinkControlsSetting:null},repo:{linkAccess:null},roleOnObjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectProjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectRepoForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectTeamForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],sourceFile:{hasFileLinkPassword:null,id:null},team:{defaultPermission:null,hasLockedRestriction:null,hasProEditLinksEditHeuristics:null,id:null,orgAccess:null,orgId:null,studentTeamAt:null,subscription:null},workshopMode:{expiresAt:null},workspaceSharedSetting:{id:null,publicLinkControlsSetting:null},sourceFileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null},fileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null}},"FILE::CAN_EDIT_IGNORE_PAID_STATUS":{deletedAt:null,editorType:null,fileRepoId:null,folderId:null,hasFileLinkPassword:null,id:null,key:null,linkAccess:null,parentOrgId:null,sourceFileKey:null,teamId:null,trashedAt:null,_project_permsV2:{deletedAt:null,id:null,inviteOnlyAt:null,path:null,teamId:null,viewOnlyAt:null},currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{draftsFolderId:null,permission:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{email:null,emailDomain:null,externalRestrictedOrgId:null,id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}],studentValidatedAt:null}],eduGracePeriod:[{userId:{type:"view",ref:"userId"}},{createdAt:null,id:null}],folderOwnerRole:{id:null},org:{bigmaEnabledAt:null,domainCapture:null,domainCaptureDomains:null,id:null,inExpExpiringPublicLinks:null,inExpWorkspaceLevelLinkControls:null},orgDraftsFolderOwnerBaseOrgUser:{accountType:null,whiteboardPaidStatus:null},orgSharedSetting:{id:null,publicLinkControlsSetting:null},repo:{linkAccess:null},roleOnObjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectProjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectRepoForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectTeamForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],sourceFile:{hasFileLinkPassword:null,id:null},team:{defaultPermission:null,hasLockedRestriction:null,orgAccess:null,orgId:null,studentTeamAt:null},workspaceSharedSetting:{id:null,publicLinkControlsSetting:null},sourceFileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null},fileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null}},"FILE::CAN_EDIT_IGNORE_EDU_GRACE_PERIOD":{deletedAt:null,editorType:null,fileRepoId:null,folderId:null,hasFileLinkPassword:null,id:null,key:null,linkAccess:null,parentOrgId:null,sourceFileKey:null,teamId:null,trashedAt:null,_project_permsV2:{deletedAt:null,id:null,inviteOnlyAt:null,path:null,teamId:null,viewOnlyAt:null},currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{accountType:null,draftsFolderId:null,id:null,permission:null,whiteboardPaidStatus:null}],currentTeamUser:[{userId:{type:"view",ref:"userId"}},{designPaidStatus:null,draftsFolderId:null,id:null,whiteboardPaidStatus:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{email:null,emailDomain:null,externalRestrictedOrgId:null,id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],folderOwnerRole:{id:null},org:{bigmaEnabledAt:null,domainCapture:null,domainCaptureDomains:null,hasOrgEditLinksEditHeuristics:null,id:null,inExpExpiringPublicLinks:null,inExpWorkspaceLevelLinkControls:null},orgDraftsFolderOwnerBaseOrgUser:{accountType:null,whiteboardPaidStatus:null},orgSharedSetting:{id:null,publicLinkControlsSetting:null},repo:{linkAccess:null},roleOnObjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectProjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectRepoForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectTeamForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],sourceFile:{hasFileLinkPassword:null,id:null},team:{defaultPermission:null,hasLockedRestriction:null,hasProEditLinksEditHeuristics:null,id:null,orgAccess:null,orgId:null,subscription:null},workspaceSharedSetting:{id:null,publicLinkControlsSetting:null},sourceFileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null},fileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null}},"FILE::CAN_VIEW_LINK_ACCESS":{fileRepoId:null,hasFileLinkPassword:null,id:null,key:null,linkAccess:null,parentOrgId:null,sourceFileKey:null,currentUser:[{userId:{type:"view",ref:"userId"}},{id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],org:{bigmaEnabledAt:null,inExpExpiringPublicLinks:null,inExpWorkspaceLevelLinkControls:null},orgSharedSetting:{id:null,publicLinkControlsSetting:null},repo:{linkAccess:null},sourceFile:{hasFileLinkPassword:null,id:null},workspaceSharedSetting:{id:null,publicLinkControlsSetting:null},sourceFileLinkExpirationConfig:{accessReverted:null,expiresAt:null},fileLinkExpirationConfig:{accessReverted:null,expiresAt:null}},"FILE::CAN_ORG_VIEW_LINK_ACCESS":{editorType:null,fileRepoId:null,linkAccess:null,parentOrgId:null,currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{permission:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{email:null,emailDomain:null,id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],org:{bigmaEnabledAt:null,domainCapture:null,domainCaptureDomains:null,id:null,inExpExpiringPublicLinks:null},repo:{linkAccess:null},sourceFileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null},fileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null}},"FILE::CAN_EDIT_LINK_ACCESS":{fileRepoId:null,hasFileLinkPassword:null,id:null,key:null,linkAccess:null,parentOrgId:null,sourceFileKey:null,currentUser:[{userId:{type:"view",ref:"userId"}},{id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],org:{bigmaEnabledAt:null,inExpExpiringPublicLinks:null,inExpWorkspaceLevelLinkControls:null},orgSharedSetting:{id:null,publicLinkControlsSetting:null},repo:{linkAccess:null},sourceFile:{hasFileLinkPassword:null,id:null},workspaceSharedSetting:{id:null,publicLinkControlsSetting:null},sourceFileLinkExpirationConfig:{accessReverted:null,expiresAt:null},fileLinkExpirationConfig:{accessReverted:null,expiresAt:null}},"FILE::CAN_ORG_EDIT_LINK_ACCESS":{fileRepoId:null,id:null,linkAccess:null,parentOrgId:null,currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{permission:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],org:{bigmaEnabledAt:null,inExpExpiringPublicLinks:null},repo:{linkAccess:null},sourceFileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null},fileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null}},"FILE::CAN_VIEW_METADATA_LINK_ACCESS":{fileRepoId:null,id:null,linkAccess:null,parentOrgId:null,currentUser:[{userId:{type:"view",ref:"userId"}},{id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],org:{bigmaEnabledAt:null,inExpExpiringPublicLinks:null,inExpWorkspaceLevelLinkControls:null},orgSharedSetting:{id:null,publicLinkControlsSetting:null},repo:{linkAccess:null},workspaceSharedSetting:{id:null,publicLinkControlsSetting:null},sourceFileLinkExpirationConfig:{accessReverted:null,expiresAt:null},fileLinkExpirationConfig:{accessReverted:null,expiresAt:null}},"FILE::CAN_ORG_VIEW_METADATA_LINK_ACCESS":{editorType:null,fileRepoId:null,linkAccess:null,parentOrgId:null,currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{permission:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{email:null,emailDomain:null,id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],org:{bigmaEnabledAt:null,domainCapture:null,domainCaptureDomains:null,id:null,inExpExpiringPublicLinks:null},repo:{linkAccess:null},sourceFileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null},fileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null}},"FILE::CAN_VIEW_PROTOTYPE_LINK_ACCESS":{fileRepoId:null,hasProtoLinkPassword:null,id:null,key:null,parentOrgId:null,protoLinkAccess:null,sourceFileKey:null,trashedAt:null,currentUser:[{userId:{type:"view",ref:"userId"}},{id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],org:{bigmaEnabledAt:null,inExpExpiringPublicLinks:null,inExpWorkspaceLevelLinkControls:null},orgSharedSetting:{id:null,publicLinkControlsSetting:null},repo:{protoLinkAccess:null},sourceFile:{hasProtoLinkPassword:null,id:null},workspaceSharedSetting:{id:null,publicLinkControlsSetting:null},sourceFileLinkExpirationConfig:{accessReverted:null,expiresAt:null},fileLinkExpirationConfig:{accessReverted:null,expiresAt:null}},"FILE::CAN_ORG_VIEW_PROTOTYPE_LINK_ACCESS":{editorType:null,fileRepoId:null,id:null,parentOrgId:null,protoLinkAccess:null,trashedAt:null,currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{permission:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{email:null,emailDomain:null,id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],org:{bigmaEnabledAt:null,domainCapture:null,domainCaptureDomains:null,id:null,inExpExpiringPublicLinks:null},repo:{protoLinkAccess:null},sourceFileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateProtoLinkAccess:null},fileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateProtoLinkAccess:null}},"FILE::CAN_ACCESS_BASIC_DEV_MODE":{deletedAt:null,editorType:null,fileRepoId:null,folderId:null,hasFileLinkPassword:null,id:null,key:null,linkAccess:null,parentOrgId:null,sourceFileKey:null,teamId:null,_project_permsV2:{deletedAt:null,id:null,inviteOnlyAt:null,path:null,teamId:null,viewOnlyAt:null},currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{draftsFolderId:null,permission:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{email:null,emailDomain:null,id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],folderOwnerRole:{id:null},org:{bigmaEnabledAt:null,domainCapture:null,domainCaptureDomains:null,id:null,inExpExpiringPublicLinks:null,inExpWorkspaceLevelLinkControls:null},orgDraftsFolderOwnerBaseOrgUser:{accountType:null,whiteboardPaidStatus:null},orgSharedSetting:{id:null,publicLinkControlsSetting:null},repo:{linkAccess:null},roleOnObjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectProjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectRepoForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectTeamForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],sourceFile:{hasFileLinkPassword:null,id:null},team:{defaultPermission:null,orgAccess:null,orgId:null},workshopMode:{expiresAt:null},workspaceSharedSetting:{id:null,publicLinkControlsSetting:null},sourceFileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null},fileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null}},"FILE::CAN_ACCESS_FULL_DEV_MODE":{deletedAt:null,editorType:null,fileRepoId:null,folderId:null,hasFileLinkPassword:null,id:null,key:null,linkAccess:null,parentOrgId:null,sourceFileKey:null,teamId:null,_project_permsV2:{deletedAt:null,id:null,inviteOnlyAt:null,path:null,teamId:null,viewOnlyAt:null},currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{accountType:null,devModePaidStatus:null,draftsFolderId:null,id:null,permission:null,whiteboardPaidStatus:null}],currentTeamUser:[{userId:{type:"view",ref:"userId"}},{designPaidStatus:null,id:null,whiteboardPaidStatus:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{email:null,emailDomain:null,id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],folderOwnerRole:{id:null},org:{bigmaEnabledAt:null,domainCapture:null,domainCaptureDomains:null,id:null,inExpExpiringPublicLinks:null,inExpWorkspaceLevelLinkControls:null},orgDraftsFolderOwnerBaseOrgUser:{accountType:null,whiteboardPaidStatus:null},orgSharedSetting:{id:null,publicLinkControlsSetting:null},repo:{linkAccess:null},roleOnObjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectProjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectRepoForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectTeamForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],sourceFile:{hasFileLinkPassword:null,id:null},team:{defaultPermission:null,id:null,orgAccess:null,orgId:null,subscription:null},workshopMode:{expiresAt:null},workspaceSharedSetting:{id:null,publicLinkControlsSetting:null},sourceFileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null},fileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null}}},Z3={"REPO::CAN_VIEW_PROTOTYPE":{deletedAt:null,id:null,linkAccess:null,parentOrgId:null,protoLinkAccess:null,teamId:null,_project_permsV2:{deletedAt:null,id:null,inviteOnlyAt:null,path:null,teamId:null,viewOnlyAt:null},currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{permission:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],mainFileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null,prevPrivateProtoLinkAccess:null},org:{bigmaEnabledAt:null,inExpExpiringPublicLinks:null,inExpWorkspaceLevelLinkControls:null},orgSharedSetting:{id:null,publicLinkControlsSetting:null},roleOnObjectProjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectRepoForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectTeamForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],sourceFile:{hasFileLinkPassword:null,hasProtoLinkPassword:null,id:null,key:null},team:{orgAccess:null,orgId:null},workspaceSharedSetting:{id:null,publicLinkControlsSetting:null}},"REPO::CAN_VIEW":{deletedAt:null,id:null,linkAccess:null,parentOrgId:null,teamId:null,_project_permsV2:{deletedAt:null,id:null,inviteOnlyAt:null,path:null,teamId:null,viewOnlyAt:null},currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{id:null,permission:null,userId:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],mainFileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null},org:{bigmaEnabledAt:null,inExpExpiringPublicLinks:null,inExpWorkspaceLevelLinkControls:null},orgDraftsFolderOwnerBaseOrgUser:{accountType:null,id:null,userId:null},orgSharedSetting:{id:null,publicLinkControlsSetting:null},roleOnObjectProjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectRepoForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectTeamForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],sourceFile:{hasFileLinkPassword:null,id:null,key:null},team:{orgAccess:null,orgId:null},workspaceSharedSetting:{id:null,publicLinkControlsSetting:null}},"REPO::CAN_EDIT":{deletedAt:null,folderId:null,id:null,linkAccess:null,parentOrgId:null,teamId:null,_project_permsV2:{deletedAt:null,id:null,inviteOnlyAt:null,path:null,teamId:null,viewOnlyAt:null},currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{accountType:null,draftsFolderId:null,id:null,permission:null,userId:null}],currentTeamUser:[{userId:{type:"view",ref:"userId"}},{designPaidStatus:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{externalRestrictedOrgId:null,id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],mainFileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null},org:{bigmaEnabledAt:null,inExpExpiringPublicLinks:null,inExpWorkspaceLevelLinkControls:null},orgDraftsFolderOwnerBaseOrgUser:{accountType:null,id:null,userId:null},orgSharedSetting:{id:null,publicLinkControlsSetting:null},roleOnObjectProjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectRepoForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectTeamForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],sourceFile:{hasFileLinkPassword:null,id:null,key:null},workspaceSharedSetting:{id:null,publicLinkControlsSetting:null}},"REPO::CAN_ADMIN":{teamId:null,_project_permsV2:{id:null,inviteOnlyAt:null,path:null,teamId:null,viewOnlyAt:null},currentUser:[{userId:{type:"view",ref:"userId"}},{id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],roleOnObjectRepoForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectTeamForUser:[{userId:{type:"view",ref:"userId"}},{level:null}]},"REPO::IS_OWNER":{teamId:null,_project_permsV2:{path:null,teamId:null},currentUser:[{userId:{type:"view",ref:"userId"}},{id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],roleOnObjectRepoForUser:[{userId:{type:"view",ref:"userId"}},{level:null}]},"REPO::CAN_MANAGE":{teamId:null,_project_permsV2:{deletedAt:null,id:null,inviteOnlyAt:null,orgId:null,path:null,sharingAudienceControl:null,teamId:null,viewOnlyAt:null},currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{permission:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{externalRestrictedOrgId:null,id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],folderOwnerRole:{id:null},roleOnObjectProjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectRepoForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectTeamForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],team:{defaultPermission:null,orgAccess:null,orgId:null}},"REPO::CAN_VIEW_LINK_ACCESS":{id:null,linkAccess:null,parentOrgId:null,currentUser:[{userId:{type:"view",ref:"userId"}},{id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],mainFileLinkExpirationConfig:{accessReverted:null,expiresAt:null},org:{bigmaEnabledAt:null,inExpExpiringPublicLinks:null,inExpWorkspaceLevelLinkControls:null},orgSharedSetting:{id:null,publicLinkControlsSetting:null},sourceFile:{hasFileLinkPassword:null,id:null,key:null},workspaceSharedSetting:{id:null,publicLinkControlsSetting:null}},"REPO::CAN_EDIT_LINK_ACCESS":{id:null,linkAccess:null,parentOrgId:null,currentUser:[{userId:{type:"view",ref:"userId"}},{id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],mainFileLinkExpirationConfig:{accessReverted:null,expiresAt:null},org:{bigmaEnabledAt:null,inExpExpiringPublicLinks:null,inExpWorkspaceLevelLinkControls:null},orgSharedSetting:{id:null,publicLinkControlsSetting:null},sourceFile:{hasFileLinkPassword:null,id:null,key:null},workspaceSharedSetting:{id:null,publicLinkControlsSetting:null}},"REPO::CAN_VIEW_PROTOTYPE_LINK_ACCESS":{id:null,parentOrgId:null,protoLinkAccess:null,currentUser:[{userId:{type:"view",ref:"userId"}},{id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],mainFileLinkExpirationConfig:{accessReverted:null,expiresAt:null},org:{bigmaEnabledAt:null,inExpExpiringPublicLinks:null,inExpWorkspaceLevelLinkControls:null},orgSharedSetting:{id:null,publicLinkControlsSetting:null},sourceFile:{hasProtoLinkPassword:null,id:null,key:null},workspaceSharedSetting:{id:null,publicLinkControlsSetting:null}},"REPO::CAN_ORG_VIEW_LINK_ACCESS":{linkAccess:null,parentOrgId:null,currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{permission:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],mainFileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null},org:{bigmaEnabledAt:null,inExpExpiringPublicLinks:null}},"REPO::CAN_ORG_EDIT_LINK_ACCESS":{linkAccess:null,parentOrgId:null,currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{permission:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],mainFileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateLinkAccess:null},org:{bigmaEnabledAt:null,inExpExpiringPublicLinks:null}},"REPO::CAN_ORG_VIEW_PROTOTYPE_LINK_ACCESS":{parentOrgId:null,currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{permission:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],mainFileLinkExpirationConfig:{accessReverted:null,expiresAt:null,id:null,prevPrivateProtoLinkAccess:null},org:{bigmaEnabledAt:null,inExpExpiringPublicLinks:null}}},U_={"FOLDER::CAN_VIEW":{deletedAt:null,id:null,inviteOnlyAt:null,path:null,sharingAudienceControl:null,teamId:null,viewOnlyAt:null,currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{permission:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],folderOwnerRole:{id:null},roleOnObjectProjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectTeamForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],team:{defaultPermission:null,orgAccess:null,orgId:null,currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{permission:null}]}},"FOLDER::CAN_EDIT":{deletedAt:null,id:null,inviteOnlyAt:null,orgId:null,path:null,sharingAudienceControl:null,teamId:null,viewOnlyAt:null,currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{permission:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{externalRestrictedOrgId:null,id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],folderOwnerRole:{id:null},roleOnObjectProjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectTeamForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],team:{defaultPermission:null,orgAccess:null,orgId:null,currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{permission:null}]}},"FOLDER::IS_OWNER":{deletedAt:null,id:null,inviteOnlyAt:null,path:null,teamId:null,viewOnlyAt:null,currentUser:[{userId:{type:"view",ref:"userId"}},{id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],roleOnObjectProjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectTeamForUser:[{userId:{type:"view",ref:"userId"}},{level:null}]}},Mf={"TEAM::CAN_VIEW":{defaultPermission:null,deletedAt:null,id:null,orgAccess:null,orgId:null,currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{permission:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],roleOnObjectTeamForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],workspaceUser:{permission:null}},"TEAM::CAN_EDIT":{defaultPermission:null,deletedAt:null,id:null,orgAccess:null,orgId:null,currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{permission:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],roleOnObjectTeamForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],workspaceUser:{permission:null}},"TEAM::CAN_ADMIN":{deletedAt:null,id:null,orgAccess:null,currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{permission:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],roleOnObjectTeamForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],workspaceUser:{permission:null}},"TEAM::IS_OWNER":{currentUser:[{userId:{type:"view",ref:"userId"}},{id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],roleOnObjectTeamForUser:[{userId:{type:"view",ref:"userId"}},{level:null}]},"TEAM::VIEW_ROLE_ACCESS":{defaultPermission:null,orgAccess:null,orgId:null,currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{permission:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],roleOnObjectTeamForUser:[{userId:{type:"view",ref:"userId"}},{level:null}]},"TEAM::EDIT_ROLE_ACCESS":{defaultPermission:null,orgAccess:null,orgId:null,currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{permission:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],roleOnObjectTeamForUser:[{userId:{type:"view",ref:"userId"}},{level:null}]},"TEAM::ADMIN_ROLE_ACCESS":{currentUser:[{userId:{type:"view",ref:"userId"}},{id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],roleOnObjectTeamForUser:[{userId:{type:"view",ref:"userId"}},{level:null}]}},Uf={"ORG::IS_GUEST":{currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{id:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}]},"ORG::IS_MEMBER":{currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{permission:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}]},"ORG::IS_ADMIN":{currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{permission:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}]}},L_={"HUB_FILE::CAN_VIEW":{contentVerifiedAt:null,profileId:null,publishingStatus:null,unpublishedAt:null,userId:null,currentUser:[{userId:{type:"view",ref:"userId"}},{id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}],profileId:null}]},"HUB_FILE::CAN_DUPLICATE":{contentVerifiedAt:null,monetizedResourceMetadataId:null,publisherProfileIds:null,publishingStatus:null,unpublishedAt:null,communityResourcePayment:[{userId:{type:"view",ref:"userId"}},{id:null,isActive:null,monetizedResourceMetadataId:null,userId:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}],profileId:null}]},"HUB_FILE::CAN_RATE":{contentVerifiedAt:null,id:null,monetizedResourceMetadataId:null,publishingStatus:null,unpublishedAt:null,userId:null,communityResourcePayment:[{userId:{type:"view",ref:"userId"}},{monetizedResourceMetadataId:null,status:null,userId:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}],profileId:null}],hubFileCommunityRating:{hubFileId:null,profileId:null,ratingValue:null},hubFileDuplicates:[{userId:{type:"view",ref:"userId"}},{hubFileId:null,id:null,isPreview:null,userId:null}],hubFileMonetizedResourceMetadata:{id:null}}},Lf={"WORKSPACE::CAN_VIEW":{orgAccess:null,currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{permission:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],workspaceUser:{permission:null}},"WORKSPACE::CAN_ADMIN":{currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{permission:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],workspaceUser:{permission:null}},"WORKSPACE::CAN_CREATE_TEAM":{currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{permission:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],orgSharedSetting:{id:null,teamCreationControls:null},workspaceUser:{permission:null}}},e$={"PLUGIN::CAN_VIEW":{blockedAt:null,id:null,orgId:null,profileId:null,publishingStatus:null,unpublishedAt:null,userId:null,currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{permission:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}],profileId:null}],org:{id:null},pluginCommunityPublisher:{id:null,pluginId:null,userId:null}},"PLUGIN::CAN_RUN":{currentUser:[{userId:{type:"view",ref:"userId"}},{id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}]},"PLUGIN::CAN_RATE":{blockedAt:null,id:null,monetizedResourceMetadataId:null,publishingStatus:null,unpublishedAt:null,userId:null,communityResourcePayment:[{userId:{type:"view",ref:"userId"}},{monetizedResourceMetadataId:null,status:null,userId:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}],profileId:null}],monetizedResourceMetadata:{hasFreemiumCode:null,id:null},pluginCommunityRating:{pluginId:null,profileId:null,ratingValue:null},pluginRun:[{userId:{type:"view",ref:"userId"}},{pluginId:null,userId:null}]}},Xn={"FEED_POST::CAN_VIEW":{containerType:null,_project_permsV2:{deletedAt:null,id:null,inviteOnlyAt:null,path:null,sharingAudienceControl:null,teamId:null,viewOnlyAt:null},currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{permission:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],folderOwnerRole:{id:null},roleOnObjectProjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectTeamForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],team:{defaultPermission:null,deletedAt:null,id:null,orgAccess:null,orgId:null},workspaceUser:{permission:null}},"FEED_POST::IS_CONTAINER_MEMBER":{containerType:null,currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{permission:null}],currentUser:[{userId:{type:"view",ref:"userId"}},{id:null,permissionFeatureFlags:[{userId:{type:"session",ref:"userId"}},{id:null,name:null}]}],roleOnObjectProjectForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],roleOnObjectTeamForUser:[{userId:{type:"view",ref:"userId"}},{level:null}],workspaceUser:{permission:null}}};var t$,eRe=(t$=oi(nr(Xn["FEED_POST::CAN_VIEW"],{id:n,containerId:n,containerTypeEnum:n,project:{...Xn["FEED_POST::CAN_VIEW"]._project_permsV2,folderOwnerRole:Xn["FEED_POST::CAN_VIEW"].folderOwnerRole,roleOnObjectProjectForUser:Xn["FEED_POST::CAN_VIEW"].roleOnObjectProjectForUser,roleOnObjectTeamForUser:Xn["FEED_POST::CAN_VIEW"].roleOnObjectTeamForUser,team:Xn["FEED_POST::CAN_VIEW"].team},team:{...Xn["FEED_POST::CAN_VIEW"].team,workspaceId:n,roleOnObjectTeamForUser:Xn["FEED_POST::CAN_VIEW"].roleOnObjectTeamForUser},currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{workspaceUsers:{permission:n,workspaceId:n,orgUserId:n}}]}),["folderOwnerRole","roleOnObjectProjectForUser","roleOnObjectTeamForUser","workspaceUser","_project_permsV2"]))!=null?t$:{},r$,tRe=(r$=oi(nr(Xn["FEED_POST::IS_CONTAINER_MEMBER"],{id:n,containerId:n,containerTypeEnum:n,project:{roleOnObjectProjectForUser:Xn["FEED_POST::IS_CONTAINER_MEMBER"].roleOnObjectProjectForUser},team:{roleOnObjectTeamForUser:Xn["FEED_POST::IS_CONTAINER_MEMBER"].roleOnObjectTeamForUser},currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{workspaceUsers:{permission:n,workspaceId:n,orgUserId:n}}]}),["folderOwnerRole","roleOnObjectProjectForUser","roleOnObjectTeamForUser","workspaceUser","_project_permsV2"]))!=null?r$:{},i$={name:"FeedPost",fields:[{name:"id",type:{kind:"bigint"}},{name:"publicUuid",type:{kind:"uuid"}},{name:"orgId",type:{kind:"bigint"}},{name:"title",type:{kind:"string"}},{name:"fileKey",type:{kind:"string"},nullable:!0},{name:"creatorId",type:{kind:"bigint"}},{name:"creator",type:{kind:"object",name:"User"},filter:["id","=",h("creatorId")]},{name:"createdAt",type:{kind:"datetime"}},{name:"reactions",type:{kind:"objects",name:"FeedReaction"},expectedMaxCount:1e3,orderBy:[["createdAt","ASC"]],filter:{and:[["feedResourceId","=",h("id")],["feedResourceType","=","FeedPost"]]}},{name:"comments",type:{kind:"objects",name:"FeedComment"},expectedMaxCount:1e3,filter:["feedPostPublicUuid","=",h("publicUuid")]},{name:"numComments",type:{kind:"string"}},{name:"viewerIds",type:{kind:"objects",name:"FeedViewer"},embedded:!0},{name:"views",type:{kind:"objects",name:"FeedSeenState"},expectedMaxCount:1e4,filter:["feedPostPublicUuid","=",h("publicUuid")],orderBy:[["createdAt","ASC"]]},{name:"reactionSummary",type:{kind:"map",valueType:{kind:"string"}}},{name:"reactionsForUser",type:{kind:"objects",name:"FeedReaction"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],expectedMaxCount:10,filter:{and:[["feedResourceId","=",h("id")],["feedResourceType","=","FeedPost"],["userId","=",D("userId")]]}},{name:"viewCount",type:{kind:"bigint"}},{name:"backgroundColor",type:{kind:"string"},nullable:!0},{name:"isFollower",type:{kind:"object",name:"FeedPostFollower"},nullable:!0,args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:{and:[["userId","=",D("userId")],["feedPostId","=",h("id")]]}},{name:"currentUserIsFollowingV2",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!1,computed:!0,dependencies:{isFollower:[{userId:D("userId")},{id:n}]}},{name:"content",type:{kind:"list",ofType:{kind:"string"}}},{name:"processedContentV2",type:{kind:"list",ofType:{kind:"string"}},computed:!0,dependencies:{content:n,publicUuid:n}},{name:"pollContent",type:{kind:"list",ofType:{kind:"string"}},computed:!0,dependencies:{content:n}},{name:"descriptionMeta",type:{kind:"objects",name:"CommentMessageMeta"},embedded:!0,nullable:!1},{name:"pending",type:{kind:"bool"},nullable:!1},{name:"containerId",type:{kind:"bigint"}},{name:"containerType",type:{kind:"bigint"}},{name:"containerTypeEnum",type:{kind:"enum",name:"FeedPostContainerType"},computed:!0,dependencies:{containerType:n}},{name:"org",type:{kind:"object",name:"Org"},filter:["id","=",h("containerId")],nullable:!0},{name:"workspace",type:{kind:"object",name:"Workspace"},filter:["id","=",h("containerId")],nullable:!0},{name:"team",type:{kind:"object",name:"Team"},filter:["id","=",h("containerId")],nullable:!0},{name:"project",type:{kind:"object",name:"Project"},filter:["id","=",h("containerId")],nullable:!0},{name:"canRead",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:eRe},{name:"isContainerMember",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:tRe},{name:"currentUser",nullable:!0,type:{kind:"object",name:"User"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["id","=",D("userId")]},{name:"currentBaseOrgUser",type:{kind:"object",name:"BaseOrgUser"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",D("userId")],["orgId","=",h("orgId")]]}}]};var n$={name:"FeedPostFollower",fields:[{name:"id",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"}},{name:"feedPostId",type:{kind:"bigint"}}]};var s$={name:"FeedPostResult",fields:[{name:"id",type:{kind:"bigint"}},{name:"publicUuid",type:{kind:"uuid"}},{name:"createdAt",type:{kind:"datetime"}},{name:"type",type:{kind:"string"}},{name:"forYou",type:{kind:"bool"},nullable:!0},{name:"currentTagFilterId",type:{kind:"string"},nullable:!0},{name:"feedPost",type:{kind:"object",name:"FeedPost"},filter:["publicUuid","=",h("publicUuid")],orderBy:[["createdAt","DESC"]],expectedMaxCount:1e4,nullable:!0}]};var o$={name:"FeedReaction",fields:[{name:"id",type:{kind:"bigint"}},{name:"feedResourceId",type:{kind:"bigint"}},{name:"feedResourceType",type:{kind:"string"}},{name:"emoji",type:{kind:"string"}},{name:"userId",type:{kind:"bigint"}},{name:"user",type:{kind:"object",name:"User"},filter:["id","=",h("userId")]},{name:"createdAt",type:{kind:"datetime"}}]};var a$={name:"FeedSeenState",fields:[{name:"id",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"}},{name:"feedPostPublicUuid",type:{kind:"uuid"}},{name:"user",type:{kind:"object",name:"User"},filter:["id","=",h("userId")]},{name:"createdAt",type:{kind:"datetime"}}]};var l$={name:"FeedTag",fields:[{name:"id",type:{kind:"bigint"}},{name:"text",type:{kind:"string"}},{name:"orgId",type:{kind:"bigint"}},{name:"numUsages",type:{kind:"bigint"}},{name:"lastUsedAt",type:{kind:"datetime"}},{name:"createdAt",type:{kind:"datetime"}}]};var u$={name:"FeedTagFollower",fields:[{name:"id",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"}},{name:"feedTagId",type:{kind:"bigint"}},{name:"feedTag",type:{kind:"object",name:"FeedTag"},filter:["id","=",h("feedTagId")]}]};var d$={name:"FeedViewer",embedded:!0,fields:[{name:"id",type:{kind:"bigint"}},{name:"user",type:{kind:"object",name:"User"},filter:["id","=",h("id")]}]};var c$={name:"FigFileCheckpoint",naturalKey:new Set(["id"]),fields:[{name:"id",type:{kind:"bigint"}},{name:"checkpointId",type:{kind:"bigint"}},{name:"createdAt",type:{kind:"string"}},{name:"updatedAt",type:{kind:"string"}},{name:"checkpoint",type:{kind:"object",name:"FileCheckpoint"},nullable:!0,filter:["id","=",h("checkpointId")]}]};var p$={name:"FigFileLink",fields:[{name:"id",type:{kind:"bigint"}},{name:"sourceFileKey",type:{kind:"string"}},{name:"destinationFileKey",type:{kind:"string"}},{name:"name",type:{kind:"string"}},{name:"sortPosition",type:{kind:"float"}},{name:"_linkTypeRaw",type:{kind:"int"}},{name:"linkType",type:{kind:"enum",name:"FigFileLinkType"},computed:!0,dependencies:{_linkTypeRaw:n}}]};var m$={name:"FigFileLinkExpirationConfig",naturalKey:new Set(["figFileKey"]),fields:[{name:"id",type:{kind:"bigint"}},{name:"figFileKey",type:{kind:"bigint"}},{name:"setByUserId",type:{kind:"bigint"},nullable:!0},{name:"updatedAt",type:{kind:"datetime"}},{name:"expiresAt",type:{kind:"datetime"},nullable:!0},{name:"prevPrivateLinkAccess",type:{kind:"string"}},{name:"prevPrivateProtoLinkAccess",type:{kind:"string"},nullable:!0},{name:"prevOrgBrowsable",type:{kind:"bool"},nullable:!0},{name:"accessReverted",type:{kind:"bool"}},{name:"setByUser",type:{kind:"object",name:"User"},filter:["id","=",h("setByUserId")],nullable:!0}]};var g$={name:"FigFilePwdConfig",naturalKey:new Set(["fileKey","figFileId"]),fields:[{name:"id",type:{kind:"bigint"}},{name:"figFileId",type:{kind:"bigint"}},{name:"fileKey",type:{kind:"string"}},{name:"setByUserId",type:{kind:"bigint"},nullable:!0},{name:"updatedAt",type:{kind:"datetime"}},{name:"setByUser",type:{kind:"object",name:"User"},filter:["id","=",h("setByUserId")],nullable:!0},{name:"version",type:{kind:"int"}}]};var f$={name:"FigFileWorkshopMode",naturalKey:new Set(["fileKey"]),fields:[{name:"id",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"}},{name:"expiresAt",type:{kind:"datetime"}},{name:"fileKey",type:{kind:"string"}}]};var Zt=t=>nr(oi(X3[t],["workspaceSharedSetting"]),{team:{workspaceId:n,workspaceSharedSetting:{id:n,publicLinkControlsSetting:n}}}),b$={name:"File",naturalKey:new Set(["key"]),fields:[{name:"_id",type:{kind:"string"}},{name:"id",type:{kind:"string"}},{name:"_name",type:{kind:"string"},nullable:!0},{name:"name",type:{kind:"string"},computed:!0,dependencies:{_name:n}},{name:"key",type:{kind:"string"}},{name:"sourceFileKey",type:{kind:"string"},nullable:!0},{name:"sourceCheckpointId",type:{kind:"string"},nullable:!0},{name:"fileRepoId",type:{kind:"bigint"},nullable:!0},{name:"teamId",type:{kind:"bigint"},nullable:!0},{name:"parentOrgId",type:{kind:"bigint"},nullable:!0},{name:"createdAt",type:{kind:"datetime"}},{name:"trashedAt",type:{kind:"datetime"},nullable:!0},{name:"updatedAt",type:{kind:"datetime"}},{name:"deletedAt",type:{kind:"datetime"},nullable:!0},{name:"thumbnailUrl",type:{kind:"string"},nullable:!0,deprecated:{reason:`thumbnailUrl returns incorrect values, do not use.
      Like seriously, don't use it.`,date:"2023-06-15"}},{name:"signedThumbnailUrl",type:{kind:"string"},computed:!0,dependencies:{figFileCheckpoint:{checkpoint:{thumbnailUrl:n,createdAt:n}}}},{name:"thumbnailUrlOverride",type:{kind:"string"},nullable:!0},{name:"signedThumbnailUrlOverride",type:{kind:"string"},computed:!0,dependencies:{thumbnailUrlOverride:n}},{name:"thumbnailGuid",type:{kind:"string"},nullable:!0},{name:"trashedUserId",type:{kind:"bigint"},nullable:!0},{name:"orgBrowsable",type:{kind:"bool"},nullable:!0},{name:"orgAudience",type:{kind:"bool"},nullable:!0},{name:"linkAccess",type:{kind:"enum",name:"LinkAccess"}},{name:"protoLinkAccess",type:{kind:"enum",name:"ProtoLinkAccess"},nullable:!0},{name:"hasFileLinkPassword",type:{kind:"bool"},nullable:!0},{name:"hasProtoLinkPassword",type:{kind:"bool"},nullable:!0},{name:"clientMeta",type:{kind:"string"},nullable:!0},{name:"checkpointClientMeta",type:{kind:"string"},computed:!0,dependencies:{figFileCheckpoint:{checkpoint:{clientMeta:n}}}},{name:"description",type:{kind:"string"},nullable:!0},{name:"license",type:{kind:"string"},nullable:!0},{name:"_editorTypeRaw",type:{kind:"int"},nullable:!0},{name:"editorType",type:{kind:"enum",name:"EditorType"},computed:!0,dependencies:{_editorTypeRaw:n}},{name:"viewerExportRestrictedAt",type:{kind:"datetime"},nullable:!0},{name:"viewerExportRestricted",type:{kind:"bool"},computed:!0,dependencies:{viewerExportRestrictedAt:n}},{name:"isTrashed",type:{kind:"bool"},computed:!0,dependencies:{trashedAt:n}},{name:"trashedUser",type:{kind:"object",name:"User"},nullable:!0,filter:["id","=",h("trashedUserId")]},{name:"trackTags",type:{kind:"object",name:"FileTrackTags"},embedded:!0,nullable:!0},{name:"creatorId",type:{kind:"bigint"}},{name:"creator",type:{kind:"object",name:"User"},nullable:!0,filter:["id","=",h("creatorId")]},{name:"ownerRole",type:{kind:"object",name:"FileRole"},filter:{and:[["resourceId","=",h("key")],["resourceType","=","file"],["level","=",999]]},nullable:!0},{name:"roles",type:{kind:"objects",name:"FileRole"},filter:{and:[["resourceId","=",h("key")],["resourceType","=","file"]]},expectedMaxCount:1e4},{name:"readableRoles",type:{kind:"objects",name:"FileRole"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:{and:[["resourceId","=",h("key")],["resourceType","=","file"]]},expectedMaxCount:1e4,checkCanRead:{userId:x("userId")}},{name:"roleOnObjectForUser",type:{kind:"object",name:"FileRole"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",D("userId")],["resourceId","=",h("key")],["resourceType","=","file"]]}},{name:"roleOnObjectRepoForUser",type:{kind:"object",name:"RepoRole"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",D("userId")],["resourceId","=",h("fileRepoId")],["resourceType","=","file_repo"]]}},{name:"roleOnObjectProjectForUser",type:{kind:"object",name:"ProjectRole"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",D("userId")],["resourceId","=",h("folderId")],["resourceType","=","folder"]]}},{name:"roleOnObjectTeamForUser",type:{kind:"object",name:"TeamRole"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",D("userId")],["resourceId","=",h("teamId")],["resourceType","=","team"]]}},{name:"currentOrgUser",type:{kind:"object",name:"OrgUser"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",D("userId")],["orgId","=",h("parentOrgId")],["permission","<>","guest"]]}},{name:"currentPrivilegedOrgUser",type:{kind:"object",name:"PrivilegedOrgUser"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",D("userId")],["orgId","=",h("parentOrgId")],["permission","<>","guest"]]}},{name:"currentPartialOrgUser",type:{kind:"object",name:"GuestOrgUser"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",D("userId")],["orgId","=",h("parentOrgId")]]}},{name:"currentBaseOrgUser",type:{kind:"object",name:"BaseOrgUser"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",D("userId")],["orgId","=",h("parentOrgId")]]}},{name:"currentTeamUser",type:{kind:"object",name:"TeamUser"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",D("userId")],["teamId","=",h("teamId")]]}},{name:"currentUserFileFollower",type:{kind:"object",name:"FileFollower"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["key","=",h("key")],["userId","=",D("userId")]]}},{name:"sourceFile",type:{kind:"object",name:"File"},nullable:!0,filter:["key","=",h("sourceFileKey")]},{name:"repo",type:{kind:"object",name:"Repo"},nullable:!0,filter:["id","=",h("fileRepoId")]},{name:"project",type:{kind:"object",name:"Project"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:["id","=",h("folderId")],checkCanRead:{userId:D("userId")}},{name:"_project_permsV2",type:{kind:"object",name:"Project"},nullable:!0,filter:["id","=",h("folderId")]},{name:"team",type:{kind:"object",name:"Team"},nullable:!0,filter:["id","=",h("teamId")]},{name:"org",type:{kind:"object",name:"Org"},filter:["id","=",h("parentOrgId")],nullable:!0},{name:"publishedHubFile",type:{kind:"object",name:"HubFile"},nullable:!0,filter:["figFileId","=",h("_id")]},{name:"comments",type:{kind:"objects",name:"Comment"},orderBy:[["createdAt","DESC"]],filter:{and:[["key","=",h("key")],["deletedAt","=",null]]},expectedMaxCount:1e4},{name:"commentsPaginated",type:{kind:"objects",name:"Comment"},args:[{name:"initialPageSize",type:{kind:"int"}}],orderBy:[["createdAt","DESC"]],filter:{and:[["key","=",h("key")],["deletedAt","=",null]]},deprecated:{reason:"Use unresolvedComments and resolvedComments where possible",date:"2022-11-08"},expectedMaxCount:1e4},{name:"unresolvedComments",type:{kind:"objects",name:"Comment"},args:[{name:"initialPageSize",type:{kind:"int"}}],orderBy:[["createdAt","DESC"]],filter:{and:[["key","=",h("key")],["deletedAt","=",null],["resolvedAt","=",null]]},expectedMaxCount:1e4},{name:"resolvedComments",type:{kind:"objects",name:"Comment"},args:[{name:"initialPageSize",type:{kind:"int"}}],orderBy:[["createdAt","DESC"]],filter:{and:[["key","=",h("key")],["deletedAt","=",null],["resolvedAt","<>",null]]},expectedMaxCount:1e4},{name:"mobileComments",type:{kind:"objects",name:"Comment"},args:[{name:"initialPageSize",type:{kind:"int"}},{name:"parentId",type:{kind:"bigint"},nullable:!0}],orderBy:[["createdAt","DESC"]],filter:{and:[["key","=",h("key")],["deletedAt","=",null],["resolvedAt","=",null],["parentId","=",D("parentId")]]},expectedMaxCount:1e4},{name:"mobileCommentThread",type:{kind:"objects",name:"Comment"},args:[{name:"initialPageSize",type:{kind:"int"}},{name:"rootId",type:{kind:"bigint"},nullable:!0}],filter:{and:[["key","=",h("key")],{or:[["id","=",D("rootId")],{and:[["parentId","=",D("rootId")],["deletedAt","=",null]]}]}]},expectedMaxCount:1e4},{name:"commentAttachments",type:{kind:"objects",name:"CommentAttachment"},filter:{and:[["fileKey","=",h("key")],["fileCommentId","<>",null],["deletedAt","=",null]]},orderBy:[["uploadedAt","ASC"]],expectedMaxCount:1e4},{name:"reactions",type:{kind:"objects",name:"CommentReaction"},args:[{name:"initialPageSize",type:{kind:"int"}}],filter:["fileKey","=",h("key")],orderBy:[["createdAt","DESC"]],expectedMaxCount:1e4},{name:"feedPosts",type:{kind:"objects",name:"FeedPost"},filter:{and:[["fileKey","=",h("key")],["pending","=",!1]]},orderBy:[["createdAt","DESC"]],expectedMaxCount:1e4},{name:"fileCanvasMentions",type:{kind:"objects",name:"FileCanvasMention"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:{and:[["fileKey","=",h("key")],["mentionedUserId","=",D("userId")],["deletedAt","=",null]]},orderBy:[["createdAt","DESC"]],expectedMaxCount:1e4},{name:"currentUser",nullable:!0,type:{kind:"object",name:"User"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["id","=",D("userId")]},{name:"currentUserCommentReadStatus",type:{kind:"object",name:"CommentReadStatus"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["fileKey","=",h("key")],["userId","=",D("userId")]]}},{name:"currentUserFileCanvasMentionReadStatus",type:{kind:"object",name:"FileCanvasMentionReadStatus"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["fileKey","=",h("key")],["userId","=",D("userId")]]}},{name:"libraryHierarchyPaths",type:{kind:"objects",name:"LibraryHierarchyPath"},args:[{name:"initialPageSize",type:{kind:"int"}}],filter:{and:[["fileKey","=",h("key")],["hubFileId","=",null]]},expectedMaxCount:1e4},{name:"library",type:{kind:"object",name:"Library"},filter:{and:[["fileKey","=",h("key")],["hubFileId","=",null]]},nullable:!0},{name:"libraryFileSubscriptions",type:{kind:"objects",name:"LibraryFileSubscription"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"initialPageSize",type:{kind:"int"}}],checkCanRead:{userId:D("userId")},filter:{and:[["isSubscribed","=",!0],["fileKey","=",h("key")],["hubFileId","=",null]]},expectedMaxCount:1e3},{name:"communityLibraryFileSubscriptions",type:{kind:"objects",name:"CommunityLibraryFileSubscription"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"initialPageSize",type:{kind:"int"}}],checkCanRead:{userId:D("userId")},filter:{and:[["fileKey","=",h("key")],["hubFileId","<>",null]]},expectedMaxCount:1e3},{name:"communityQuickstartLibraries",type:{kind:"objects",name:"CommunityQuickstartLibrary"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,resolver:{type:"HTTP",uri:"/api/internal/livegraph/sinatra_resolver/quickstart_community_libraries",queryParams:{userId:D("userId")},realtimePolicy:{type:"Static"}}},{name:"libraryTeamSubscriptions",type:{kind:"objects",name:"LibraryTeamSubscription"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"initialPageSize",type:{kind:"int"}}],checkCanRead:{userId:D("userId")},filter:{and:[["isSubscribed","=",!0],["teamId","=",h("teamId")]]},expectedMaxCount:1e3},{name:"libraryUserSubscriptions",type:{kind:"objects",name:"LibraryUserSubscription"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"initialPageSize",type:{kind:"int"}}],checkCanRead:{userId:D("userId")},filter:{and:[["isSubscribed","=",!0],["userId","=",D("userId")]]},expectedMaxCount:1e3},{name:"libraryOrgSubscriptions",type:{kind:"objects",name:"LibraryOrgSubscription"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"initialPageSize",type:{kind:"int"}}],checkCanRead:{userId:D("userId")},filter:{and:[["isSubscribed","=",!0],["orgId","=",h("parentOrgId")]]},expectedMaxCount:1e3},{name:"workshopMode",nullable:!0,type:{kind:"object",name:"FigFileWorkshopMode"},filter:["fileKey","=",h("key")]},{name:"orgSharedSetting",type:{kind:"object",name:"SharedOrgLicenseGroupSetting"},nullable:!0,filter:{and:[["resourceType","=","Org"],["resourceId","=",h("parentOrgId")]]}},{name:"votingSessions",nullable:!0,type:{kind:"objects",name:"VotingSession"},filter:{and:[["fileKey","=",h("key")]]},orderBy:[["createdAt","DESC"]],expectedMaxCount:100},{name:"openMergeRequest",nullable:!0,type:{kind:"object",name:"OpenMergeRequest"},filter:["branchFileKey","=",h("key")]},{name:"fileMerges",type:{kind:"objects",name:"FileMerge"},filter:["branchFileKey","=",h("key")],expectedMaxCount:100,orderBy:[["updatedAt","DESC"]]},{name:"fileRoleRequests",type:{kind:"objects",name:"FileRoleRequest"},args:[{name:"initialPageSize",type:{kind:"int"}}],filter:{and:[["fileKey","=",h("key")],["status","=","pending"]]},expectedMaxCount:200},{name:"fileVersions",type:{kind:"objects",name:"FileVersion"},filter:["fileKey","=",h("key")],expectedMaxCount:100,orderBy:[["updatedAt","DESC"]]},{name:"folderOwnerRole",type:{kind:"object",name:"ProjectRole"},nullable:!0,filter:{and:[["resourceId","=",h("folderId")],["resourceType","=","folder"],["level","=",999]]}},{name:"orgDraftsFolderOwnerBaseOrgUser",nullable:!0,type:{kind:"object",name:"BaseOrgUser"},filter:["draftsFolderId","=",h("folderId")]},{name:"_hasFileAccess",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"permissionLevel",type:{kind:"int"}},{name:"ignoreLinkAccess",type:{kind:"bool"},nullable:!0},{name:"ignoreArchivedBranch",type:{kind:"bool"},nullable:!0},{name:"sessionId",type:{kind:"string"},nullable:!0}],computed:!0,dependencies:{}},{name:"stylesWithLegacySourceAssets",type:{kind:"objects",name:"StyleWithLegacySourceAsset"},args:[{name:"initialPageSize",type:{kind:"int"}}],filter:["fileKey","=",h("key")],expectedMaxCount:1e4},{name:"canEdit",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:Zt("FILE::CAN_EDIT")},{name:"canEditV2",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"sessionId",type:{kind:"string"},nullable:!0}],computed:!0,dependencies:Zt("FILE::CAN_EDIT")},{name:"canEditCanvas",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"sessionId",type:{kind:"string"},nullable:!0}],computed:!0,dependencies:Zt("FILE::CAN_EDIT_CANVAS")},{name:"canEditIgnorePaidStatus",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"sessionId",type:{kind:"string"},nullable:!0}],computed:!0,dependencies:Zt("FILE::CAN_EDIT_IGNORE_PAID_STATUS")},{name:"canEditIgnoreEduGracePeriod",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"sessionId",type:{kind:"string"},nullable:!0}],computed:!0,dependencies:Zt("FILE::CAN_EDIT_IGNORE_EDU_GRACE_PERIOD")},{name:"canViewAndCreateComments",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"sessionId",type:{kind:"string"},nullable:!0}],computed:!0,dependencies:Zt("FILE::CAN_VIEW_AND_CREATE_COMMENTS")},{name:"canMoveComments",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"sessionId",type:{kind:"string"},nullable:!0}],computed:!0,dependencies:Zt("FILE::CAN_MOVE_COMMENTS")},{name:"canDiscover",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"sessionId",type:{kind:"string"},nullable:!0}],computed:!0,dependencies:Zt("FILE::CAN_DISCOVER")},{name:"canRename",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"sessionId",type:{kind:"string"},nullable:!0}],computed:!0,dependencies:Zt("FILE::CAN_RENAME")},{name:"canDelete",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"sessionId",type:{kind:"string"},nullable:!0}],computed:!0,dependencies:Zt("FILE::CAN_DELETE")},{name:"canFavorite",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"sessionId",type:{kind:"string"},nullable:!0}],computed:!0,dependencies:Zt("FILE::CAN_FAVORITE")},{name:"canManage",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:Zt("FILE::CAN_MANAGE")},{name:"hasEditRole",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:Zt("FILE::CAN_MODIFY_ROLES")},{name:"eduGracePeriod",type:{kind:"object",name:"EduGracePeriod"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",D("userId")],["teamId","=",h("teamId")]]}},{name:"canViewPrototype",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:Zt("FILE::CAN_VIEW_PROTOTYPE")},{name:"canViewPrototypeV2",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"sessionId",type:{kind:"string"},nullable:!0}],computed:!0,dependencies:Zt("FILE::CAN_VIEW_PROTOTYPE")},{name:"hasViewRole",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:Zt("FILE::HAS_ROLE_ACCESS")},{name:"hasViewPrototypeRole",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:Zt("FILE::HAS_ROLE_ACCESS")},{name:"canView",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:Zt("FILE::CAN_VIEW")},{name:"canViewV2",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"sessionId",type:{kind:"string"},nullable:!0}],computed:!0,dependencies:Zt("FILE::CAN_VIEW")},{name:"canRead",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:Zt("FILE::CAN_VIEW_PROTOTYPE")},{name:"canReadV2",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"sessionId",type:{kind:"string"},nullable:!0}],computed:!0,dependencies:nr(Zt("FILE::CAN_VIEW_PROTOTYPE"),{pwdConfig:{version:n},sourceFile:{pwdConfig:{version:n}},key:n})},{name:"projectPath",type:{kind:"string"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:{project:[{userId:x("userId")},{path:n}]}},{name:"folderId",type:{kind:"bigint"},nullable:!0},{name:"prototypeLibCppConfig",type:{kind:"object",name:"FilePrototypeLibCppConfig"},nullable:!0,filter:["fileKey","=",h("key")]},{name:"variableSets",type:{kind:"objects",name:"VariableSet"},filter:{and:[["fileKey","=",h("key")],["unpublishedAt","=",null],["hubFileId","=",null]]},args:[{name:"initialPageSize",type:{kind:"int"}}],expectedMaxCount:1e4,deprecated:{reason:"Use variableCollections",date:"2021-04-27"}},{name:"variableCollections",type:{kind:"objects",name:"VariableSet"},filter:{and:[["fileKey","=",h("key")],["unpublishedAt","=",null],["hubFileId","=",null]]},args:[{name:"initialPageSize",type:{kind:"int"}}],expectedMaxCount:1e4},{name:"variables",type:{kind:"objects",name:"Variable"},filter:{and:[["fileKey","=",h("key")],["unpublishedAt","=",null],["hubFileId","=",null]]},args:[{name:"initialPageSize",type:{kind:"int"}}],expectedMaxCount:1e4},{name:"canAccessBasicDevMode",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"sessionId",type:{kind:"string"},nullable:!0}],computed:!0,dependencies:Zt("FILE::CAN_ACCESS_BASIC_DEV_MODE")},{name:"canAccessFullDevMode",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"sessionId",type:{kind:"string"},nullable:!0}],computed:!0,dependencies:Zt("FILE::CAN_ACCESS_FULL_DEV_MODE")},{name:"components",type:{kind:"objects",name:"Component"},args:[{name:"initialPageSize",type:{kind:"int"}}],filter:{and:[["fileKey","=",h("key")],["unpublishedAt","=",null],["hubFileId","=",null]]},deprecated:{reason:"Deprecated in favor of storing components, styles, and state groups inside a library hierarchy path",date:"2021-08-10"},expectedMaxCount:1e4},{name:"styles",type:{kind:"objects",name:"Style"},args:[{name:"initialPageSize",type:{kind:"int"}}],filter:{and:[["fileKey","=",h("key")],["unpublishedAt","=",null],["hubFileId","=",null]]},expectedMaxCount:1e4},{name:"stateGroups",type:{kind:"objects",name:"StateGroup"},args:[{name:"initialPageSize",type:{kind:"int"}}],filter:{and:[["fileKey","=",h("key")],["unpublishedAt","=",null],["hubFileId","=",null]]},expectedMaxCount:1e4},{name:"fileSeenStates",type:{kind:"objects",name:"FileSeenState"},filter:{and:[["fileKey","=",h("key")]]},expectedMaxCount:1e4},{name:"linkedFigFiles",type:{kind:"objects",name:"LinkedFigFile"},filter:{and:[["sourceFileKey","=",h("key")]]},deprecated:{reason:"Use figFileLinks",date:"2021-09-23"},expectedMaxCount:15},{name:"figFileLinks",type:{kind:"objects",name:"FigFileLink"},filter:{and:[["sourceFileKey","=",h("key")]]},expectedMaxCount:15,orderBy:[["sortPosition","ASC"]]},{name:"isTryFile",type:{kind:"bool"},computed:!0,dependencies:{creator:{email:n}}},{name:"template",type:{kind:"object",name:"Template"},filter:["fileKey","=",h("key")],nullable:!0},{name:"isTeamTemplate",type:{kind:"bool"},computed:!0,dependencies:{template:{unpublishedAt:n}}},{name:"pwdConfig",type:{kind:"object",name:"FigFilePwdConfig"},filter:["figFileId","=",h("_id")],nullable:!0},{name:"linkExpirationConfig",type:{kind:"object",name:"FigFileLinkExpirationConfig"},filter:{and:[["figFileKey","=",h("key")],["accessReverted","=",!1]]},nullable:!0,deprecated:{reason:"Use mainFileLinkExpirationConfig",date:"2023-05-31"}},{name:"mainFileLinkExpirationConfig",type:{kind:"object",name:"FigFileLinkExpirationConfig"},filter:{or:[["figFileKey","=",h("sourceFileKey")],["figFileKey","=",h("key")]]},deprecated:{reason:`mainFileLinkExpirationConfig is deprecated in favor of
          sourceFileLinkExpirationConfig and fileLinkExpirationConfig (do the OR
          on the client). Reason is that livegraph100 cannot support queries
          with top level ORs.`,date:"2023-09-05"},nullable:!0},{name:"sourceFileLinkExpirationConfig",type:{kind:"object",name:"FigFileLinkExpirationConfig"},filter:["figFileKey","=",h("sourceFileKey")],nullable:!0},{name:"fileLinkExpirationConfig",type:{kind:"object",name:"FigFileLinkExpirationConfig"},filter:["figFileKey","=",h("key")],nullable:!0},{name:"figFileCheckpointId",type:{kind:"bigint"},nullable:!0},{name:"figFileCheckpoint",type:{kind:"object",name:"FigFileCheckpoint"},filter:["id","=",h("figFileCheckpointId")],nullable:!0},{name:"canPublishTemplate",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"sessionId",type:{kind:"string"},nullable:!0}],computed:!0,dependencies:Zt("FILE::CAN_PUBLISH_TEMPLATE")},{name:"canInsertTemplate",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"sessionId",type:{kind:"string"},nullable:!0}],computed:!0,dependencies:Zt("FILE::CAN_PUBLISH_TEMPLATE")},{name:"favoriteFile",type:{kind:"object",name:"FavoritedFile"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["resourceId","=",h("key")],["resourceType","=","file"],["userId","=",D("userId")],["orgId","=",h("parentOrgId")]]}},{name:"isFavorited",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:{favoriteFile:[{userId:x("userId")},{id:n}]}},{name:"developerRelatedLinks",type:{kind:"objects",name:"DeveloperRelatedLink"},filter:["fileKey","=",h("key")],expectedMaxCount:1e4},{name:"developerRelatedLinksForNode",type:{kind:"objects",name:"DeveloperRelatedLink"},args:[{name:"nodeId",type:{kind:"string"}}],filter:{and:[["fileKey","=",h("key")],["nodeId","=",D("nodeId")]]}},{name:"nodeStatusUsagesForFile",type:{kind:"objects",name:"NodeStatusUsage"},filter:["fileKey","=",h("key")]},{name:"nodeStatusUsagesForNode",type:{kind:"objects",name:"NodeStatusUsage"},args:[{name:"nodeId",type:{kind:"string"}}],filter:{and:[["fileKey","=",h("key")],["nodeId","=",D("nodeId")]]}},{name:"presenter",type:{kind:"object",name:"FilePresenter"},args:[],filter:{and:[["fileKey","=",h("key")]]},nullable:!0},{name:"activeFileUsers",type:{kind:"objects",name:"ActiveFileUser"},filter:["id","=",h("key")],nullable:!0},{name:"defaultColorPaletteData",type:{kind:"object",name:"FileColorPalette"},filter:["fileKey","=",h("key")],nullable:!0},{name:"userColorPaletteOverrideData",type:{kind:"object",name:"UserColorPaletteOverrideForFile"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:{and:[["fileKey","=",h("key")],["userId","=",D("userId")]]},checkCanRead:{userId:D("userId")},nullable:!0},{name:"branchCheckpointId",type:{kind:"bigint"},nullable:!0},{name:"scheme",type:{kind:"string"},nullable:!0},{name:"editUrl",type:{kind:"string"},computed:!0,dependencies:{key:n,name:n}},{name:"handoffUrl",type:{kind:"string"},computed:!0,dependencies:{key:n,name:n}},{name:"prototypeUrl",type:{kind:"string"},computed:!0,dependencies:{key:n,name:n}},{name:"touchedAt",type:{kind:"string"},computed:!0,dependencies:{figFileCheckpoint:{updatedAt:n}}},{name:"url",type:{kind:"string"},computed:!0,dependencies:{key:n,name:n}},{name:"checkpointId",type:{kind:"string"},computed:!0,dependencies:{figFileCheckpoint:{checkpointId:n}}},{name:"checkpointKey",type:{kind:"string"},computed:!0,dependencies:{figFileCheckpoint:{checkpoint:{key:n}}}},{name:"lastPublishedAt",type:{kind:"string"},computed:!0,dependencies:{library:{numComponents:n,numStyles:n,numStateGroups:n,numVariableSets:n,numVariables:n,updatedAt:n}}}]};var y$={name:"FileActivity",embedded:!0,fields:[{name:"lastSeen",type:{kind:"object",name:"OrgActivity"},args:[{name:"userId",type:{kind:"bigint"}},{name:"orgId",type:{kind:"bigint"}}],nullable:!0,filter:{and:[["userId","=",D("userId")],["orgId","=",D("orgId")],["activityType","in",["file_seen","design_file_seen","whiteboard_file_seen"]]]},orderBy:[["actionAt","DESC"]]},{name:"lastEdit",type:{kind:"object",name:"OrgActivity"},args:[{name:"userId",type:{kind:"bigint"}},{name:"orgId",type:{kind:"bigint"}}],nullable:!0,filter:{and:[["userId","=",D("userId")],["orgId","=",D("orgId")],["activityType","in",["file_edit","design_file_edit","whiteboard_file_edit"]]]},orderBy:[["actionAt","DESC"]]},{name:"lastDesignEdit",type:{kind:"object",name:"OrgActivity"},args:[{name:"userId",type:{kind:"bigint"}},{name:"orgId",type:{kind:"bigint"}}],nullable:!0,filter:{and:[["userId","=",D("userId")],["orgId","=",D("orgId")],["activityType","=","design_file_edit"]]},orderBy:[["actionAt","DESC"]]},{name:"lastDesignSeen",type:{kind:"object",name:"OrgActivity"},args:[{name:"userId",type:{kind:"bigint"}},{name:"orgId",type:{kind:"bigint"}}],nullable:!0,filter:{and:[["userId","=",D("userId")],["orgId","=",D("orgId")],["activityType","=","design_file_seen"]]},orderBy:[["actionAt","DESC"]]},{name:"lastWhiteboardEdit",type:{kind:"object",name:"OrgActivity"},args:[{name:"userId",type:{kind:"bigint"}},{name:"orgId",type:{kind:"bigint"}}],nullable:!0,filter:{and:[["userId","=",D("userId")],["orgId","=",D("orgId")],["activityType","=","whiteboard_file_edit"]]},orderBy:[["actionAt","DESC"]]},{name:"lastWhiteboardSeen",type:{kind:"object",name:"OrgActivity"},args:[{name:"userId",type:{kind:"bigint"}},{name:"orgId",type:{kind:"bigint"}}],nullable:!0,filter:{and:[["userId","=",D("userId")],["orgId","=",D("orgId")],["activityType","=","whiteboard_file_seen"]]},orderBy:[["actionAt","DESC"]]}]};var h$={name:"FileBrowserPreferences",fields:[{name:"id",type:{kind:"bigint"}},{name:"updatedAt",type:{kind:"datetime"}},{name:"createdAt",type:{kind:"datetime"}},{name:"userId",type:{kind:"bigint"}},{name:"orgId",type:{kind:"bigint"},nullable:!0},{name:"teamId",type:{kind:"bigint"},nullable:!0},{name:"migratedToSections",type:{kind:"bool"},nullable:!0},{name:"sidebarMigrationStatus",type:{kind:"enum",name:"SidebarMigrationStatus"},nullable:!0},{name:"orderedTeamIds",type:{kind:"list",ofType:{kind:"bigint"}},nullable:!0},{name:"orderedFavoritedResourceIds",type:{kind:"list",ofType:{kind:"bigint"}},nullable:!0},{name:"orderedLicenseGroupIds",type:{kind:"list",ofType:{kind:"bigint"}},nullable:!0},{name:"orderedSidebarSections",type:{kind:"list",ofType:{kind:"bigint"}},nullable:!0}]};var I$={name:"FileBrowserSectionPreferences",fields:[{name:"id",type:{kind:"bigint"}},{name:"updatedAt",type:{kind:"datetime"}},{name:"createdAt",type:{kind:"datetime"}},{name:"sectionType",type:{kind:"string"}},{name:"userId",type:{kind:"bigint"}},{name:"teamId",type:{kind:"bigint"},nullable:!0},{name:"orgId",type:{kind:"bigint"},nullable:!0},{name:"orderedFolderIds",type:{kind:"list",ofType:{kind:"bigint"}},nullable:!0}]};var x$={name:"FileCanvasMention",naturalKey:new Set(["fileKey","id"]),fields:[{name:"id",type:{kind:"uuid"}},{name:"fileKey",type:{kind:"string"}},{name:"mentionedUserId",type:{kind:"bigint"}},{name:"mentionedByUserId",type:{kind:"bigint"}},{name:"mentionedByUser",type:{kind:"object",name:"User"},filter:["id","=",h("mentionedByUserId")]},{name:"lastEditedByUserId",type:{kind:"bigint"},nullable:!0},{name:"lastEditedByUser",type:{kind:"object",name:"User"},filter:["id","=",h("lastEditedByUserId")],nullable:!0},{name:"messageMeta",type:{kind:"objects",name:"CommentMessageMeta"},embedded:!0},{name:"createdAt",type:{kind:"datetime"}},{name:"editedAt",type:{kind:"datetime"},nullable:!0},{name:"deletedAt",type:{kind:"datetime"},nullable:!0},{name:"thumbnailUrl",type:{kind:"string"},nullable:!0},{name:"nodeIdPath",type:{kind:"list",ofType:{kind:"string"}}}]};var _$={name:"FileCanvasMentionReadStatus",naturalKey:new Set(["fileKey","userId"]),fields:[{name:"id",type:{kind:"uuid"}},{name:"userId",type:{kind:"bigint"}},{name:"fileKey",type:{kind:"string"}},{name:"createdAt",type:{kind:"datetime"}},{name:"updatedAt",type:{kind:"datetime"}},{name:"allReadAt",type:{kind:"datetime"},nullable:!0},{name:"readCanvasMentions",type:{kind:"map",valueType:{kind:"string"}}},{name:"unreadCanvasMentions",type:{kind:"map",valueType:{kind:"string"}}}]};var v$={name:"FileCheckpoint",fields:[{name:"id",type:{kind:"bigint"}},{name:"key",type:{kind:"string"}},{name:"createdAt",type:{kind:"datetime"}},{name:"clientMeta",type:{kind:"string"}},{name:"thumbnailUrl",type:{kind:"string"}}]};var O$={name:"FileColorPalette",fields:[{name:"id",type:{kind:"bigint"}},{name:"fileKey",type:{kind:"string"}},{name:"colorPaletteUuid",type:{kind:"uuid"}},{name:"colorPalette",type:{kind:"object",name:"ColorPalette"},filter:["uuid","=",h("colorPaletteUuid")],nullable:!0,checkCanRead:{userId:b("userId")}}]};var S$={name:"FileFollower",fields:[{name:"id",type:{kind:"bigint"}},{name:"key",type:{kind:"string"}},{name:"userId",type:{kind:"bigint"}},{name:"notificationPreference",type:{kind:"string"},nullable:!0},{name:"unreadComments",type:{kind:"map",valueType:{kind:"bool"}},nullable:!0}]};var D$={name:"FileMerge",fields:[{name:"id",type:{kind:"bigint"}},{name:"branchFileKey",type:{kind:"string"}},{name:"branchFile",type:{kind:"object",name:"File"},filter:["key","=",h("branchFileKey")]},{name:"direction",type:{kind:"int"}},{name:"checkpointDiffId",type:{kind:"bigint"}},{name:"mergeResultCheckpointId",type:{kind:"bigint"},nullable:!0},{name:"updatedAt",type:{kind:"datetime"}},{name:"createdAt",type:{kind:"datetime"}},{name:"mergeRequest",type:{kind:"object",name:"MergeRequest"},filter:["fileMergeId","=",h("id")],nullable:!0},{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"user",type:{kind:"object",name:"User"},filter:["id","=",h("userId")],nullable:!0},{name:"mergeResultFileversionId",type:{kind:"bigint"},nullable:!0}]};var A$={name:"FilePresenter",fields:[{name:"id",type:{kind:"string"}},{name:"fileKey",type:{kind:"string"}},{name:"presenterExists",type:{kind:"bool"}},{name:"userId",type:{kind:"string"},nullable:!0},{name:"handle",type:{kind:"string"},nullable:!0},{name:"imageURL",type:{kind:"string"},nullable:!0},{name:"color",type:{kind:"map",valueType:{kind:"int"}},nullable:!0}]};var F$={name:"FilePrototypeLibCppConfig",fields:[{name:"id",type:{kind:"bigint"}},{name:"fileKey",type:{kind:"string"}},{name:"shouldLoad",type:{kind:"bool"}}]};var Qs=[{name:"id",type:{kind:"bigint"}},{name:"teamId",type:{kind:"bigint"},nullable:!0},{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"resourceId",type:{kind:"string"}},{name:"resourceType",type:{kind:"enum",name:"ResourceType"}},{name:"pending",type:{kind:"bool"},computed:!0,dependencies:{userId:n,pendingEmail:n}},{name:"level",type:{kind:"int"}},{name:"updatedAt",type:{kind:"datetime"}},{name:"createdAt",type:{kind:"datetime"}},{name:"pendingEmail",type:{kind:"string"},nullable:!0},{name:"user",type:{kind:"object",name:"User"},filter:["id","=",h("userId")],nullable:!0},{name:"isOwnerOfResource",type:{kind:"bool"},computed:!0,dependencies:{level:n}}];var P$={name:"FileRole",fields:[...Qs,{name:"file",type:{kind:"object",name:"File"},filter:["key","=",h("resourceId")]},{name:"canRead",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:{id:n,pending:n,file:{id:n,linkAccess:n,roleOnObjectForUser:[{userId:x("userId")},{id:n}],roleOnObjectProjectForUser:[{userId:x("userId")},{id:n}]}}}]};var j$={name:"FileRoleRequest",fields:[{name:"id",type:{kind:"bigint"}},{name:"updatedAt",type:{kind:"datetime"}},{name:"createdAt",type:{kind:"datetime"}},{name:"status",type:{kind:"string"}},{name:"fileKey",type:{kind:"string"}},{name:"level",type:{kind:"int"}},{name:"requesterUserId",type:{kind:"bigint"}},{name:"requesterUser",type:{kind:"object",name:"User"},filter:["id","=",h("requesterUserId")],nullable:!0}]};var T$={name:"FileSeenState",fields:[{name:"id",type:{kind:"bigint"}},{name:"fileKey",type:{kind:"string"}},{name:"userId",type:{kind:"bigint"}},{name:"createdAt",type:{kind:"datetime"}},{name:"updatedAt",type:{kind:"datetime"}},{name:"viewedOn",type:{kind:"datetime"}},{name:"user",type:{kind:"object",name:"User"},filter:["id","=",h("userId")]}]};var C$={name:"FileTrackTags",embedded:!0,fields:[{name:"isTemplate",type:{kind:"bool"},nullable:!0},{name:"starterLibrarySrcFileKey",type:{kind:"string"},nullable:!0}]};var E$={name:"FileVersion",naturalKey:new Set(["fileKey","id"]),fields:[{name:"id",type:{kind:"bigint"}},{name:"fileKey",type:{kind:"string"}},{name:"view",type:{kind:"int"}},{name:"label",nullable:!0,type:{kind:"string"}},{name:"description",nullable:!0,type:{kind:"string"}},{name:"userId",type:{kind:"bigint"}},{name:"updatedAt",type:{kind:"datetime"}},{name:"user",type:{kind:"object",name:"User"},filter:["id","=",h("userId")]},{name:"checkpoint",type:{kind:"object",name:"FileVersionCheckpoint"},embedded:!0,nullable:!0}]};var k$={name:"FileVersionCheckpoint",embedded:!0,fields:[{name:"key",type:{kind:"string"}},{name:"createdAt",type:{kind:"string"}}]};var w$={name:"GuestOrgUser",fields:[...yl,{name:"user",type:{kind:"object",name:"User"},filter:["id","=",h("userId")]},{name:"org",type:{kind:"object",name:"OrgInfo"},filter:["id","=",h("orgId")],nullable:!0}]};var R$={name:"HubFile",fields:[{name:"id",type:{kind:"bigint"}},{name:"createdAt",type:{kind:"datetime"}},{name:"unpublishedAt",type:{kind:"datetime"},nullable:!0},{name:"publishingStatusUpdatedAt",type:{kind:"datetime"},nullable:!0},{name:"contentVerifiedAt",type:{kind:"datetime"},nullable:!0},{name:"contentBlockedAt",type:{kind:"datetime"},nullable:!0},{name:"profileId",type:{kind:"bigint"}},{name:"figFileId",type:{kind:"bigint"},nullable:!0},{name:"monetizedResourceMetadataId",type:{kind:"bigint"},nullable:!0},{name:"publishingStatus",type:{kind:"enum",name:"PublishingStatus"},nullable:!0},{name:"duplicateCount",type:{kind:"int"}},{name:"likeCount",type:{kind:"int"}},{name:"viewCount",type:{kind:"int"}},{name:"commentCount",type:{kind:"int"}},{name:"resourcePinnedAt",type:{kind:"datetime"},nullable:!0},{name:"_viewerMode",type:{kind:"int"}},{name:"viewerMode",type:{kind:"enum",name:"ViewerMode"},computed:!0,dependencies:{_viewerMode:n}},{name:"profile",type:{kind:"object",name:"Profile"},filter:["id","=",h("profileId")]},{name:"currentHubFileVersionId",type:{kind:"bigint"},nullable:!0},{name:"currentHubFileVersion",type:{kind:"object",name:"HubFileVersion"},nullable:!0,filter:["id","=",h("currentHubFileVersionId")]},{name:"verificationStatus",type:{kind:"enum",name:"VerificationStatus"},computed:!0,dependencies:{contentVerifiedAt:n,contentBlockedAt:n}},{name:"thumbnailUrl",type:{kind:"string"},computed:!0,dependencies:{currentHubFileVersion:{coverImagePath:n}}},{name:"redirectCanvasThumbnailUrl",type:{kind:"string"},computed:!0,dependencies:{currentHubFileVersion:{canvasCoverImagePath:n}}},{name:"canvasSnapshotUrl",type:{kind:"string"},computed:!0,dependencies:{currentHubFileVersion:{canvasSnapshotPath:n}}},{name:"thumbnailIsSet",type:{kind:"bool"},computed:!0,dependencies:{currentHubFileVersion:{thumbnailGuid:n}}},{name:"isPinned",type:{kind:"bool"},computed:!0,dependencies:{resourcePinnedAt:n}},{name:"userId",type:{kind:"bigint"}},{name:"publishedByUser",type:{kind:"object",name:"User"},nullable:!0,filter:["id","=",h("userId")]},{name:"currentUser",nullable:!0,type:{kind:"object",name:"User"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["id","=",D("userId")]},{name:"canView",computed:!0,type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],dependencies:L_["HUB_FILE::CAN_VIEW"]},{name:"canRead",computed:!0,type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],dependencies:L_["HUB_FILE::CAN_VIEW"]},{name:"canRate",computed:!0,type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"profileId",type:{kind:"bigint"},nullable:!0}],dependencies:{...L_["HUB_FILE::CAN_RATE"],hubFileCommunityRating:[{profileId:{type:"view",ref:"profileId"}},{hubFileId:null,profileId:null,ratingValue:null}],hubFileDuplicatesList:[{userId:{type:"view",ref:"userId"}},{id:null,hubFileId:null,isPreview:null,userId:null}]}},{name:"hubFileMonetizedResourceMetadata",type:{kind:"object",name:"MonetizedResourceMetadata"},nullable:!0,filter:["id","=",h("monetizedResourceMetadataId")]},{name:"hubFileCommunityRating",nullable:!0,type:{kind:"object",name:"CommunityComment"},args:[{name:"profileId",type:{kind:"bigint"},nullable:!0}],filter:{and:[["profileId","=",D("profileId")],["ratingValue","<>",null],["hubFileId","=",h("id")]]}},{name:"hubFileDuplicates",type:{kind:"object",name:"HubFileDuplicate"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["hubFileId","=",h("id")],["userId","=",D("userId")],["userId","<>",null]]}},{name:"hubFileDuplicatesList",type:{kind:"objects",name:"HubFileDuplicate"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["hubFileId","=",h("id")],["userId","=",D("userId")],["userId","<>",null]]},orderBy:[["createdAt","DESC"]]},{name:"communityResourcePayment",type:{kind:"object",name:"CommunityResourcePayment"},nullable:!0,args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],neverCheckCanRead:!0,filter:{and:[["monetizedResourceMetadataId","=",h("monetizedResourceMetadataId")],["userId","=",D("userId")],["userId","<>",null]]}},{name:"userMonetizationMetadata",type:{kind:"object",name:"UserMonetizationMetadata"},filter:["userId","=",h("id")],nullable:!0,neverCheckCanRead:!0},{name:"communityPublisher",type:{kind:"object",name:"CommunityPublisher"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,neverCheckCanRead:!0,filter:{and:[["hubFileId","=",h("id")],["userId","=",D("userId")]]}}]};var M$={name:"HubFileDuplicate",fields:[{name:"id",type:{kind:"bigint"}},{name:"hubFileId",type:{kind:"bigint"}},{name:"figFileId",type:{kind:"bigint"}},{name:"checkpointId",type:{kind:"bigint"},nullable:!0},{name:"userId",type:{kind:"bigint"}},{name:"createdAt",type:{kind:"datetime"}},{name:"isPreview",type:{kind:"bool"},nullable:!0}]};var U$={name:"HubFileVersion",fields:[{name:"id",type:{kind:"bigint"}},{name:"createdAt",type:{kind:"datetime"}},{name:"name",type:{kind:"string"}},{name:"coverImagePath",type:{kind:"string"},nullable:!0},{name:"thumbnailGuid",type:{kind:"string"},nullable:!0},{name:"canvasCoverImagePath",type:{kind:"string"},nullable:!0},{name:"canvasSnapshotPath",type:{kind:"string"},nullable:!0}]};var L$={name:"IDPUser",fields:[{name:"id",type:{kind:"bigint"}},{name:"createdAt",type:{kind:"datetime"}},{name:"updatedAt",type:{kind:"datetime"}},{name:"userName",type:{kind:"string"}},{name:"scim",embedded:!0,type:{kind:"object",name:"EmbeddedSCIMInfo"}}]};var N$={name:"JamboardOfferRedeemedAt",fields:[{name:"id",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"}},{name:"redeemedAt",type:{kind:"datetime"},nullable:!0}]};var V$={name:"LastFrameSelection",fields:[{name:"id",type:{kind:"string"}},{name:"fileKey",type:{kind:"string"},nullable:!0},{name:"frameId",type:{kind:"string"},nullable:!0},{name:"frameName",type:{kind:"string"},nullable:!0}]};var q$={name:"LatestClipboardData",fields:[{name:"id",type:{kind:"string"}},{name:"deviceType",type:{kind:"enum",name:"DeviceType"}},{name:"timestamp",type:{kind:"string"}},{name:"presignedDownloadUrl",type:{kind:"string"}}]};var B$={name:"Library",naturalKey:new Set(["fileKey"]),fields:[...w_,{name:"fileKey",type:{kind:"string"}},{name:"file",type:{kind:"object",name:"File"},filter:["id","=",h("fileKey")]},{name:"hubFileId",type:{kind:"bigint"},nullable:!0},{name:"canRead",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:{file:{id:n,canView:[{userId:x("userId")},n],trashedAt:n}}},{name:"approvedLibraries",type:{kind:"objects",name:"ApprovedLibrary"},filter:["fileKey","=",h("fileKey")],nullable:!0}]};var W$={name:"LibraryFileSubscription",fields:[...M_,{name:"hubFileId",type:{kind:"bigint"},nullable:!0},{name:"libraryFileKey",type:{kind:"string"}},{name:"library",type:{kind:"object",name:"Library"},filter:{and:[["fileKey","=",h("libraryFileKey")],["hubFileId","=",null]]},nullable:!0},{name:"canRead",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:{library:{file:{id:n,canView:[{userId:x("userId")},n],trashedAt:n}}}}]};var G$={name:"LibraryHierarchyPath",fields:[{name:"id",type:{kind:"bigint"}},{name:"fileKey",type:{kind:"string"}},{name:"hubFileId",type:{kind:"bigint"},nullable:!0},{name:"pageName",type:{kind:"string"},nullable:!0},{name:"containingFrameName",type:{kind:"string"},nullable:!0},{name:"nameHierarchyPath",type:{kind:"string"},nullable:!0},{name:"components",type:{kind:"objects",name:"Component"},args:[{name:"initialPageSize",type:{kind:"int"}}],filter:{and:[["libraryHierarchyPathId","=",h("id")],["unpublishedAt","=",null]]},expectedMaxCount:1e4},{name:"styles",type:{kind:"objects",name:"Style"},args:[{name:"initialPageSize",type:{kind:"int"}}],filter:{and:[["libraryHierarchyPathId","=",h("id")],["unpublishedAt","=",null]]},expectedMaxCount:1e4},{name:"stateGroups",type:{kind:"objects",name:"StateGroup"},args:[{name:"initialPageSize",type:{kind:"int"}}],filter:{and:[["libraryHierarchyPathId","=",h("id")],["unpublishedAt","=",null]]},expectedMaxCount:1e4}]};var H$={name:"LibraryItemContainingFrame",embedded:!0,fields:[{name:"name",type:{kind:"string"},nullable:!0},{name:"nodeId",type:{kind:"string"},nullable:!0},{name:"backgroundColor",type:{kind:"string"},nullable:!0},{name:"pageName",type:{kind:"string"},nullable:!0},{name:"pageId",type:{kind:"string"},nullable:!0},{name:"containingStateGroup",type:{kind:"object",name:"LibraryItemContainingStateGroup"},embedded:!0,nullable:!0}]};var K$={name:"LibraryItemContainingStateGroup",embedded:!0,fields:[{name:"name",type:{kind:"string"},nullable:!0},{name:"nodeId",type:{kind:"string"},nullable:!0}]};var Js=[{name:"id",type:{kind:"bigint"}},{name:"fileKey",type:{kind:"string"}},{name:"figJamSubscribed",type:{kind:"bool"},nullable:!0},{name:"library",type:{kind:"object",name:"Library"},filter:{and:[["fileKey","=",h("fileKey")],["hubFileId","=",null]]},nullable:!0},{name:"libraryFileSubscriptionOverride",type:{kind:"object",name:"LibraryFileSubscription"},args:[{name:"subscribingFileKey",type:{kind:"string"}}],filter:{and:[["libraryFileKey","=",h("fileKey")],["fileKey","=",D("subscribingFileKey")],["hubFileId","=",null]]},nullable:!0},{name:"canRead",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:{library:{file:{id:n,canView:[{userId:x("userId")},n],trashedAt:n}}}}];var $$={name:"LibraryLicenseGroupSubscription",fields:[...Js,{name:"isSubscribed",type:{kind:"bool"}},{name:"licenseGroupId",type:{kind:"bigint"}},{name:"licenseGroup",type:{kind:"object",name:"LicenseGroup"},filter:["id","=",h("licenseGroupId")]},{name:"libraryTeamSubscriptionOverride",type:{kind:"object",name:"LibraryTeamSubscription"},args:[{name:"subscribingFileTeamId",type:{kind:"bigint"}}],filter:{and:[["fileKey","=",h("fileKey")],["teamId","=",D("subscribingFileTeamId")]]},nullable:!0}]};var z$={name:"LibraryOrgSubscription",fields:[...Js,{name:"isSubscribed",type:{kind:"bool"},nullable:!0},{name:"orgId",type:{kind:"bigint"}},{name:"org",type:{kind:"object",name:"Org"},filter:["id","=",h("orgId")]},{name:"libraryWorkspaceSubscriptionOverride",type:{kind:"object",name:"LibraryWorkspaceSubscription"},args:[{name:"subscribingFileWorkspaceId",type:{kind:"bigint"},nullable:!0}],filter:{and:[["fileKey","=",h("fileKey")],["workspaceId","=",D("subscribingFileWorkspaceId")]]},nullable:!0},{name:"libraryLicenseGroupSubscriptionOverride",type:{kind:"object",name:"LibraryLicenseGroupSubscription"},args:[{name:"subscribingFileLicenseGroupId",type:{kind:"bigint"},nullable:!0}],filter:{and:[["fileKey","=",h("fileKey")],["licenseGroupId","=",D("subscribingFileLicenseGroupId")]]},nullable:!0},{name:"libraryTeamSubscriptionOverride",type:{kind:"object",name:"LibraryTeamSubscription"},args:[{name:"subscribingFileTeamId",type:{kind:"bigint"}}],filter:{and:[["fileKey","=",h("fileKey")],["teamId","=",D("subscribingFileTeamId")]]},nullable:!0},{name:"libraryUserSubscriptionOverride",type:{kind:"object",name:"LibraryUserSubscription"},args:[{name:"subscribingUserId",type:{kind:"bigint"},nullable:!0}],filter:{and:[["fileKey","=",h("fileKey")],["userId","=",D("subscribingUserId")]]},nullable:!0}]};var Y$={name:"LibraryPublish",fields:[{name:"id",type:{kind:"uuid"}},{name:"fileKey",type:{kind:"string"}},{name:"fileCheckpointId",type:{kind:"bigint"}},{name:"count",type:{kind:"int"}},{name:"createdAt",type:{kind:"datetime"}},{name:"userId",type:{kind:"bigint"}},{name:"assetPublishStatuses",type:{kind:"objects",name:"AssetPublishStatus"},expectedMaxCount:1e4,filter:["libraryPublishId","=",h("id")],nullable:!0},{name:"error",type:{kind:"string"},nullable:!0},{name:"file",type:{kind:"object",name:"File"},filter:["key","=",h("fileKey")]},{name:"canRead",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:{file:{id:n,canView:[{userId:x("userId")},n],trashedAt:n}}}]};var Q$={name:"LibraryPublishV2",fields:[{name:"id",type:{kind:"uuid"}},{name:"fileKey",type:{kind:"string"}},{name:"fileCheckpointId",type:{kind:"bigint"}},{name:"count",type:{kind:"int"}},{name:"createdAt",type:{kind:"datetime"}},{name:"userId",type:{kind:"bigint"}},{name:"error",type:{kind:"string"},nullable:!0},{name:"assetSuccessCount",type:{kind:"bigint"},nullable:!0},{name:"assetFailureCount",type:{kind:"bigint"},nullable:!0},{name:"assetPendingCount",type:{kind:"bigint"},nullable:!0},{name:"firstAssetError",type:{kind:"string"},nullable:!0},{name:"file",type:{kind:"object",name:"File"},filter:["key","=",h("fileKey")]},{name:"canRead",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:{file:{id:n,canView:[{userId:x("userId")},n],trashedAt:n}}}]};var J$={name:"LibraryTeamSubscription",fields:[...Js,{name:"isSubscribed",type:{kind:"bool"}},{name:"teamId",type:{kind:"bigint"}},{name:"team",type:{kind:"object",name:"Team"},filter:["id","=",h("teamId")]},{name:"libraryUserSubscriptionOverride",type:{kind:"object",name:"LibraryUserSubscription"},args:[{name:"subscribingUserId",type:{kind:"bigint"},nullable:!0}],filter:{and:[["fileKey","=",h("fileKey")],["userId","=",D("subscribingUserId")]]},nullable:!0}]};var X$={name:"LibraryUserSubscription",fields:[...Js,{name:"isSubscribed",type:{kind:"bool"}},{name:"userId",type:{kind:"bigint"}},{name:"user",type:{kind:"object",name:"User"},filter:["id","=",h("userId")]}]};var Z$={name:"LibraryWorkspaceSubscription",fields:[...Js,{name:"isSubscribed",type:{kind:"bool"}},{name:"workspaceId",type:{kind:"bigint"}},{name:"workspace",type:{kind:"object",name:"Workspace"},filter:["id","=",h("workspaceId")]},{name:"libraryTeamSubscriptionOverride",type:{kind:"object",name:"LibraryTeamSubscription"},args:[{name:"subscribingFileTeamId",type:{kind:"bigint"}}],filter:{and:[["fileKey","=",h("fileKey")],["teamId","=",D("subscribingFileTeamId")]]},nullable:!0}]};var e4={name:"LicenseGroupFullPaidStatusCount",embedded:!0,fields:[{name:"licenseType",type:{kind:"enum",name:"LicenseType"}},{name:"count",type:{kind:"bigint"}}]},t4={name:"LicenseGroupMemberCounts",fields:[{name:"id",type:{kind:"string"}},{name:"totalCount",type:{kind:"bigint"}},{name:"fullPaidStatusCounts",type:{kind:"objects",name:"LicenseGroupFullPaidStatusCount"},embedded:!0},{name:"designEditorCount",type:{kind:"bigint"}},{name:"whiteboardEditorCount",type:{kind:"bigint"}}]},r4={name:"LicenseGroup",fields:[{name:"id",type:{kind:"bigint"}},{name:"orgId",type:{kind:"bigint"}},{name:"org",type:{kind:"object",name:"Org"},filter:["id","=",h("orgId")]},{name:"licenseGroupsConfigId",type:{kind:"bigint"}},{name:"name",type:{kind:"string"},nullable:!0},{name:"createdAt",type:{kind:"datetime"}},{name:"deletedAt",type:{kind:"datetime"},nullable:!0},{name:"mirroredWorkspaceId",type:{kind:"bigint"},nullable:!0},{name:"librarySubscriptions",type:{kind:"objects",name:"LibraryLicenseGroupSubscription"},filter:{and:[["licenseGroupId","=",h("id")]]},nullable:!0},{name:"librarySubscriptionByLibraryKey",type:{kind:"object",name:"LibraryLicenseGroupSubscription"},args:[{name:"fileKey",type:{kind:"string"}}],filter:{and:[["fileKey","=",D("fileKey")],["licenseGroupId","=",h("id")]]},nullable:!0},{name:"allowlistedPlugins",type:{kind:"objects",name:"WhitelistedPlugin"},filter:{and:[["allowlistGroupId","=",h("id")],["allowlistGroupType","=","LicenseGroup"]]}},{name:"isPluginAllowlisted",type:{kind:"bool"},args:[{name:"pluginId",type:{kind:"string"}}],computed:!0,dependencies:{allowlistedPlugins:{pluginId:n}}},{name:"canRead",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:{org:{canRead:[{userId:D("userId")},n]}}},{name:"licenseGroupMemberCounts",args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],type:{kind:"object",name:"LicenseGroupMemberCounts"},resolver:{type:"HTTP",uri:"/api/internal/livegraph/sinatra_resolver/license_group_member_counts",queryParams:{licenseGroupId:h("id"),userId:D("userId")},realtimePolicy:{type:"RedisPubsub",channelPrefix:"license-group-full-paid-status-counts-",channelPostfix:[h("id")]}}}]};var i4={name:"LicenseGroupAdmin",fields:[{name:"id",type:{kind:"bigint"}},{name:"licenseGroupId",type:{kind:"bigint"}},{name:"orgUserId",type:{kind:"bigint"}},{name:"licenseGroup",type:{kind:"object",name:"LicenseGroup"},filter:["id","=",h("licenseGroupId")]},{name:"createdAt",type:{kind:"datetime"}},{name:"updatedAt",type:{kind:"datetime"}}]};var n4={name:"LicenseGroupMember",fields:[{name:"id",type:{kind:"bigint"}},{name:"licenseGroupId",type:{kind:"bigint"},nullable:!0},{name:"orgUserId",type:{kind:"bigint"}},{name:"createdAt",type:{kind:"datetime"}},{name:"updatedAt",type:{kind:"datetime"}},{name:"assignedAt",type:{kind:"datetime"},nullable:!0},{name:"updateReason",type:{kind:"enum",name:"LicenseGroupUpdateReason"},nullable:!0},{name:"actorUserId",type:{kind:"bigint"},nullable:!0},{name:"licenseGroup",type:{kind:"object",name:"LicenseGroup"},filter:["id","=",h("licenseGroupId")]}]};var s4={name:"LicenseGroupsConfig",fields:[{name:"id",type:{kind:"bigint"}},{name:"orgId",type:{kind:"bigint"}},{name:"nuxActiveAt",type:{kind:"datetime"},nullable:!0},{name:"licenseGroups",type:{kind:"objects",name:"LicenseGroup"},args:[{name:"initialPageSize",type:{kind:"int"}}],filter:{and:[["licenseGroupsConfigId","=",h("id")],["deletedAt","=",null]]}}]};var o4={name:"LinkedFigFile",fields:[{name:"id",type:{kind:"bigint"}},{name:"sourceFileKey",type:{kind:"string"}},{name:"destinationFileKey",type:{kind:"string"}},{name:"name",type:{kind:"string"}},{name:"position",type:{kind:"string"}}],deprecated:{reason:"Use FigFileLink",date:"2021-10-23"}};var a4={name:"MergeRequest",fields:[{name:"id",type:{kind:"bigint"}},{name:"key",type:{kind:"string"}},{name:"reviewNumber",type:{kind:"int"},nullable:!0},{name:"branchFileKey",type:{kind:"string"}},{name:"branchFile",type:{kind:"object",name:"File"},filter:["key","=",h("branchFileKey")]},{name:"fileRepoId",type:{kind:"bigint"},nullable:!0},{name:"fileRepo",type:{kind:"object",name:"Repo"},filter:["id","=",h("fileRepoId")],nullable:!0},{name:"ownedBy",type:{kind:"bigint"}},{name:"owner",type:{kind:"object",name:"User"},filter:["id","=",h("ownedBy")],nullable:!0},{name:"title",type:{kind:"string"},nullable:!0},{name:"description",type:{kind:"string"},nullable:!0},{name:"closedAt",type:{kind:"datetime"},nullable:!0},{name:"closedBy",type:{kind:"bigint"},nullable:!0},{name:"closer",type:{kind:"object",name:"User"},filter:["id","=",h("closedBy")],nullable:!0},{name:"fileMergeId",type:{kind:"bigint"},nullable:!0},{name:"reviewers",type:{kind:"objects",name:"MergeRequestReviewer"},filter:["mergeRequestKey","=",h("key")],expectedMaxCount:100},{name:"mergeSummaryNotes",type:{kind:"string"},nullable:!0},{name:"requestedAt",type:{kind:"datetime"},nullable:!0},{name:"updatedAt",type:{kind:"datetime"}},{name:"createdAt",type:{kind:"datetime"}}]};var l4={name:"MergeRequestReviewer",fields:[{name:"id",type:{kind:"bigint"}},{name:"mergeRequestKey",type:{kind:"string"}},{name:"userId",type:{kind:"bigint"}},{name:"user",type:{kind:"object",name:"User"},filter:["id","=",h("userId")],nullable:!0},{name:"notes",type:{kind:"string"},nullable:!0},{name:"changesRequestedAt",type:{kind:"datetime"},nullable:!0},{name:"approvedAt",type:{kind:"datetime"},nullable:!0},{name:"updatedAt",type:{kind:"datetime"}},{name:"createdAt",type:{kind:"datetime"}}]};var u4={name:"MonetizedResourceMetadata",fields:[{name:"id",type:{kind:"bigint"}},{name:"hubFileId",type:{kind:"bigint"},nullable:!0},{name:"pluginId",type:{kind:"bigint"},nullable:!0},{name:"widgetId",type:{kind:"bigint"},nullable:!0},{name:"hasFreemiumCode",type:{kind:"bool"},nullable:!0},{name:"hubFile",type:{kind:"object",name:"HubFile"},filter:["id","=",h("hubFileId")],nullable:!0},{name:"plugin",type:{kind:"object",name:"Plugin"},filter:["id","=",h("pluginId")],nullable:!0},{name:"widget",type:{kind:"object",name:"Plugin"},filter:["id","=",h("widgetId")],nullable:!0}]};var d4={name:"NodeStatusUsage",naturalKey:new Set(["fileKey","id"]),fields:[{name:"id",type:{kind:"string"}},{name:"fileKey",type:{kind:"string"}},{name:"nodeId",type:{kind:"string"}},{name:"nodeStatusType",type:{kind:"string"}},{name:"position",type:{kind:"string"},nullable:!0},{name:"createdAt",type:{kind:"datetime"}},{name:"updatedAt",type:{kind:"datetime"}}]};var c4={name:"OauthApp",fields:[{name:"id",type:{kind:"bigint"}},{name:"name",type:{kind:"string"}},{name:"userId",type:{kind:"bigint"}},{name:"clientId",type:{kind:"string"}},{name:"website",type:{kind:"string"}},{name:"logo",type:{kind:"string"}},{name:"createdAt",type:{kind:"datetime"}},{name:"updatedAt",type:{kind:"datetime"}}]};var p4={name:"OnboardingUserSignalAnswer",embedded:!0,fields:[{name:"value",type:{kind:"list",ofType:{kind:"string"}},nullable:!0},{name:"updatedAt",type:{kind:"date"},nullable:!0}]};var m4={name:"OnboardingUserSignalData",embedded:!0,fields:[{name:"workLocationV1",type:{kind:"object",name:"OnboardingUserSignalAnswer"},embedded:!0,nullable:!0},{name:"expandedUsagePurposeV1",type:{kind:"object",name:"OnboardingUserSignalAnswer"},embedded:!0,nullable:!0},{name:"howCollabV1",type:{kind:"object",name:"OnboardingUserSignalAnswer"},embedded:!0,nullable:!0},{name:"howWillYouUseFigmaV1",type:{kind:"object",name:"OnboardingUserSignalAnswer"},embedded:!0,nullable:!0},{name:"expandedUsagePurposeV2",type:{kind:"object",name:"OnboardingUserSignalAnswer"},embedded:!0,nullable:!0},{name:"howCollabV2",type:{kind:"object",name:"OnboardingUserSignalAnswer"},embedded:!0,nullable:!0},{name:"haveUsedFigmaProductsBeforeV1",type:{kind:"object",name:"OnboardingUserSignalAnswer"},embedded:!0,nullable:!0}]};var g4={name:"OnboardingUserSignals",fields:[{name:"id",type:{kind:"bigint"}},{name:"createdAt",type:{kind:"datetime"}},{name:"updatedAt",type:{kind:"datetime"}},{name:"signals",type:{kind:"object",name:"OnboardingUserSignalData"},embedded:!0,nullable:!0},{name:"userId",type:{kind:"bigint"}}]};var f4={name:"OpenMergeRequest",fields:[{name:"id",type:{kind:"bigint"}},{name:"mergeRequestKey",type:{kind:"string"}},{name:"mergeRequest",type:{kind:"object",name:"MergeRequest"},filter:["key","=",h("mergeRequestKey")]},{name:"branchFileKey",type:{kind:"string"}},{name:"branchFile",type:{kind:"object",name:"File"},filter:["key","=",h("branchFileKey")]}]};var V_={name:"OrgInfo",fields:[{name:"id",type:{kind:"bigint"}},{name:"name",type:{kind:"string"}},{name:"imgUrl",type:{kind:"string"},nullable:!0},{name:"createdAt",type:{kind:"datetime"}},{name:"domainCapture",type:{kind:"bool"},nullable:!0},{name:"inviteWhitelist",type:{kind:"object",name:"OrgInviteWhitelist"},nullable:!0,embedded:!0},{name:"bigmaEnabledAt",type:{kind:"datetime"},nullable:!0},{name:"templatePickerDisabled",type:{kind:"bool"},nullable:!0},{name:"figjamDisabledAt",type:{kind:"datetime"},nullable:!0},{name:"cursorChatDisabledAt",type:{kind:"datetime"},nullable:!0},{name:"isFigJamDisabled",type:{kind:"bool"},computed:!0,dependencies:{figjamDisabledAt:n}},{name:"voiceDisabledAt",type:{kind:"datetime"},nullable:!0},{name:"customTemplatesAllowed",type:{kind:"enum",name:"CustomTemplatesPermissions"},nullable:!0},{name:"sharedOrgLicenseGroupSetting",type:{kind:"object",name:"SharedOrgLicenseGroupSetting"},nullable:!0,filter:{and:[["resourceType","=","Org"],["resourceId","=",h("id")]]}},{name:"inExpExpiringPublicLinks",type:{kind:"bool"},computed:!0,dependencies:{}},{name:"inExpWorkspaceLevelLinkControls",type:{kind:"bool"},computed:!0,dependencies:{}},{name:"featuredScimMetadata",type:{kind:"enum",name:"FeaturedScimMetadata"},nullable:!0},{name:"vatGstId",type:{kind:"string"},nullable:!0},{name:"taxIdVerificationStatus",type:{kind:"enum",name:"TaxIdVerificationStatus"},nullable:!0},{name:"devModeOptInPlanProperty",type:{kind:"object",name:"PlanProperties"},filter:{and:[["planId","=",h("id")],["planType","=","organization"],["property","=","DEV_MODE_OPT_IN_REQUIREMENT_ACCEPTANCE_DATE"]]},nullable:!0},{name:"publicLinksBannedAt",type:{kind:"datetime"},nullable:!0,deprecated:{reason:"Use sharedOrgLicenseGroupSetting or orgSharedSetting",date:"2023-04-19"}},{name:"publicLinksBanned",type:{kind:"bool"},computed:!0,dependencies:{},deprecated:{reason:"Use sharedOrgLicenseGroupSetting or orgSharedSetting",date:"2023-04-19"}},{name:"publicLinksRequirePassword",type:{kind:"bool"},computed:!0,dependencies:{},deprecated:{reason:"Use sharedOrgLicenseGroupSetting or orgSharedSetting",date:"2023-04-19"}},{name:"publicLinksRequirePasswordEnabledAt",type:{kind:"datetime"},nullable:!0,deprecated:{reason:"Use sharedOrgLicenseGroupSetting or orgSharedSetting",date:"2023-04-19"}}]};var b4={name:"OrgMemberCount",fields:[{name:"id",type:{kind:"string"}},{name:"data",type:{kind:"int"}}]},y4={name:"OrgWorkspaceCount",fields:[{name:"id",type:{kind:"string"}},{name:"data",type:{kind:"int"}}]},h4={name:"OrgDiscoverableTeamCount",fields:[{name:"id",type:{kind:"string"}},{name:"data",type:{kind:"int"}}]},I4={name:"Org",fields:[...V_.fields,{name:"currentOrgUser",type:{kind:"object",name:"OrgUser"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",D("userId")],["orgId","=",h("id")],["permission","<>","guest"]]}},{name:"currentPrivilegedOrgUser",type:{kind:"object",name:"PrivilegedOrgUser"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",D("userId")],["orgId","=",h("id")],["permission","<>","guest"]]}},{name:"currentBaseOrgUser",type:{kind:"object",name:"BaseOrgUser"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",D("userId")],["orgId","=",h("id")]]}},{name:"teams",type:{kind:"objects",name:"Team"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["orgId","=",h("id")],checkCanRead:{userId:D("userId")},expectedMaxCount:1e4},{name:"teamsWithSummary",type:{kind:"objects",name:"TeamWithSummary"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,checkCanRead:{userId:D("userId")},filter:["orgId","=",h("id")],expectedMaxCount:1e4},{name:"members",type:{kind:"objects",name:"OrgUser"},nullable:!0,filter:["orgId","=",h("id")],deprecated:{reason:"Use baseOrgUserMembers",date:"2022-02-11"}},{name:"baseOrgUserMembers",type:{kind:"objects",name:"BaseOrgUser"},nullable:!0,args:[{name:"initialPageSize",type:{kind:"int"}}],filter:["orgId","=",h("id")]},{name:"currentUser",nullable:!0,type:{kind:"object",name:"User"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["id","=",D("userId")]},{name:"isOrgUserExternallyRestricted",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:{id:n,currentUser:[{userId:x("userId")},{id:n,externalRestrictedOrgId:n}]}},{name:"workshopDisabledAt",nullable:!0,type:{kind:"datetime"}},{name:"installedPlugins",type:{kind:"objects",name:"PluginInstall"},args:[{name:"initialPageSize",type:{kind:"int"}}],filter:["orgId","=",h("id")],expectedMaxCount:1e3},{name:"_allowedPublicPlugins",nullable:!0,type:{kind:"object",name:"OrgAllowedPublicPlugins"},filter:["orgId","=",h("id")]},{name:"publicPluginsAllowed",type:{kind:"bool"},computed:!0,dependencies:{_allowedPublicPlugins:{id:n,publicPluginsAllowed:n}}},{name:"domainCaptureDomains",type:{kind:"list",ofType:{kind:"string"}},computed:!0,dependencies:{orgDomains:{domain:n}}},{name:"pluginRequests",type:{kind:"objects",name:"PluginRequest"},filter:["orgId","=",h("id")]},{name:"whitelistedPlugins",type:{kind:"objects",name:"WhitelistedPlugin"},filter:["orgId","=",h("id")],expectedMaxCount:1e4},{name:"allowlistedPlugins",type:{kind:"objects",name:"WhitelistedPlugin"},filter:{and:[["allowlistGroupId","=",h("id")],["allowlistGroupType","=","Org"]]}},{name:"isPluginAllowlisted",type:{kind:"bool"},args:[{name:"pluginId",type:{kind:"string"}}],computed:!0,dependencies:{allowlistedPlugins:{pluginId:n}}},{name:"orgDomains",type:{kind:"objects",name:"OrgDomain"},filter:["orgId","=",h("id")],expectedMaxCount:1500},{name:"licenseGroupsConfig",type:{kind:"object",name:"LicenseGroupsConfig"},filter:["orgId","=",h("id")],nullable:!0},{name:"librarySubscriptions",type:{kind:"objects",name:"LibraryOrgSubscription"},filter:{and:[["orgId","=",h("id")]]},nullable:!0},{name:"librarySubscriptionByLibraryKey",type:{kind:"object",name:"LibraryOrgSubscription"},args:[{name:"fileKey",type:{kind:"string"}}],filter:{and:[["fileKey","=",D("fileKey")],["orgId","=",h("id")]]},nullable:!0},{name:"widgetsWhitelistEnforced",nullable:!0,type:{kind:"bool"}},{name:"pluginsWhitelistEnforced",nullable:!0,type:{kind:"bool"}},{name:"pluginRequestsAllowed",type:{kind:"bool"}},{name:"widgetRequestsAllowed",type:{kind:"bool"}},{name:"inExpTeamCreationControls",type:{kind:"bool"},computed:!0,dependencies:{},deprecated:{reason:" No longer needed to maintain compliance with PermissionsV2 required fields",date:"2023-01-24"}},{name:"hasOrgEditLinksEditHeuristics",type:{kind:"bool"},computed:!0,dependencies:{}},{name:"canRead",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:nr(Uf["ORG::IS_MEMBER"],{id:n,currentPrivilegedOrgUser:[{userId:x("userId")},{id:n,permission:n}]})},{name:"canView",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:Uf["ORG::IS_MEMBER"]},{name:"canAccessDraftsFolder",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:Uf["ORG::IS_GUEST"]},{name:"canAdmin",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:nr(Uf["ORG::IS_ADMIN"],{id:n,currentPrivilegedOrgUser:[{userId:x("userId")},{id:n,permission:n}]})},{name:"workspaces",type:{kind:"objects",name:"Workspace"},filter:["orgId","=",h("id")],nullable:!0,expectedMaxCount:1e3},{name:"licenseGroups",type:{kind:"objects",name:"LicenseGroup"},filter:["orgId","=",h("id")],nullable:!0},{name:"memberCount",args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],type:{kind:"object",name:"OrgMemberCount"},resolver:{type:"HTTP",uri:"/api/internal/livegraph/sinatra_resolver/org_member_count",queryParams:{org_id:h("id"),userId:D("userId")},realtimePolicy:{type:"Static"}}},{name:"workspaceCount",args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],type:{kind:"object",name:"OrgWorkspaceCount"},resolver:{type:"HTTP",uri:"/api/internal/livegraph/sinatra_resolver/org_workspace_count",queryParams:{org_id:h("id"),userId:D("userId")},realtimePolicy:{type:"Static"}}},{name:"discoverableTeamCount",args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],type:{kind:"object",name:"OrgDiscoverableTeamCount"},resolver:{type:"HTTP",uri:"/api/internal/livegraph/sinatra_resolver/org_discoverable_team_count",queryParams:{org_id:h("id"),userId:D("userId")},realtimePolicy:{type:"Static"}}},{name:"activityLog",args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],type:{kind:"objects",name:"ActivityLog"},filter:["orgId","=",h("id")],checkCanRead:{userId:D("userId")}},{name:"activityLogByActedOnId",args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"actedOnIdOrKey",type:{kind:"string"},nullable:!0}],type:{kind:"objects",name:"ActivityLog"},filter:{and:[["orgId","=",h("id")],["actedOnIdOrKey","=",D("actedOnIdOrKey")]]},checkCanRead:{userId:D("userId")}}]};var x4={name:"OrgAccountTypeRequest",fields:[{name:"id",type:{kind:"bigint"}},{name:"orgUserId",type:{kind:"bigint"}},{name:"status",type:{kind:"string"}},{name:"_editorTypeRaw",type:{kind:"int"},nullable:!0},{name:"editorType",type:{kind:"enum",name:"EditorType"},computed:!0,dependencies:{_editorTypeRaw:n}},{name:"fileKey",type:{kind:"string"},nullable:!0}]};var _4={name:"OrgActivity",fields:[{name:"id",type:{kind:"bigint"}},{name:"orgId",type:{kind:"bigint"}},{name:"userId",type:{kind:"string"}},{name:"activityType",type:{kind:"enum",name:"ActivityType"}},{name:"actionAt",type:{kind:"datetime"}},{name:"metadata",type:{kind:"string"},nullable:!0}]};var v4={name:"OrgAdminUserSearchResult",fields:[{name:"id",type:{kind:"string"}},{name:"type",type:{kind:"string"}},{name:"orgUserId",type:{kind:"bigint"}},{name:"orgUser",type:{kind:"object",name:"BaseOrgUser"},nullable:!0,filter:["id","=",h("orgUserId")]},{name:"idpUserId",type:{kind:"bigint"}},{name:"idpUser",type:{kind:"object",name:"IDPUser"},nullable:!0,filter:["id","=",h("idpUserId")]},{name:"orgInviteId",type:{kind:"bigint"},nullable:!0},{name:"orgInvite",type:{kind:"object",name:"OrgInvite"},nullable:!0,filter:["id","=",h("orgInviteId")]},{name:"lastEdit",type:{kind:"string"},nullable:!0},{name:"lastSeen",type:{kind:"string"},nullable:!0},{name:"lastDesignEdit",type:{kind:"string"},nullable:!0},{name:"lastWhiteboardEdit",type:{kind:"string"},nullable:!0},{name:"lastDesignSeen",type:{kind:"string"},nullable:!0},{name:"lastWhiteboardSeen",type:{kind:"string"},nullable:!0}]};var O4={name:"OrgAdminUsersInfo",fields:[{name:"id",type:{kind:"bigint"}},{name:"totalUserCount",type:{kind:"bigint"}},{name:"designEditorCutoff",type:{kind:"object",name:"OrgUserFetchNewEditorCutoff"},embedded:!0,nullable:!0},{name:"designEditorBuffer",type:{kind:"object",name:"OrgUserFetchNewEditorBuffer"},embedded:!0,nullable:!0},{name:"whiteboardEditorCutoff",type:{kind:"object",name:"OrgUserFetchNewEditorCutoff"},embedded:!0,nullable:!0},{name:"whiteboardEditorBuffer",type:{kind:"object",name:"OrgUserFetchNewEditorBuffer"},embedded:!0,nullable:!0},{name:"canRoleSetWithScim",type:{kind:"bool"}}]};var S4={name:"OrgAllowedPublicPlugins",fields:[{name:"id",type:{kind:"bigint"}},{name:"orgId",type:{kind:"bigint"}},{name:"publicPluginsAllowed",type:{kind:"bool"},nullable:!0}]};var D4={name:"OrgAwareTeamRole",fields:[...Qs,{name:"team",type:{kind:"object",name:"Team"},filter:["id","=",h("resourceId")],nullable:!0},{name:"canRead",type:{kind:"bool"},args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:{team:{orgId:n}}}]};var A4={name:"OrgDomain",fields:[{name:"id",type:{kind:"bigint"}},{name:"domain",type:{kind:"string"}},{name:"orgId",type:{kind:"bigint"}},{name:"createdAt",type:{kind:"datetime"},nullable:!0},{name:"googleSsoOnlyAt",type:{kind:"datetime"},nullable:!0},{name:"samlSsoOnlyAt",type:{kind:"datetime"},nullable:!0}]};var F4={name:"OrgInvite",fields:[{name:"id",type:{kind:"bigint"}},{name:"orgId",type:{kind:"bigint"}},{name:"email",type:{kind:"string"}},{name:"accountType",type:{kind:"enum",name:"OrgAccountType"}},{name:"createdAt",type:{kind:"datetime"}},{name:"updatedAt",type:{kind:"datetime"}},{name:"licenseGroupId",type:{kind:"bigint"},nullable:!0}]};var P4={name:"OrgInviteWhitelist",embedded:!0,fields:[{name:"enabled",type:{kind:"string"},nullable:!0},{name:"guestEnabled",type:{kind:"string"},nullable:!0},{name:"memberAllowlistEnabled",type:{kind:"string"},nullable:!0},{name:"guestInviteSetting",type:{kind:"string"},nullable:!0}]};var j4={name:"OrgJoinRequest",fields:[{name:"id",type:{kind:"bigint"}},{name:"status",type:{kind:"string"}},{name:"orgId",type:{kind:"bigint"}},{name:"requesterUserId",type:{kind:"bigint"}}]};var T4={name:"OrgSetting",fields:[{name:"id",type:{kind:"bigint"}},{name:"orgId",type:{kind:"bigint"}},{name:"setting",type:{kind:"string"}},{name:"value",type:{kind:"string"},nullable:!0}]};var C4={name:"OrgUser",fields:[...yl,{name:"user",type:{kind:"object",name:"User"},filter:["id","=",h("userId")]},{name:"org",type:{kind:"object",name:"Org"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["id","=",h("orgId")],checkCanRead:{userId:D("userId")},nullable:!0},{name:"visibleTeams",type:{kind:"objects",name:"Team"},nullable:!0,filter:["orgId","=",h("orgId")]},{name:"orgBrowsableFiles",type:{kind:"objects",name:"File"},nullable:!0,filter:{and:[["orgBrowsable","=",!0],["parentOrgId","=",h("orgId")],{or:[["linkAccess","=","org_view"],["linkAccess","=","org_edit"]]}]}}]};var E4={name:"OrgUserFetchNewEditorBuffer",embedded:!0,fields:[{name:"buffer",type:{kind:"int"}},{name:"orgUserIds",type:{kind:"list",ofType:{kind:"string"}},nullable:!0}]};var k4={name:"OrgUserFetchNewEditorCutoff",embedded:!0,fields:[{name:"editorCount",type:{kind:"int"}},{name:"orgUserId",type:{kind:"string"}},{name:"timestamp",type:{kind:"string"}}]};var w4={name:"OrgUserUpgrade",fields:[{name:"id",type:{kind:"bigint"}},{name:"canRead",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:{id:n,org:{currentPrivilegedOrgUser:[{userId:D("userId")},{id:n,permission:n,licenseGroupAdmins:{id:n}}]}}},{name:"orgUserId",type:{kind:"bigint"}},{name:"orgId",type:{kind:"bigint"}},{name:"org",type:{kind:"object",name:"Org"},filter:["id","=",h("orgId")]},{name:"reason",type:{kind:"enum",name:"OrgUserUpgradeReason"}},{name:"actorId",type:{kind:"bigint"},nullable:!0},{name:"actor",type:{kind:"object",name:"User"},nullable:!0,filter:["id","=",h("actorId")]},{name:"resourceType",type:{kind:"enum",name:"ResourceType"},nullable:!0},{name:"resourceId",type:{kind:"string"},nullable:!0},{name:"resourceFile",type:{kind:"object",name:"OrgUserUpgradeWithFile"},nullable:!0,filter:{and:[["id","=",h("id")],["resourceType","=","file"]]}},{name:"resourceProject",type:{kind:"object",name:"OrgUserUpgradeWithProject"},nullable:!0,filter:{and:[["id","=",h("id")],["resourceType","=","folder"]]}},{name:"resourceTeam",type:{kind:"object",name:"OrgUserUpgradeWithTeam"},nullable:!0,filter:{and:[["id","=",h("id")],["resourceType","=","team"]]}},{name:"resourceRepo",type:{kind:"object",name:"OrgUserUpgradeWithRepo"},nullable:!0,filter:{and:[["id","=",h("id")],["resourceType","=","file_repo"]]}},{name:"createdAt",type:{kind:"datetime"}},{name:"updatedAt",type:{kind:"datetime"}},{name:"_editorTypeRaw",type:{kind:"int"}},{name:"editorType",type:{kind:"enum",name:"EditorType"},computed:!0,dependencies:{_editorTypeRaw:n}},{name:"licenseType",type:{kind:"enum",name:"LicenseType"},computed:!0,dependencies:{_editorTypeRaw:n}}]};var R4={name:"OrgUserUpgradeWithFile",fields:[{name:"id",type:{kind:"bigint"}},{name:"resourceId",type:{kind:"string"},nullable:!0},{name:"resourceType",type:{kind:"enum",name:"ResourceType"},nullable:!0},{name:"file",type:{kind:"object",name:"File"},filter:["key","=",h("resourceId")]}]};var M4={name:"OrgUserUpgradeWithProject",fields:[{name:"id",type:{kind:"bigint"}},{name:"resourceId",type:{kind:"string"},nullable:!0},{name:"resourceType",type:{kind:"enum",name:"ResourceType"},nullable:!0},{name:"project",type:{kind:"object",name:"Project"},filter:["id","=",h("resourceId")]}]};var U4={name:"OrgUserUpgradeWithRepo",fields:[{name:"id",type:{kind:"bigint"}},{name:"resourceId",type:{kind:"string"},nullable:!0},{name:"resourceType",type:{kind:"enum",name:"ResourceType"},nullable:!0},{name:"repo",type:{kind:"object",name:"Repo"},filter:["id","=",h("resourceId")]}]};var L4={name:"OrgUserUpgradeWithTeam",fields:[{name:"id",type:{kind:"bigint"}},{name:"resourceId",type:{kind:"string"},nullable:!0},{name:"resourceType",type:{kind:"enum",name:"ResourceType"},nullable:!0},{name:"team",type:{kind:"object",name:"Team"},filter:["id","=",h("resourceId")]}]};var N4={name:"OrgUserUpgrades",embedded:!0,fields:[{name:"designUserUpgrade",type:{kind:"object",name:"OrgUserUpgrade"},args:[{name:"orgUserId",type:{kind:"bigint"}}],nullable:!0,filter:{and:[["_editorTypeRaw","=",0],["orgUserId","=",D("orgUserId")]]}},{name:"whiteboardUserUpgrade",type:{kind:"object",name:"OrgUserUpgrade"},args:[{name:"orgUserId",type:{kind:"bigint"}}],nullable:!0,filter:{and:[["_editorTypeRaw","=",1],["orgUserId","=",D("orgUserId")]]}},{name:"devModeUserUpgrade",type:{kind:"object",name:"OrgUserUpgrade"},args:[{name:"orgUserId",type:{kind:"bigint"}}],nullable:!0,filter:{and:[["_editorTypeRaw","=",2],["orgUserId","=",D("orgUserId")]]}}]};var V4={name:"PendingUserMentions",naturalKey:new Set(["fileKey","id"]),fields:[{name:"id",type:{kind:"bigint"}},{name:"inviteId",type:{kind:"bigint"}},{name:"inviterUserId",type:{kind:"bigint"}},{name:"inviteeEmail",type:{kind:"string"}},{name:"fileKey",type:{kind:"string"}},{name:"fileCommentId",type:{kind:"bigint"}}]};var q4={name:"PermissionFeatureFlag",fields:[{name:"id",type:{kind:"string"}},{name:"name",type:{kind:"string"}}]};var B4={name:"PinnedFile",fields:[{name:"id",type:{kind:"string"}},{name:"key",type:{kind:"string"}},{name:"folderId",type:{kind:"bigint"}},{name:"pinnedBy",type:{kind:"bigint"}},{name:"createdAt",type:{kind:"datetime"}},{name:"file",type:{kind:"object",name:"File"},nullable:!0,filter:["key","=",h("key")]},{name:"pinnedByUser",type:{kind:"object",name:"User"},nullable:!0,filter:["id","=",h("pinnedBy")]}]};var W4={name:"PinnedPlugin",embedded:!0,fields:[{name:"pluginId",type:{kind:"bigint"}},{name:"inherited",type:{kind:"bool"},nullable:!0},{name:"plugin",type:{kind:"object",name:"Plugin"},nullable:!0,filter:["id","=",h("pluginId")]}]};var G4={name:"PlanProperties",fields:[{name:"id",type:{kind:"uuid"}},{name:"property",type:{kind:"string"}},{name:"value",type:{kind:"string"},nullable:!0},{name:"planId",type:{kind:"string"}},{name:"planType",type:{kind:"string"}},{name:"createdAt",type:{kind:"datetime"}},{name:"updatedAt",type:{kind:"datetime"}}]};var H4={name:"Plugin",fields:[{name:"id",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"}},{name:"updatedAt",type:{kind:"datetime"}},{name:"createdAt",type:{kind:"datetime"}},{name:"currentPluginVersionId",type:{kind:"bigint"},nullable:!0},{name:"unpublishedAt",type:{kind:"datetime"},nullable:!0},{name:"supportContact",type:{kind:"string"},nullable:!0},{name:"approvedAt",type:{kind:"datetime"},nullable:!0},{name:"approvalStatus",type:{kind:"int"},nullable:!0},{name:"installCount",type:{kind:"int"}},{name:"likeCount",type:{kind:"int"}},{name:"publishingStatus",type:{kind:"enum",name:"PublishingStatus"},nullable:!0},{name:"viewCount",type:{kind:"int"}},{name:"blockedAt",type:{kind:"datetime"},nullable:!0},{name:"profileId",type:{kind:"bigint"}},{name:"commentCount",type:{kind:"int"},nullable:!0},{name:"hideRelatedContentByOthers",type:{kind:"bool"},nullable:!0},{name:"isPublic",type:{kind:"bool"},nullable:!0},{name:"isWidget",type:{kind:"bool"},nullable:!0},{name:"isInspect",type:{kind:"bool"},nullable:!0},{name:"widgetsWhitelistEnforced",type:{kind:"bool"},nullable:!0},{name:"pluginsWhitelistEnforced",type:{kind:"bool"},nullable:!0},{name:"orgId",type:{kind:"bigint"},nullable:!0},{name:"installStatus",type:{kind:"string"},nullable:!0},{name:"monetizedResourceMetadataId",type:{kind:"bigint"},nullable:!0},{name:"thirdPartyM10nStatus",type:{kind:"string"},nullable:!0},{name:"monetizationStatus",type:{kind:"string"},nullable:!0},{name:"profile",type:{kind:"object",name:"Profile"},filter:["id","=",h("profileId")]},{name:"currentPluginVersion",type:{kind:"object",name:"PluginVersion"},nullable:!0,filter:["id","=",h("currentPluginVersionId")]},{name:"installedPlugins",type:{kind:"objects",name:"PluginInstall"},args:[{name:"initialPageSize",type:{kind:"int"}}],filter:["orgId","=",h("orgId")],expectedMaxCount:1e3},{name:"monetizedResourceMetadata",type:{kind:"object",name:"MonetizedResourceMetadata"},filter:["id","=",h("monetizedResourceMetadataId")],nullable:!0},{name:"userMonetizationMetadata",type:{kind:"object",name:"UserMonetizationMetadata"},filter:["userId","=",h("userId")],nullable:!0},{name:"communityResourcePayment",type:{kind:"object",name:"CommunityResourcePayment"},nullable:!0,args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],neverCheckCanRead:!0,filter:{and:[["monetizedResourceMetadataId","=",h("monetizedResourceMetadataId")],["userId","=",D("userId")],["userId","<>",null]]}},{name:"orgWhitelist",type:{kind:"object",name:"WhitelistedPlugin"},nullable:!0,args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],filter:{and:[["orgId","=",D("orgId")],["pluginId","=",h("id")]]}},{name:"pluginRequests",type:{kind:"objects",name:"PluginRequest"},args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],filter:{and:[["orgId","=",D("orgId")],["pluginId","=",h("id")]]},orderBy:[["createdAt","DESC"]]},{name:"communityPublishers",type:{kind:"objects",name:"CommunityPublisher"},args:[{name:"initialPageSize",type:{kind:"int"}}],nullable:!0,filter:{and:[["pluginId","=",h("id")],["isPending","=",!1]]},expectedMaxCount:10},{name:"user",type:{kind:"object",name:"User"},nullable:!0,args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["id","=",D("userId")]},{name:"currentUser",nullable:!0,type:{kind:"object",name:"User"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["id","=",D("userId")]},{name:"_org",type:{kind:"object",name:"Org"},nullable:!0,args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],filter:["id","=",D("orgId")]},{name:"viewableInEditor",type:{kind:"bool"},args:[{name:"orgId",type:{kind:"bigint"},nullable:!0},{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:{id:n,approvedAt:n,publishingStatus:n,isPublic:n,orgId:n,isWidget:n,user:[{userId:x("userId")},{id:n,privilegedOrgUser:[{orgId:x("orgId")},{id:n,permission:n}],adminAt:n}],_org:[{orgId:x("orgId")},{id:n,pluginsWhitelistEnforced:n,widgetsWhitelistEnforced:n,publicPluginsAllowed:n}],orgWhitelist:[{orgId:x("orgId")},{id:n}]}},{name:"canRead",type:{kind:"bool"},args:[{name:"orgId",type:{kind:"bigint"},nullable:!0},{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:{id:n,approvedAt:n,publishingStatus:n,isPublic:n,orgId:n,isWidget:n,user:[{userId:x("userId")},{id:n,privilegedOrgUser:[{orgId:x("orgId")},{id:n,permission:n}],adminAt:n}],_org:[{orgId:x("orgId")},{id:n,pluginsWhitelistEnforced:n,widgetsWhitelistEnforced:n,publicPluginsAllowed:n}],orgWhitelist:[{orgId:x("orgId")},{id:n}]}},{name:"pluginCommunityRating",nullable:!0,type:{kind:"object",name:"CommunityComment"},args:[{name:"profileId",type:{kind:"bigint"},nullable:!0}],filter:{and:[["profileId","=",D("profileId")],["ratingValue","<>",null],["pluginId","=",h("id")]]}},{name:"pluginRun",type:{kind:"object",name:"PluginRun"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["pluginId","=",h("id")],["userId","=",D("userId")],["userId","<>",null]]}},{name:"canRate",computed:!0,type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"profileId",type:{kind:"bigint"},nullable:!0}],dependencies:{...e$["PLUGIN::CAN_RATE"],pluginCommunityRating:[{profileId:{type:"view",ref:"profileId"}},{pluginId:null,profileId:null,ratingValue:null}]}}]};var K4={name:"PluginCodegenSettings",embedded:!0,fields:[{name:"language",type:{kind:"object",name:"CodeExtensionLanguage"},embedded:!0},{name:"preferences",type:{kind:"object",name:"CodeExtensionPreferences"},embedded:!0},{name:"behavior",type:{kind:"enum",name:"CodegenSettingsBehavior"}}]};var $4={name:"PluginInstall",fields:[{name:"id",type:{kind:"bigint"}},{name:"pluginId",type:{kind:"bigint"}},{name:"pluginVersionId",type:{kind:"bigint"},nullable:!0},{name:"orgId",type:{kind:"bigint"},nullable:!0},{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"updatedAt",type:{kind:"datetime"}},{name:"createdAt",type:{kind:"datetime"}},{name:"plugin",type:{kind:"object",name:"Plugin"},nullable:!0,args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"orgId",type:{kind:"bigint"},nullable:!0}],checkCanRead:{userId:D("userId"),orgId:D("orgId")},filter:{and:[["id","=",h("pluginId")],["blockedAt","=",null],["unpublishedAt","=",null]]}},{name:"_pinnedStatusRaw",type:{kind:"bigint"},nullable:!0},{name:"pinnedStatus",type:{kind:"enum",name:"PinnedStatus"},computed:!0,dependencies:{_pinnedStatusRaw:n}}]};var z4={name:"PluginPreferences",fields:[{name:"id",type:{kind:"uuid"}},{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"orgId",type:{kind:"bigint"},nullable:!0},{name:"preferences",type:{kind:"object",name:"PluginPreferencesConfig"},nullable:!0,embedded:!0},{name:"baseOrgUser",type:{kind:"object",name:"BaseOrgUser"},args:[{name:"currentUserId",type:{kind:"bigint"},nullable:!0},{name:"targetOrgId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",D("currentUserId")],["orgId","=",D("targetOrgId")]]}},{name:"autoRunPluginId",type:{kind:"bigint"},nullable:!0},{name:"autoRunBehavior",type:{kind:"enum",name:"AutoRunBehavior"}},{name:"autoRunPlugin",type:{kind:"object",name:"Plugin"},nullable:!0,filter:["id","=",h("autoRunPluginId")]},{name:"canRead",type:{kind:"bool"},args:[{name:"targetOrgId",type:{kind:"bigint"},nullable:!0},{name:"targetUserId",type:{kind:"bigint"},nullable:!0},{name:"currentUserId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:{baseOrgUser:[{currentUserId:D("currentUserId"),targetOrgId:D("targetOrgId")},{id:n,orgId:n}]}}]};var Y4={name:"PluginPreferencesConfig",embedded:!0,fields:[{name:"pins",type:{kind:"objects",name:"PinnedPlugin"},embedded:!0},{name:"removedInheritedPins",type:{kind:"list",ofType:{kind:"bigint"}}},{name:"codegenSettings",type:{kind:"object",name:"PluginCodegenSettings"},nullable:!0,embedded:!0}]};var Q4={name:"PluginRequest",fields:[{name:"id",type:{kind:"bigint"}},{name:"pluginId",type:{kind:"bigint"}},{name:"orgUserId",type:{kind:"bigint"}},{name:"workspaceId",type:{kind:"bigint"},nullable:!0},{name:"plugin",type:{kind:"object",name:"Plugin"},filter:["id","=",h("pluginId")],nullable:!0},{name:"orgId",type:{kind:"bigint"}},{name:"orgUser",type:{kind:"object",name:"OrgUser"},filter:["id","=",h("orgUserId")],nullable:!0},{name:"status",type:{kind:"string"}},{name:"declineNote",type:{kind:"string"},nullable:!0},{name:"updatedAt",type:{kind:"datetime"}},{name:"createdAt",type:{kind:"datetime"}},{name:"requesterNote",type:{kind:"string"},nullable:!0}]};var J4={name:"PluginRun",fields:[{name:"id",type:{kind:"bigint"}},{name:"pluginId",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"}},{name:"createdAt",type:{kind:"datetime"}}]};var X4={name:"PluginSecurityFormResponses",fields:[{name:"id",type:{kind:"uuid"}},{name:"updatedAt",type:{kind:"datetime"}},{name:"createdAt",type:{kind:"datetime"}},{name:"pluginId",type:{kind:"bigint"}},{name:"status",type:{kind:"enum",name:"PluginSecurityFormResponseStatus"}},{name:"formVersion",type:{kind:"bigint"}},{name:"responses",type:{kind:"string"}}]};var Z4={name:"PluginVersion",fields:[{name:"id",type:{kind:"bigint"}},{name:"pluginId",type:{kind:"bigint"}},{name:"plugin",type:{kind:"object",name:"Plugin"},filter:["id","=",h("pluginId")]},{name:"name",type:{kind:"string"},nullable:!0},{name:"description",type:{kind:"string"},nullable:!0},{name:"tagline",type:{kind:"string"},nullable:!0},{name:"creatorPolicy",type:{kind:"string"},nullable:!0},{name:"version",type:{kind:"string"},nullable:!0},{name:"iconPath",type:{kind:"string"},nullable:!0},{name:"coverImagePath",type:{kind:"string"},nullable:!0},{name:"codePath",type:{kind:"string"},nullable:!0},{name:"resourceStagingSignature",type:{kind:"string"},nullable:!0},{name:"manifest",type:{kind:"string"},nullable:!0},{name:"releaseNotes",type:{kind:"string"},nullable:!0},{name:"updatedAt",type:{kind:"datetime"}},{name:"createdAt",type:{kind:"datetime"}},{name:"iconUrl",type:{kind:"string"},computed:!0,dependencies:{iconPath:n}},{name:"coverImageUrl",type:{kind:"string"},computed:!0,dependencies:{coverImagePath:n}},{name:"playgroundFigFileKey",type:{kind:"string"},nullable:!0},{name:"hasPlaygroundFile",type:{kind:"bool"},computed:!0,dependencies:{playgroundFigFileKey:n}}]};var e6={name:"PrivilegedOrgUser",fields:[...yl,{name:"user",type:{kind:"object",name:"User"},filter:["id","=",h("userId")]},{name:"org",type:{kind:"object",name:"Org"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["id","=",h("orgId")],checkCanRead:{userId:D("userId")},nullable:!0},{name:"visibleTeams",type:{kind:"objects",name:"Team"},nullable:!0,args:[{name:"initialPageSize",type:{kind:"int"}}],filter:["orgId","=",h("orgId")]},{name:"orgBrowsableFiles",type:{kind:"objects",name:"File"},nullable:!0,filter:{and:[["orgBrowsable","=",!0],["parentOrgId","=",h("orgId")],{or:[["linkAccess","=","org_view"],["linkAccess","=","org_edit"]]}]}}]};var t6={name:"ProAccountTypeRequest",fields:[{name:"id",type:{kind:"bigint"}},{name:"requestableUserId",type:{kind:"bigint"}},{name:"requestableUserType",type:{kind:"string"}},{name:"status",type:{kind:"string"}},{name:"_editorTypeRaw",type:{kind:"int"}},{name:"editorType",type:{kind:"enum",name:"EditorType"},computed:!0,dependencies:{_editorTypeRaw:n}},{name:"fileKey",type:{kind:"string"},nullable:!0}]};var r6={name:"Profile",fields:[{name:"id",type:{kind:"bigint"}},{name:"createdAt",type:{kind:"datetime"}},{name:"updatedAt",type:{kind:"datetime"}},{name:"profileHandle",type:{kind:"string"}},{name:"publicAt",type:{kind:"datetime"},nullable:!0},{name:"website",type:{kind:"string"},nullable:!0},{name:"description",type:{kind:"string"},nullable:!0},{name:"location",type:{kind:"string"},nullable:!0},{name:"twitter",type:{kind:"string"},nullable:!0},{name:"instagram",type:{kind:"string"},nullable:!0},{name:"followerCount",type:{kind:"int"}},{name:"followingCount",type:{kind:"int"}},{name:"coverImagePath",type:{kind:"string"},nullable:!0},{name:"pronouns",type:{kind:"string"},nullable:!0},{name:"badges",type:{kind:"objects",name:"CommunityBadge"},filter:["profileId","=",h("id")]},{name:"communityHubFollowing",type:{kind:"objects",name:"CommunityHubFollow"},filter:["followerProfileId","=",h("id")],expectedMaxCount:200},{name:"communityHubFollowed",type:{kind:"objects",name:"CommunityHubFollow"},filter:["followedProfileId","=",h("id")]},{name:"entityType",type:{kind:"string"},computed:!0,dependencies:{primaryUserId:n,teamId:n,orgId:n}},{name:"currentUser",nullable:!0,type:{kind:"object",name:"User"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["id","=",D("userId")]},{name:"currentUserIsFollowing",args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],type:{kind:"bool"},computed:!0,dependencies:{id:n,currentUser:[{userId:D("userId")},{communityProfile:{communityHubFollowing:{followerProfileId:n,followedProfileId:n}}}]}},{name:"currentUserIsFollowed",args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],type:{kind:"bool"},computed:!0,dependencies:{id:n,communityHubFollowing:{followerProfileId:n,followedProfileId:n},currentUser:[{userId:D("userId")},{id:n,profileId:n}]}},{name:"name",type:{kind:"string"},computed:!0,dependencies:{user:{handle:n},team:{name:n},org:{name:n},entityType:n}},{name:"teamId",type:{kind:"bigint"},nullable:!0},{name:"orgId",type:{kind:"bigint"},nullable:!0},{name:"primaryUserId",type:{kind:"bigint"},nullable:!0},{name:"user",type:{kind:"object",name:"User"},filter:["id","=",h("primaryUserId")],nullable:!0},{name:"associatedUsers",type:{kind:"objects",name:"User"},filter:["profileId","=",h("id")]},{name:"team",type:{kind:"object",name:"Team"},filter:{and:[["id","=",h("teamId")]]},nullable:!0},{name:"org",type:{kind:"object",name:"OrgInfo"},filter:["id","=",h("orgId")],nullable:!0}]};var rRe=t=>({id:n,currentUser:[{userId:x("userId")},{id:n,email:n,emailDomain:n}],ownerRole:{id:n,level:n},deletedAt:n,inviteOnlyAt:n,viewOnlyAt:n,_isAccessRestricted:[{userId:x("userId"),permissionLevel:t},n],roleOnObjectForUser:[{userId:x("userId")},{id:n,level:n}],orgDraftsFolderOwnerBaseOrgUser:{userId:n},currentPrivilegedOrgUser:[{userId:x("userId")},{userId:n,accountType:n,whiteboardPaidStatus:n}],team:{id:n,roleOnObjectForUser:[{userId:x("userId")},{id:n,level:n}],_hasTeamAccess:[{userId:x("userId"),permissionLevel:t},n]}}),i6={type:{kind:"object",name:"ProjectRole"},filter:{and:[["resourceId","=",h("id")],["resourceType","=","folder"],["level","=",999]]},nullable:!0},n6={type:{kind:"object",name:"ProjectRole"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",D("userId")],["resourceId","=",h("id")],["resourceType","=","folder"]]}},s6={name:"Project",fields:[{name:"id",type:{kind:"bigint"}},{name:"updatedAt",type:{kind:"datetime"}},{name:"createdAt",type:{kind:"datetime"}},{name:"path",type:{kind:"string"}},{name:"description",type:{kind:"string"},nullable:!0},{name:"deletedAt",type:{kind:"datetime"},nullable:!0},{name:"viewOnlyAt",type:{kind:"datetime"},nullable:!0},{name:"inviteOnlyAt",type:{kind:"datetime"},nullable:!0},{name:"orgId",type:{kind:"bigint"},nullable:!0},{name:"teamId",type:{kind:"bigint"},nullable:!0},{name:"scheme",type:{kind:"string"},nullable:!0},{name:"sharingAudienceControl",type:{kind:"string"},nullable:!0},{name:"sharingAudienceControlComputed",type:{kind:"enum",name:"LinkAccess"},computed:!0,dependencies:{sharingAudienceControl:n,viewOnlyAt:n,inviteOnlyAt:n}},{name:"teamAccess",type:{kind:"enum",name:"TeamAccess"},computed:!0,dependencies:{viewOnlyAt:n,inviteOnlyAt:n}},{name:"parentPath",type:{kind:"string"},computed:!0,dependencies:{path:n}},{name:"name",type:{kind:"string"},computed:!0,dependencies:{path:n}},{name:"isInviteOnly",type:{kind:"bool"},computed:!0,dependencies:{inviteOnlyAt:n}},{name:"isViewOnly",type:{kind:"bool"},computed:!0,dependencies:{viewOnlyAt:n}},{name:"roles",type:{kind:"objects",name:"ProjectRole"},filter:{and:[["resourceId","=",h("id")],["resourceType","=","folder"]]},expectedMaxCount:1e3},{name:"ownerRole",...i6},{name:"folderOwnerRole",...i6},{name:"isOwned",type:{kind:"bool"},computed:!0,dependencies:{ownerRole:{id:n}}},{name:"favoriteProject",type:{kind:"object",name:"FavoritedProject"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["resourceId","=",h("id")],["resourceType","=","folder"],["userId","=",D("userId")],["orgId","=",h("orgId")]]}},{name:"isFavorited",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:{favoriteProject:[{userId:x("userId")},{id:n}]}},{name:"pinnedFiles",type:{kind:"objects",name:"PinnedFile"},filter:["folderId","=",h("id")],expectedMaxCount:1e3},{name:"files",type:{kind:"objects",name:"File"},filter:["folderId","=",h("id")],nullable:!0,expectedMaxCount:1e3},{name:"fileUpdates",type:{kind:"objects",name:"File"},args:[{name:"updatedAtTimestamp",type:{kind:"datetime"}}],checkCanRead:{userId:b("userId")},filter:{and:[["folderId","=",h("id")],["deletedAt","=",null],["updatedAt",">",D("updatedAtTimestamp")]]},expectedMaxCount:2e3},{name:"untrashedFiles",type:{kind:"objects",name:"File"},filter:{and:[["folderId","=",h("id")],["deletedAt","=",null],["trashedAt","=",null]]},nullable:!0,expectedMaxCount:1e3},{name:"whiteboardFiles",type:{kind:"objects",name:"File"},filter:{and:[["folderId","=",h("id")],["_editorTypeRaw","=",1]]},nullable:!0,expectedMaxCount:1e3},{name:"filesPartial",type:{kind:"objects",name:"File"},args:[{name:"initialPageSize",type:{kind:"int"}}],filter:["folderId","=",h("id")],nullable:!0,expectedMaxCount:1e3},{name:"isEmpty",type:{kind:"bool"},computed:!0,dependencies:{filesPartial:[{initialPageSize:1},{id:n}],repos:[{initialPageSize:1},{id:n}]}},{name:"repos",type:{kind:"objects",name:"Repo"},args:[{name:"initialPageSize",type:{kind:"int"}}],filter:["folderId","=",h("id")],nullable:!0,expectedMaxCount:1e3},{name:"team",nullable:!0,type:{kind:"object",name:"Team"},filter:{and:[["id","=",h("teamId")]]}},{name:"org",nullable:!0,type:{kind:"object",name:"Org"},filter:{and:[["id","=",h("orgId")]]}},{name:"orgInfo",nullable:!0,type:{kind:"object",name:"Org"},filter:{and:[["id","=",h("orgId")]]}},{name:"subscription",type:{kind:"object",name:"ProjectSubscription"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["folderId","=",h("id")],["userId","=",D("userId")]]}},{name:"isSubscribed",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:{subscription:[{userId:D("userId")},{id:n}]}},{name:"roleOnObjectForUser",...n6},{name:"roleOnObjectProjectForUser",...n6},{name:"roleOnObjectTeamForUser",type:{kind:"object",name:"TeamRole"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",D("userId")],["resourceId","=",h("teamId")],["resourceType","=","team"]]}},{name:"currentUser",nullable:!0,type:{kind:"object",name:"User"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["id","=",D("userId")]},{name:"currentOrgUser",type:{kind:"object",name:"OrgUser"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",D("userId")],["orgId","=",h("orgId")],["permission","<>","guest"]]}},{name:"currentBaseOrgUser",type:{kind:"object",name:"BaseOrgUser"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",D("userId")],["orgId","=",h("id")]]}},{name:"currentPrivilegedOrgUser",type:{kind:"object",name:"PrivilegedOrgUser"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",D("userId")],["orgId","=",h("orgId")],["permission","<>","guest"]]}},{name:"currentTeamUser",type:{kind:"object",name:"TeamUser"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",D("userId")],["teamId","=",h("teamId")]]}},{name:"orgDraftsFolderOwner",nullable:!0,type:{kind:"object",name:"OrgUser"},filter:["draftsFolderId","=",h("id")]},{name:"orgDraftsFolderOwnerBaseOrgUser",nullable:!0,type:{kind:"object",name:"BaseOrgUser"},filter:["draftsFolderId","=",h("id")]},{name:"_isAccessRestricted",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"permissionLevel",type:{kind:"int"}}],computed:!0,dependencies:{orgDraftsFolderOwnerBaseOrgUser:{userId:n,accountType:n,whiteboardPaidStatus:n},currentPrivilegedOrgUser:[{userId:x("userId")},{accountType:n,whiteboardPaidStatus:n}],currentUser:[{userId:x("userId")},{id:n,externalRestrictedOrgId:n}]}},{name:"_hasProjectAccess",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"permissionLevel",type:{kind:"int"}}],computed:!0,dependencies:rRe(x("permissionLevel"))},{name:"canRead",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:U_["FOLDER::CAN_VIEW"]},{name:"canEdit",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:U_["FOLDER::CAN_EDIT"]},{name:"isOwner",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:U_["FOLDER::IS_OWNER"]},{name:"isOrphanedOrgProject",type:{kind:"bool"},computed:!0,dependencies:{path:n,teamId:n,orgId:n}},{name:"isEditingLockedForUser",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:{path:n,inviteOnlyAt:n,viewOnlyAt:n,team:{id:n,isLockedForUser:[{userId:x("userId")},n],canAccessProFeature:n}}},{name:"canCreateDesignFile",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:{id:n,path:n,canEdit:[{userId:D("userId")},n],team:{id:n},org:{isOrgUserExternallyRestricted:[{userId:D("userId")},n]},currentBaseOrgUser:[{userId:D("userId")},{draftsFolderId:n,accountType:n}],currentTeamUser:[{userId:D("userId")},{designPaidStatus:n}]}},{name:"canCreateFigJamFile",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:{id:n,path:n,canEdit:[{userId:D("userId")},n],team:{id:n},org:{isOrgUserExternallyRestricted:[{userId:D("userId")},n],isFigJamDisabled:n},currentBaseOrgUser:[{userId:D("userId")},{draftsFolderId:n,whiteboardPaidStatus:n}],currentTeamUser:[{userId:D("userId")},{whiteboardPaidStatus:n}]}}]};var o6={name:"ProjectRole",fields:[...Qs,{name:"isShared",type:{kind:"bool"},nullable:!0},{name:"project",type:{kind:"object",name:"Project"},filter:["id","=",h("resourceId")],nullable:!0}]};var a6={name:"ProjectSubscription",fields:[{name:"id",type:{kind:"bigint"}},{name:"folderId",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"}},{name:"project",type:{kind:"object",name:"Project"},nullable:!0,filter:["id","=",h("folderId")]},{name:"projectV2",args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],type:{kind:"object",name:"Project"},nullable:!0,checkCanRead:{userId:D("userId")},filter:["id","=",h("folderId")]}]};var l6={name:"Prototype",fields:[{name:"id",type:{kind:"bigint"}},{name:"name",type:{kind:"string"},nullable:!0},{name:"fileKey",type:{kind:"string"}},{name:"pageId",type:{kind:"string"}},{name:"thumbnailUrl",type:{kind:"string"},nullable:!0},{name:"thumbnailMeta",type:{kind:"string"},nullable:!0},{name:"deleted",type:{kind:"bool"},nullable:!0},{name:"url",type:{kind:"string"}},{name:"file",type:{kind:"object",name:"File"},filter:["key","=",h("fileKey")],nullable:!0},{name:"canRead",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:{id:n,fileKey:n,deleted:n,file:{id:n,canRead:[{userId:x("userId")},n]}}},{name:"favoritePrototype",type:{kind:"object",name:"FavoritedPrototype"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"orgId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["resourceId","=",h("id")],["resourceType","=","prototype"],["userId","=",D("userId")],["orgId","=",D("orgId")]]}},{name:"isFavorited",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"orgId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:{favoritePrototype:[{userId:x("userId"),orgId:x("orgId")},{id:n}]}}]};var u6={name:"RecentFile",fields:[{name:"id",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"}},{name:"action",type:{kind:"string"}},{name:"fileKey",type:{kind:"string"}},{name:"actionAt",type:{kind:"datetime"}},{name:"file",type:{kind:"object",name:"File"},filter:["key","=",h("fileKey")],nullable:!0,checkCanRead:{userId:b("userId")}}]};var d6={name:"RecentPrototype",fields:[{name:"id",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"}},{name:"prototypeId",type:{kind:"bigint"}},{name:"viewedAt",type:{kind:"datetime"}},{name:"prototype",type:{kind:"object",name:"Prototype"},filter:["id","=",h("prototypeId")]}]};var c6={name:"RecentSearch",fields:[{name:"id",type:{kind:"bigint"}},{name:"userId",type:{kind:"string"}},{name:"orgId",type:{kind:"string"},nullable:!0},{name:"searches",embedded:!0,type:{kind:"objects",name:"SearchInfo"},nullable:!0}]};var p6={name:"RelevanceReason",embedded:!0,fields:[{name:"relevant",type:{kind:"bool"},nullable:!0},{name:"reason",type:{kind:"string"},nullable:!0}]};var Nf=t=>nr(oi(Z3[t],["workspaceSharedSetting"]),{team:{workspaceSharedSetting:{id:n,publicLinkControlsSetting:n}}}),m6={name:"Repo",naturalKey:new Set(["defaultFileKey","id"]),fields:[{name:"id",type:{kind:"bigint"}},{name:"name",type:{kind:"string"}},{name:"teamId",type:{kind:"bigint"},nullable:!0},{name:"defaultFileKey",type:{kind:"string"},nullable:!0},{name:"updatedAt",type:{kind:"datetime"}},{name:"createdAt",type:{kind:"datetime"}},{name:"deletedAt",type:{kind:"datetime"},nullable:!0},{name:"trashedAt",type:{kind:"datetime"},nullable:!0},{name:"isTrashed",type:{kind:"bool"},computed:!0,dependencies:{trashedAt:n}},{name:"linkAccess",type:{kind:"enum",name:"LinkAccess"},nullable:!0},{name:"protoLinkAccess",type:{kind:"enum",name:"ProtoLinkAccess"},nullable:!0},{name:"orgBrowsable",type:{kind:"bool"},nullable:!0},{name:"orgAudience",type:{kind:"bool"},nullable:!0},{name:"parentOrgId",type:{kind:"bigint"},nullable:!0},{name:"ownerRole",type:{kind:"object",name:"RepoRole"},filter:{and:[["resourceId","=",h("id")],["resourceType","=","file_repo"],["level","=",999]]},nullable:!0},{name:"roles",type:{kind:"objects",name:"RepoRole"},filter:{and:[["resourceId","=",h("id")],["resourceType","=","file_repo"]]},expectedMaxCount:1e4},{name:"_defaultFile",type:{kind:"object",name:"File"},filter:["key","=",h("defaultFileKey")],nullable:!0},{name:"sourceFile",type:{kind:"object",name:"File"},filter:["key","=",h("defaultFileKey")],nullable:!0},{name:"orgDraftsFolderOwnerBaseOrgUser",nullable:!0,type:{kind:"object",name:"BaseOrgUser"},filter:["draftsFolderId","=",h("folderId")]},{name:"hasFileLinkPassword",type:{kind:"bool"},computed:!0,dependencies:{_defaultFile:{hasFileLinkPassword:n}}},{name:"currentTeamUser",type:{kind:"object",name:"TeamUser"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",D("userId")],["teamId","=",h("teamId")]]}},{name:"hasProtoLinkPassword",type:{kind:"bool"},computed:!0,dependencies:{_defaultFile:{hasProtoLinkPassword:n}}},{name:"files",type:{kind:"objects",name:"File"},filter:["fileRepoId","=",h("id")],nullable:!0,expectedMaxCount:1e3,orderBy:[["trashedAt","DESC"]]},{name:"_activeBranches",type:{kind:"objects",name:"File"},filter:{and:[["fileRepoId","=",h("id")],["sourceFileKey","<>",null],["trashedAt","=",null]]},nullable:!0},{name:"activeBranches",type:{kind:"objects",name:"File"},filter:{and:[["fileRepoId","=",h("id")],["sourceFileKey","<>",null],["trashedAt","=",null]]}},{name:"hasActiveBranches",type:{kind:"bool"},computed:!0,dependencies:{_activeBranches:{id:n}}},{name:"project",nullable:!0,type:{kind:"object",name:"Project"},filter:{and:[["id","=",h("folderId")]]}},{name:"_project_permsV2",type:{kind:"object",name:"Project"},nullable:!0,filter:["id","=",h("folderId")]},{name:"team",nullable:!0,type:{kind:"object",name:"Team"},filter:{and:[["id","=",h("teamId")]]}},{name:"roleOnObjectForUser",type:{kind:"object",name:"RepoRole"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",D("userId")],["resourceId","=",h("id")],["resourceType","=","file_repo"]]}},{name:"roleOnObjectRepoForUser",type:{kind:"object",name:"RepoRole"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",D("userId")],["resourceId","=",h("id")],["resourceType","=","file_repo"]]}},{name:"roleOnObjectProjectForUser",type:{kind:"object",name:"ProjectRole"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",D("userId")],["resourceId","=",h("folderId")],["resourceType","=","folder"]]}},{name:"roleOnObjectTeamForUser",type:{kind:"object",name:"TeamRole"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",D("userId")],["resourceId","=",h("teamId")],["resourceType","=","team"]]}},{name:"currentUser",nullable:!0,type:{kind:"object",name:"User"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["id","=",D("userId")]},{name:"currentPrivilegedOrgUser",type:{kind:"object",name:"PrivilegedOrgUser"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",D("userId")],["orgId","=",h("parentOrgId")],["permission","<>","guest"]]}},{name:"currentBaseOrgUser",type:{kind:"object",name:"BaseOrgUser"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",D("userId")],["orgId","=",h("parentOrgId")]]}},{name:"org",type:{kind:"object",name:"OrgInfo"},filter:["id","=",h("parentOrgId")],nullable:!0},{name:"orgSharedSetting",type:{kind:"object",name:"SharedOrgLicenseGroupSetting"},nullable:!0,filter:{and:[["resourceType","=","Org"],["resourceId","=",h("parentOrgId")]]}},{name:"_hasRepoAccess",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"permissionLevel",type:{kind:"int"}},{name:"sessionId",type:{kind:"string"},nullable:!0}],computed:!0,dependencies:{}},{name:"canRead",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:Nf("REPO::CAN_VIEW_PROTOTYPE")},{name:"canReadV2",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"sessionId",type:{kind:"string"},nullable:!0}],computed:!0,dependencies:Nf("REPO::CAN_VIEW_PROTOTYPE")},{name:"canViewV2",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"sessionId",type:{kind:"string"},nullable:!0}],computed:!0,dependencies:Nf("REPO::CAN_VIEW")},{name:"canEdit",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:Nf("REPO::CAN_EDIT")},{name:"canEditV2",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"sessionId",type:{kind:"string"},nullable:!0}],computed:!0,dependencies:Nf("REPO::CAN_EDIT")},{name:"folderId",type:{kind:"bigint"}},{name:"linkExpirationConfig",type:{kind:"object",name:"FigFileLinkExpirationConfig"},filter:{and:[["figFileKey","=",h("defaultFileKey")],["accessReverted","=",!1]]},nullable:!0,deprecated:{reason:"Use mainFileLinkExpirationConfig",date:"2023-05-31"}},{name:"mainFileLinkExpirationConfig",type:{kind:"object",name:"FigFileLinkExpirationConfig"},filter:["figFileKey","=",h("defaultFileKey")],nullable:!0}]};var g6={name:"RepoRole",fields:[...Qs,{name:"repo",type:{kind:"object",name:"Repo"},filter:["id","=",h("resourceId")]}]};var f6={name:"ResourceSave",fields:[{name:"id",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"}},{name:"hubFileId",type:{kind:"bigint"}},{name:"createdAt",type:{kind:"datetime"}},{name:"hubFile",type:{kind:"object",name:"HubFile"},filter:["id","=",h("hubFileId")]}]};var b6={name:"SCIMEnterpriseFields",embedded:!0,fields:[{name:"organization",type:{kind:"string"},nullable:!0},{name:"costCenter",type:{kind:"string"},nullable:!0},{name:"division",type:{kind:"string"},nullable:!0},{name:"department",type:{kind:"string"},nullable:!0}]};var y6={name:"SCIMFigmaEnterpriseFields",embedded:!0,fields:[{name:"figmaPermission",type:{kind:"string"},nullable:!0},{name:"figjamPermission",type:{kind:"string"},nullable:!0}]};var h6={name:"SearchInfo",embedded:!0,fields:[{name:"query",type:{kind:"string"}},{name:"timestamp",type:{kind:"string"}}]};var I6={name:"SharedOrgLicenseGroupSetting",fields:[{name:"id",type:{kind:"bigint"}},{name:"resourceType",type:{kind:"string"}},{name:"resourceId",type:{kind:"bigint"}},{name:"publicLinkControlsSetting",type:{kind:"string"},nullable:!0},{name:"autogenPasswordControls",type:{kind:"bool"}},{name:"externalCollaborationControls",type:{kind:"bool"}},{name:"teamCreationControls",type:{kind:"string"},nullable:!0},{name:"publicLinkControlsMaxExpiration",type:{kind:"int"},nullable:!0}]};var x6={name:"SharedWithYouFile",fields:[{name:"id",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"}},{name:"canRead",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"sessionId",type:{kind:"string"},nullable:!0}],computed:!0,dependencies:{userId:n,file:{canViewV2:[{userId:D("userId"),sessionId:D("sessionId")},n]}}},{name:"resourceId",type:{kind:"string"}},{name:"resourceType",type:{kind:"enum",name:"SharedWithYouResourceType"}},{name:"file",nullable:!0,type:{kind:"object",name:"File"},filter:{and:[["key","=",h("resourceId")],["trashedAt","=",null],["deletedAt","=",null]]}},{name:"parentTeamId",type:{kind:"bigint"},nullable:!0},{name:"parentTeam",nullable:!0,type:{kind:"object",name:"Team"},filter:["id","=",h("parentTeamId")]},{name:"parentOrgId",type:{kind:"bigint"},nullable:!0},{name:"parentOrg",nullable:!0,type:{kind:"object",name:"OrgInfo"},filter:["id","=",h("parentOrgId")]},{name:"thumbnailUrl",type:{kind:"string"},args:[],computed:!0,dependencies:{file:{figFileCheckpoint:{checkpoint:{thumbnailUrl:n}}}}},{name:"thumbnailUrlOverride",type:{kind:"string"},args:[],computed:!0,dependencies:{file:{thumbnailUrlOverride:n}}},{name:"sharedBy",type:{kind:"bigint"},nullable:!0},{name:"sharedByUser",nullable:!0,type:{kind:"object",name:"User"},filter:["id","=",h("sharedBy")]},{name:"orgOrTeamName",type:{kind:"string"},args:[],computed:!0,dependencies:{parentTeam:{name:n},parentOrg:{name:n}}},{name:"sharedByText",type:{kind:"string"},args:[],computed:!0,dependencies:{sharedByUser:{name:n},orgOrTeamName:n}},{name:"sharedAt",type:{kind:"datetime"}},{name:"createdAt",type:{kind:"datetime"}},{name:"updatedAt",type:{kind:"datetime"}}]};var _6={name:"SharedWithYouFolder",fields:[{name:"id",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"}},{name:"canRead",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:{userId:n,folder:{canRead:[{userId:D("userId")},n]}}},{name:"resourceId",type:{kind:"string"}},{name:"resourceType",type:{kind:"enum",name:"SharedWithYouResourceType"}},{name:"folder",nullable:!0,type:{kind:"object",name:"Project"},filter:{and:[["id","=",h("resourceId")],["deletedAt","=",null]]}},{name:"parentTeamId",type:{kind:"bigint"},nullable:!0},{name:"parentTeam",nullable:!0,type:{kind:"object",name:"Team"},filter:["id","=",h("parentTeamId")]},{name:"parentOrgId",type:{kind:"bigint"},nullable:!0},{name:"parentOrg",nullable:!0,type:{kind:"object",name:"OrgInfo"},filter:["id","=",h("parentOrgId")]},{name:"sharedBy",type:{kind:"bigint"},nullable:!0},{name:"sharedByUser",nullable:!0,type:{kind:"object",name:"User"},filter:["id","=",h("sharedBy")]},{name:"orgOrTeamName",type:{kind:"string"},args:[],computed:!0,dependencies:{parentTeam:{name:n},parentOrg:{name:n}}},{name:"sharedByText",type:{kind:"string"},args:[],computed:!0,dependencies:{sharedByUser:{name:n},orgOrTeamName:n}},{name:"sharedAt",type:{kind:"datetime"}},{name:"createdAt",type:{kind:"datetime"}},{name:"updatedAt",type:{kind:"datetime"}}]};var v6={name:"SharedWithYouPrototype",fields:[{name:"id",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"}},{name:"canRead",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"sessionId",type:{kind:"string"},nullable:!0}],computed:!0,dependencies:{userId:n,prototype:{file:{canViewPrototypeV2:[{userId:D("userId"),sessionId:D("sessionId")},n]}}}},{name:"resourceId",type:{kind:"string"}},{name:"resourceType",type:{kind:"enum",name:"SharedWithYouResourceType"}},{name:"prototype",nullable:!0,type:{kind:"object",name:"Prototype"},filter:{and:[["fileKey","=",h("resourceId")],["deleted","=",!1]]}},{name:"parentTeamId",type:{kind:"bigint"},nullable:!0},{name:"parentTeam",nullable:!0,type:{kind:"object",name:"Team"},filter:["id","=",h("parentTeamId")]},{name:"parentOrgId",type:{kind:"bigint"},nullable:!0},{name:"parentOrg",nullable:!0,type:{kind:"object",name:"OrgInfo"},filter:["id","=",h("parentOrgId")]},{name:"thumbnailUrl",type:{kind:"string"},args:[],computed:!0,dependencies:{prototype:{thumbnailUrl:n}}},{name:"sharedBy",type:{kind:"bigint"},nullable:!0},{name:"sharedByUser",nullable:!0,type:{kind:"object",name:"User"},filter:["id","=",h("sharedBy")]},{name:"orgOrTeamName",type:{kind:"string"},args:[],computed:!0,dependencies:{parentTeam:{name:n},parentOrg:{name:n}}},{name:"sharedByText",type:{kind:"string"},args:[],computed:!0,dependencies:{sharedByUser:{name:n},orgOrTeamName:n}},{name:"sharedAt",type:{kind:"datetime"}},{name:"createdAt",type:{kind:"datetime"}},{name:"updatedAt",type:{kind:"datetime"}}]};var O6={name:"SharedWithYouRepo",fields:[{name:"id",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"}},{name:"canRead",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"sessionId",type:{kind:"string"},nullable:!0}],computed:!0,dependencies:{userId:n,repo:{canViewV2:[{userId:D("userId"),sessionId:D("sessionId")},n]}}},{name:"resourceId",type:{kind:"string"}},{name:"resourceType",type:{kind:"enum",name:"SharedWithYouResourceType"}},{name:"repo",nullable:!0,type:{kind:"object",name:"Repo"},filter:{and:[["id","=",h("resourceId")],["trashedAt","=",null],["deletedAt","=",null]]}},{name:"parentTeamId",type:{kind:"bigint"},nullable:!0},{name:"parentTeam",nullable:!0,type:{kind:"object",name:"Team"},filter:["id","=",h("parentTeamId")]},{name:"parentOrgId",type:{kind:"bigint"},nullable:!0},{name:"parentOrg",nullable:!0,type:{kind:"object",name:"OrgInfo"},filter:["id","=",h("parentOrgId")]},{name:"sharedBy",type:{kind:"bigint"},nullable:!0},{name:"sharedByUser",nullable:!0,type:{kind:"object",name:"User"},filter:["id","=",h("sharedBy")]},{name:"orgOrTeamName",type:{kind:"string"},args:[],computed:!0,dependencies:{parentTeam:{name:n},parentOrg:{name:n}}},{name:"sharedByText",type:{kind:"string"},args:[],computed:!0,dependencies:{sharedByUser:{name:n},orgOrTeamName:n}},{name:"sharedAt",type:{kind:"datetime"}},{name:"createdAt",type:{kind:"datetime"}},{name:"updatedAt",type:{kind:"datetime"}}]};var S6={name:"SharedWithYouResource",fields:[{name:"id",type:{kind:"bigint"}},{name:"swyResourceId",type:{kind:"bigint"}},{name:"sharedWithYouFile",type:{kind:"object",name:"SharedWithYouFile"},filter:{and:[["id","=",h("swyResourceId")],["resourceType","=","file"]]},nullable:!0,checkCanRead:{userId:b("userId"),sessionId:b("sessionId")}},{name:"sharedWithYouFolder",type:{kind:"object",name:"SharedWithYouFolder"},filter:{and:[["id","=",h("swyResourceId")],["resourceType","=","folder"]]},nullable:!0,checkCanRead:{userId:b("userId")}},{name:"sharedWithYouRepo",type:{kind:"object",name:"SharedWithYouRepo"},filter:{and:[["id","=",h("swyResourceId")],["resourceType","=","file_repo"]]},nullable:!0,checkCanRead:{userId:b("userId"),sessionId:b("sessionId")}},{name:"sharedWithYouPrototype",type:{kind:"object",name:"SharedWithYouPrototype"},filter:{and:[["id","=",h("swyResourceId")],["resourceType","=","prototype"]]},nullable:!0,checkCanRead:{userId:b("userId"),sessionId:b("sessionId")}}]};var D6={name:"SharedWithYouTeam",fields:[{name:"id",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"}},{name:"canRead",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:{userId:n}},{name:"resourceId",type:{kind:"string"}},{name:"resourceType",type:{kind:"enum",name:"SharedWithYouResourceType"}},{name:"team",nullable:!0,type:{kind:"object",name:"Team"},filter:{and:[["id","=",h("resourceId")],["deletedAt","=",null]]}},{name:"parentOrgId",type:{kind:"bigint"},nullable:!0},{name:"parentOrg",nullable:!0,type:{kind:"object",name:"OrgInfo"},filter:["id","=",h("parentOrgId")]},{name:"sharedBy",type:{kind:"bigint"},nullable:!0},{name:"sharedByUser",nullable:!0,type:{kind:"object",name:"User"},filter:["id","=",h("sharedBy")]},{name:"orgOrTeamName",type:{kind:"string"},args:[],computed:!0,dependencies:{parentOrg:{name:n}}},{name:"sharedByText",type:{kind:"string"},args:[],computed:!0,dependencies:{sharedByUser:{name:n},orgOrTeamName:n}},{name:"sharedAt",type:{kind:"datetime"}},{name:"createdAt",type:{kind:"datetime"}},{name:"updatedAt",type:{kind:"datetime"}}]};var A6={name:"SlideThemeVariableInfo",embedded:!0,fields:[{name:"key",type:{kind:"string"}},{name:"version",type:{kind:"string"}},{name:"variable",type:{kind:"object",name:"VariableLog"},nullable:!0,filter:{and:[["key","=",h("key")],["version","=",h("version")]]}}]},F6={name:"SlideThemeStyleInfo",embedded:!0,fields:[{name:"key",type:{kind:"string"}},{name:"version",type:{kind:"string"}},{name:"style",type:{kind:"object",name:"StyleLog"},nullable:!0,filter:{and:[["key","=",h("key")],["contentHash","=",h("version")]]}}]},P6={name:"SlidesTheme",fields:[{name:"id",type:{kind:"bigint"}},{name:"themeKey",type:{kind:"string"}},{name:"version",type:{kind:"string"}},{name:"varSetVersion",type:{kind:"string"}},{name:"userId",type:{kind:"bigint"}},{name:"variableSetKey",type:{kind:"string"}},{name:"fileKey",type:{kind:"string"}},{name:"file",type:{kind:"object",name:"File"},nullable:!0,filter:["id","=",h("fileKey")]},{name:"variables",type:{kind:"objects",name:"SlideThemeVariableInfo"},embedded:!0},{name:"styles",type:{kind:"objects",name:"SlideThemeStyleInfo"},embedded:!0},{name:"variableSet",type:{kind:"object",name:"VariableSetLog"},nullable:!0,filter:{and:[["key","=",h("variableSetKey")],["version","=",h("varSetVersion")]]}}]};var j6={name:"StateGroup",fields:[...np,{name:"key",type:{kind:"string"}},{name:"defaultStateKey",type:{kind:"string"},nullable:!0},{name:"fileKey",type:{kind:"string"}},{name:"version",type:{kind:"string"}},{name:"minNodeWidth",type:{kind:"int"},nullable:!0},{name:"minNodeHeight",type:{kind:"int"},nullable:!0},{name:"containingFrame",type:{kind:"object",name:"LibraryItemContainingFrame"},embedded:!0,nullable:!0}]};var T6={name:"StudentApplication",fields:[{name:"id",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"validatedAt",type:{kind:"datetime"},nullable:!0},{name:"roleType",type:{kind:"string"},nullable:!0},{name:"eduPeriodEnd",type:{kind:"datetime"},nullable:!0}]};var sp={name:"Style",fields:[...np,{name:"key",type:{kind:"string"}},{name:"contentHash",type:{kind:"string"}},{name:"fileKey",type:{kind:"string"}},{name:"styleType",type:{kind:"string"}},{name:"sortPosition",type:{kind:"string"},nullable:!0},{name:"meta",type:{kind:"string"},nullable:!0},{name:"movedByFigma",type:{kind:"string"},nullable:!0},{name:"destinationKey",type:{kind:"string"},nullable:!0}]};var C6={name:"StyleLog",fields:[{name:"description",type:{kind:"string"},nullable:!0},{name:"description_rt",type:{kind:"string"},nullable:!0},{name:"nodeId",type:{kind:"string"}},{name:"checkpoint",type:{kind:"object",name:"Checkpoint"},embedded:!0},{name:"id",type:{kind:"bigint"}},{name:"key",type:{kind:"string"}},{name:"contentHash",type:{kind:"string"}},{name:"fileKey",type:{kind:"string"}},{name:"styleType",type:{kind:"string"}},{name:"sortPosition",type:{kind:"string"},nullable:!0},{name:"meta",type:{kind:"string"},nullable:!0},{name:"destinationKey",type:{kind:"string"},nullable:!0},{name:"thumbnailUrl",type:{kind:"string"},nullable:!0}]};var q_={name:"StyleWithDestinationAsset",fields:[...sp.fields,{name:"destinationAsset",type:{kind:"object",name:"Style"},filter:["key","=",h("destinationKey")],nullable:!0},{name:"canRead",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:{unpublishedAt:n,destinationAsset:{unpublishedAt:n,file:{...zs}},file:{...zs}}}],deprecated:{reason:"This object has been deprecated and should no longer be used. Please use StyleWithDestinationAssetV2 instead.",date:"2022-09-19"}};var E6={name:"StyleWithDestinationAssetV2",fields:[...q_.fields,{name:"canRead",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"openFileKey",type:{kind:"string"},nullable:!0}],computed:!0,dependencies:{unpublishedAt:n,destinationAsset:{unpublishedAt:n,file:{...zs}},file:{...zs,key:n}}}]};var k6={name:"StyleWithLegacySourceAsset",fields:[...sp.fields,{name:"legacySourceAsset",type:{kind:"object",name:"Style"},filter:{and:[["destinationKey","=",h("key")],["movedByFigma","<>",null]]},nullable:!0},{name:"canRead",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:{legacySourceAsset:{id:n},file:{...zs}}}]};var pC=Ie(e5());var oLe={id:n,orgId:n,orgAccess:n,roleOnObjectForUser:[{userId:x("userId")},{id:n,level:n}],currentPrivilegedOrgUser:[{userId:x("userId")},{id:n,accountType:n,whiteboardPaidStatus:n,permission:n}]},t5={name:"Team",fields:[{name:"id",type:{kind:"bigint"}},{name:"name",type:{kind:"string"}},{name:"description",type:{kind:"string"},nullable:!0},{name:"imgUrl",type:{kind:"string"},nullable:!0},{name:"updatedAt",type:{kind:"datetime"}},{name:"createdAt",type:{kind:"datetime"}},{name:"deletedAt",type:{kind:"datetime"},nullable:!0},{name:"orgId",type:{kind:"bigint"},nullable:!0},{name:"experimentSeed",type:{kind:"bigint"},nullable:!0},{name:"licenseGroupId",type:{kind:"bigint"},nullable:!0},{name:"defaultPermission",type:{kind:"string"},nullable:!0},{name:"licenseGroup",type:{kind:"object",name:"LicenseGroup"},filter:["id","=",h("licenseGroupId")],nullable:!0},{name:"workspaceId",type:{kind:"bigint"},nullable:!0},{name:"workspace",type:{kind:"object",name:"Workspace"},filter:["id","=",h("workspaceId")],nullable:!0},{name:"workspaceSharedSetting",type:{kind:"object",name:"SharedOrgLicenseGroupSetting"},nullable:!0,filter:{and:[["resourceType","=","Workspace"],["resourceId","=",h("workspaceId")]]}},{name:"vatGstId",type:{kind:"string"},nullable:!0},{name:"taxIdVerificationStatus",type:{kind:"enum",name:"TaxIdVerificationStatus"},nullable:!0},{name:"studentTeamAt",type:{kind:"datetime"},nullable:!0},{name:"eduGracePeriod",type:{kind:"object",name:"EduGracePeriod"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",D("userId")],["teamId","=",h("id")]]}},{name:"studentAutoverifyingTeamAt",type:{kind:"datetime"},nullable:!0},{name:"trialPeriodEnd",type:{kind:"datetime"},nullable:!0},{name:"gracePeriodEnd",type:{kind:"datetime"},nullable:!0},{name:"gracePeriodType",type:{kind:"enum",name:"GracePeriodType"},nullable:!0},{name:"_subscriptionRaw",type:{kind:"enum",name:"SubscriptionType"},nullable:!0},{name:"subscription",type:{kind:"enum",name:"SubscriptionType"},computed:!0,dependencies:{orgId:n,_subscriptionRaw:n,gracePeriodEnd:n}},{name:"projectsCount",type:{kind:"int"},nullable:!0},{name:"editorsCount",type:{kind:"int"},nullable:!0},{name:"editorsWhiteboardCount",type:{kind:"bigint"},nullable:!0},{name:"editorsTotalUniqueCount",type:{kind:"bigint"},nullable:!0},{name:"restrictionsList",type:{kind:"list",ofType:{kind:"enum",name:"TeamRestrictionsType"}},computed:!0,dependencies:{subscription:n,projectsCount:n,studentTeamAt:n,createdAt:n,teamFileCounts:{designFileCount:n,whiteboardFileCount:n}}},{name:"hasLockedRestriction",type:{kind:"bool"},computed:!0,dependencies:{id:n,restrictionsList:n}},{name:"roles",type:{kind:"objects",name:"TeamRole"},filter:{and:[["resourceId","=",h("id")],["resourceType","=","team"]]},expectedMaxCount:200},{name:"adminRoles",type:{kind:"objects",name:"TeamRole"},nullable:!0,filter:{and:[["resourceId","=",h("id")],["resourceType","=","team"],["level",">=",900]]}},{name:"roleOnObjectForUser",type:{kind:"object",name:"TeamRole"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",D("userId")],["resourceId","=",h("id")],["resourceType","=","team"]]}},{name:"roleOnObjectTeamForUser",type:{kind:"object",name:"TeamRole"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",D("userId")],["resourceId","=",h("id")],["resourceType","=","team"]]}},{name:"projects",type:{kind:"objects",name:"Project"},nullable:!0,filter:{and:[["teamId","=",h("id")],["inviteOnlyAt","=",null],["path","<>",""]]},expectedMaxCount:500},{name:"allProjects",type:{kind:"objects",name:"Project"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["teamId","=",h("id")],["path","<>",""]]},checkCanRead:{userId:D("userId")},expectedMaxCount:500},{name:"orgAccess",type:{kind:"enum",name:"OrgAccess"},nullable:!0},{name:"currentOrgUser",type:{kind:"object",name:"OrgUser"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",D("userId")],["orgId","=",h("orgId")],["permission","<>","guest"]]}},{name:"currentPrivilegedOrgUser",type:{kind:"object",name:"PrivilegedOrgUser"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",D("userId")],["orgId","=",h("orgId")],["permission","<>","guest"]]}},{name:"currentBaseOrgUser",type:{kind:"object",name:"BaseOrgUser"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",D("userId")],["orgId","=",h("orgId")]]}},{name:"currentTeamUser",type:{kind:"object",name:"TeamUser"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",D("userId")],["teamId","=",h("id")]]}},{name:"currentUser",nullable:!0,type:{kind:"object",name:"User"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["id","=",D("userId")]},{name:"libraryTeamSubscriptions",type:{kind:"objects",name:"LibraryTeamSubscription"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"initialPageSize",type:{kind:"int"}}],checkCanRead:{userId:D("userId")},filter:{and:[["teamId","=",h("id")],["isSubscribed","=",!0]]},expectedMaxCount:1e3},{name:"licenseGroupAdmins",type:{kind:"objects",name:"LicenseGroupAdmin"},filter:{and:[["licenseGroupId","<>",null],["licenseGroupId","=",h("licenseGroupId")]]},expectedMaxCount:1e3},{name:"org",type:{kind:"object",name:"Org"},filter:["id","=",h("orgId")],nullable:!0},{name:"hasProEditLinksEditHeuristics",type:{kind:"bool"},computed:!0,dependencies:{}},{name:"_hasTeamAccess",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"permissionLevel",type:{kind:"int"}}],computed:!0,dependencies:oLe},{name:"canRead",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:nr(oi(Mf["TEAM::CAN_VIEW"],["workspaceUser"]),{id:n,workspaceId:n,currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{workspaceUsers:{permission:n,workspaceId:n,orgUserId:n}}]})},{name:"canEdit",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:nr(oi(Mf["TEAM::CAN_EDIT"],["workspaceUser"]),{id:n,workspaceId:n,currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{workspaceUsers:{permission:n,workspaceId:n,orgUserId:n}}]})},{name:"canAdmin",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:nr(oi(Mf["TEAM::CAN_ADMIN"],["workspaceUser"]),{id:n,workspaceId:n,currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{workspaceUsers:{permission:n,workspaceId:n,orgUserId:n}}]})},{name:"isOwner",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:nr(oi(Mf["TEAM::IS_OWNER"],["workspaceUser"]),{id:n,workspaceId:n,currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{workspaceUsers:{permission:n,workspaceId:n,orgUserId:n}}]})},{name:"experimentAssignments",type:{kind:"objects",name:"ExperimentAssignment"},filter:{and:[["resourceId","=",h("id")],["resourceType","=","Team"]]}},{name:"teamFileCounts",type:{kind:"object",name:"TeamFileCount"},nullable:!0,filter:["teamId","=",h("id")]},{name:"pendingTeamRoleRequests",type:{kind:"objects",name:"TeamRoleRequest"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,checkCanRead:{userId:D("userId")},filter:{and:[["teamId","=",h("id")],["status","=","pending"]]},expectedMaxCount:1e3},{name:"isLockedForUser",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:{studentTeamAt:n,restrictionsList:n,eduGracePeriod:[{userId:x("userId")},{id:n,isValid:n}],currentUser:[{userId:x("userId")},{studentValidatedAt:n}]}},{name:"canAccessProFeature",type:{kind:"bool"},computed:!0,dependencies:{subscription:n,studentTeamAt:n,gracePeriodEnd:n}},{name:"defaultColorPaletteUuid",type:{kind:"uuid"},nullable:!0},{name:"isStarterTeam",type:{kind:"bool"},computed:!0,dependencies:{orgId:n,subscription:n}},{name:"files",type:{kind:"objects",name:"File"},args:[],checkCanRead:{userId:(0,pC.session)("userId")},filter:{and:[["teamId","=",h("id")],["deletedAt","=",null]]},expectedMaxCount:2e3},{name:"fileUpdates",type:{kind:"objects",name:"File"},args:[{name:"updatedAtTimestamp",type:{kind:"datetime"}}],checkCanRead:{userId:(0,pC.session)("userId")},filter:{and:[["teamId","=",h("id")],["deletedAt","=",null],["updatedAt",">",D("updatedAtTimestamp")]]},expectedMaxCount:2e3},{name:"sharingAudienceControl",type:{kind:"enum",name:"LinkAccess"},computed:!0,dependencies:{orgAccess:n,defaultPermission:n}},{name:"orgBrowsable",type:{kind:"bool"},computed:!0,dependencies:{orgId:n,orgAccess:n,sharingAudienceControl:n}},{name:"hidden",type:{kind:"bool"},computed:!0,dependencies:{orgId:n,orgAccess:n,sharingAudienceControl:n}},{name:"sampledEditors",type:{kind:"objects",name:"TeamUser"},nullable:!0,filter:{and:[["teamId","=",h("id")],{or:[["designPaidStatus","=","full"],["whiteboardPaidStatus","=","full"]]}]},expectedMaxCount:5}]};var r5={name:"TeamFileCount",fields:[{name:"id",type:{kind:"bigint"}},{name:"teamId",type:{kind:"bigint"}},{name:"designFileCount",type:{kind:"int"}},{name:"whiteboardFileCount",type:{kind:"int"}}]};var i5={name:"TeamRole",fields:[...Qs,{name:"team",type:{kind:"object",name:"Team"},filter:["id","=",h("resourceId")],nullable:!0},{name:"canEdit",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:{id:n,userId:n,level:n,team:{id:n,roleOnObjectForUser:[{userId:x("userId")},{id:n,userId:n,level:n}]}}}]};var n5={name:"TeamRoleRequest",fields:[{name:"id",type:{kind:"bigint"}},{name:"status",type:{kind:"string"}},{name:"teamId",type:{kind:"bigint"}},{name:"requesterUserId",type:{kind:"bigint"},nullable:!0},{name:"level",type:{kind:"int"}},{name:"requesterPrivilegedOrgUser",type:{kind:"object",name:"PrivilegedOrgUser"},filter:["userId","=",h("requesterUserId")]},{name:"team",type:{kind:"object",name:"Team"},filter:["id","=",h("teamId")],args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],checkCanRead:{userId:x("userId")}},{name:"canRead",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:{team:[{userId:x("userId")},{id:n,canAdmin:[{userId:x("userId")},n]}]}},{name:"user",type:{kind:"object",name:"User"},filter:["id","=",h("requesterUserId")]}]};var s5={name:"TeamUser",fields:[{name:"id",type:{kind:"bigint"}},{name:"teamId",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"}},{name:"designPaidStatus",type:{kind:"string"}},{name:"whiteboardPaidStatus",type:{kind:"string"}},{name:"draftsFolderId",type:{kind:"bigint"},nullable:!0},{name:"team",type:{kind:"object",name:"Team"},filter:{and:[["id","=",h("teamId")]]}},{name:"user",type:{kind:"object",name:"User"},filter:{and:[["id","=",h("userId")]]}},{name:"designProAccountTypeRequest",type:{kind:"object",name:"ProAccountTypeRequest"},filter:{and:[["requestableUserId","=",h("id")],["requestableUserType","=","TeamUser"],["_editorTypeRaw","=",0]]},nullable:!0},{name:"whiteboardProAccountTypeRequest",type:{kind:"object",name:"ProAccountTypeRequest"},filter:{and:[["requestableUserId","=",h("id")],["requestableUserType","=","TeamUser"],["_editorTypeRaw","=",1]]},nullable:!0},{name:"designAccountTypeRequest",type:{kind:"object",name:"AccountTypeRequest"},filter:{and:[["requestableUserId","=",h("id")],["requestableUserType","=","TeamUser"],["_editorTypeRaw","=",0]]},nullable:!0},{name:"whiteboardAccountTypeRequest",type:{kind:"object",name:"AccountTypeRequest"},filter:{and:[["requestableUserId","=",h("id")],["requestableUserType","=","TeamUser"],["_editorTypeRaw","=",1]]},nullable:!0},{name:"draftsProject",type:{kind:"object",name:"Project"},filter:["id","=",h("draftsFolderId")],nullable:!0},{name:"favoritedFiles",type:{kind:"objects",name:"FavoritedFile"},nullable:!0,filter:{and:[["resourceType","=","file"],["userId","=",h("userId")],["orgId","=",null],["teamId","=",h("teamId")]]},expectedMaxCount:100},{name:"favoritedPrototypes",type:{kind:"objects",name:"FavoritedPrototype"},nullable:!0,filter:{and:[["resourceType","=","prototype"],["userId","=",h("userId")],["orgId","=",null],["teamId","=",h("teamId")]]},expectedMaxCount:100},{name:"favoritedProjects",type:{kind:"objects",name:"FavoritedProject"},nullable:!0,filter:{and:[["resourceType","=","folder"],["userId","=",h("userId")],["orgId","=",null],["teamId","=",h("teamId")]]},expectedMaxCount:100},{name:"planlessFavoritedFiles",type:{kind:"objects",name:"FavoritedFile"},nullable:!0,filter:{and:[["resourceType","=","file"],["userId","=",h("userId")],["orgId","=",null],["teamId","=",null]]},expectedMaxCount:100},{name:"planlessFavoritedPrototypes",type:{kind:"objects",name:"FavoritedPrototype"},nullable:!0,filter:{and:[["resourceType","=","prototype"],["userId","=",h("userId")],["orgId","=",null],["teamId","=",null]]},expectedMaxCount:100},{name:"planlessFavoritedProjects",type:{kind:"objects",name:"FavoritedProject"},nullable:!0,filter:{and:[["resourceType","=","folder"],["userId","=",h("userId")],["orgId","=",null],["teamId","=",null]]},expectedMaxCount:100},{name:"fileBrowserPreferences",type:{kind:"object",name:"FileBrowserPreferences"},nullable:!0,filter:{and:[["userId","=",h("userId")],["teamId","=",h("teamId")],["orgId","=",null]]}}]};var o5={name:"TeamWithSummary",fields:[{name:"id",type:{kind:"bigint"}},{name:"orgId",type:{kind:"bigint"},nullable:!0},{name:"team",type:{kind:"object",name:"Team"},filter:["id","=",h("id")]},{name:"currentUser",nullable:!0,type:{kind:"object",name:"User"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["id","=",D("userId")]},{name:"memberCount",type:{kind:"int"},computed:!0,dependencies:{id:n,team:{id:n,projects:{id:n},orgAccess:n,roles:{id:n}}}},{name:"projectCount",type:{kind:"int"},computed:!0,dependencies:{id:n,team:{projects:{id:n}}}},{name:"canRead",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:{id:n,team:{canRead:[{userId:x("userId")},n],deletedAt:n,orgAccess:n,currentPrivilegedOrgUser:[{userId:x("userId")},{id:n,permission:n}],adminRoles:{id:n,pending:n,userId:n}}}}]};var a5={naturalKey:new Set(["fileKey"]),name:"Template",fields:[{name:"id",type:{kind:"string"}},{name:"fileKey",type:{kind:"string"}},{name:"fileVersionId",type:{kind:"string"}},{name:"name",type:{kind:"string"}},{name:"description",type:{kind:"string"},nullable:!0},{name:"coverImagePath",type:{kind:"string"},nullable:!0},{name:"thumbnailUrl",type:{kind:"string"},computed:!0,dependencies:{coverImagePath:n}},{name:"thumbnailGuid",type:{kind:"string"},nullable:!0},{name:"publishScope",type:{kind:"string"}},{name:"orgId",type:{kind:"string"},nullable:!0},{name:"licenseGroupId",type:{kind:"string"},nullable:!0},{name:"workspaceId",type:{kind:"string"},nullable:!0},{name:"teamId",type:{kind:"string"},nullable:!0},{name:"publishedByUserId",type:{kind:"string"},nullable:!0},{name:"publishedByUser",type:{kind:"object",name:"User"},filter:["id","=",h("publishedByUserId")],deprecated:{reason:`Use publishedByUserNullable instead (likely aliasing it to publishedByUser
          see https://www.notion.so/figma/How-to-evolve-the-LiveGraph-schema-157dd4506a234e1c9097f914f514032b)`,date:"2023-02-25"}},{name:"publishedByUserNullable",type:{kind:"object",name:"User"},filter:["id","=",h("publishedByUserId")],nullable:!0},{name:"unpublishedAt",type:{kind:"datetime"},nullable:!0},{name:"createdAt",type:{kind:"datetime"}},{name:"updatedAt",type:{kind:"datetime"}}]};var l5={name:"SubscriptionUpdateSloData",fields:[{name:"id",type:{kind:"uuid"}},{name:"key",type:{kind:"uuid"}},{name:"createdAt",type:{kind:"datetime"}},{name:"updatedAt",type:{kind:"datetime"}}]};var u5={name:"User",fields:[{name:"id",type:{kind:"bigint"}},{name:"createdAt",type:{kind:"datetime"}},{name:"name",type:{kind:"string"},nullable:!0},{name:"email",type:{kind:"string"},nullable:!0},{name:"emailValidatedAt",type:{kind:"datetime"},nullable:!0},{name:"description",type:{kind:"string"},nullable:!0},{name:"rawHandle",type:{kind:"string"},nullable:!0},{name:"studentValidatedAt",type:{kind:"datetime"},nullable:!0},{name:"adminAt",type:{kind:"datetime"},nullable:!0},{name:"draftsFolderId",type:{kind:"bigint"},nullable:!0},{name:"externalRestrictedOrgId",type:{kind:"bigint"},nullable:!0},{name:"draftsProject",type:{kind:"object",name:"Project"},filter:["id","=",h("draftsFolderId")],nullable:!0},{name:"draftFiles",type:{kind:"objects",name:"DraftFile"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"draftsFolderId",type:{kind:"bigint"}},{name:"cursorColumn",type:{kind:"string"}},{name:"sortOrder",type:{kind:"string"}},{name:"firstPageSize",type:{kind:"int"}},{name:"editorType",type:{kind:"enum",name:"EditorType"},nullable:!0}],nullable:!0,resolver:{type:"HTTP",uri:"/api/internal/livegraph/pagination_resolver/drafts_files",queryParams:{userId:D("userId"),drafts_folder_id:D("draftsFolderId"),editor_type:D("editorType")},realtimePolicy:{type:"RedisPubsub",channelPrefix:"drafts-folder-",channelPostfix:[D("draftsFolderId")]}},pagination:{firstPageSize:D("firstPageSize"),cursorColumnSet:{createdAtAndId:["created_at","id"],updatedAtAndId:["updated_at","id"],nameAndId:["name","id"]},selectedCursorColumn:D("cursorColumn"),sortOrder:D("sortOrder")},orderBy:"Unordered"},{name:"userMonetizationMetadata",type:{kind:"object",name:"UserMonetizationMetadata"},filter:["userId","=",h("id")],nullable:!0},{name:"accountManagerMessages",type:{kind:"objects",name:"AccountManagerMessage"},filter:["targetUserId","=",h("id")],nullable:!0,expectedMaxCount:10},{name:"onboardingSignals",type:{kind:"object",name:"OnboardingUserSignals"},nullable:!0,filter:["userId","=",h("id")]},{name:"profile",type:{kind:"object",name:"UserProfile"},embedded:!0,nullable:!0},{name:"profileId",type:{kind:"bigint"},nullable:!0},{name:"communityProfile",type:{kind:"object",name:"Profile"},nullable:!0,filter:["id","=",h("profileId")]},{name:"handle",type:{kind:"string"},computed:!0,dependencies:{id:n,name:n,rawHandle:n}},{name:"isSystemUser",type:{kind:"bool"},computed:!0,dependencies:{email:n}},{name:"rawImgUrl",type:{kind:"string"},nullable:!0},{name:"imgUrl",type:{kind:"string"},computed:!0,dependencies:{id:n,email:n,name:n,rawHandle:n,rawImgUrl:n}},{name:"emailDomain",type:{kind:"string"},computed:!0,dependencies:{email:n}},{name:"teamRoles",type:{kind:"objects",name:"TeamRole"},nullable:!0,filter:{and:[["userId","=",h("id")],["resourceType","=","team"]]},expectedMaxCount:400},{name:"teamEditRoles",type:{kind:"objects",name:"TeamRole"},filter:{and:[["userId","=",h("id")],["resourceType","=","team"],["level",">=",300]]},expectedMaxCount:400},{name:"orgAwareTeamRoles",type:{kind:"objects",name:"OrgAwareTeamRole"},args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],checkCanRead:{orgId:D("orgId")},filter:{and:[["userId","=",h("id")],["resourceType","=","team"]]},expectedMaxCount:400},{name:"teamRole",type:{kind:"object",name:"TeamRole"},args:[{name:"teamId",type:{kind:"string"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",h("id")],["resourceType","=","team"],["resourceId","=",D("teamId")]]}},{name:"projectRoles",type:{kind:"objects",name:"ProjectRole"},nullable:!0,filter:{and:[["userId","=",h("id")],["resourceType","=","folder"]]},expectedMaxCount:5e3},{name:"sharedProjectRoles",type:{kind:"objects",name:"ProjectRole"},args:[{name:"initialPageSize",type:{kind:"int"}}],nullable:!0,filter:{and:[["userId","=",h("id")],["resourceType","=","folder"],["isShared","=",!0]]},expectedMaxCount:5e3},{name:"hasSharedProjects",type:{kind:"bool"},args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:{sharedProjectRoles:{id:n,project:{orgId:n,team:{orgId:n}}}}},{name:"projectEditRoles",type:{kind:"objects",name:"ProjectRole"},filter:{and:[["userId","=",h("id")],["resourceType","=","folder"],["level",">=",300]]},expectedMaxCount:3e4},{name:"projectRole",type:{kind:"object",name:"ProjectRole"},args:[{name:"projectId",type:{kind:"string"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",h("id")],["resourceType","=","folder"],["resourceId","=",D("projectId")]]}},{name:"projectSubscriptions",type:{kind:"objects",name:"ProjectSubscription"},nullable:!0,filter:["userId","=",h("id")],expectedMaxCount:5e3},{name:"fileRoles",type:{kind:"objects",name:"FileRole"},nullable:!0,filter:{and:[["userId","=",h("id")],["resourceType","=","file"]]},expectedMaxCount:200},{name:"repoRoles",type:{kind:"objects",name:"RepoRole"},nullable:!0,filter:{and:[["userId","=",h("id")],["resourceType","=","file_repo"]]},expectedMaxCount:200},{name:"repoRole",type:{kind:"object",name:"RepoRole"},args:[{name:"repoId",type:{kind:"string"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",h("id")],["resourceType","=","file_repo"],["resourceId","=",D("repoId")]]}},{name:"guestOrgUser",type:{kind:"object",name:"GuestOrgUser"},args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",h("id")],["orgId","=",D("orgId")],["permission","=","guest"]]}},{name:"baseOrgUser",type:{kind:"object",name:"BaseOrgUser"},args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",h("id")],["orgId","=",D("orgId")]]}},{name:"currentTeamUser",type:{kind:"object",name:"TeamUser"},args:[{name:"teamId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",h("id")],["teamId","=",D("teamId")]]}},{name:"orgUser",type:{kind:"object",name:"OrgUser"},args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",h("id")],["orgId","=",D("orgId")],["permission","<>","guest"]]}},{name:"privilegedOrgUser",type:{kind:"object",name:"PrivilegedOrgUser"},args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",h("id")],["orgId","=",D("orgId")],["permission","<>","guest"]]}},{name:"currentPartialOrgUser",type:{kind:"object",name:"GuestOrgUser"},args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",h("id")],["orgId","=",D("orgId")]]},deprecated:{reason:"Use currentBaseOrgUser",date:"2022-02-11"}},{name:"guestOrgUsers",type:{kind:"objects",name:"GuestOrgUser"},nullable:!0,filter:{and:[["userId","=",h("id")],["permission","=","guest"]]}},{name:"baseOrgUsers",type:{kind:"objects",name:"BaseOrgUser"},nullable:!0,args:[{name:"initialPageSize",type:{kind:"int"}}],filter:{and:[["userId","=",h("id")]]}},{name:"guestBaseOrgUsers",type:{kind:"objects",name:"BaseOrgUser"},nullable:!0,args:[{name:"initialPageSize",type:{kind:"int"}}],filter:{and:[["userId","=",h("id")],["permission","=","guest"]]}},{name:"orgUsers",type:{kind:"objects",name:"OrgUser"},nullable:!0,filter:{and:[["userId","=",h("id")],["permission","<>","guest"]]}},{name:"privilegedOrgUsers",type:{kind:"objects",name:"PrivilegedOrgUser"},nullable:!0,args:[{name:"initialPageSize",type:{kind:"int"}}],filter:{and:[["userId","=",h("id")],["permission","<>","guest"]]}},{name:"allOrgUsers",type:{kind:"objects",name:"GuestOrgUser"},nullable:!0,filter:["userId","=",h("id")]},{name:"allBaseOrgUsers",type:{kind:"objects",name:"BaseOrgUser"},nullable:!0,args:[{name:"initialPageSize",type:{kind:"int"}}],filter:["userId","=",h("id")]},{name:"teamUser",type:{kind:"object",name:"TeamUser"},args:[{name:"teamId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",h("id")],["teamId","=",D("teamId")]]}},{name:"userFlags",type:{kind:"objects",name:"UserFlag"},filter:["userId","=",h("id")],expectedMaxCount:1e4},{name:"userTeamFlags",type:{kind:"objects",name:"UserTeamFlag"},filter:["userId","=",h("id")]},{name:"fileBrowserPreferences",type:{kind:"object",name:"FileBrowserPreferences"},nullable:!0,filter:{and:[["userId","=",h("id")],["orgId","=",null],["teamId","=",null]]}},{name:"fileBrowserSectionPreferences",type:{kind:"objects",name:"FileBrowserSectionPreferences"},nullable:!0,filter:{and:[["userId","=",h("id")],["orgId","=",null]]},expectedMaxCount:1e3},{name:"recentPrototypes",type:{kind:"objects",name:"RecentPrototype"},args:[{name:"initialPageSize",type:{kind:"int"}}],filter:{and:[["userId","=",h("id")]]},expectedMaxCount:1e3},{name:"recentPrototypesByViewTime",type:{kind:"objects",name:"RecentPrototype"},args:[{name:"initialPageSize",type:{kind:"int"}}],filter:{and:[["userId","=",h("id")]]},orderBy:[["viewedAt","DESC"]],expectedMaxCount:1e3},{name:"installedPlugins",type:{kind:"objects",name:"PluginInstall"},args:[{name:"initialPageSize",type:{kind:"int"}}],filter:["userId","=",h("id")],expectedMaxCount:1e3},{name:"plugins",type:{kind:"objects",name:"Plugin"},args:[{name:"initialPageSize",type:{kind:"int"}}],filter:["userId","=",h("id")],expectedMaxCount:1e3},{name:"hasSavedPlugins",type:{kind:"bool"},computed:!0,dependencies:{installedPlugins:{id:n}}},{name:"hasCreatedPlugins",type:{kind:"bool"},computed:!0,dependencies:{plugins:{id:n}}},{name:"favoritedResources",args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],type:{kind:"objects",name:"FavoritedResource"},filter:{and:[["userId","=",h("id")],["orgId","=",D("orgId")]]},deprecated:{reason:"Use favoritedFiles, favoritedPrototypes, etc",date:"2022-03-18"},expectedMaxCount:100},{name:"favoritedFiles",args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],type:{kind:"objects",name:"FavoritedFile"},nullable:!0,filter:{and:[["resourceType","=","file"],["userId","=",h("id")],["orgId","=",D("orgId")]]},expectedMaxCount:100},{name:"favoritedFile",args:[{name:"resourceId",type:{kind:"string"},nullable:!0}],type:{kind:"object",name:"FavoritedFile"},nullable:!0,filter:{and:[["resourceType","=","file"],["userId","=",h("id")],["resourceId","=",D("resourceId")]]}},{name:"favoritedPrototype",args:[{name:"resourceId",type:{kind:"string"},nullable:!0}],type:{kind:"object",name:"FavoritedPrototype"},nullable:!0,filter:{and:[["resourceType","=","prototype"],["userId","=",h("id")],["resourceId","=",D("resourceId")]]}},{name:"favoritedProject",args:[{name:"resourceId",type:{kind:"string"},nullable:!0}],type:{kind:"object",name:"FavoritedProject"},nullable:!0,filter:{and:[["resourceType","=","folder"],["userId","=",h("id")],["resourceId","=",D("resourceId")]]}},{name:"globalFavoritedFiles",args:[],type:{kind:"objects",name:"FavoritedFile"},nullable:!0,filter:{and:[["resourceType","=","file"],["userId","=",h("id")]]},expectedMaxCount:100},{name:"favoritedPrototypes",args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],type:{kind:"objects",name:"FavoritedPrototype"},nullable:!0,filter:{and:[["resourceType","=","prototype"],["userId","=",h("id")],["orgId","=",D("orgId")]]},expectedMaxCount:100},{name:"favoritedProjects",args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],type:{kind:"objects",name:"FavoritedProject"},nullable:!0,filter:{and:[["resourceType","=","folder"],["userId","=",h("id")],["orgId","=",D("orgId")]]},expectedMaxCount:1e3},{name:"favoritedTeams",args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],type:{kind:"objects",name:"FavoritedTeam"},nullable:!0,filter:{and:[["resourceType","=","team"],["userId","=",h("id")],["orgId","=",D("orgId")]]},expectedMaxCount:1e3},{name:"favoritedWorkspaces",args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],type:{kind:"objects",name:"FavoritedWorkspace"},nullable:!0,filter:{and:[["resourceType","=","workspace"],["userId","=",h("id")],["orgId","=",D("orgId")]]},expectedMaxCount:1e3},{name:"userSidebarSections",args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],type:{kind:"objects",name:"UserSidebarSection"},nullable:!0,filter:{and:[["userId","=",h("id")],["orgId","=",D("orgId")]]},expectedMaxCount:1e3},{name:"recentSearches",args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],type:{kind:"objects",name:"RecentSearch"},nullable:!0,filter:{and:[["userId","=",h("id")],["orgId","=",D("orgId")]]},expectedMaxCount:100},{name:"recentFiles",args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],type:{kind:"objects",name:"RecentFile"},nullable:!0,orderBy:[["actionAt","DESC"]],filter:["userId","=",D("userId")],resolver:{type:"HTTP",uri:"/api/internal/livegraph/sinatra_resolver/recent_files",queryParams:{userId:D("userId")},realtimePolicy:{type:"RedisPubsub",channelPrefix:"user-recent-files-",channelPostfix:[D("userId")]}}},{name:"permissionFeatureFlags",args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],type:{kind:"objects",name:"PermissionFeatureFlag"},nullable:!0,resolver:{type:"HTTP",uri:"/api/internal/livegraph/user/perm_feature_flags",queryParams:{userId:D("userId")},realtimePolicy:{type:"RedisPubsub",channelPrefix:"user-permission-ff",channelPostfix:[]}}},{name:"recentSharedWithYouFiles",args:[],type:{kind:"objects",name:"SharedWithYouFile"},filter:{and:[["userId","=",h("id")],["resourceType","=","file"]]},orderBy:[["sharedAt","DESC"]],checkCanRead:{userId:b("userId"),sessionId:b("sessionId")},expectedMaxCount:50},{name:"idpUser",type:{kind:"object",name:"IDPUser"},nullable:!0,filter:["userName","=",h("email")]},{name:"studentApplications",type:{kind:"objects",name:"StudentApplication"},nullable:!0,filter:["userId","=",h("id")],orderBy:[["validatedAt","DESC"]]},{name:"eduPeriodEnd",type:{kind:"datetime"},computed:!0,dependencies:{studentApplications:{validatedAt:n,eduPeriodEnd:n},userFlags:{name:n}}},{name:"feedPosts",args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],nullable:!0,type:{kind:"objects",name:"FeedPost"},filter:{and:[["creatorId","=",h("id")],["orgId","=",D("orgId")]]},orderBy:[["createdAt","DESC"]],expectedMaxCount:50},{name:"jamboardOfferEligibility",args:[],type:{kind:"object",name:"UserJamboardOfferEligibility"},resolver:{type:"HTTP",uri:"/api/internal/livegraph/sinatra_resolver/jamboard_offer_eligibility",queryParams:{userId:h("id")},realtimePolicy:{type:"RedisPubsub",channelPrefix:"user-jamboard-offer-eligibility-",channelPostfix:[h("id")]}}},{name:"feedTagFollowers",type:{kind:"objects",name:"FeedTagFollower"},nullable:!0,filter:["userId","=",h("id")],expectedMaxCount:100}]};var d5={name:"UserColorPaletteOverrideForFile",fields:[{name:"id",type:{kind:"bigint"}},{name:"fileKey",type:{kind:"string"}},{name:"userId",type:{kind:"bigint"}},{name:"colorPaletteUuid",type:{kind:"uuid"}},{name:"colorPalette",type:{kind:"object",name:"ColorPalette"},filter:["uuid","=",h("colorPaletteUuid")],nullable:!0,checkCanRead:{userId:b("userId")}},{name:"canRead",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:{colorPaletteUuid:n,colorPalette:{team:{canRead:[{userId:x("userId")},n]}}}}]};var c5={name:"UserColorProfilePreference",fields:[{name:"id",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"}},{name:"colorProfilePreference",type:{kind:"enum",name:"ColorProfilePreference"}},{name:"createdAt",type:{kind:"datetime"}},{name:"updatedAt",type:{kind:"datetime"}}]};var p5={name:"UserFlag",fields:[{name:"id",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"}},{name:"name",type:{kind:"string"}},{name:"createdAt",type:{kind:"datetime"}},{name:"updatedAt",type:{kind:"datetime"}}]};var m5={name:"UserJamboardOfferEligibility",fields:[{name:"id",type:{kind:"bigint"}},{name:"isEligible",type:{kind:"bool"}},{name:"ineligibilityReason",type:{kind:"string"},nullable:!0},{name:"promoCodeId",type:{kind:"string"},nullable:!0},{name:"promoExpirationDate",type:{kind:"datetime"}}]};var g5={name:"UserMonetizationMetadata",fields:[{name:"id",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"}},{name:"stripeCmtyCreatorStatsMeta",type:{kind:"map",valueType:{kind:"int"}}},{name:"cmtySellerAcceptedAt",type:{kind:"datetime"},nullable:!0},{name:"cmtySellerTosAcceptedAt",type:{kind:"datetime"},nullable:!0},{name:"sellerChargesEnabledAt",type:{kind:"datetime"},nullable:!0},{name:"sellerPayoutsEnabledAt",type:{kind:"datetime"},nullable:!0},{name:"stripeConnectedAccountId",type:{kind:"string"},nullable:!0},{name:"user",type:{kind:"object",name:"User"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["id","=",D("userId")]},{name:"canRead",type:{kind:"bool"},args:[{name:"userId",type:{kind:"string"},nullable:!0},{name:"sessionUserId",type:{kind:"string"},nullable:!0}],computed:!0,dependencies:{user:[{userId:x("userId")},{communityProfile:{associatedUsers:{id:n}}}]}}]};var f5={name:"UserNotificationBell",fields:[{name:"id",type:{kind:"bigint"}},{name:"bell",type:{kind:"bool"},nullable:!0},{name:"notificationSpaceId",type:{kind:"string"},nullable:!0},{name:"userId",type:{kind:"string"}},{name:"timestamp",type:{kind:"string"},nullable:!0}]};var b5={name:"UserProfile",embedded:!0,fields:[{name:"jobTitle",type:{kind:"string"}},{name:"usagePurpose",type:{kind:"string"},nullable:!0}]};var y5={name:"UserSidebarSection",fields:[{name:"id",type:{kind:"bigint"}},{name:"createdAt",type:{kind:"datetime"}},{name:"userId",type:{kind:"bigint"}},{name:"orgId",type:{kind:"bigint"},nullable:!0},{name:"name",type:{kind:"string"}},{name:"orderedFavoritedResourceIds",type:{kind:"list",ofType:{kind:"bigint"}},nullable:!0}]};var h5={name:"UserTeamFlag",fields:[{name:"id",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"}},{name:"teamId",type:{kind:"bigint"}},{name:"name",type:{kind:"string"}},{name:"createdAt",type:{kind:"datetime"}},{name:"updatedAt",type:{kind:"datetime"}}]};var I5={name:"Variable",fields:[...ip,{name:"key",type:{kind:"string"}},{name:"version",type:{kind:"string"}},{name:"variableType",type:{kind:"string"}},{name:"variableSetId",type:{kind:"bigint"}},{name:"sortPosition",type:{kind:"string"}},{name:"scopes",type:{kind:"list",ofType:{kind:"string"}},nullable:!0},{name:"variableSet",type:{kind:"object",name:"VariableSet"},filter:["id","=",h("variableSetId")],deprecated:{reason:"Use variableCollection instead",date:"2023-04-27"}},{name:"variableCollection",type:{kind:"object",name:"VariableSet"},filter:["id","=",h("variableSetId")]}]};var x5={name:"VariableLog",fields:[{name:"fileKey",type:{kind:"string"}},{name:"hubFileId",type:{kind:"bigint"},nullable:!0},{name:"id",type:{kind:"bigint"}},{name:"name",type:{kind:"string"}},{name:"description",type:{kind:"string"},nullable:!0},{name:"nodeId",type:{kind:"string"}},{name:"userId",type:{kind:"string"}},{name:"createdAt",type:{kind:"datetime"}},{name:"updatedAt",type:{kind:"datetime"}},{name:"unpublishedAt",type:{kind:"datetime"},nullable:!0},{name:"checkpoint",type:{kind:"object",name:"Checkpoint"},embedded:!0},{name:"key",type:{kind:"string"}},{name:"version",type:{kind:"string"}},{name:"variableType",type:{kind:"string"}},{name:"variableSetId",type:{kind:"bigint"}},{name:"sortPosition",type:{kind:"string"}},{name:"scopes",type:{kind:"list",ofType:{kind:"string"}},nullable:!0},{name:"fileCheckpointId",type:{kind:"bigint"}}]};var _5={name:"VariableSet",fields:[...ip,{name:"checkpoint",type:{kind:"object",name:"Checkpoint"},embedded:!0},{name:"variableThumbnailsUrl",type:{kind:"string"},nullable:!0},{name:"modes",type:{kind:"objects",name:"VariableSetMode"},nullable:!0,embedded:!0},{name:"key",type:{kind:"string"}},{name:"version",type:{kind:"string"}},{name:"variables",type:{kind:"objects",name:"Variable"},filter:{and:[["variableSetId","=",h("id")],["unpublishedAt","=",null]]},expectedMaxCount:1e4},{name:"numVariables",type:{kind:"int"},computed:!0,dependencies:{variables:{id:n}}}]};var v5={name:"VariableSetLog",fields:[{name:"id",type:{kind:"bigint"}},{name:"key",type:{kind:"string"}},{name:"version",type:{kind:"string"}},{name:"fileKey",type:{kind:"string"}},{name:"fileCheckpointId",type:{kind:"bigint"}},{name:"checkpointId",type:{kind:"bigint"}},{name:"nodeId",type:{kind:"string"}},{name:"checkpoint",type:{kind:"object",name:"Checkpoint"},embedded:!0}]};var O5={name:"VariableSetMode",embedded:!0,fields:[{name:"id",type:{kind:"string"}},{name:"name",type:{kind:"string"}}]};var S5={name:"Vector",embedded:!0,fields:[{name:"id",type:{kind:"bigint"}},{name:"x",type:{kind:"int"}},{name:"y",type:{kind:"int"}}]};var D5={name:"VotingSession",fields:[{name:"id",type:{kind:"bigint"}},{name:"fileKey",type:{kind:"string"}},{name:"inProgress",type:{kind:"bool"}},{name:"title",type:{kind:"string"}},{name:"createdAt",type:{kind:"datetime"}},{name:"userId",type:{kind:"bigint"}},{name:"userVoteLimit",type:{kind:"int"}}]};var A5={name:"Workspace",fields:[{name:"id",type:{kind:"bigint"}},{name:"orgId",type:{kind:"bigint"}},{name:"org",type:{kind:"object",name:"Org"},filter:["id","=",h("orgId")]},{name:"name",type:{kind:"string"}},{name:"imgUrl",type:{kind:"string"},nullable:!0},{name:"colorConfig",type:{kind:"object",name:"WorkspaceColorConfig"},embedded:!0,nullable:!0},{name:"description",type:{kind:"string"},nullable:!0},{name:"orgAccess",type:{kind:"string"}},{name:"createdAt",type:{kind:"datetime"}},{name:"currentUser",nullable:!0,type:{kind:"object",name:"User"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["id","=",D("userId")]},{name:"currentBaseOrgUser",type:{kind:"object",name:"BaseOrgUser"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,filter:{and:[["userId","=",D("userId")],["orgId","=",h("orgId")]]}},{name:"mirroringLicenseGroup",type:{kind:"object",name:"LicenseGroup"},filter:["mirroredWorkspaceId","=",h("id")],nullable:!0},{name:"librarySubscriptions",type:{kind:"objects",name:"LibraryWorkspaceSubscription"},filter:["workspaceId","=",h("id")],nullable:!0},{name:"librarySubscriptionByLibraryKey",type:{kind:"object",name:"LibraryWorkspaceSubscription"},args:[{name:"fileKey",type:{kind:"string"}}],filter:{and:[["fileKey","=",D("fileKey")],["workspaceId","=",h("id")]]},nullable:!0},{name:"approvedLibraries",type:{kind:"objects",name:"ApprovedLibrary"},filter:{and:[["resourceType","=","Workspace"],["resourceId","=",h("id")]]},nullable:!0},{name:"defaultTeams",type:{kind:"objects",name:"DefaultTeam"},filter:{and:[["resourceId","=",h("id")],["resourceType","=","Workspace"]]},nullable:!0},{name:"admins",type:{kind:"objects",name:"WorkspaceUser"},filter:{and:[["workspaceId","=",h("id")],["permission","=","admin"]]}},{name:"members",type:{kind:"objects",name:"WorkspaceUser"},filter:{and:[["workspaceId","=",h("id")],["isMainWorkspace","=",!0]]},expectedMaxCount:12e3},{name:"canAdmin",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:nr(oi(Lf["WORKSPACE::CAN_ADMIN"],["workspaceUser"]),{id:n,currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{workspaceUsers:{permission:n,workspaceId:n,orgUserId:n}}]})},{name:"canView",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:nr(oi(Lf["WORKSPACE::CAN_VIEW"],["workspaceUser"]),{id:n,currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{workspaceUsers:{permission:n,workspaceId:n,orgUserId:n}}]})},{name:"orgSharedSetting",type:{kind:"object",name:"SharedOrgLicenseGroupSetting"},nullable:!0,filter:{and:[["resourceType","=","Org"],["resourceId","=",h("orgId")]]}},{name:"workspaceSharedSetting",type:{kind:"object",name:"SharedOrgLicenseGroupSetting"},nullable:!0,filter:{and:[["resourceType","=","Workspace"],["resourceId","=",h("id")]]}},{name:"canCreateTeam",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:nr(oi(Lf["WORKSPACE::CAN_CREATE_TEAM"],["workspaceUser"]),{id:n,currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{workspaceUsers:{permission:n,workspaceId:n,orgUserId:n}}]})},{name:"publicLinkControlsSetting",type:{kind:"string"},computed:!0,dependencies:{orgSharedSetting:{publicLinkControlsSetting:n},workspaceSharedSetting:{publicLinkControlsSetting:n}}},{name:"publicLinkControlsMaxExpiration",type:{kind:"bigint"},computed:!0,dependencies:{orgSharedSetting:{publicLinkControlsMaxExpiration:n},workspaceSharedSetting:{publicLinkControlsMaxExpiration:n}}},{name:"hasCustomPublicLinkControlsSetting",type:{kind:"bool"},computed:!0,dependencies:{workspaceSharedSetting:{publicLinkControlsSetting:n}}},{name:"allowlistedPlugins",type:{kind:"objects",name:"WhitelistedPlugin"},filter:{and:[["allowlistGroupId","=",h("id")],["allowlistGroupType","=","Workspace"]]}},{name:"isPluginAllowlisted",type:{kind:"bool"},args:[{name:"pluginId",type:{kind:"string"}}],computed:!0,dependencies:{allowlistedPlugins:{pluginId:n}}},{name:"canRead",type:{kind:"bool"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],computed:!0,dependencies:nr(oi(Lf["WORKSPACE::CAN_VIEW"],["workspaceUser"]),{id:n,currentBaseOrgUser:[{userId:{type:"view",ref:"userId"}},{workspaceUsers:{permission:n,workspaceId:n,orgUserId:n}}]})}]};var F5={name:"WorkspaceColorConfig",embedded:!0,fields:[{name:"colors",type:{kind:"list",ofType:{kind:"string"}}}]};var P5={name:"WorkspaceUser",fields:[{name:"id",type:{kind:"bigint"}},{name:"actorUserId",type:{kind:"bigint"},nullable:!0},{name:"assignedAt",type:{kind:"string"},nullable:!0},{name:"createdAt",type:{kind:"string"}},{name:"updatedAt",type:{kind:"string"}},{name:"updateReason",type:{kind:"enum",name:"WorkspaceUpdateReason"},nullable:!0},{name:"uuid",type:{kind:"string"}},{name:"orgUserId",type:{kind:"bigint"}},{name:"workspaceId",type:{kind:"bigint"}},{name:"workspace",type:{kind:"object",name:"Workspace"},filter:["id","=",h("workspaceId")]},{name:"permission",type:{kind:"enum",name:"WorkspacePermission"}},{name:"isMainWorkspace",type:{kind:"bool"}},{name:"baseOrgUser",type:{kind:"object",name:"BaseOrgUser"},nullable:!0,filter:["id","=",h("orgUserId")]}]};var Sv=(i=>(i.IS_GUEST="ORG::IS_GUEST",i.IS_MEMBER="ORG::IS_MEMBER",i.IS_ADMIN="ORG::IS_ADMIN",i))(Sv||{}),Dv=(u=>(u.CAN_VIEW="TEAM::CAN_VIEW",u.CAN_EDIT="TEAM::CAN_EDIT",u.CAN_ADMIN="TEAM::CAN_ADMIN",u.IS_OWNER="TEAM::IS_OWNER",u.VIEW_ROLE_ACCESS="TEAM::VIEW_ROLE_ACCESS",u.EDIT_ROLE_ACCESS="TEAM::EDIT_ROLE_ACCESS",u.ADMIN_ROLE_ACCESS="TEAM::ADMIN_ROLE_ACCESS",u))(Dv||{}),ub=(i=>(i.CAN_VIEW="FOLDER::CAN_VIEW",i.CAN_EDIT="FOLDER::CAN_EDIT",i.IS_OWNER="FOLDER::IS_OWNER",i))(ub||{}),db=(y=>(y.CAN_VIEW_PROTOTYPE="REPO::CAN_VIEW_PROTOTYPE",y.CAN_VIEW="REPO::CAN_VIEW",y.CAN_EDIT="REPO::CAN_EDIT",y.CAN_ADMIN="REPO::CAN_ADMIN",y.IS_OWNER="REPO::IS_OWNER",y.CAN_MANAGE="REPO::CAN_MANAGE",y.CAN_VIEW_LINK_ACCESS="REPO::CAN_VIEW_LINK_ACCESS",y.CAN_EDIT_LINK_ACCESS="REPO::CAN_EDIT_LINK_ACCESS",y.CAN_VIEW_PROTOTYPE_LINK_ACCESS="REPO::CAN_VIEW_PROTOTYPE_LINK_ACCESS",y.CAN_ORG_VIEW_LINK_ACCESS="REPO::CAN_ORG_VIEW_LINK_ACCESS",y.CAN_ORG_EDIT_LINK_ACCESS="REPO::CAN_ORG_EDIT_LINK_ACCESS",y.CAN_ORG_VIEW_PROTOTYPE_LINK_ACCESS="REPO::CAN_ORG_VIEW_PROTOTYPE_LINK_ACCESS",y))(db||{}),cb=(Re=>(Re.CAN_VIEW_PROTOTYPE="FILE::CAN_VIEW_PROTOTYPE",Re.CAN_VIEW="FILE::CAN_VIEW",Re.CAN_EDIT="FILE::CAN_EDIT",Re.CAN_EDIT_CANVAS="FILE::CAN_EDIT_CANVAS",Re.CAN_PUBLISH_TEMPLATE="FILE::CAN_PUBLISH_TEMPLATE",Re.CAN_INSERT_TEMPLATE="FILE::CAN_INSERT_TEMPLATE",Re.CAN_ADMIN="FILE::CAN_ADMIN",Re.IS_OWNER="FILE::IS_OWNER",Re.CAN_BECOME_EDITOR="FILE::CAN_BECOME_EDITOR",Re.CAN_MANAGE="FILE::CAN_MANAGE",Re.HAS_ROLE_ACCESS="FILE::HAS_ROLE_ACCESS",Re.CAN_BE_MENTIONED_IN_COMMENT="FILE::CAN_BE_MENTIONED_IN_COMMENT",Re.CAN_DOWNLOAD_FILE="FILE::CAN_DOWNLOAD_FILE",Re.CAN_ACCESS_FILE_THROUGH_API="FILE::CAN_ACCESS_FILE_THROUGH_API",Re.CAN_MODIFY_ROLES="FILE::CAN_MODIFY_ROLES",Re.CAN_VIEW_METADATA="FILE::CAN_VIEW_METADATA",Re.CAN_GAIN_VIEW="FILE::CAN_GAIN_VIEW",Re.CAN_GAIN_VIEW_PROTOTYPE="FILE::CAN_GAIN_VIEW_PROTOTYPE",Re.CAN_DISCOVER="FILE::CAN_DISCOVER",Re.CAN_RENAME="FILE::CAN_RENAME",Re.CAN_DELETE="FILE::CAN_DELETE",Re.CAN_FAVORITE="FILE::CAN_FAVORITE",Re.CAN_VIEW_AND_CREATE_COMMENTS="FILE::CAN_VIEW_AND_CREATE_COMMENTS",Re.CAN_MOVE_COMMENTS="FILE::CAN_MOVE_COMMENTS",Re.CAN_EDIT_IGNORE_PAID_STATUS="FILE::CAN_EDIT_IGNORE_PAID_STATUS",Re.CAN_EDIT_IGNORE_EDU_GRACE_PERIOD="FILE::CAN_EDIT_IGNORE_EDU_GRACE_PERIOD",Re.CAN_VIEW_LINK_ACCESS="FILE::CAN_VIEW_LINK_ACCESS",Re.CAN_ORG_VIEW_LINK_ACCESS="FILE::CAN_ORG_VIEW_LINK_ACCESS",Re.CAN_EDIT_LINK_ACCESS="FILE::CAN_EDIT_LINK_ACCESS",Re.CAN_ORG_EDIT_LINK_ACCESS="FILE::CAN_ORG_EDIT_LINK_ACCESS",Re.CAN_VIEW_METADATA_LINK_ACCESS="FILE::CAN_VIEW_METADATA_LINK_ACCESS",Re.CAN_ORG_VIEW_METADATA_LINK_ACCESS="FILE::CAN_ORG_VIEW_METADATA_LINK_ACCESS",Re.CAN_VIEW_PROTOTYPE_LINK_ACCESS="FILE::CAN_VIEW_PROTOTYPE_LINK_ACCESS",Re.CAN_ORG_VIEW_PROTOTYPE_LINK_ACCESS="FILE::CAN_ORG_VIEW_PROTOTYPE_LINK_ACCESS",Re.CAN_ACCESS_BASIC_DEV_MODE="FILE::CAN_ACCESS_BASIC_DEV_MODE",Re.CAN_ACCESS_FULL_DEV_MODE="FILE::CAN_ACCESS_FULL_DEV_MODE",Re))(cb||{});var aLe=["TEAM::CAN_VIEW","TEAM::VIEW_ROLE_ACCESS"],lLe=["TEAM::CAN_EDIT","TEAM::EDIT_ROLE_ACCESS"],uLe=["TEAM::CAN_ADMIN","TEAM::ADMIN_ROLE_ACCESS"],dLe=["TEAM::IS_OWNER"],cLe=["FOLDER::CAN_VIEW"],mC=["FOLDER::CAN_EDIT"],pLe=["FOLDER::IS_OWNER"],mLe=["REPO::CAN_VIEW_PROTOTYPE"],gC=["REPO::CAN_VIEW"],Ip=["REPO::CAN_EDIT"],gLe=["REPO::CAN_ADMIN"],fLe=["REPO::IS_OWNER"],bLe=["FILE::CAN_VIEW_PROTOTYPE","FILE::CAN_FAVORITE","FILE::HAS_ROLE_ACCESS","FILE::CAN_BE_MENTIONED_IN_COMMENT","FILE::CAN_VIEW_AND_CREATE_COMMENTS"],yLe=["FILE::CAN_VIEW_METADATA"],hLe=["FILE::CAN_VIEW","FILE::CAN_DOWNLOAD_FILE","FILE::CAN_ACCESS_FILE_THROUGH_API","FILE::CAN_DISCOVER","FILE::CAN_ACCESS_BASIC_DEV_MODE","FILE::CAN_ACCESS_FULL_DEV_MODE"],pb=["FILE::CAN_EDIT","FILE::CAN_MANAGE","FILE::CAN_EDIT_CANVAS","FILE::CAN_PUBLISH_TEMPLATE","FILE::CAN_RENAME","FILE::CAN_MOVE_COMMENTS","FILE::CAN_EDIT_IGNORE_PAID_STATUS","FILE::CAN_EDIT_IGNORE_EDU_GRACE_PERIOD","FILE::CAN_BECOME_EDITOR"],Zs=[...pb,"FILE::CAN_MODIFY_ROLES","FILE::CAN_DELETE"],mb=["FILE::IS_OWNER"],ILe=["TEAM::CAN_VIEW"],xLe=[...ILe,"TEAM::CAN_EDIT"],gb=[...xLe,"TEAM::CAN_ADMIN"],Jjt=[...gb,"TEAM::IS_OWNER"],Av=[...aLe],Fv=[...Av,...lLe],fC=[...Fv,...uLe],j5=[...fC,...dLe],_Le=["FOLDER::CAN_VIEW"],vLe=[..._Le,"FOLDER::CAN_EDIT"],Xjt=[...vLe,"FOLDER::IS_OWNER"],xp=[...cLe],Qu=[...xp,...mC],_p=[...Qu,...pLe],Pv=["REPO::CAN_VIEW_PROTOTYPE"],jv=[...Pv,"REPO::CAN_VIEW"],vp=[...jv,"REPO::CAN_EDIT"],OLe=[...vp,"REPO::CAN_ADMIN"],Zjt=[...OLe,"REPO::IS_OWNER"],bC=[...mLe],_l=[...bC,...gC],fb=[..._l,...Ip],yC=[...fb,...gLe],Tv=[...yC,...fLe],bb=["FILE::CAN_FAVORITE","FILE::CAN_VIEW_AND_CREATE_COMMENTS","FILE::CAN_VIEW_PROTOTYPE"],SLe=[...bb,"FILE::CAN_VIEW_METADATA"],Op=[...SLe,"FILE::CAN_VIEW","FILE::CAN_ACCESS_BASIC_DEV_MODE","FILE::CAN_ACCESS_FULL_DEV_MODE"],DLe=[...Op,...pb],eTt=[...DLe,"FILE::IS_OWNER"],Cv=[...bLe],ALe=[...yLe,...Cv],Ju=[...ALe,...hLe],Zo=[...Ju,...Zs],ea=[...Zo,...mb];var yb=30;var li=100,Li=300,ta=900,ui=999;var Ev=class{},xs=class extends Ev{constructor(){super(...arguments);this.effect="ALLOW";this.debug=!1;this.ignoreOnWeb=!1}},Xu=class extends Ev{constructor(){super(...arguments);this.effect="DENY";this.debug=!1;this.ignoreOnWeb=!1}},nt=class extends xs{constructor(){super(...arguments);this.resourceType="FILE"}},at=class extends Xu{constructor(){super(...arguments);this.resourceType="FILE"}},Pt=class extends xs{constructor(){super(...arguments);this.resourceType="FILE_REPO"}},Dr=class extends Xu{constructor(){super(...arguments);this.resourceType="FILE_REPO"}},tn=class extends xs{constructor(){super(...arguments);this.resourceType="FOLDER"}},Zu=class extends Xu{constructor(){super(...arguments);this.resourceType="FOLDER"}},eo=class extends xs{constructor(){super(...arguments);this.resourceType="TEAM"}},hb=class extends Xu{constructor(){super(...arguments);this.resourceType="TEAM"}},Sp=class extends xs{constructor(){super(...arguments);this.resourceType="ORG"}};var _s=class extends xs{constructor(){super(...arguments);this.resourceType="HUB_FILE"}};var vs=class extends xs{constructor(){super(...arguments);this.resourceType="PLUGIN"}};var Dp=class extends xs{constructor(){super(...arguments);this.resourceType="WORKSPACE"}};var to=class extends xs{constructor(){super(...arguments);this.resourceType="FEED_POST"}},kv=class extends Xu{constructor(){super(...arguments);this.resourceType="FEED_POST"}};var vC=Ie(l7()),Ze=class{constructor(e,r){this.livegraphRequiresUserArg=!1;this.skipFromLiveGraphViews=!1;this.name=e,r!=null&&r.liveGraphFieldName&&(this.liveGraphFieldName=r.liveGraphFieldName),r!=null&&r.livegraphTopLevelResourceName&&(this.livegraphTopLevelResourceName=r==null?void 0:r.livegraphTopLevelResourceName),this.livegraphRequiresUserArg=(r==null?void 0:r.requireUserArg)||!1,this.skipFromLiveGraphViews=(r==null?void 0:r.skipFromLiveGraphViews)||!1}serialize(e){return e==="livegraphTopLevelResourceName"?this.livegraphTopLevelResourceName||this.serialize("livegraph"):e==="livegraph"?this.liveGraphFieldName||(0,vC.default)(this.name):this.name}static new(e,r,i={}){let s=new Ze(e,i);return Ze.fields(s,r)}static fields(e,r){return Object.keys(r).reduce((s,o)=>(s[o]=vl.new(e,r[o]),s),{})}},vl=class{constructor(e,r,i){this.table=e,this.name=r,this.liveGraphFieldName=(i==null?void 0:i.liveGraphFieldName)||null}static new(e,r,i){return new vl(e,r,i)}static jsonSerializer(e,r){return r instanceof vl?r.serialize("sinatra"):r}serialize(e="sinatra"){return e==="livegraph"?`${this.table.serialize("livegraph")}.${this.serialize("livegraphFieldName")}`:e==="livegraphFieldName"?this.liveGraphFieldName||(0,vC.default)(this.name):`${this.table.name}.${this.name}`}};var Mv={level:"level"},or=Ze.new("team_role",Mv,{liveGraphFieldName:"roleOnObjectTeamForUser",requireUserArg:!0}),Ni=Ze.new("folder_role",Mv,{liveGraphFieldName:"roleOnObjectProjectForUser",requireUserArg:!0}),Os=Ze.new("file_repo_role",Mv,{liveGraphFieldName:"roleOnObjectRepoForUser",requireUserArg:!0}),ra=Ze.new("file_role",Mv,{liveGraphFieldName:"roleOnObjectForUser",requireUserArg:!0}),KNe={id:"id",level:"level"},Uv=Ze.new("folder_owner_role",KNe),$Ne={id:"id",accountType:"account_type",whiteboardPaidStatus:"whiteboard_paid_status",devModePaidStatus:"dev_mode_paid_status",permission:"permission",draftsFolderId:"drafts_folder_id",userId:"user_id"},u7=new Ze("org_user",{liveGraphFieldName:"currentBaseOrgUser",requireUserArg:!0}),ke=Ze.fields(u7,$Ne),d7={id:"id",key:"key",teamId:"team_id",folderId:"folder_id",protoLinkAccess:"proto_link_access",linkAccess:"link_access",editorType:"editor_type",deletedAt:"deleted_at",trashedAt:"trashed_at",sourceFileKey:"source_file_key",fileRepoId:"file_repo_id",parentOrgId:"parent_org_id",hasFileLinkPassword:"has_file_link_password",hasProtoLinkPassword:"has_proto_link_password",orgId:"parent_org_id",orgBrowsable:"org_browsable"},X=Ze.new("file",d7),zNe={id:"id",expiresAt:"expires_at"},Lv=Ze.new("workshop_mode",zNe),Jr=Ze.new("file_repo_default_file",d7,{liveGraphFieldName:"sourceFile"}),YNe={id:"id",teamId:"team_id",deletedAt:"deleted_at",viewOnlyAt:"view_only_at",inviteOnlyAt:"invite_only_at",orgId:"org_id",path:"path",sharing_audience_control:"sharing_audience_control"},Qe=Ze.new("folder",YNe,{livegraphTopLevelResourceName:"project",liveGraphFieldName:"_project_permsV2"}),QNe={id:"id",accountType:"account_type",whiteboardPaidStatus:"whiteboard_paid_status",userId:"user_id",draftsFolderId:"drafts_folder_id"},ed=Ze.new("org_drafts_folder_owner_org_user",QNe,{liveGraphFieldName:"orgDraftsFolderOwnerBaseOrgUser"}),JNe={id:"id",designPaidStatus:"design_paid_status",whiteboardPaidStatus:"whiteboard_paid_status",draftsFolderId:"drafts_folder_id"},ia=Ze.new("team_user",JNe,{liveGraphFieldName:"currentTeamUser",requireUserArg:!0}),XNe={id:"id",subscription:"subscription",orgId:"org_id",orgAccess:"org_access",hasProEditLinksEditHeuristics:"has_pro_edit_links_edit_heuristics",studentTeamAt:"student_team_at",hasLockedRestriction:"has_locked_restriction",defaultPermission:"default_permission",deletedAt:"deleted_at"},Rt=Ze.new("team",XNe),ZNe={id:"id",userId:"user_id",teamId:"team_id",createdAt:"created_at"},OC=Ze.new("edu_grace_period",ZNe,{requireUserArg:!0}),eVe={id:"id",email:"email",emailDomain:"email_domain",externalRestrictedOrgId:"external_restricted_org_id",studentValidatedAt:"student_validated_at",profileId:"profile_id",permissionFeatureFlags:"permission_feature_flags"},c7=new Ze("user",{liveGraphFieldName:"currentUser",requireUserArg:!0}),Ke=Ze.fields(c7,eVe),tVe={id:"id",orgUserId:"org_user_id"},NTt=Ze.new("license_group_admin",tVe,{liveGraphFieldName:"licenseGroupAdmins"}),rVe={passwordAuthValidatedFileKeys:"password_auth_validated_file_keys",featureFlags:"feature_flags",environment:"environment"},Fp=Ze.new("session_arguments",rVe,{skipFromLiveGraphViews:!0}),iVe={id:"id",domainCapture:"domain_capture",domainCaptureDomains:"domain_capture_domains",hasOrgEditLinksEditHeuristics:"has_org_edit_links_edit_heuristics",inExpExpiringPublicLinks:"in_exp_expiring_public_links",inExpWorkspaceLevelLinkControls:"in_exp_workspace_level_link_controls",figjamDisabledAt:"figjam_disabled_at",domains:"domains",customTemplatesAllowed:"custom_templates_allowed",bigmaEnabledAt:"bigma_enabled_at"},Ve=Ze.new("org",iVe),p7={id:"id",resourceType:"resource_type",resourceId:"resource_id",publicLinkControlsSetting:"public_link_controls_setting",externalCollaborationControls:"external_collaboration_controls",teamCreationControls:"team_creation_controls",publicLinkControlsMaxExpiration:"public_link_controls_max_expiration"},Br=Ze.new("org_shared_setting",p7),ar=Ze.new("workspace_shared_setting",p7),nVe={id:"id",linkAccess:"link_access",protoLinkAccess:"proto_link_access",deletedAt:"deleted_at",orgId:"parent_org_id",teamId:"team_id",folderId:"folder_id",orgBrowsable:"org_browsable"},ct=Ze.new("file_repo",nVe,{liveGraphFieldName:"repo"}),sVe={id:"id",figFileKey:"fig_file_key",setByUserId:"set_by_user_id",updatedAt:"updated_at",expiresAt:"expires_at",prevPrivateLinkAccess:"prev_private_link_access",prevPrivateProtoLinkAccess:"prev_private_proto_link_access",prevOrgBrowsable:"prev_org_browsable",accessReverted:"access_reverted"},Ht=Ze.new("file_link_expiration_config",sVe,{liveGraphFieldName:"mainFileLinkExpirationConfig"}),oVe={id:"id",unpublishedAt:"unpublished_at",contentVerifiedAt:"content_verified_at",publishingStatus:"publishing_status",monetizedResourceMetadataId:"monetized_resource_metadata_id",monetizationStatus:"monetization_status",viewerMode:"viewer_mode",userId:"user_id",profileId:"profile_id",publisherProfileIds:"publisher_profile_ids"},br=Ze.new("hub_file",oVe),aVe={id:"id",hubFileId:"hub_file_id",figFileId:"fig_file_id",createdAt:"created_at",updatedAt:"updated_at",checkpointId:"checkpoint_id",userId:"user_id",isPreview:"is_preview",hiddenAt:"hidden_at"},Ob=Ze.new("hub_file_duplicates",aVe,{requireUserArg:!0}),lVe={id:"id",publishingStatus:"publishing_status",monetizationStatus:"monetization_status",monetizedResourceMetadataId:"monetized_resource_metadata_id",userId:"user_id",profileId:"profile_id",thirdPartyM10nStatus:"third_party_m10n_status",orgId:"org_id",unpublishedAt:"unpublished_at",blockedAt:"blocked_at",isInspect:"is_inspect"},Rr=Ze.new("plugin",lVe),uVe={id:"id",userId:"user_id",pluginId:"plugin_id",createdAt:"created_at"},SC=Ze.new("plugin_run",uVe,{requireUserArg:!0}),dVe={id:"id",userId:"user_id",pluginId:"plugin_id",orgId:"org_id"},VTt=Ze.new("plugin_install",dVe),cVe={id:"id",cmtySellerAcceptedAt:"cmty_seller_accepted_at",cmtySellerTOSAcceptedAt:"cmty_seller_tos_accepted_at",stripeConnectedAcccountId:"stripe_connected_account_id",sellerChargesEnabledAt:"seller_charges_enabled_at",sellerPayoutsEnabledAt:"seller_payouts_enabled_at"},qTt=Ze.new("user_monetization_metadata",cVe),pVe={id:"id"},BTt=Ze.new("profiles",pVe),mVe={id:"id",userId:"user_id",status:"status",monetizedResourceMetadataId:"monetized_resource_metadata_id",isActive:"is_active"},na=Ze.new("community_resource_payments",mVe,{liveGraphFieldName:"communityResourcePayment",requireUserArg:!0}),m7={id:"id",userId:"user_id",hubFileId:"hub_file_id",pluginId:"plugin_id",profileId:"profile_id"},WTt=Ze.new("community_publishers",m7,{liveGraphFieldName:"communityPublisher",requireUserArg:!0}),Nv=Ze.new("plugin_community_publisher",m7),g7={id:"id",hubFileId:"hub_file_id",pluginId:"plugin_id",profileId:"profile_id",resourceVersionId:"resource_version_id",ratingValue:"rating_value",message:"message",messageMeta:"message_meta",hiddenAt:"hidden_at"},Vv=Ze.new("hub_file_community_rating",g7),qv=Ze.new("plugin_community_rating",g7),f7={id:"id",hasFreemiumCode:"has_freemium_code"},Bv=Ze.new("monetized_resource_metadata",f7),DC=Ze.new("hub_file_monetized_resource_metadata",f7),gVe={id:"id",pluginId:"plugin_id",orgId:"org_id",allowlistGroupId:"allowlist_group_id",allowlistGroupType:"allowlist_group_type"},GTt=Ze.new("whitelisted_plugin",gVe),fVe={id:"id",orgId:"org_id",uuid:"uuid",name:"name",org_access:"org_access"},b7=Ze.new("workspace",fVe),bVe={id:"id",orgUserId:"org_user_id",workspaceId:"workspace_id",permission:"permission"},ro=Ze.new("workspace_user",bVe),yVe={id:"id",creatorId:"creator_id",orgId:"org_id",containerType:"container_type",containerId:"container_id"},sa=Ze.new("feed_post",yVe);var _e=(t,e,r)=>{let i={type:"function",name:t,meta:r||""};return(...s)=>({expr:e(...s),meta:i})},Wv=_e("isCommunityHubAdmin",()=>$e("community_hub_admin")),FC=_e("isCommunityHubReviewer",()=>$e("community_hub_admin_reviewer")),h7=_e("isApprovedPublicResource",t=>[t.publishingStatus,"=","approved_public"]),Gv=_e("isDelistedResource",t=>({or:[[t.publishingStatus,"=","delisted"],[t.publishingStatus,"=","delisted_3rd_party_m10n"],[t.publishingStatus,"=","delisted_creator_stripe_disabled"]]})),PC=_e("isPendingHubFile",t=>({or:[[t.publishingStatus,"=","pending_public"],[t.publishingStatus,"=","pending_user_visual_compliance"]]})),I7=_e("isPendingPlugin",t=>({or:[[t.publishingStatus,"=","org_private_pending_public"],[t.publishingStatus,"=","pending_public"],[t.publishingStatus,"=","pending_user_visual_compliance"]]})),x7=_e("isPublishedResource",t=>[t.unpublishedAt,"=",null]),Ol=_e("isMonetizedResource",t=>[t.monetizedResourceMetadataId,"<>",null]),Sb=_e("isPublicHubFile",t=>ie([h7(t),vVe(t)])),er=(t,e)=>[t,"hasPermission",e],jC=_e("hasExistingCommunityRatingForPlugin",(t,e)=>ie([[t.profileId,"<>",null],[e.id,"<>",null],[qv.ratingValue,"<>",null],Vt([qv.profileId,"=",t.profileId]),Vt([qv.pluginId,"=",e.id])])),TC=_e("hasExistingCommunityRatingForHubFile",(t,e)=>ie([[t.profileId,"<>",null],[e.id,"<>",null],[Vv.ratingValue,"<>",null],Vt([Vv.profileId,"=",t.profileId]),Vt([Vv.hubFileId,"=",e.id])])),_Ve=_e("isBlockedPlugin",t=>it([[t.blockedAt,"<>",null],[t.publishingStatus,"=","blocked"]])),_7=_e("isOrgPrivatePlugin",t=>ie([[t.orgId,"<>",null],it([[t.publishingStatus,"=","org_private"],[t.publishingStatus,"=","org_private_pending_public"]])])),Hv=_e("isPublicPlugin",t=>ie([h7(t),x7(t),le(_Ve(t))])),vVe=_e("isVerifiedHubFile",t=>it([ie([$e("community_hub_image_inspection"),x7(t),[t.contentVerifiedAt,"<>",null]]),le(SVe(t))])),v7=_e("userHasPaidForHubFile",(t,e,r)=>ie([ue(e),ue(r),Vt([e.id,"=",r.userId]),ie([[r.monetizedResourceMetadataId,"<>",null],Vt([r.monetizedResourceMetadataId,"=",t.monetizedResourceMetadataId])]),OVe(r)])),OVe=_e("isActivePurchase",t=>[t.isActive,"=",!0]),Kv=_e("hasPurchased",t=>it([[t.status,"in",["succeeded","refunded","canceled"]],[t.status,"=",1],[t.status,"=",2],[t.status,"=",3]])),CC=_e("userHasRunPlugin",(t,e)=>ie([Vt([SC.pluginId,"=",e.id]),Vt([SC.userId,"=",t.id])])),EC=_e("userHasDuplicatedHubFile",(t,e)=>ie([ie([[Ob.id,"<>",null],[Ob.isPreview,"<>",!0]]),Vt([Ob.hubFileId,"=",e.id]),Vt([Ob.userId,"=",t.id])])),SVe=_e("isBlockedHubFile",t=>[t.publishingStatus,"=","blocked"]),DVe=_e("isWhiteboardFile",t=>[t.editorType,"=","whiteboard"]),Ss=_e("isDesignFile",t=>it([[t.editorType,"=","design"],[t.editorType,"=","slides"],[t.editorType,"=",null]])),es=_e("isFigJamFile",t=>DVe(t)),bt=_e("isMember",t=>[t.permission,"in",["member","admin"]]),no=_e("isOrgAdmin",t=>[t.permission,"=","admin"]),O7=t=>[t.permission,"=","admin"],DCt=_e("hasRequiredOrgAccess",(t,e)=>({and:[[t.orgAccess,"<>",null],[t.orgAccess,"in",e.map(r=>r.toString())]]})),AVe=_e("isViewOnlyOrInviteOnly",t=>({or:[[t.viewOnlyAt,"<>",null],[t.inviteOnlyAt,"<>",null]]})),FVe=_e("isInviteOnly",t=>[t.inviteOnlyAt,"<>",null]),et=_e("hasRoleAccess",(t,e)=>[t.level,">=",e]),S7=_e("hasTeamMembership",t=>[t.level,"<>",null]),Pp=_e("userInViewTeamUserGroupOnFolder",(t,e)=>({or:[ie([le($e("sc_team_role_deprecation_bknd")),et(e,li),oa(t)]),ie([$e("sc_team_role_deprecation_bknd"),S7(e),oa(t)])]})),D7=_e("userInFolderViewAudience",(t,e)=>({and:[$e("sc_team_experience"),ue(t),bt(e),[t.sharing_audience_control,"in",["org_view","org_edit"]]]})),oa=_e("folderHasAtLeastViewTeam",t=>({and:[ue(t),le(FVe(t))]})),io=_e("folderHasAtLeastEditTeam",t=>({and:[ue(t),le(AVe(t))]})),td=_e("userInEditTeamUserGroupOnFolder",(t,e)=>({or:[ie([le($e("sc_team_role_deprecation_bknd")),et(e,Li),io(t)]),ie([$e("sc_team_role_deprecation_bknd"),S7(e),io(t)])]})),A7=_e("userInFolderEditAudience",(t,e)=>({and:[$e("sc_team_experience"),ue(t),bt(e),[t.sharing_audience_control,"=","org_edit"]]})),Db=_e("isProTeam",t=>({and:[[t.id,"<>",null],[t.orgId,"=",null],[t.subscription,"<>",null],[t.subscription,"<>","incomplete"]]})),F7=_e("isStudent",t=>[t.studentValidatedAt,"<>",null]),P7=_e("isStudentTeam",t=>[t.studentTeamAt,"<>",null]),j7=_e("isEduGracePeriodExpired",t=>[t.createdAt,"<",{type:"func",name:"now",offset:-604800}]),Ds=_e("isOpenOrgTeam",t=>({and:[[t.orgId,"<>",null],[t.orgAccess,"=","public"]]})),$v=_e("hasValidFilePasswordAuthIfNecessary",(t,e)=>C7(t,e,aa)),T7=_e("hasValidProtoPasswordAuthIfNecessary",(t,e)=>C7(t,e,la)),kC=_e("hasValidPasswordAuth",t=>ie([[t.key,"<>",null],[t.key,"in",{type:"field",ref:Fp.passwordAuthValidatedFileKeys}]])),C7=_e("hasValidPasswordAuthIfNecessary",(t,e,r)=>({or:[ie([le(Tn(t)),r(t)]),kC(t),ie([Tn(t),r(e)])]})),aa=_e("noFileLinkPasswordSet",t=>le(ie([ue(t),[t.hasFileLinkPassword,"=",!0]]))),la=_e("noProtoLinkPasswordSet",t=>le(ie([ue(t),[t.hasProtoLinkPassword,"=",!0]]))),ACt=_e("isOrgUserDesignPaidStatusStarter",t=>({or:[[t.accountType,"=","starter"],[t.id,"=",null]]})),Ab=_e("teamUserHasPaidStatusOnFile",(t,e,r,i)=>{let s,o;if(i==="starter"){let a=[[e.designPaidStatus,r,"starter"],[e.id,r,null]],u=[[e.whiteboardPaidStatus,r,"starter"],[e.id,r,null]];r==="="?(o={or:a},s={or:u}):(o={and:a},s={and:u})}else o=[e.designPaidStatus,r,i],s=[e.whiteboardPaidStatus,r,i];return{or:[{and:[Ss(t),o]},{and:[es(t),s]}]}}),Fb=_e("orgUserHasPaidStatusOnFile",(t,e,r,i)=>({or:[{and:[Ss(t),ue(e),[e.accountType,r,i]]},{and:[es(t),ue(e),[e.whiteboardPaidStatus,r,i]]}]})),E7=_e("orgUserHasDevModePaidStatusOnFile",(t,e,r,i)=>({and:[Ss(t),ue(e),[e.devModePaidStatus,r,i]]})),FCt=_e("isTeamUserWhiteboardPaidStatusFull",t=>[t.whiteboardPaidStatus,"=","full"]),PCt=_e("isTeamUserDesignPaidStatusFull",t=>[t.designPaidStatus,"=","full"]),jCt=_e("isTeamUserWhiteboardRestricted",t=>[t.whiteboardPaidStatus,"=","restricted"]),PVe=_e("isTeamUserWhiteboardPaidStatusRestricted",t=>[t.whiteboardPaidStatus,"=","restricted"]),TCt=_e("isFigJamFileAndTeamUserWhiteboardPaidStatusRestricted",(t,e)=>({and:[es(t),PVe(e)]})),k7=_e("isTeamUserDesignPaidStatusRestricted",t=>[t.designPaidStatus,"=","restricted"]),Pb=_e("orgContainsDomainFromUserEmail",(t,e)=>({and:[ue(e),ue(t),[t.domainCapture,"<>",!0],[t.domainCaptureDomains,"<>",null],[e.email,"<>",null],[e.emailDomain,"<>",null],[e.emailDomain,"in",{type:"field",ref:t.domainCaptureDomains}]]})),CCt=_e("isBigmaOrg",t=>[t.bigmaEnabledAt,"<>",null]),jp=_e("isOrgsDraftOwner",(t,e)=>({and:[rt(t),ca(t),[t.folderId,"<>",null],[e.draftsFolderId,"=",{type:"field",ref:t.folderId}]]})),w7=_e("isTeamDraftOwner",(t,e,r)=>({and:[$e("ps_benchmark_upgrade_prevention"),le(rt(t)),rd(r),[t.folderId,"<>",null],[e.draftsFolderId,"=",{type:"field",ref:t.folderId}]]})),ECt=_e("orgUserIsDraftsFolderOwner",(t,e)=>({and:[ca(t),rt(t),[e.draftsFolderId,"=",{type:"field",ref:t.folderId}]]})),zv=_e("isInWorkshopMode",(t,e)=>({and:[es(t),[e.expiresAt,"<>",null],[e.expiresAt,">=",{type:"func",name:"now"}]]})),jn=_e("publicLinkHasExpired",(t,e)=>ie([Sl(e),[t.expiresAt,"<>",null],[t.accessReverted,"=",!1],[t.expiresAt,"<=",{type:"func",name:"now"}]])),Sl=_e("orgHasEnabledExpiringPublicLinks",t=>ie([[t.bigmaEnabledAt,"<>",null],it([$e("file_public_link_expiration"),[t.inExpExpiringPublicLinks,"=",!0]])])),R7=_e("isLinkExpirationPrevOrgBrowsableTrue",(t,e)=>ie([jn(t,e),[t.prevOrgBrowsable,"=",!0]])),jb=_e("publicLinkHasActiveExpiration",t=>ie([[t.expiresAt,"<>",null],[t.accessReverted,"=",!1],[t.expiresAt,">",{type:"func",name:"now"}]])),Tb=_e("orgOrWorkspaceEnforcingExpiration",t=>it([[t.publicLinkControlsSetting,"=","public_link_controls_setting_expiration_required"],[t.publicLinkControlsSetting,"=","public_link_controls_setting_password_and_expiration_required"]])),ua=_e("hasNoWorkspacePublicLinkControlsSetting",(t,e)=>it([[e.inExpWorkspaceLevelLinkControls,"=",!1],le(ue(t)),ie([ue(t),[t.publicLinkControlsSetting,"=",null]])])),da=_e("orgOrWorkspaceEnforcingPasswords",(t,e)=>it([[t.publicLinkControlsSetting,"=","public_link_controls_setting_password_required"],ie([Sl(e),[t.publicLinkControlsSetting,"=","public_link_controls_setting_password_and_expiration_required"]])])),kCt=_e("hasFileLinkAccessThroughPrevLink",(t,e,r)=>{let i=ie([[e.prevPrivateLinkAccess,"<>",null],[e.prevPrivateLinkAccess,"in",t]]);return t.includes("org_view")?ie([jn(e,r),it([i,ie([ue(e),[e.prevPrivateLinkAccess,"=",null]])])]):ie([jn(e,r),i])}),wCt=_e("hasPrototypeLinkAccessThroughPrevLink",(t,e,r)=>ie([jn(e,r),[e.prevPrivateProtoLinkAccess,"in",t]])),RCt=_e("orgUserIsDraftFolderOwner",(t,e,r)=>({and:[ue(r),ue(e),[r.userId,"=",{type:"field",ref:e.id}]]})),ca=_e("isDraft",t=>[t.teamId,"=",null]),rt=_e("isOrgFile",t=>[t.orgId,"<>",null]),wC=t=>[t.orgId,"<>",null],rn=t=>({and:[Tp(t),rd(t)]}),rd=_e("isDraftsFolder",t=>[t.path,"=",""]),Tp=_e("isTeamFolder",t=>[t.teamId,"<>",null]),ts=_e("isTrashed",t=>[t.trashedAt,"<>",null]),Cn=_e("isRepoFile",t=>[t.fileRepoId,"<>",null]),Tn=_e("isRepoBranch",t=>({and:[Cn(t),[t.sourceFileKey,"<>",null],[t.sourceFileKey,"<>",{type:"field",ref:t.key}]]})),MCt=_e("isRepoMainFile",t=>({and:[Cn(t),{or:[[t.sourceFileKey,"=",null],[t.sourceFileKey,"=",{type:"field",ref:t.key}]]}]})),$e=_e("passesFeatureFlag",t=>[Fp.featureFlags,"includes",t]),id=()=>[Fp.environment,"=","WEB"];function ie(t){return{and:t}}function it(t){return{or:t}}function le(t){return{not:t}}var Dl=(t,e)=>t.filter(r=>!e.includes(r)),ue=t=>[t.id,"<>",null];var Vt=t=>{let e={id:t[0]};return{and:[ue(e),[t[0],t[1],{type:"field",ref:t[2]}]]}};var RC=class extends Sp{constructor(){super(...arguments);this.displayName="AllowOrgGuestsDraftsFolderAccess";this.codaTableId="";this.applyFilter=ue(ke);this.permissions=["ORG::IS_GUEST"]}},MC=class extends Sp{constructor(){super(...arguments);this.displayName="AllowOrgMemberViewAccess";this.codaTableId="";this.applyFilter=bt(ke);this.permissions=["ORG::IS_MEMBER"]}},UC=class extends Sp{constructor(){super(...arguments);this.displayName="AllowOrgAdminAdmin";this.codaTableId="";this.applyFilter=no(ke);this.permissions=["ORG::IS_ADMIN"]}},LC=[RC,MC,UC];var NC=class extends eo{constructor(){super(...arguments);this.displayName="AllowTeamSelfViewer";this.codaTableId="grid-TSS6Ej-aNc";this.applyFilter={and:[et(or,li)]};this.permissions=[...Av]}},VC=class extends eo{constructor(){super(...arguments);this.displayName="AllowTeamSelfEditor";this.codaTableId="grid-kW-vwUiUBF";this.applyFilter={and:[et(or,Li)]};this.permissions=[...Fv]}},qC=class extends eo{constructor(){super(...arguments);this.displayName="AllowTeamSelfAdmin";this.codaTableId="grid-IYhs3EBAya";this.applyFilter={and:[et(or,ta)]};this.permissions=[...fC]}},BC=class extends eo{constructor(){super(...arguments);this.displayName="AllowTeamSelfOwner";this.codaTableId="grid-zn-16JwTFJ";this.applyFilter={and:[et(or,ui)]};this.permissions=[...j5]}},WC=class extends eo{constructor(){super(...arguments);this.displayName="AllowOrgMemberOpenTeamViewer";this.applyFilter={and:[bt(ke),Ds(Rt)]};this.permissions=[...Av]}},GC=class extends eo{constructor(){super(...arguments);this.displayName="AllowOrgMemberOpenTeamEditor";this.applyFilter={and:[bt(ke),Ds(Rt),[Rt.defaultPermission,"=","edit"]]};this.permissions=[...Fv]}},HC=class extends eo{constructor(){super(...arguments);this.displayName="AllowOrgAndWorkspaceUserActingAsTeamAdmin";this.applyFilter={and:[{or:[no(ke),O7(ro)]},ue(Rt),[Rt.orgAccess,"<>","secret"]]};this.permissions=[...gb]}},KC=class extends hb{constructor(){super(...arguments);this.displayName="DenyAnonymousUsers";this.applyFilter=le(ue(Ke));this.permissions=[...gb]}},$C=class extends hb{constructor(){super(...arguments);this.displayName="DenyDeletedTeam";this.applyFilter=[Rt.deletedAt,"<>",null];this.permissions=[...gb]}},zC=[NC,VC,qC,BC,WC,GC,HC,KC,$C];var YC=class extends tn{constructor(){super(...arguments);this.displayName="AllowFolderSelfViewer";this.codaTableId="grid-Uj0XqXrBcj";this.applyFilter={and:[et(Ni,li)]};this.permissions=[...xp]}},QC=class extends tn{constructor(){super(...arguments);this.displayName="AllowFolderSelfEditor";this.codaTableId="grid-rHETO7eE_6";this.applyFilter={and:[et(Ni,Li)]};this.permissions=[...Qu]}},JC=class extends tn{constructor(){super(...arguments);this.displayName="AllowFolderSelfOwner";this.codaTableId="grid-Yae3woxLzM";this.applyFilter={and:[et(Ni,ui)]};this.permissions=[..._p]}},XC=class extends tn{constructor(){super(...arguments);this.displayName="AllowTeamFolderViewer";this.codaTableId="grid-fCHHLrmtQt";this.applyFilter=Pp(Qe,or);this.permissions=[...xp]}},ZC=class extends tn{constructor(){super(...arguments);this.displayName="AllowAudienceFolderViewer";this.codaTableId="grid-TODO";this.applyFilter=D7(Qe,ke);this.permissions=[...xp]}},eE=class extends tn{constructor(){super(...arguments);this.displayName="AllowTeamFolderEditor";this.codaTableId="grid-drDj1mLkrv";this.applyFilter=td(Qe,or);this.permissions=[...Qu]}},tE=class extends tn{constructor(){super(...arguments);this.displayName="AllowAudienceFolderEditor";this.codaTableId="grid-TODO";this.applyFilter=A7(Qe,ke);this.permissions=[...Qu]}},rE=class extends tn{constructor(){super(...arguments);this.displayName="AllowTeamFolderOwner";this.codaTableId="grid-k6oQK-NNn-";this.applyFilter={and:[et(or,ui),io(Qe)]};this.permissions=[..._p]}},iE=class extends tn{constructor(){super(...arguments);this.displayName="AllowTeamAdminOrphanedFolder";this.codaTableId="grid-zDwpIO0KdV";this.applyFilter={and:[le(ue(Uv)),et(or,ta)]};this.permissions=[...Qu]}},nE=class extends tn{constructor(){super(...arguments);this.displayName="AllowOrgMemberOpenTeamFolderViewer";this.applyFilter={and:[le($e("sc_team_experience")),bt(ke),Ds(Rt),oa(Qe)]};this.permissions=[...xp]}},sE=class extends tn{constructor(){super(...arguments);this.displayName="AllowOrgMemberOpenTeamFolderEditor";this.applyFilter={and:[le($e("sc_team_experience")),bt(ke),Ds(Rt),io(Qe),[Rt.defaultPermission,"=","edit"]]};this.permissions=[...Qu]}},oE=class extends Zu{constructor(){super(...arguments);this.displayName="DenyFolderViewForAnotherUsersDrafts";this.applyFilter={and:[$e("ps_permissions"),rd(Qe),le(et(Ni,ui))]};this.permissions=[..._p]}},aE=class extends Zu{constructor(){super(...arguments);this.displayName="DenyFolderEditForExternalRestrictedUsers";this.applyFilter={and:[[Ke.externalRestrictedOrgId,"<>",null],it([ie([wC(Qe),ue(Ke),[Ke.externalRestrictedOrgId,"<>",{type:"field",ref:Qe.orgId}]]),ie([Tp(Qe),[Rt.orgId,"<>",null],ue(Ke),[Ke.externalRestrictedOrgId,"<>",{type:"field",ref:Rt.orgId}]]),ie([le(wC(Qe)),le(Tp(Qe))])])]};this.permissions=[...mC]}},lE=class extends Zu{constructor(){super(...arguments);this.displayName="DenyTeamDraftsBeforePlanSpacesEnabled";this.applyFilter={and:[$e("ps_team_drafts_deny_policies"),rn(Qe),le($e("ps_benchmark"))]};this.permissions=[..._p]}},uE=class extends Zu{constructor(){super(...arguments);this.displayName="DenyDeletedFolder";this.applyFilter=[Qe.deletedAt,"<>",null];this.permissions=[..._p]}},dE=[YC,QC,JC,XC,ZC,iE,eE,tE,rE,nE,sE,oE,aE,lE,uE];var cE=class extends Pt{constructor(){super(...arguments);this.displayName="AllowRepoPrototypeViewer";this.codaTableId="grid-ZJ05V6DfWN";this.applyFilter=et(Os,yb);this.permissions=[...bC]}},pE=class extends Pt{constructor(){super(...arguments);this.displayName="AllowRepoViewer";this.codaTableId="grid-FHul3DUwoC";this.applyFilter=et(Os,li);this.permissions=[..._l]}},mE=class extends Pt{constructor(){super(...arguments);this.displayName="AllowRepoEditor";this.codaTableId="grid-G2vdqI9aJ8";this.applyFilter=et(Os,Li);this.permissions=[...fb]}},gE=class extends Pt{constructor(){super(...arguments);this.displayName="AllowRepoOwner";this.codaTableId="grid-l02kAhR3vy";this.applyFilter=et(Os,ui);this.permissions=[...Tv]}},fE=class extends Pt{constructor(){super(...arguments);this.displayName="AllowRepoDraftOwner";this.codaTableId="";this.applyFilter=ie([et(Os,ui),ca(ct)]);this.permissions=[...Tv,"REPO::CAN_MANAGE"]}},bE=class extends Pt{constructor(){super(...arguments);this.displayName="AllowRepoTeamFolderEditor";this.codaTableId="";this.applyFilter=ie([et(or,Li),er("FOLDER","FOLDER::CAN_EDIT")]);this.permissions=["REPO::CAN_MANAGE"]}},yE=class extends Pt{constructor(){super(...arguments);this.displayName="AllowFolderRepoViewer";this.codaTableId="grid-CiKA52xd9a";this.applyFilter={and:[et(Ni,li),ue(Qe),[Qe.deletedAt,"=",null]]};this.permissions=[..._l]}},hE=class extends Pt{constructor(){super(...arguments);this.displayName="AllowFolderRepoEditor";this.codaTableId="grid-5Bqq3Kjyxu";this.applyFilter={and:[et(Ni,Li),ue(Qe),[Qe.deletedAt,"=",null]]};this.permissions=[...fb,"REPO::CAN_MANAGE"]}},IE=class extends Pt{constructor(){super(...arguments);this.displayName="AllowTeamRepoViewer";this.codaTableId="grid-xkSk-u5Lyy";this.applyFilter={and:[le(ie([$e("ps_permissions"),$e("ps_file_permissions"),rn(Qe)])),Pp(Qe,or)]};this.permissions=[..._l]}},xE=class extends Pt{constructor(){super(...arguments);this.displayName="AllowTeamRepoEditViewer";this.codaTableId="grid-paFd4zIOS9";this.applyFilter={and:[le(ie([$e("ps_permissions"),$e("ps_file_permissions"),rn(Qe)])),td(Qe,or)]};this.permissions=[..._l]}},_E=class extends Pt{constructor(){super(...arguments);this.displayName="AllowTeamRepoAdminViewer";this.codaTableId="grid-Mqk1kF2Ddu";this.applyFilter={and:[le(ie([$e("ps_permissions"),$e("ps_file_permissions"),rn(Qe)])),et(or,ta),oa(Qe)]};this.permissions=[..._l]}},vE=class extends Pt{constructor(){super(...arguments);this.displayName="AllowTeamRepoEditEditor";this.codaTableId="grid-CYuiDv0uKH";this.applyFilter={and:[le(ie([$e("ps_permissions"),$e("ps_file_permissions"),rn(Qe)])),td(Qe,or)]};this.permissions=[...fb]}},OE=class extends Pt{constructor(){super(...arguments);this.displayName="AllowTeamRepoAdmin";this.codaTableId="grid-bkCMi3uINt";this.applyFilter={and:[le(ie([$e("ps_permissions"),$e("ps_file_permissions"),rn(Qe)])),et(or,ta),io(Qe)]};this.permissions=[...yC]}},SE=class extends Pt{constructor(){super(...arguments);this.displayName="AllowOrgMemberOpenTeamRepoViewer";this.applyFilter={and:[le($e("sc_team_experience")),bt(ke),Ds(Rt),oa(Qe)]};this.permissions=[..._l]}},DE=class extends Dr{constructor(){super(...arguments);this.displayName="DenyRepoEditsForNonPaidOrgUser";this.codaTableId="grid-p4pkHcuVJp";this.applyFilter=ie([rt(ct),le(jp(ct,ke)),[ke.accountType,"=","restricted"]]);this.permissions=[...Ip]}},AE=class extends Dr{constructor(){super(...arguments);this.displayName="DenyRepoEditsForNonPaidTeamUser";this.codaTableId="grid-no5tXlSpGP";this.applyFilter=k7(ia);this.permissions=[...Ip]}},FE=class extends Dr{constructor(){super(...arguments);this.displayName="DenyRepoEditsForOrgUserWhenDraftsOwnerIsRestricted";this.codaTableId="grid-dX0uGon2fB";this.applyFilter={and:[ue(ed),ue(ke),[ke.userId,"<>",null],[ed.userId,"<>",{type:"field",ref:ke.userId}],[ed.accountType,"=","restricted"]]};this.permissions=[...Ip,...gC]}},PE=class extends Dr{constructor(){super(...arguments);this.displayName="DenyDeletedRepo";this.codaTableId="grid-W8HhvEBb-N";this.applyFilter=[ct.deletedAt,"<>",null];this.permissions=[...vp]}},jE=class extends Dr{constructor(){super(...arguments);this.displayName="DenyRepoInDeletedFolder";this.codaTableId="grid-TndpnJIACS";this.applyFilter=ie([ue(Qe),[Qe.deletedAt,"<>",null]]);this.permissions=[...vp]}},TE=class extends Dr{constructor(){super(...arguments);this.displayName="DenyRepoEditForExternalRestrictedUsers";this.applyFilter={and:[ue(Ke),[Ke.externalRestrictedOrgId,"<>",null],[Ke.externalRestrictedOrgId,"<>",{type:"field",ref:ct.orgId}]]};this.permissions=[...Ip]}},CE=class extends Dr{constructor(){super(...arguments);this.displayName="DenyTeamDraftFileReposBeforePlanSpacesEnabled";this.applyFilter={and:[$e("ps_team_drafts_deny_policies"),rn(Qe),le($e("ps_benchmark"))]};this.permissions=[...Tv]}},EE=[cE,pE,mE,gE,fE,bE,yE,hE,IE,vE,OE,xE,_E,SE,DE,AE,FE,jE,PE,TE,CE];var kE=class extends nt{constructor(){super(...arguments);this.displayName="AllowRepoFilePrototypeViewer";this.codaTableId="grid-PLIdagGqyK";this.applyFilter=ie([et(Os,yb),le(ts(X))]);this.permissions=[...Cv]}},Yv=class extends nt{constructor(){super(...arguments);this.codaTableId="grid-QrSfV2Mkf1";this.displayName="AllowRepoFileViewer";this.applyFilter=et(Os,li);this.permissions=[...Ju]}},wE=class extends nt{constructor(){super(...arguments);this.displayName="AllowRepoFileEditor";this.codaTableId="grid-JL2ULmQ1bz";this.applyFilter=et(Os,Li);this.permissions=[...Zo]}},RE=class extends nt{constructor(){super(...arguments);this.codaTableId="grid-pM8F3QsCrL";this.displayName="AllowRepoFileOwner";this.applyFilter=et(Os,ui);this.permissions=[...ea]}},Qv=class extends nt{constructor(){super(...arguments);this.displayName="AllowFolderFileViewer";this.codaTableId="grid-7jARlLOvtO";this.applyFilter=et(Ni,li);this.permissions=[...Ju]}},ME=class extends nt{constructor(){super(...arguments);this.displayName="AllowFolderFileEditor";this.codaTableId="grid-lxod6nUO4N";this.applyFilter=et(Ni,Li);this.permissions=[...Zo]}},UE=class extends nt{constructor(){super(...arguments);this.displayName="AllowFolderFileOwner";this.codaTableId="grid-iMUzQ1-E48";this.applyFilter=et(Ni,ui);this.permissions=[...ea]}},Jv=class extends nt{constructor(){super(...arguments);this.displayName="AllowTeamFileViewer";this.codaTableId="grid-8SVSQESPtS";this.applyFilter={and:[le(ie([$e("ps_permissions"),$e("ps_file_permissions"),rn(Qe)])),Pp(Qe,or)]};this.permissions=[...Ju]}},LE=class extends nt{constructor(){super(...arguments);this.displayName="AllowTeamFileEditor";this.codaTableId="grid-8GqibQl6XO";this.applyFilter={and:[le(ie([$e("ps_permissions"),$e("ps_file_permissions"),rn(Qe)])),td(Qe,or)]};this.permissions=[...Zo]}},NE=class extends nt{constructor(){super(...arguments);this.displayName="AllowTeamFileOwner";this.codaTableId="grid-AdmtTpuram";this.applyFilter={and:[le(ie([$e("ps_permissions"),$e("ps_file_permissions"),rn(Qe)])),et(or,ui),io(Qe)]};this.permissions=[...ea]}},VE=class extends at{constructor(){super(...arguments);this.displayName="DenyEditsForOrgUserWhenDraftsOwnerIsRestricted";this.codaTableId="grid-9h5LM6D5-8";this.applyFilter=ie([ca(X),rt(X),le(jp(X,ke)),{or:[{and:[Ss(X),[ed.accountType,"=","restricted"]]},{and:[es(X),[ed.whiteboardPaidStatus,"=","restricted"]]}]}]);this.permissions=[...Dl(ea,["FILE::CAN_VIEW_METADATA"])]}},qE=class extends at{constructor(){super(...arguments);this.displayName="DenyUpgradesForNonPaidOrgUser";this.codaTableId="grid-hy6m2pEs5h";this.applyFilter={and:[rt(X),Fb(X,ke,"<>","starter")]};this.permissions=["FILE::CAN_BECOME_EDITOR"]}},BE=class extends at{constructor(){super(...arguments);this.displayName="DenyUpgradesForOrgDraftOwner";this.codaTableId="grid-nZ5lF0R-sJ";this.applyFilter={and:[rt(X),jp(X,ke)]};this.permissions=["FILE::CAN_BECOME_EDITOR"]}},WE=class extends at{constructor(){super(...arguments);this.displayName="DenyUpgradesForDraftOwner";this.applyFilter={and:[$e("ps_benchmark_upgrade_prevention"),rd(Qe),et(ra,ui)]};this.permissions=["FILE::CAN_BECOME_EDITOR"]}},Xv=class extends at{constructor(){super(...arguments);this.displayName="DenyEditsForNonPaidOrgUser";this.codaTableId="grid-uTZ5NZQshC";this.applyFilter=ie([rt(X),le(jp(X,ke)),it([Fb(X,ke,"=","restricted"),ie([it([le($e("figjam_pages")),es(X)]),it([Fb(X,ke,"=","starter"),le(ue(ke))]),ue(Ve),[Ve.hasOrgEditLinksEditHeuristics,"<>",!0]])])]);this.permissions=[...Dl(Zs,["FILE::CAN_EDIT_CANVAS","FILE::CAN_EDIT_IGNORE_PAID_STATUS","FILE::CAN_BECOME_EDITOR"]),...mb]}},GE=class extends nt{constructor(){super(...arguments);this.displayName="AllowWorkshopModeEditAccess";this.codaTableId="grid-0AAVufOO-5";this.applyFilter=ie([zv(X,Lv),it([new Yv().applyFilter,new Qv().applyFilter,new Jv().applyFilter,new tO().applyFilter,$v(X,Jr)])]);this.permissions=[...Op,"FILE::CAN_EDIT_CANVAS","FILE::CAN_MOVE_COMMENTS"]}},HE=class extends at{constructor(){super(...arguments);this.displayName="DenyEditsExceptWorkshopMode";this.codaTableId="";this.applyFilter=ie([it([new Xv().applyFilter,new Zv().applyFilter,new eO().applyFilter]),le(zv(X,Lv))]);this.permissions=["FILE::CAN_EDIT_CANVAS"]}},KE=class extends at{constructor(){super(...arguments);this.displayName="DenyEditUpgradesInWorkshopMode";this.codaTableId="grid-rBITAk5HCY";this.applyFilter={and:[zv(X,Lv)]};this.permissions=["FILE::CAN_BECOME_EDITOR"]}},$E=class extends nt{constructor(){super(...arguments);this.displayName="AllowTemplateInsert";this.codaTableId="grid-iuOXwaRBCO";this.applyFilter={and:[es(X),ue(ke)]};this.permissions=["FILE::CAN_INSERT_TEMPLATE"]}},zE=class extends at{constructor(){super(...arguments);this.displayName="DenyNonOrgUserTemplatePublish";this.codaTableId="grid-MeYYIHhBKy";this.applyFilter=le(ue(ke));this.permissions=["FILE::CAN_PUBLISH_TEMPLATE"]}},YE=class extends at{constructor(){super(...arguments);this.displayName="DenyNonFigjamTemplatePublish";this.codaTableId="grid-AQzIhxRx8m";this.applyFilter=le(es(X));this.permissions=["FILE::CAN_PUBLISH_TEMPLATE"]}},QE=class extends at{constructor(){super(...arguments);this.displayName="DenyDraftsTemplatePublish";this.codaTableId="grid-lRk2pGrw1G";this.applyFilter=ca(X);this.permissions=["FILE::CAN_PUBLISH_TEMPLATE"]}},JE=class extends at{constructor(){super(...arguments);this.displayName="DenyOrgTemplatesPublish";this.codaTableId="grid-lhoyCVYTCL";this.applyFilter=ie([ue(Ve),[Ve.customTemplatesAllowed,"<>","ALLOW"]]);this.permissions=["FILE::CAN_PUBLISH_TEMPLATE"]}},XE=class extends nt{constructor(){super(...arguments);this.displayName="AllowOrgMemberOpenTeamFileViewer";this.applyFilter={and:[le($e("sc_team_experience")),bt(ke),Ds(Rt),oa(Qe)]};this.permissions=[...Ju]}},ZE=class extends nt{constructor(){super(...arguments);this.displayName="AllowFileEditOrgMemberOpenTeam";this.applyFilter={and:[le($e("sc_team_experience")),bt(ke),Ds(Rt),io(Qe),[Rt.defaultPermission,"=","edit"]]};this.permissions=[...Zo]}},Zv=class extends at{constructor(){super(...arguments);this.displayName="DenyEditsForRestrictedTeamUser";this.codaTableId="grid-QKBD24r9L7";this.applyFilter={and:[le(rt(X)),le(w7(X,ia,Qe)),Ab(X,ia,"=","restricted")]};this.permissions=[...Dl(Zs,["FILE::CAN_EDIT_CANVAS","FILE::CAN_EDIT_IGNORE_PAID_STATUS"]),...mb]}},eO=class extends at{constructor(){super(...arguments);this.displayName="DenyEditsForStarterTeamUser";this.codaTableId="grid-ULXQ61vD1t";this.applyFilter={and:[{or:[le($e("figjam_pages")),es(X)]},ue(Rt),le(rt(X)),Db(Rt),Ab(X,ia,"=","starter"),[Rt.hasProEditLinksEditHeuristics,"<>",!0]]};this.permissions=[...Dl(Zs,["FILE::CAN_EDIT_CANVAS","FILE::CAN_EDIT_IGNORE_PAID_STATUS","FILE::CAN_BECOME_EDITOR"]),...mb]}},ek=class extends at{constructor(){super(...arguments);this.displayName="DenyEditsForExpiredEduGracePeriod";this.applyFilter=ie([[X.teamId,"<>",null],[X.parentOrgId,"=",null],le(F7(Ke)),P7(Rt),ue(OC),j7(OC)]);this.permissions=[...Dl(Zs,["FILE::CAN_EDIT_IGNORE_EDU_GRACE_PERIOD"])]}},tk=class extends at{constructor(){super(...arguments);this.displayName="DenyEditsForLockedTeam";this.applyFilter=ie([[X.teamId,"<>",null],[Rt.hasLockedRestriction,"=",!0]]);this.permissions=[...Zs]}},rk=class extends at{constructor(){super(...arguments);this.displayName="DenyEditsForFigjamDisabledOrg";this.applyFilter=ie([es(X),[Ve.figjamDisabledAt,"<>",null]]);this.permissions=["FILE::CAN_EDIT_CANVAS"]}},ik=class extends at{constructor(){super(...arguments);this.displayName="DenyUpgradesForNonStarterTeamUser";this.codaTableId="grid-zNCw1jJaa1";this.applyFilter={and:[le(rt(X)),Db(Rt),Ab(X,ia,"<>","starter"),ue(Rt)]};this.permissions=["FILE::CAN_BECOME_EDITOR"]}},nk=class extends at{constructor(){super(...arguments);this.displayName="DenyUpgradesForStarterTeams";this.codaTableId="grid--S2mGpyaZH";this.applyFilter={and:[le(rt(X)),le(Db(Rt))]};this.permissions=["FILE::CAN_BECOME_EDITOR"]}},sk=class extends at{constructor(){super(...arguments);this.displayName="DenyDeletedFile";this.codaTableId="grid-G1HPQwfS9v";this.applyFilter=[X.deletedAt,"<>",null];this.permissions=["FILE::CAN_BECOME_EDITOR",...ea]}},ok=class extends at{constructor(){super(...arguments);this.displayName="DenyFileInDeletedFolder";this.codaTableId="grid-PVEu7qco2q";this.applyFilter=[Qe.deletedAt,"<>",null];this.permissions=["FILE::CAN_BECOME_EDITOR",...ea]}},ak=class extends at{constructor(){super(...arguments);this.displayName="DenyArchivedFile";this.codaTableId="grid-Mv9K-ourht";this.applyFilter={and:[[X.deletedAt,"<>",null],[X.fileRepoId,"<>",null]]};this.permissions=[...Zs]}},lk=class extends nt{constructor(){super(...arguments);this.displayName="AllowFilePrototypeViewer";this.codaTableId="grid-lhoyCVYTCL";this.applyFilter=ie([et(ra,yb),le(ts(X))]);this.permissions=[...Cv]}},tO=class extends nt{constructor(){super(...arguments);this.displayName="AllowFileViewer";this.codaTableId="grid-Ai16Ctlr9c";this.applyFilter=et(ra,li);this.permissions=[...Ju]}},uk=class extends nt{constructor(){super(...arguments);this.displayName="AllowFileEditor";this.codaTableId="grid-x4_IxVxiMi";this.applyFilter=et(ra,Li);this.permissions=[...Dl(Zo,["FILE::CAN_DELETE"])]}},dk=class extends nt{constructor(){super(...arguments);this.displayName="AllowFileEditorDelete";this.codaTableId="grid-x4_IxVxiMi";this.applyFilter=ie([et(ra,Li),it([le(ca(X)),et(ra,ui)])]);this.permissions=["FILE::CAN_DELETE"]}},ck=class extends nt{constructor(){super(...arguments);this.displayName="AllowFileOwner";this.codaTableId="grid-58oO_pSOdZ";this.applyFilter=et(ra,ui);this.permissions=[...ea]}},pk=class extends at{constructor(){super(...arguments);this.displayName="DenyFileTrashedBranch";this.codaTableId="grid-g67sIceAGI";this.applyFilter={and:[ts(X),Tn(X)]};this.permissions=[...Dl(Zs,["FILE::CAN_MANAGE"])]}},mk=class extends nt{constructor(){super(...arguments);this.displayName="AllowFileTeamAdminAccessForOrphanedFolder";this.ignoreOnWeb=!0;this.codaTableId="grid-hpHJoALP0V";this.applyFilter={and:[le(ue(Uv)),et(or,ta)]};this.permissions=[...Zo]}},gk=class extends at{constructor(){super(...arguments);this.displayName="DenyEditForExternalRestrictedUsers";this.codaTableId="";this.applyFilter=ie([ue(Ke),[Ke.externalRestrictedOrgId,"<>",null],[Ke.externalRestrictedOrgId,"<>",{type:"field",ref:X.orgId}]]);this.permissions=[...Zs]}},fk=class extends nt{constructor(){super(...arguments);this.displayName="AllowOrgBrowsableAccessForMember";this.codaTableId="";this.applyFilter={and:[bt(ke),le(ts(X)),er("FILE","FILE::CAN_ORG_VIEW_LINK_ACCESS"),it([ie([le(Cn(X)),[X.orgBrowsable,"=",!0]]),ie([Cn(X),[ct.orgBrowsable,"=",!0]]),R7(Ht,Ve)])]};this.permissions=["FILE::CAN_DISCOVER"]}},bk=class extends at{constructor(){super(...arguments);this.displayName="DenyFileViewForAnotherUsersDrafts";this.applyFilter={and:[$e("ps_permissions"),$e("ps_temp_gate_permissions"),rd(Qe),Tp(Qe),le(et(Ni,ui)),le(et(ra,li)),le(er("FILE","FILE::CAN_ORG_VIEW_LINK_ACCESS")),le(er("FILE","FILE::CAN_VIEW_LINK_ACCESS"))]};this.permissions=[...Zo]}},yk=class extends at{constructor(){super(...arguments);this.displayName="DenyDevModeOnFigJamFiles";this.codaTableId="";this.applyFilter={and:[$e("dt_dm_m10n"),es(X)]};this.permissions=["FILE::CAN_ACCESS_BASIC_DEV_MODE","FILE::CAN_ACCESS_FULL_DEV_MODE"]}},hk=class extends at{constructor(){super(...arguments);this.displayName="DenyFullDevModeOnPersonalDrafts";this.codaTableId="";this.applyFilter={and:[$e("dt_dm_m10n"),ca(X),Ss(X),le(rt(X)),le(ue(Rt))]};this.permissions=["FILE::CAN_ACCESS_FULL_DEV_MODE"]}},Ik=class extends at{constructor(){super(...arguments);this.displayName="DenyFullDevModeWithoutTeamSeat";this.codaTableId="";this.applyFilter={and:[$e("dt_dm_m10n"),Ss(X),le(rt(X)),ue(Rt),ue(ia),it([le(Db(Rt)),le(Ab(X,ia,"=","full"))])]};this.permissions=["FILE::CAN_ACCESS_FULL_DEV_MODE"]}},xk=class extends at{constructor(){super(...arguments);this.displayName="DenyFullDevModeWithoutOrgSeat";this.codaTableId="";this.applyFilter={and:[$e("dt_dm_m10n"),Ss(X),rt(X),ue(Ve),ue(ke),Fb(X,ke,"<>","full"),E7(X,ke,"<>","full")]};this.permissions=["FILE::CAN_ACCESS_FULL_DEV_MODE"]}},_k=class extends at{constructor(){super(...arguments);this.displayName="DenyTeamDraftFilesBeforePlanSpacesEnabled";this.applyFilter={and:[$e("ps_team_drafts_deny_policies"),rn(Qe),le($e("ps_benchmark"))]};this.permissions=[...ea]}},vk=[kE,Yv,wE,RE,Jv,LE,NE,mk,Qv,ME,UE,lk,tO,uk,ck,dk,XE,ZE,fk,GE,KE,nk,qE,ik,BE,WE,Xv,VE,Zv,eO,$E,zE,YE,QE,JE,yk,hk,Ik,xk,sk,ok,ak,pk,HE,gk,ek,tk,rk,bk,_k];var Ok=class extends _s{constructor(){super(...arguments);this.displayName="AllowPublicHubFileAccess";this.applyFilter=it([Gv(br),Sb(br)]);this.permissions=["HUB_FILE::CAN_VIEW"]}},Sk=class extends _s{constructor(){super(...arguments);this.displayName="AllowCommunityAdminHubFileAccess";this.applyFilter=ie([PC(br),it([Wv(),FC()])]);this.permissions=["HUB_FILE::CAN_VIEW"]}},Dk=class extends _s{constructor(){super(...arguments);this.displayName="AllowAuthorHubFileAccess";this.applyFilter=ie([PC(br),it([Vt([Ke.profileId,"=",br.profileId]),Vt([Ke.id,"=",br.userId])])]);this.permissions=["HUB_FILE::CAN_VIEW"]}},Ak=class extends _s{constructor(){super(...arguments);this.displayName="AllowCommunityPublishersAccess";this.applyFilter=ie([[br.publisherProfileIds,"<>",null],[Ke.profileId,"in",{type:"field",ref:br.publisherProfileIds}]]);this.permissions=["HUB_FILE::CAN_DUPLICATE"]}},Fk=class extends _s{constructor(){super(...arguments);this.displayName="AllowFreeFileAccess";this.applyFilter=ie([ue(Ke),Sb(br),le(Ol(br))]);this.permissions=["HUB_FILE::CAN_DUPLICATE"]}},Pk=class extends _s{constructor(){super(...arguments);this.displayName="AllowPaidFileAccess";this.applyFilter=ie([ue(Ke),Ol(br),it([FC(),v7(br,Ke,na)])]);this.permissions=["HUB_FILE::CAN_DUPLICATE"]}},jk=class extends _s{constructor(){super(...arguments);this.displayName="AllowFreeHubFileRatingAccess";this.applyFilter=ie([Vt([Ke.id,"<>",br.userId]),Sb(br),le(Ol(br)),EC(Ke,br),le(TC(Ke,br))]);this.permissions=["HUB_FILE::CAN_RATE"]}},Tk=class extends _s{constructor(){super(...arguments);this.displayName="AllowPaidHubFileRatingAccess";this.applyFilter=ie([Vt([Ke.id,"<>",br.userId]),Sb(br),Ol(br),ue(DC),Vt([na.monetizedResourceMetadataId,"=",DC.id]),Vt([na.userId,"=",Ke.id]),Kv(na),EC(Ke,br),le(TC(Ke,br))]);this.permissions=["HUB_FILE::CAN_RATE"]}},Ck=[Ok,Sk,Dk,Pk,Fk,Ak,jk,Tk];var Ek=class extends vs{constructor(){super(...arguments);this.displayName="AllowDelistedPluginAccess";this.applyFilter=Gv(Rr);this.permissions=["PLUGIN::CAN_VIEW"]}},kk=class extends vs{constructor(){super(...arguments);this.displayName="AllowPublicPluginAccess";this.applyFilter=Hv(Rr);this.permissions=["PLUGIN::CAN_VIEW"]}},wk=class extends vs{constructor(){super(...arguments);this.displayName="AllowPendingPluginAccess";this.applyFilter=ie([I7(Rr),Wv()]);this.permissions=["PLUGIN::CAN_VIEW"]}},Rk=class extends vs{constructor(){super(...arguments);this.displayName="AllowOrgPluginAccess";this.applyFilter=ie([_7(Rr),Vt([Ve.id,"=",Rr.orgId]),bt(ke)]);this.permissions=["PLUGIN::CAN_VIEW"]}},Mk=class extends vs{constructor(){super(...arguments);this.displayName="AllowPluginAuthorAccess";this.applyFilter=it([Vt([Ke.profileId,"=",Rr.profileId]),Vt([Ke.id,"=",Rr.userId])]);this.permissions=["PLUGIN::CAN_VIEW"]}},Uk=class extends vs{constructor(){super(...arguments);this.displayName="AllowPluginMultiplePublisherAccess";this.applyFilter=it([ie([Vt([Ve.id,"=",Rr.orgId]),no(ke)]),ie([ue(Nv),Vt([Nv.pluginId,"=",Rr.id]),Vt([Nv.userId,"=",Ke.id])])]);this.permissions=["PLUGIN::CAN_VIEW"]}},Lk=class extends vs{constructor(){super(...arguments);this.displayName="AllowFreePluginRatingAccess";this.applyFilter=ie([Vt([Ke.id,"<>",Rr.userId]),Hv(Rr),le(Ol(Rr)),CC(Ke,Rr),le(jC(Ke,Rr))]);this.permissions=["PLUGIN::CAN_RATE"]}},Nk=class extends vs{constructor(){super(...arguments);this.displayName="AllowPaidPluginRatingAccess";this.applyFilter=ie([Vt([Ke.id,"<>",Rr.userId]),Hv(Rr),Ol(Rr),it([[Bv.hasFreemiumCode,"=",!0],ie([[Bv.hasFreemiumCode,"=",!1],Vt([na.monetizedResourceMetadataId,"=",Bv.id]),Vt([na.userId,"=",Ke.id]),Kv(na)])]),CC(Ke,Rr),le(jC(Ke,Rr))]);this.permissions=["PLUGIN::CAN_RATE"]}},Vk=[Ek,kk,Mk,wk,Rk,Uk,Lk,Nk];var qk=class extends Dp{constructor(){super(...arguments);this.displayName="AllowAdminAccess";this.applyFilter=it([no(ke),[ro.permission,"=","admin"]]);this.permissions=["WORKSPACE::CAN_ADMIN"]}},Bk=class extends Dp{constructor(){super(...arguments);this.displayName="AllowTeamCreationAccess";this.applyFilter=it([no(ke),[ro.permission,"=","admin"],ie([le(ie([[Br.id,"<>",null],[Br.teamCreationControls,"=","team_creation_controls_admin_only"]])),[ro.permission,"=","member"],bt(ke)])]);this.permissions=["WORKSPACE::CAN_CREATE_TEAM"]}},Wk=class extends Dp{constructor(){super(...arguments);this.displayName="AllowWorkspaceViewer";this.applyFilter=it([no(ke),[ro.permission,"=","admin"],ie([it([[ro.permission,"=","member"],[b7.org_access,"=","public"]]),bt(ke)])]);this.permissions=["WORKSPACE::CAN_VIEW"]}},Gk=[qk,Bk,Wk];var Hk=class extends nt{constructor(){super(...arguments);this.displayName="AllowOrgFilePrototypeLinkAccess";this.codaTableId="grid-h5UoQFWXww";this.applyFilter={and:[bt(ke),er("FILE","FILE::CAN_ORG_VIEW_PROTOTYPE_LINK_ACCESS")]};this.permissions=[...bb]}},Kk=class extends nt{constructor(){super(...arguments);this.displayName="AllowOrgFileViewLinkAccess";this.codaTableId="grid-CHnEDEyMvH";this.applyFilter={and:[bt(ke),er("FILE","FILE::CAN_ORG_VIEW_LINK_ACCESS")]};this.permissions=[...Op]}},$k=class extends nt{constructor(){super(...arguments);this.displayName="AllowOrgFileEditLinkAccess";this.codaTableId="grid-t1FK4QWLa5";this.applyFilter={and:[bt(ke),er("FILE","FILE::CAN_ORG_EDIT_LINK_ACCESS")]};this.permissions=[...pb]}},zk=class extends nt{constructor(){super(...arguments);this.displayName="AllowOrgFileViewLinkAccessNested";this.codaTableId="";this.applyFilter={and:[it([bt(ke),Pb(Ve,Ke)]),rt(X),it([ie([[X.linkAccess,"in",["org_edit","org_view"]]]),ie([Cn(X),Ss(X),[ct.linkAccess,"in",["org_edit","org_view"]]])])]};this.permissions=["FILE::CAN_ORG_VIEW_LINK_ACCESS","FILE::CAN_ORG_VIEW_METADATA_LINK_ACCESS"]}},Yk=class extends nt{constructor(){super(...arguments);this.displayName="AllowOrgPrototypeViewLinkAccess";this.codaTableId="";this.applyFilter={and:[le(ts(X)),it([bt(ke),Pb(Ve,Ke)]),ue(X),rt(X),[X.protoLinkAccess,"in",["org_view"]]]};this.permissions=["FILE::CAN_ORG_VIEW_PROTOTYPE_LINK_ACCESS"]}},Qk=class extends nt{constructor(){super(...arguments);this.displayName="AllowPrototypeViewLinkAccess";this.codaTableId="";this.applyFilter={and:[ue(X),le(ts(X)),{or:[ie([[X.protoLinkAccess,"in",["view"]]]),ie([Cn(X),[ct.protoLinkAccess,"in",["view"]]])]}]};this.permissions=["FILE::CAN_VIEW_PROTOTYPE_LINK_ACCESS"]}},Jk=class extends nt{constructor(){super(...arguments);this.displayName="AllowOrgFileEditLinkAccessNested";this.codaTableId="";this.applyFilter={and:[bt(ke),ue(X),it([ie([[X.linkAccess,"in",["org_edit"]]]),ie([Cn(X),[ct.linkAccess,"in",["org_edit"]]])])]};this.permissions=["FILE::CAN_ORG_EDIT_LINK_ACCESS"]}},Xk=class extends nt{constructor(){super(...arguments);this.displayName="AllowFileEditLinkAccessNested";this.codaTableId="";this.applyFilter={and:[ue(Ke),{or:[[X.linkAccess,"in",["edit"]],ie([Cn(X),[ct.linkAccess,"in",["edit"]]])]}]};this.permissions=["FILE::CAN_EDIT_LINK_ACCESS"]}},Zk=class extends nt{constructor(){super(...arguments);this.displayName="AllowFileViewLinkAccessNested";this.codaTableId="";this.applyFilter={or:[ie([ue(X),[X.linkAccess,"in",["edit","view"]]]),ie([Cn(X),[ct.linkAccess,"in",["edit","view"]]])]};this.permissions=["FILE::CAN_VIEW_LINK_ACCESS","FILE::CAN_VIEW_METADATA_LINK_ACCESS"]}},ew=class extends at{constructor(){super(...arguments);this.displayName="DenyLinkAccessForExpiredLink";this.codaTableId="";this.applyFilter={and:[rt(X),le(id()),jn(Ht,Ve)]};this.permissions=["FILE::CAN_VIEW_LINK_ACCESS","FILE::CAN_EDIT_LINK_ACCESS","FILE::CAN_VIEW_PROTOTYPE_LINK_ACCESS","FILE::CAN_VIEW_METADATA_LINK_ACCESS"]}},tw=class extends at{constructor(){super(...arguments);this.displayName="DenyNoExpirationForOrgEnforcedExpiration";this.codaTableId="";this.applyFilter={and:[ue(X),rt(X),ue(Br),Sl(Ve),ua(ar,Ve),Tb(Br),le(id()),le(jb(Ht))]};this.permissions=["FILE::CAN_VIEW_LINK_ACCESS","FILE::CAN_EDIT_LINK_ACCESS","FILE::CAN_VIEW_METADATA_LINK_ACCESS","FILE::CAN_VIEW_PROTOTYPE_LINK_ACCESS"]}},rw=class extends at{constructor(){super(...arguments);this.displayName="DenyNoExpirationForWorkspaceEnforcedExpiration";this.codaTableId="";this.applyFilter={and:[[Ve.inExpWorkspaceLevelLinkControls,"=",!0],ue(X),rt(X),ue(ar),Tb(ar),le(id()),le(jb(Ht))]};this.permissions=["FILE::CAN_VIEW_LINK_ACCESS","FILE::CAN_EDIT_LINK_ACCESS","FILE::CAN_VIEW_METADATA_LINK_ACCESS","FILE::CAN_VIEW_PROTOTYPE_LINK_ACCESS"]}},iw=class extends nt{constructor(){super(...arguments);this.displayName="AllowOrgViewLinkAccessPreviousPrivateLinkAccess";this.codaTableId="";this.applyFilter={and:[rt(X),jn(Ht,Ve),ue(Ht),[Ht.prevPrivateLinkAccess,"in",["org_edit","org_view"]]]};this.permissions=["FILE::CAN_ORG_VIEW_LINK_ACCESS","FILE::CAN_ORG_VIEW_METADATA_LINK_ACCESS"]}},nw=class extends nt{constructor(){super(...arguments);this.displayName="AllowOrgEditLinkAccessPreviousPrivateLinkAccess";this.codaTableId="";this.applyFilter={and:[bt(ke),rt(X),Sl(Ve),jn(Ht,Ve),ue(Ht),[Ht.prevPrivateLinkAccess,"in",["org_edit"]]]};this.permissions=["FILE::CAN_ORG_EDIT_LINK_ACCESS"]}},sw=class extends nt{constructor(){super(...arguments);this.displayName="AllowPrototypeOrgViewLinkAccessPreviousPrivateLinkAccess";this.codaTableId="";this.applyFilter={and:[rt(X),le(ts(X)),bt(ke),ue(Ht),jn(Ht,Ve),[Ht.prevPrivateProtoLinkAccess,"in",["org_view"]]]};this.permissions=["FILE::CAN_ORG_VIEW_PROTOTYPE_LINK_ACCESS"]}},ow=class extends at{constructor(){super(...arguments);this.displayName="DenyLinkAccessNoPasswordForOrgEnforcedPasswords";this.codaTableId="";this.applyFilter={and:[ue(X),rt(X),ue(Br),ua(ar,Ve),da(Br,Ve),it([ie([Tn(X),aa(Jr)]),ie([le(Tn(X)),aa(X)])])]};this.permissions=["FILE::CAN_VIEW_LINK_ACCESS","FILE::CAN_EDIT_LINK_ACCESS"]}},aw=class extends at{constructor(){super(...arguments);this.displayName="DenyLinkAccessNoPasswordForWorkspaceEnforcedPasswords";this.codaTableId="";this.applyFilter={and:[[Ve.inExpWorkspaceLevelLinkControls,"=",!0],ue(X),rt(X),ue(ar),da(ar,Ve),it([ie([Tn(X),aa(Jr)]),ie([le(Tn(X)),aa(X)])])]};this.permissions=["FILE::CAN_VIEW_LINK_ACCESS","FILE::CAN_EDIT_LINK_ACCESS"]}},lw=class extends at{constructor(){super(...arguments);this.displayName="DenyProtoLinkAccessNoPasswordForOrgEnforcedPasswords";this.codaTableId="";this.applyFilter={and:[ue(X),rt(X),ue(Br),ua(ar,Ve),da(Br,Ve),it([ie([Tn(X),la(Jr)]),ie([le(Tn(X)),la(X)])])]};this.permissions=["FILE::CAN_VIEW_PROTOTYPE_LINK_ACCESS"]}},uw=class extends at{constructor(){super(...arguments);this.displayName="DenyProtoLinkAccessNoPasswordForWorkspaceEnforcedPasswords";this.codaTableId="";this.applyFilter={and:[[Ve.inExpWorkspaceLevelLinkControls,"=",!0],ue(X),rt(X),ue(ar),da(ar,Ve),it([ie([Tn(X),la(Jr)]),ie([le(Tn(X)),la(X)])])]};this.permissions=["FILE::CAN_VIEW_PROTOTYPE_LINK_ACCESS"]}},dw=class extends at{constructor(){super(...arguments);this.displayName="DenyLinkAccessIncorrectPassword";this.codaTableId="";this.applyFilter={and:[ue(X),le($v(X,Jr))]};this.permissions=["FILE::CAN_VIEW_LINK_ACCESS","FILE::CAN_EDIT_LINK_ACCESS"]}},cw=class extends at{constructor(){super(...arguments);this.displayName="DenyPrototypeAccessIncorrectPassword";this.codaTableId="";this.applyFilter={and:[ue(X),le(T7(X,Jr))]};this.permissions=["FILE::CAN_VIEW_PROTOTYPE_LINK_ACCESS"]}},pw=class extends at{constructor(){super(...arguments);this.displayName="DenyLinkAccessOrgBannedPublicLinks";this.codaTableId="";this.applyFilter={and:[ue(X),rt(X),ue(Br),ua(ar,Ve),[Br.publicLinkControlsSetting,"=","public_link_controls_setting_banned"]]};this.permissions=["FILE::CAN_VIEW_LINK_ACCESS","FILE::CAN_EDIT_LINK_ACCESS","FILE::CAN_VIEW_METADATA_LINK_ACCESS","FILE::CAN_VIEW_PROTOTYPE_LINK_ACCESS"]}},mw=class extends at{constructor(){super(...arguments);this.displayName="DenyLinkAccessWorkspaceBannedPublicLinks";this.codaTableId="";this.applyFilter={and:[[Ve.inExpWorkspaceLevelLinkControls,"=",!0],ue(X),rt(X),ue(ar),[ar.publicLinkControlsSetting,"=","public_link_controls_setting_banned"]]};this.permissions=["FILE::CAN_VIEW_LINK_ACCESS","FILE::CAN_EDIT_LINK_ACCESS","FILE::CAN_VIEW_METADATA_LINK_ACCESS","FILE::CAN_VIEW_PROTOTYPE_LINK_ACCESS"]}},gw=class extends nt{constructor(){super(...arguments);this.displayName="AllowFileEditLinkAccess";this.codaTableId="grid-wJfIk98Iha";this.applyFilter=ie([ue(Ke),er("FILE","FILE::CAN_EDIT_LINK_ACCESS")]);this.permissions=[...pb]}},fw=class extends nt{constructor(){super(...arguments);this.displayName="AllowFileViewLinkAccess";this.codaTableId="grid-EMzzCGh-uF";this.applyFilter={and:[er("FILE","FILE::CAN_VIEW_LINK_ACCESS")]};this.permissions=[...Op]}},bw=class extends nt{constructor(){super(...arguments);this.displayName="AllowFileCanViewMetadata";this.applyFilter=ie([er("FILE","FILE::CAN_VIEW_METADATA_LINK_ACCESS")]);this.permissions=["FILE::CAN_VIEW_METADATA"]}},yw=class extends nt{constructor(){super(...arguments);this.displayName="AllowRepoFilePrototypeOrgViewLinkAccess";this.codaTableId="grid-6CyjbU8i7_";this.applyFilter=ie([Cn(X),er("FILE","FILE::CAN_ORG_VIEW_PROTOTYPE_LINK_ACCESS")]);this.permissions=[...bb]}},hw=class extends nt{constructor(){super(...arguments);this.displayName="AllowRepoFilePrototypeOrgViewLinkAccessNested";this.codaTableId="";this.applyFilter=ie([Ss(X),Cn(X),le(ts(X)),bt(ke),[ct.protoLinkAccess,"in",["org_view"]]]);this.permissions=["FILE::CAN_ORG_VIEW_PROTOTYPE_LINK_ACCESS"]}},Iw=class extends nt{constructor(){super(...arguments);this.displayName="AllowFilePrototypeLinkAccess";this.codaTableId="grid-UDQvuWVSYN";this.applyFilter=ie([le(ts(X)),er("FILE","FILE::CAN_VIEW_PROTOTYPE_LINK_ACCESS")]);this.permissions=[...bb]}},xw=class extends nt{constructor(){super(...arguments);this.displayName="AllowOrgDomainUserViewLinkAccess";this.codaTableId="grid-KD8YpthopL";this.applyFilter={and:[rt(X),Pb(Ve,Ke),er("FILE","FILE::CAN_ORG_VIEW_LINK_ACCESS")]};this.permissions=["FILE::CAN_GAIN_VIEW"]}},_w=class extends nt{constructor(){super(...arguments);this.displayName="AllowOrgDomainUserViewPrototypeLinkAccess";this.applyFilter={and:[le(ts(X)),rt(X),ue(X),Pb(Ve,Ke),[X.protoLinkAccess,"in",["org_view"]]]};this.permissions=["FILE::CAN_GAIN_VIEW_PROTOTYPE"]}},vw=class extends Pt{constructor(){super(...arguments);this.displayName="AllowRepoEditLinkAccess";this.codaTableId="grid-ydC1mbjMN_";this.applyFilter=ie([ue(Ke),er("FILE_REPO","REPO::CAN_EDIT_LINK_ACCESS")]);this.permissions=["REPO::CAN_EDIT"]}},Ow=class extends Pt{constructor(){super(...arguments);this.displayName="AllowRepoEditLinkAccessNested";this.codaTableId="";this.applyFilter={and:[[ct.linkAccess,"in",["edit"]]]};this.permissions=["REPO::CAN_EDIT_LINK_ACCESS"]}},Sw=class extends Pt{constructor(){super(...arguments);this.displayName="AllowRepoViewLinkAccessNested";this.codaTableId="";this.applyFilter={and:[[ct.linkAccess,"in",["edit","view"]]]};this.permissions=["REPO::CAN_VIEW_LINK_ACCESS"]}},Dw=class extends Pt{constructor(){super(...arguments);this.displayName="AllowRepoViewPrototypeLinkAccessNested";this.codaTableId="";this.applyFilter={and:[[ct.protoLinkAccess,"in",["view"]]]};this.permissions=["REPO::CAN_VIEW_PROTOTYPE_LINK_ACCESS"]}},Aw=class extends Dr{constructor(){super(...arguments);this.displayName="DenyRepoLinkAccessForExpiredLink";this.codaTableId="";this.applyFilter={and:[le(id()),rt(ct),jn(Ht,Ve)]};this.permissions=["REPO::CAN_VIEW_LINK_ACCESS","REPO::CAN_EDIT_LINK_ACCESS","REPO::CAN_VIEW_PROTOTYPE_LINK_ACCESS"]}},Fw=class extends Pt{constructor(){super(...arguments);this.displayName="AllowViewLinkAccessPreviousPrivateLinkAccess";this.codaTableId="";this.applyFilter={and:[rt(ct),jn(Ht,Ve),ue(Ht),[Ht.prevPrivateLinkAccess,"in",["org_edit","org_view"]]]};this.permissions=["REPO::CAN_ORG_VIEW_LINK_ACCESS"]}},Pw=class extends Pt{constructor(){super(...arguments);this.displayName="AllowEditLinkAccessPreviousPrivateLinkAccess";this.codaTableId="";this.applyFilter={and:[rt(ct),Sl(Ve),jn(Ht,Ve),ue(Ht),[Ht.prevPrivateLinkAccess,"in",["org_edit"]]]};this.permissions=["REPO::CAN_ORG_EDIT_LINK_ACCESS"]}},jw=class extends Pt{constructor(){super(...arguments);this.displayName="AllowPrototypeViewLinkAccessPreviousPrivateLinkAccess";this.codaTableId="";this.applyFilter={and:[rt(ct),bt(ke),ue(Ht),jn(Ht,Ve),[Ht.prevPrivateProtoLinkAccess,"in",["org_view"]]]};this.permissions=["REPO::CAN_ORG_VIEW_PROTOTYPE_LINK_ACCESS"]}},Tw=class extends Dr{constructor(){super(...arguments);this.displayName="DenyRepoLinkAccessNoPasswordForOrgEnforcedPasswords";this.codaTableId="";this.applyFilter={and:[ue(ct),rt(ct),ue(Br),ua(ar,Ve),da(Br,Ve),aa(Jr)]};this.permissions=["REPO::CAN_VIEW_LINK_ACCESS","REPO::CAN_EDIT_LINK_ACCESS"]}},Cw=class extends Dr{constructor(){super(...arguments);this.displayName="DenyRepoLinkAccessNoPasswordForWorkspaceEnforcedPasswords";this.codaTableId="";this.applyFilter={and:[[Ve.inExpWorkspaceLevelLinkControls,"=",!0],ue(ct),rt(ct),ue(ar),da(ar,Ve),aa(Jr)]};this.permissions=["REPO::CAN_VIEW_LINK_ACCESS","REPO::CAN_EDIT_LINK_ACCESS"]}},Ew=class extends Dr{constructor(){super(...arguments);this.displayName="DenyRepoProtoLinkAccessNoPasswordForOrgEnforcedPasswords";this.codaTableId="";this.applyFilter={and:[ue(ct),rt(ct),ue(Br),ua(ar,Ve),da(Br,Ve),la(Jr)]};this.permissions=["REPO::CAN_VIEW_PROTOTYPE_LINK_ACCESS"]}},kw=class extends Dr{constructor(){super(...arguments);this.displayName="DenyRepoProtoLinkAccessNoPasswordForWorkspaceEnforcedPasswords";this.codaTableId="";this.applyFilter={and:[[Ve.inExpWorkspaceLevelLinkControls,"=",!0],ue(ct),rt(ct),ue(ar),da(ar,Ve),la(Jr)]};this.permissions=["REPO::CAN_VIEW_PROTOTYPE_LINK_ACCESS"]}},ww=class extends Dr{constructor(){super(...arguments);this.displayName="DenyRepoLinkAccessIncorrectPassword";this.codaTableId="";this.applyFilter={and:[ue(ct),le(aa(Jr)),[Jr.key,"<>",null],le([Jr.key,"in",{type:"field",ref:Fp.passwordAuthValidatedFileKeys}])]};this.permissions=["REPO::CAN_VIEW_LINK_ACCESS","REPO::CAN_EDIT_LINK_ACCESS"]}},Rw=class extends Dr{constructor(){super(...arguments);this.displayName="DenyRepoPrototypeAccessIncorrectPassword";this.codaTableId="";this.applyFilter={and:[ue(ct),le(la(Jr)),le(kC(Jr))]};this.permissions=["REPO::CAN_VIEW_PROTOTYPE_LINK_ACCESS"]}},Mw=class extends Dr{constructor(){super(...arguments);this.displayName="DenyRepoLinkAccessOrgBannedPublicLinks";this.codaTableId="";this.applyFilter={and:[ue(ct),rt(ct),ue(Br),ua(ar,Ve),[Br.publicLinkControlsSetting,"=","public_link_controls_setting_banned"]]};this.permissions=["REPO::CAN_VIEW_LINK_ACCESS","REPO::CAN_EDIT_LINK_ACCESS","REPO::CAN_VIEW_PROTOTYPE_LINK_ACCESS"]}},Uw=class extends Dr{constructor(){super(...arguments);this.displayName="DenyRepoLinkAccessWorkspaceBannedPublicLinks";this.codaTableId="";this.applyFilter={and:[[Ve.inExpWorkspaceLevelLinkControls,"=",!0],ue(ct),rt(ct),ue(ar),[ar.publicLinkControlsSetting,"=","public_link_controls_setting_banned"]]};this.permissions=["REPO::CAN_VIEW_LINK_ACCESS","REPO::CAN_EDIT_LINK_ACCESS","REPO::CAN_VIEW_PROTOTYPE_LINK_ACCESS"]}},Lw=class extends Pt{constructor(){super(...arguments);this.displayName="AllowRepoViewPrototypeLinkAccess";this.codaTableId="grid-ixyedwhNdu";this.applyFilter=ie([er("FILE_REPO","REPO::CAN_VIEW_PROTOTYPE_LINK_ACCESS")]);this.permissions=[...Pv]}},Nw=class extends Pt{constructor(){super(...arguments);this.displayName="AllowRepoViewLinkAccess";this.codaTableId="grid-ixyedwhNdu";this.applyFilter={and:[er("FILE_REPO","REPO::CAN_VIEW_LINK_ACCESS")]};this.permissions=[...jv]}},Vw=class extends Pt{constructor(){super(...arguments);this.displayName="AllowRepoOrgViewLinkAccessNested";this.codaTableId="grid-aEPorX_yRv";this.applyFilter={and:[bt(ke),[ct.linkAccess,"in",["org_view","org_edit"]]]};this.permissions=["REPO::CAN_ORG_VIEW_LINK_ACCESS"]}},qw=class extends Pt{constructor(){super(...arguments);this.displayName="AllowRepoOrgEditLinkAccessNested";this.codaTableId="grid-laaStJ4NWT";this.applyFilter={and:[bt(ke),[ct.linkAccess,"in",["org_edit"]]]};this.permissions=["REPO::CAN_ORG_EDIT_LINK_ACCESS"]}},Bw=class extends Pt{constructor(){super(...arguments);this.displayName="AllowRepoOrgViewLinkAccess";this.codaTableId="grid-aEPorX_yRv";this.applyFilter={and:[bt(ke),er("FILE_REPO","REPO::CAN_ORG_VIEW_LINK_ACCESS")]};this.permissions=[...jv]}},Ww=class extends Pt{constructor(){super(...arguments);this.displayName="AllowRepoOrgEditLinkAccess";this.codaTableId="grid-laaStJ4NWT";this.applyFilter={and:[bt(ke),er("FILE_REPO","REPO::CAN_ORG_EDIT_LINK_ACCESS")]};this.permissions=[...vp]}},Gw=class extends Pt{constructor(){super(...arguments);this.displayName="AllowRepoOrgPrototypeLinkAccess";this.applyFilter={and:[bt(ke),er("FILE_REPO","REPO::CAN_ORG_VIEW_PROTOTYPE_LINK_ACCESS")]};this.permissions=[...Pv]}},Hw=class extends Dr{constructor(){super(...arguments);this.displayName="DenyRepoNoExpirationForOrgEnforcedExpiration";this.codaTableId="";this.applyFilter={and:[ue(ct),rt(ct),Sl(Ve),ua(ar,Ve),Tb(Br),le(id()),le(jb(Ht))]};this.permissions=["REPO::CAN_VIEW_LINK_ACCESS","REPO::CAN_EDIT_LINK_ACCESS","REPO::CAN_VIEW_PROTOTYPE_LINK_ACCESS"]}},Kw=class extends Dr{constructor(){super(...arguments);this.displayName="DenyRepoNoExpirationForWorkspaceEnforcedExpiration";this.codaTableId="";this.applyFilter={and:[[Ve.inExpWorkspaceLevelLinkControls,"=",!0],ue(ct),rt(ct),Sl(Ve),Tb(ar),le(id()),le(jb(Ht))]};this.permissions=["REPO::CAN_VIEW_LINK_ACCESS","REPO::CAN_EDIT_LINK_ACCESS","REPO::CAN_VIEW_PROTOTYPE_LINK_ACCESS"]}},$w=[Hk,Kk,$k,Iw,fw,gw,bw,ow,aw,ew,tw,rw,dw,iw,_w,xw,nw,Qk,pw,mw,sw,cw,lw,uw,Zk,Xk,zk,Jk,yw,hw,Yk,Nw,Lw,Sw,Dw,Fw,Pw,jw,Tw,Cw,Ew,kw,Ow,Vw,qw,ww,Mw,Uw,Rw,Aw,vw,Bw,Ww,Gw,Hw,Kw];var zw=class extends kv{constructor(){super(...arguments);this.displayName="DenyNonOrgMemberFeedPostAccess";this.applyFilter=le(bt(ke));this.permissions=["FEED_POST::CAN_VIEW","FEED_POST::IS_CONTAINER_MEMBER"]}},Yw=class extends to{constructor(){super(...arguments);this.displayName="AllowOrgContainerFeedPostViewAccess";this.applyFilter=ie([it([[sa.containerType,"=","org"],[sa.containerType,"=","workspace"]])]);this.permissions=["FEED_POST::CAN_VIEW"]}},Qw=class extends to{constructor(){super(...arguments);this.displayName="AllowTeamContainerFeedPostViewAccess";this.applyFilter=ie([[sa.containerType,"=","team"],er("TEAM","TEAM::CAN_VIEW")]);this.permissions=["FEED_POST::CAN_VIEW"]}},Jw=class extends to{constructor(){super(...arguments);this.displayName="AllowFolderContainerFeedPostViewAccess";this.applyFilter=ie([[sa.containerType,"=","folder"],er("FOLDER","FOLDER::CAN_VIEW")]);this.permissions=["FEED_POST::CAN_VIEW"]}},Xw=class extends to{constructor(){super(...arguments);this.displayName="AllowOrgFeedPostContainerMembership";this.applyFilter=ie([[sa.containerType,"=","org"]]);this.permissions=["FEED_POST::IS_CONTAINER_MEMBER"]}},Zw=class extends to{constructor(){super(...arguments);this.displayName="AllowWorkspaceFeedPostContainerMembership";this.applyFilter=ie([[sa.containerType,"=","workspace"],[ro.permission,"=","member"]]);this.permissions=["FEED_POST::IS_CONTAINER_MEMBER"]}},eR=class extends to{constructor(){super(...arguments);this.displayName="AllowTeamFeedPostContainerMembership";this.applyFilter=ie([[sa.containerType,"=","team"],et(or,li)]);this.permissions=["FEED_POST::IS_CONTAINER_MEMBER"]}},tR=class extends to{constructor(){super(...arguments);this.displayName="AllowFolderFeedPostContainerMembership";this.applyFilter=ie([[sa.containerType,"=","folder"],et(Ni,li)]);this.permissions=["FEED_POST::IS_CONTAINER_MEMBER"]}},rR=[zw,Yw,Qw,Jw,Xw,Zw,eR,tR];var iR=Ie(X7()),iO=Ie(rO());var nn=class{},Wr=nn;Wr.getAllKeysInApplyFilter=e=>{if(Array.isArray(e)){if((0,iO.default)(e[2])){let r=e[2];if(r.type!=="field"&&r.type!=="func")throw new Error("Invalid type");if(r.type=="func"){if(r.name!=="now"&&r.name!=="not_found")throw new Error("Invalid function");return[e[0]]}if(r.ref!=="now")return[e[0],r.ref]}return[e[0]]}if((0,iO.default)(e)){let r=e;if(r!=null&&r.meta&&(r!=null&&r.expr))return nn.getAllKeysInApplyFilter(r==null?void 0:r.expr);let i=e;if(i!=null&&i.and)return(0,iR.default)(i==null?void 0:i.and.map(nn.getAllKeysInApplyFilter));let s=e;if(s!=null&&s.or)return(0,iR.default)(s==null?void 0:s.or.map(nn.getAllKeysInApplyFilter));let o=e;if(o!=null&&o.not)return nn.getAllKeysInApplyFilter(o==null?void 0:o.not)}throw new Error("Unhandled type in ExpressionDef")},Wr.getPolicyLoadPlan=e=>{let r=nn.getAllKeysInApplyFilter(e),i={},s={};return r.forEach(o=>{i[o.table.name]||(i[o.table.name]=new Set),i[o.table.name].add(o)}),Object.keys(i).forEach(function(o){s[o]=Array.from(i[o].values())}),s},Wr.compile=(e,r)=>({...e,compiledApplyFilter:nn.getCompiledApplyFilter(e.applyFilter,r)}),Wr.getCompiledApplyFilter=(e,r)=>{if(Array.isArray(e)){if(e[1]==="hasPermission"){let i={type:"macro",name:e[1].toString(),meta:`${e[2].toString()} ON ${e[0].toString()}`},s=r.filter(p=>p.permissions.includes(e[2])),o=s.filter(p=>p.effect==="DENY"),a=s.filter(p=>p.effect==="ALLOW"),u=o.map(p=>nn.getCompiledApplyFilter(p.applyFilter,r)),d=a.map(p=>nn.getCompiledApplyFilter(p.applyFilter,r));if(d.length===0)throw new Error("Permission does not have any allow policies");return u.length===0?{expr:{or:d},meta:i}:{expr:{and:[{not:{or:u}},{or:d}]},meta:i}}return e}if((0,iO.default)(e)){let i=e;if(i!=null&&i.meta&&(i!=null&&i.expr))return{expr:nn.getCompiledApplyFilter(i.expr,r),meta:i.meta};let s=e;if(s!=null&&s.and)return{and:s==null?void 0:s.and.map(u=>nn.getCompiledApplyFilter(u,r))};let o=e;if(o!=null&&o.or)return{or:o==null?void 0:o.or.map(u=>nn.getCompiledApplyFilter(u,r))};let a=e;if(a!=null&&a.not)return{not:nn.getCompiledApplyFilter(a==null?void 0:a.not,r)}}throw new Error(`Invalid filter with value: ${e}`)};var nO=null;function sz(t){return!!t&&"fields"in t}var sO=t=>({type:"view",ref:t}),Cb=t=>({type:"session",ref:t});function nR(t,e){return e&&sz(e)?{aliasedField:t,optional:e.optional,fields:e.fields}:{aliasedField:t,fields:e}}var Z2e=Ie(nd());var lGe=Ie(nd());var rGe=Ie(nd());var iGe=Ie(nd());var uGe=Ie(nd());var dGe=Ie(nd());var BY=t=>t.toLowerCase().replace(/^[a-z]/,function(e){return e.toUpperCase()}).replace(/_([a-z])/g,function(e){return e[1].toUpperCase()}),WY=t=>t.split("::").map(BY).join(""),GY=(t,e,r,i=!1,s=null)=>{let o=r.toString().split("::"),a=BY(o[1]).replace(/^[A-Z]/,p=>p.toLowerCase()),u={userId:Cb("userId")};i&&(u.sessionId=Cb("sessionId"));let d=nR(s||a,[u,nO]);return{args:[{name:e,type:{kind:"string"}}],props:{sheddable:!1},fields:{[t]:[{[e]:sO(e),userId:Cb("userId")},{hasPermission:d}]}}};var wp=Ie(rO()),HY,cGe=typeof process!="undefined"&&((HY=process==null?void 0:process.env)==null?void 0:HY.DEBUG_PERMS),KY=(d=>(d.equals="=",d.notEquals="<>",d.in="in",d.includes="includes",d.gt=">",d.lt="<",d.gte=">=",d.lte="<=",d))(KY||{});var gR=class extends Error{constructor(e){super(`Unreachable case: ${JSON.stringify(e)}`)}};function pGe(t,e){return Object.values(t).includes(e)?e:void 0}var Vi=class{static evaluateOperation(e,r,i){let s=r,o=i;switch(e){case"=":return r===i;case"<>":return r!==i;case"in":return Array.isArray(i)?i.includes(r):!1;case"includes":return Array.isArray(r)?r.includes(i):!1;case">":return s>o;case"<":return s<o;case">=":return s>=o;case"<=":return s<=o;default:throw new gR(e)}}},pa=Vi;pa.hydrateAndEvaluatePolicy=function(e,r,i={}){var m;let o=Object.assign({serialization:"sinatra",notLoadedPaths:[],shouldTreatNotLoadedAsNull:!1},i),{serialization:a,notLoadedPaths:u,shouldTreatNotLoadedAsNull:d}=o,p=e;if(p!=null&&p.meta)return e=p.expr,Vi.hydrateAndEvaluatePolicy(e,r,o);if((0,wp.default)(e)){let f=e;if(f!=null&&f.and){let O=!1;for(let A of f.and){let k=Vi.hydrateAndEvaluatePolicy(A,r,o).result;if(k===!1)return{result:!1,notLoadedPaths:u};O=O||k===null}return{result:O?null:!0,notLoadedPaths:u}}let y=e;if(y!=null&&y.or){let O=!1;for(let A of y.or){let k=Vi.hydrateAndEvaluatePolicy(A,r,o).result;if(k)return{result:!0,notLoadedPaths:u};O=O||k===null}return{result:O?null:!1,notLoadedPaths:u}}let v=e;if(v!=null&&v.not){let O=Vi.hydrateAndEvaluatePolicy(v==null?void 0:v.not,r,o).result;return{result:O===null?null:!O,notLoadedPaths:u}}throw new Error("Unhandled type in ExpressionDef")}if(Array.isArray(e)){if(e.length!==3)throw new Error("Unhandled number of arguments.");let f=e[1],y=pGe(KY,f);if(y==null)throw new Error(`Unhandled operation in ExpressionDef: ${y}`);let v=Vi.getValueFromData(e[0],r,a),O=Vi.getValueFromRefOrLiteral(e[2],r,a);if(v==="::PENDING_LOAD::")if(e[0]instanceof vl&&u.push(e[0].serialize("sinatra")),d)v=null;else return{result:null,notLoadedPaths:u};if(O==="::PENDING_LOAD::"){let A=(m=e[2])==null?void 0:m.ref,k=A!=null&&A.name?A.serialize("sinatra"):JSON.stringify(e[2]);if(u.push(k),d)O=null;else return{result:null,notLoadedPaths:u}}if(Vi.isValueOrArgRef(e[2])&&v===null&&O===null)return{result:null,notLoadedPaths:u};if(!["=","<>"].includes(y)&&(v===null||O==null))return{result:!1,notLoadedPaths:u};if(!["=","<>","in","includes"].includes(y)){if(typeof v!="number")throw new Error(`Argument \`${v==null?void 0:v.toString()}\` is not a number`);if(typeof O!="number")throw new Error(`Argument: \`'${O==null?void 0:O.toString()}\` is not a number`)}return{result:Vi.evaluateOperation(y,v,O),notLoadedPaths:u}}throw new Error("Unhandled type in ExpressionDef")},pa.exprContainsFeatureFlag=function(e){if((0,wp.default)(e)){let r=e;if(r!=null&&r.and)return r.and.some(o=>Vi.exprContainsFeatureFlag(o));let i=e;if(i!=null&&i.or)return i.or.some(o=>Vi.exprContainsFeatureFlag(o));let s=e;if(s!=null&&s.not)return Vi.exprContainsFeatureFlag(s==null?void 0:s.not);throw new Error("Unhandled type in ExpressionDef")}if(Array.isArray(e)){if(e.length!==3)throw new Error("Unhandled number of arguments.");let r=e[0];return r.table.name==="session_arguments"&&r.name==="feature_flags"}throw new Error("Unhandled type in ExpressionDef")},pa.getValueFromData=function(e,r,i){let s;typeof e=="string"?s=e:s=e.serialize(i);let o=s.split("."),a=o[0];if(!Object.prototype.hasOwnProperty.call(r,a))return cGe&&console.log(`\x1B[31m[Figma::Permissions Missing Field] Field ${a} is missing: ${JSON.stringify(r)}`),"::PENDING_LOAD::";let u=r[a];return u==="::PENDING_LOAD::"?"::PENDING_LOAD::":o.length>1?r[a]&&typeof r[a]=="object"?Vi.getValueFromData(o.slice(1).join("."),u,i):null:u instanceof Date&&(u!=null&&u.getTime)?Math.floor(u.getTime()/1e3):(0,wp.default)(u)?null:u!=null?u:null},pa.isValueOrArgRef=function(e){return!(!(0,wp.default)(e)||Array.isArray(e))},pa.getValueFromRefOrLiteral=function(e,r,i){if(!(0,wp.default)(e)||Array.isArray(e))return e;let s=e,o=0;if(s.type==="field")return s.ref==="now"?(s.offset&&(o=s.offset),Math.floor(Date.now()/1e3)+o):Vi.getValueFromData(s.ref,r,i);let a=e;if(a.type==="func"&&a.name==="now")return s.offset&&(o=s.offset),Math.floor(Date.now()/1e3)+o;throw new Error("Unsupported ArgumentRef type: ${argRef.type}")};var gMt=rO();var mGe=[...zC,...dE,...EE,...vk,...LC,...Ck,...Vk,...Gk,...$w,...rR],oo=mGe.map(t=>new t),gGe=zC.map(t=>Wr.compile(new t,oo)),fGe=dE.map(t=>Wr.compile(new t,oo)),bGe=EE.map(t=>Wr.compile(new t,oo)),yGe=vk.map(t=>Wr.compile(new t,oo)),hGe=LC.map(t=>Wr.compile(new t,oo)),IGe=Ck.map(t=>Wr.compile(new t,oo)),xGe=Vk.map(t=>Wr.compile(new t,oo)),_Ge=Gk.map(t=>Wr.compile(new t,oo)),vGe=$w.map(t=>Wr.compile(new t,oo)),OGe=rR.map(t=>Wr.compile(new t,oo)),FMt=[...hGe,...gGe,...fGe,...bGe,...yGe,...IGe,...xGe,..._Ge,...vGe,...OGe];var SGe=iy("file","key",cb,["FILE::CAN_ADMIN","FILE::IS_OWNER","FILE::CAN_VIEW_METADATA","FILE::CAN_ACCESS_FILE_THROUGH_API","FILE::CAN_BE_MENTIONED_IN_COMMENT","FILE::CAN_MODIFY_ROLES","FILE::HAS_ROLE_ACCESS","FILE::CAN_DOWNLOAD_FILE","FILE::CAN_BECOME_EDITOR","FILE::CAN_GAIN_VIEW","FILE::CAN_GAIN_VIEW_PROTOTYPE","FILE::CAN_EDIT_LINK_ACCESS","FILE::CAN_ORG_VIEW_LINK_ACCESS","FILE::CAN_ORG_EDIT_LINK_ACCESS","FILE::CAN_VIEW_PROTOTYPE_LINK_ACCESS","FILE::CAN_ORG_VIEW_PROTOTYPE_LINK_ACCESS","FILE::CAN_VIEW_METADATA_LINK_ACCESS","FILE::CAN_ORG_VIEW_METADATA_LINK_ACCESS","FILE::CAN_VIEW_LINK_ACCESS"],new Map([["FILE::CAN_PUBLISH_TEMPLATE",{requiresSessionId:!0}],["FILE::CAN_INSERT_TEMPLATE",{requiresSessionId:!0}],["FILE::CAN_EDIT",{aliasName:"canEditV2",requiresSessionId:!0}],["FILE::CAN_VIEW",{aliasName:"canViewV2",requiresSessionId:!0}],["FILE::CAN_EDIT_CANVAS",{aliasName:"canEditCanvas",requiresSessionId:!0}],["FILE::CAN_DISCOVER",{aliasName:"canDiscover",requiresSessionId:!0}],["FILE::CAN_RENAME",{aliasName:"canRename",requiresSessionId:!0}],["FILE::CAN_DELETE",{aliasName:"canDelete",requiresSessionId:!0}],["FILE::CAN_FAVORITE",{aliasName:"canFavorite",requiresSessionId:!0}],["FILE::CAN_VIEW_PROTOTYPE",{aliasName:"canViewPrototypeV2",requiresSessionId:!0}],["FILE::CAN_VIEW_AND_CREATE_COMMENTS",{requiresSessionId:!0}],["FILE::CAN_MOVE_COMMENTS",{requiresSessionId:!0}],["FILE::CAN_EDIT_IGNORE_PAID_STATUS",{requiresSessionId:!0}],["FILE::CAN_EDIT_IGNORE_EDU_GRACE_PERIOD",{requiresSessionId:!0}],["FILE::CAN_ACCESS_BASIC_DEV_MODE",{requiresSessionId:!0}],["FILE::CAN_ACCESS_FULL_DEV_MODE",{requiresSessionId:!0}]])),DGe=iy("repo","id",db,["REPO::CAN_VIEW","REPO::CAN_ADMIN","REPO::IS_OWNER","REPO::CAN_MANAGE","REPO::CAN_VIEW_LINK_ACCESS","REPO::CAN_EDIT_LINK_ACCESS","REPO::CAN_VIEW_PROTOTYPE_LINK_ACCESS","REPO::CAN_ORG_VIEW_PROTOTYPE_LINK_ACCESS","REPO::CAN_ORG_VIEW_LINK_ACCESS","REPO::CAN_ORG_EDIT_LINK_ACCESS"],new Map([["REPO::CAN_VIEW_PROTOTYPE",{aliasName:"canReadV2",requiresSessionId:!0}],["REPO::CAN_EDIT",{aliasName:"canEditV2",requiresSessionId:!0}]])),AGe=iy("project","id",ub,[],new Map([["FOLDER::CAN_VIEW",{aliasName:"canRead"}]])),FGe=iy("team","id",Dv,["TEAM::VIEW_ROLE_ACCESS","TEAM::EDIT_ROLE_ACCESS","TEAM::ADMIN_ROLE_ACCESS"],new Map([["TEAM::CAN_VIEW",{aliasName:"canRead"}]])),PGe=iy("org","id",Sv,["ORG::IS_ADMIN","ORG::IS_MEMBER","ORG::IS_GUEST"],new Map([]));function iy(t,e,r,i,s){return Object.values(r).reduce((o,a)=>{if(i.includes(a))return o;let u=WY(a.toString()),d=s.get(a)||{};return o[u]=GY(t,e,a,d.requiresSessionId,d.aliasName||null),o},{})}var $Y={...SGe,...DGe,...AGe,...FGe,...PGe};var SR={};cP(SR,{AccessibleFolders:()=>XY,AccessibleFoldersV2:()=>ZY,ActiveFileUsersForFileView:()=>eQ,AdminRequestDashboardView:()=>rQ,AdminSettingsSelectorView:()=>iQ,AllowlistPluginsSectionView:()=>nQ,AllowlistSettingsModalView:()=>sQ,AppliedColorPaletteForFile:()=>oQ,ApprovedLibrariesView:()=>wZ,AutoRunPluginsView:()=>aQ,BillingTrialForResource:()=>lQ,BillingTrialForResourceAndPlanType:()=>uQ,BlockingPrototypeData:()=>dQ,BlockingUserState:()=>cQ,BranchOpenMergeRequest:()=>mQ,BrowseTemplatesView:()=>gQ,ChurnFrictionPersonalizedModalView:()=>fQ,ColorPaletteForUuid:()=>bQ,ColorPalettesForTeam:()=>yQ,CommunityHubLikeForProfile:()=>hQ,CommunityLibraries:()=>IQ,CommunityLibraryStyleData:()=>GJ,CommunityPayment:()=>xQ,CommunityProfileView:()=>_Q,CommunityRatingHubFileView:()=>vQ,CommunityRatingPluginView:()=>OQ,CommunityRatingStats:()=>SQ,CommunityResourceStat:()=>DQ,ComponentByKey:()=>AQ,CopyLinkFileData:()=>FQ,CurrentUserAssignedWorkspaceView:()=>jQ,CurrentUserFileRecentsView:()=>PQ,CurrentWorkspaceView:()=>TQ,DesktopNewTabData:()=>CQ,DeveloperCodeSnippet:()=>EQ,DeveloperLinks:()=>kQ,DeveloperRelatedLinks:()=>wQ,DeveloperRelatedLinksForNode:()=>RQ,DraftFilesView:()=>VQ,DraftsToMoveFoldersByUserId:()=>MQ,EduOffboardingData:()=>UQ,EnterpriseOrgAdminOnboardingSequenceView:()=>LQ,EnterpriseOrgMetaContentView:()=>tX,ExtensionActivityLogHistoryView:()=>tQ,FeedPostSummary:()=>qQ,FeedPostWithDetails:()=>BQ,FeedPostsByFileKey:()=>WQ,FeedPostsByUser:()=>GQ,FeedTagFollowsByUser:()=>HQ,FileBrowserMigratedToSections:()=>KQ,FileBrowserSearchBarData:()=>$Q,FileBrowserSidebarData:()=>zQ,FileByKey:()=>YQ,FileByKeyForRealtimeShim:()=>QQ,FileCanvasMentionsByFileKey:()=>JQ,FileContext:()=>XQ,FileEditRequestExistence:()=>ZQ,FileExpirationView:()=>eJ,FileFeaturesEnabled:()=>tJ,FileManagePermission:()=>rJ,FilePermissions:()=>iJ,FilePermissionsV2:()=>sJ,FilePermittedUsers:()=>oJ,FilePresenterData:()=>aJ,FileSearchResult:()=>lJ,FileTemplateView:()=>uJ,FileTilePermissions:()=>dJ,FileVersions:()=>cJ,FileWithCommentsAndReactions:()=>yJ,FileWithPrototypeLibCppConfig:()=>SJ,FileWithRoleRequests:()=>DJ,FileWorkshopMode:()=>AJ,FilesForProject:()=>xJ,FilesForRepo:()=>_J,FilesForTeam:()=>IJ,FolderCreation:()=>TJ,FolderPermissions:()=>jJ,FolderSearchResult:()=>vJ,GlobalRecentFilesView:()=>FJ,GlobalRecentPrototypesView:()=>PJ,HubFile:()=>CJ,InstalledPlugins:()=>kJ,JamboardOfferRedeemedAt:()=>MZ,LatestClipboardData:()=>wJ,LegacySourceStyleData:()=>RJ,LibraryData:()=>UJ,LibraryFileSelect:()=>LJ,LibraryManagementData:()=>NJ,LibraryModalVariablesData:()=>qJ,LibraryPublish:()=>BJ,LibraryStyleData:()=>WJ,LibrarySubscriptionView:()=>HJ,LibraryVariableCollectionData:()=>KJ,LibraryVariableCollectionDataWithVariables:()=>$J,LicenseGroupCountView:()=>YJ,LicenseGroupSubscribedLibrariesForFile:()=>zJ,LicenseGroupSubscribedLibrariesForTeam:()=>QJ,Mobile_CommentThreadByRootComment:()=>jGe,Mobile_FavoritedFigJamBoards:()=>CGe,Mobile_FavoritedResources:()=>EGe,Mobile_FeedPostSummary:()=>zGe,Mobile_FileByKey:()=>kGe,Mobile_FileCommentThreadsByFile:()=>TGe,Mobile_LastFrameSelection:()=>wGe,Mobile_OrgSummary:()=>RGe,Mobile_OrgsByUser:()=>MGe,Mobile_OrgsByUserV2:()=>UGe,Mobile_ProjectFigJamBoards:()=>LGe,Mobile_ProjectFiles:()=>NGe,Mobile_RecentlyViewedPrototypes:()=>VGe,Mobile_SharedProjectsWithFilesPreview:()=>qGe,Mobile_SpacesByUser:()=>BGe,Mobile_TeamFavoritedFigJamBoards:()=>WGe,Mobile_TeamFavoritedResources:()=>GGe,Mobile_TeamProjectsWithFilesPreview:()=>HGe,Mobile_TeamSummary:()=>KGe,MoveDraftsTeamData:()=>JJ,NodeStatusUsagesForFileView:()=>XJ,NodeStatusUsagesForNodeView:()=>ZJ,NonEnterpriseOrgMetaContentView:()=>eX,OpenEditorFileData:()=>rX,OptionalFileBrowserSearchBarData:()=>iX,OrgAdminUserView:()=>oX,OrgHasWorkspacesView:()=>aX,OrgInviteModalView:()=>lX,OrgJoinRequestExistence:()=>uX,OrgSharedSettingView:()=>dX,OrgTaxIdView:()=>cX,OrgTeamSummariesView:()=>pX,OrgTeamsWithSummary:()=>mX,OrgWithWorkspacesPublicLinkControlsSettingView:()=>fX,OrgsByUser:()=>gX,PaginatedFigFeed:()=>bX,PendingTeamRoleRequestsByTeamId:()=>yX,PendingUserMentionByCommentView:()=>hX,PinnedFiles:()=>IX,Plugin:()=>xX,PluginAllowlistManagementModalView:()=>_X,PluginInstall:()=>vX,PluginPreferencesView:()=>OX,PluginRequests:()=>SX,PluginSecurityFormResponse:()=>DX,ProRequestUpgradeModalData:()=>AX,ProjectById:()=>FX,ProjectByIdForRealtimeShim:()=>jX,ProjectFileCount:()=>TX,ProjectNameById:()=>PX,ProjectTilePermissions:()=>CX,ProjectsForTeam:()=>OJ,PrototypeTilePermissions:()=>EX,QuickReply_CommentThreadByRootComment:()=>hJ,RepoById:()=>kX,RepoFiles:()=>RX,RepoTilePermissions:()=>MX,ResolvedComments:()=>UX,ResourceSave:()=>LX,ResourceSaves:()=>NX,SearchFilterWorkspaceView:()=>VX,SharedWithYouFile:()=>qX,SharedWithYouFolder:()=>BX,SharedWithYouPrototype:()=>WX,SharedWithYouRepo:()=>GX,SharedWithYouResources:()=>HX,SharedWithYouTeam:()=>KX,SlidesTheme:()=>UZ,StarterFileEditConfirmation:()=>$X,StateGroupByKey:()=>zX,StatsigTeamsOrderView:()=>YX,StyleByKey:()=>QX,SubscribedLibrariesForFile:()=>ZX,SubscriptionUpdateSloData:()=>eZ,TeamById:()=>tZ,TeamCreationWorkspaceView:()=>rZ,TeamFileCountsByTeamId:()=>iZ,TeamFileLimitsInfo:()=>sZ,TeamFileLimitsInfoByProject:()=>nZ,TeamPermissions:()=>oZ,TeamTaxIdView:()=>aZ,TeamTilePermissions:()=>lZ,TeamUserStatusAndRequests:()=>uZ,UserColorProfilePreferenceView:()=>dZ,UserForRcs:()=>cZ,UserGlobalFavoritedFiles:()=>pZ,UserJamboardOfferEligibility:()=>mZ,UserMonetizationMetadata:()=>gZ,UserNotificationBellData:()=>fZ,UserOrgResources:()=>bZ,UserRecentSharedWithYouFiles:()=>yZ,UserResources:()=>hZ,UserWithTeams:()=>IZ,VariableByKey:()=>xZ,VariableCollectionByKey:()=>_Z,VariablesByVariableCollectionKey:()=>vZ,WorkspaceAdminSettingsView:()=>OZ,WorkspaceCanCreateTeamView:()=>SZ,WorkspaceDefaultTeamsView:()=>kZ,WorkspaceModalPluginRequests:()=>DZ,WorkspaceOrgAccessView:()=>AZ,WorkspacePageMembersView:()=>RZ,WorkspaceSelectorView:()=>FZ,WorkspaceSubscribedLibrariesForFile:()=>PZ,WorkspaceSubscribedLibrariesForTeam:()=>jZ,WorkspacesCanAdminView:()=>TZ,WorkspacesDirectoryView:()=>CZ,WorkspacesTableView:()=>EZ});var zY={id:n,orderId:n,createdAt:n,deletedAt:n,resolvedAt:n,clientMeta:{pageId:n,nodeId:n,x:n,y:n,selectionBoxAnchor:{x:n,y:n},stablePath:n},parentId:n,user:{id:n,handle:n,imgUrl:n},messageMetaStylized:{t:n,user:{id:n,handle:n},link:n,styles:n,children:{children:{t:n,user:{id:n,handle:n},link:n,styles:n}}},messageMeta:{t:n,user:{id:n,handle:n}},thumbnailUrl:n},YY={id:n,orderId:n,createdAt:n,deletedAt:n,resolvedAt:n,clientMeta:{pageId:n,nodeId:n,x:n,y:n,selectionBoxAnchor:{x:n,y:n},stablePath:n},parentId:n,user:{id:n,handle:n,imgUrl:n},messageMetaStylized:{t:n,user:{id:n,handle:n},link:n,styles:n,children:{children:{t:n,user:{id:n,handle:n},link:n,styles:n}}},messageMeta:{t:n,user:{id:n,handle:n}},reactions:{id:n,emoji:n,createdAt:n,sortTimestamp:n,user:{id:n,handle:n,imgUrl:n}},attachments:{id:n,type:n,mediaType:n,altText:n,thumbnailUrl:n,imageUrl:n,createdAt:n,metadata:{file_name:n,dimensions:{width:n,height:n},thumbnail_dimensions:{width:n,height:n}}},thumbnailUrl:n};var jGe={args:[{name:"fileKey",type:{kind:"string"}},{name:"rootId",type:{kind:"bigint"}}],fields:{file:[{key:x("fileKey"),userId:b("userId")},{mobileCommentThread:[{rootId:x("rootId")},{...YY}],currentUserFileFollower:[{userId:b("userId")},{unreadComments:n}]}]}};var TGe={args:[{name:"fileKey",type:{kind:"string"}}],fields:{file:[{key:x("fileKey"),userId:b("userId")},{mobileComments:[{parentId:null,initialPageSize:1e4},{...zY,clientMeta:{pageId:n,nodeId:n}}],currentUserCommentReadStatus:[{userId:b("userId")},{id:n,userId:n,fileKey:n,createdAt:n,allReadAt:n,readComments:n,unreadComments:n}]}]}};var qi={id:n,orgId:n,createdAt:n,updatedAt:n,resourceId:n,resourceType:n,sidebarSectionId:n};var lr={key:n,name:n,updatedAt:n,trashedAt:n,deletedAt:n,touchedAt:n,parentOrgId:n,teamId:n,folderId:n,thumbnailUrl:ee("signedThumbnailUrl",n),editorType:n,clientMeta:n,sourceFileKey:n,projectPath:[{userId:b("userId")},n],isFavorited:[{userId:b("userId")},n],canRename:[{userId:b("userId"),sessionId:b("sessionId")},n],canDelete:[{userId:b("userId"),sessionId:b("sessionId")},n],canFavorite:[{userId:b("userId"),sessionId:b("sessionId")},n]};var CGe={args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],props:{sheddable:!1,priority:"p1"},fields:{currentUser:[{userId:b("userId")},{favoritedFiles:[{orgId:x("orgId")},{...qi,file:ee("readableWhiteboardFile",[{userId:b("userId")},{...lr}])}]}]}};var EGe={args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],props:{sheddable:!1,priority:"p1"},fields:{currentUser:[{userId:b("userId")},{favoritedFiles:[{orgId:x("orgId")},{...qi,file:ee("readableFile",[{userId:b("userId")},{...lr}])}],favoritedPrototypes:[{orgId:x("orgId")},{...qi,prototype:ee("readablePrototype",[{userId:b("userId")},{id:n,name:n,fileKey:n,pageId:n,thumbnailUrl:n,thumbnailMeta:n,deleted:n,isFavorited:[{userId:b("userId"),orgId:x("orgId")},n],file:{key:n,name:n,folderId:n,updatedAt:n,projectPath:[{userId:b("userId")},n]}}])}]}]}};var kGe={args:[{name:"fileKey",type:{kind:"string"}}],fields:{file:[{key:x("fileKey"),userId:b("userId")},{...lr,_name:n,branchMetadata:ee("repo",{id:n,sourceFileName:ee("name",n),deletedAt:n,trashedAt:n,sourceFileKey:ee("defaultFileKey",n),hasActiveBranches:n,activeBranches:{key:n,name:n}})}]}};var wGe={props:{sheddable:!1,priority:"p1"},fields:{lastFrameSelection:[{userId:b("userId")},{id:n,fileKey:n,frameId:n,frameName:n}]}};var VO={id:n,path:n,deletedAt:n,description:n,subscription:[{userId:b("userId")},{id:n}],teamId:n,orgId:n,team:{orgId:n},canEdit:[{userId:b("userId")},n]},RGe={args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],props:{sheddable:!1,priority:"p1"},fields:{currentUser:[{userId:b("userId")},{baseOrgUser:[{orgId:x("orgId")},{draftsProject:VO,fileBrowserPreferences:{orderedSidebarSections:n}}],draftsProject:VO,externalRestrictedOrgId:n,teamRoles:{team:{id:n,name:n,deletedAt:n,description:n,imgUrl:n,orgId:n,orgAccess:n,roles:{id:n},currentTeamUser:[{userId:b("userId")},{designPaidStatus:n,whiteboardPaidStatus:n}]}},projectSubscriptions:{projectV2:[{userId:b("userId")},VO]},favoritedProjects:[{orgId:x("orgId")},{...qi,project:ee("readableProject",[{userId:b("userId")},VO])}],userSidebarSections:[{orgId:x("orgId")},{id:n,createdAt:n,name:n,orderedFavoritedResourceIds:n}],fileBrowserPreferences:{orderedSidebarSections:n},hasSharedProjects:[{orgId:x("orgId")},n]}]}};var MGe={props:{sheddable:!1,priority:"p1"},fields:{currentUser:[{userId:b("userId")},{id:n,orgUsers:{id:n,org:[{userId:b("userId")},{id:n,name:n,imgUrl:n,figjamDisabledAt:n}],permission:n,createdAt:n,accountType:n,whiteboardPaidStatus:n},guestOrgUsers:{id:n,org:{id:n,name:n,imgUrl:n,figjamDisabledAt:n},permission:n,createdAt:n,accountType:n,whiteboardPaidStatus:n},teamRoles:{team:{id:n,name:n,deletedAt:n,orgId:n}}}]}};var UGe={props:{sheddable:!1,priority:"p1"},fields:{currentUser:[{userId:b("userId")},{id:n,externalRestrictedOrgId:n,baseOrgUsers:{id:n,org:{id:n,name:n,imgUrl:n,figjamDisabledAt:n},permission:n,createdAt:n,accountType:n,whiteboardPaidStatus:n,devModePaidStatus:n},teamRoles:{team:{id:n,name:n,deletedAt:n,orgId:n}}}]}};var LGe={args:[{name:"projectId",type:{kind:"bigint"}}],props:{sheddable:!1,priority:"p1"},fields:{project:[{id:x("projectId"),userId:b("userId")},{path:n,description:n,subscription:[{userId:b("userId")},{id:n}],teamId:n,orgId:n,canEdit:[{userId:b("userId")},n],files:ee("whiteboardFiles",{...lr})}]}};var NGe={args:[{name:"projectId",type:{kind:"bigint"}}],props:{sheddable:!1,priority:"p1"},fields:{project:[{id:x("projectId"),userId:b("userId")},{path:n,description:n,subscription:[{userId:b("userId")},{id:n}],teamId:n,orgId:n,canEdit:[{userId:b("userId")},n],files:{...lr}}]}};var VGe={props:{sheddable:!1,priority:"p1"},fields:{currentUser:[{userId:b("userId")},{id:n,recentPrototypesByViewTime:{id:n,viewedAt:n,prototype:{id:n,name:n,pageId:n,deleted:n,thumbnailUrl:n,thumbnailMeta:n,file:{...lr}}}}]}};var qGe={args:[{name:"filesPartialInitialPageSize",type:{kind:"int"}}],props:{sheddable:!1,priority:"p1"},fields:{currentUser:[{userId:b("userId")},{sharedProjectRoles:{project:{id:n,path:n,deletedAt:n,team:{orgId:n},description:n,subscription:[{userId:b("userId")},{id:n}],teamId:n,orgId:n,canEdit:[{userId:b("userId")},n],filesPartial:lr}}}]}};var BGe={props:{sheddable:!1,priority:"p1"},fields:{currentUser:[{userId:b("userId")},{id:n,externalRestrictedOrgId:n,baseOrgUsers:{id:n,org:{id:n,name:n,imgUrl:n,figjamDisabledAt:n},permission:n,createdAt:n,accountType:n,whiteboardPaidStatus:n},teamRoles:{team:{id:n,name:n,description:n,imgUrl:n,deletedAt:n,orgId:n,currentTeamUser:[{userId:b("userId")},{designPaidStatus:n,whiteboardPaidStatus:n}]},createdAt:n}}]}};var WGe={args:[{name:"teamId",type:{kind:"bigint"}}],props:{sheddable:!1,priority:"p1"},fields:{currentUser:[{userId:b("userId")},{teamUser:[{teamId:x("teamId")},{favoritedFiles:{...qi,file:ee("readableWhiteboardFile",[{userId:b("userId")},{...lr}])},planlessFavoritedFiles:{...qi,file:ee("readableWhiteboardFile",[{userId:b("userId")},{...lr}])}}]}]}};var QY={id:n,name:n,fileKey:n,pageId:n,thumbnailUrl:n,thumbnailMeta:n,deleted:n,isFavorited:[{userId:b("userId"),orgId:null},n],file:{key:n,name:n,folderId:n,updatedAt:n,projectPath:[{userId:b("userId")},n]}},GGe={args:[{name:"teamId",type:{kind:"bigint"}}],props:{sheddable:!1,priority:"p1"},fields:{currentUser:[{userId:b("userId")},{teamUser:[{teamId:x("teamId")},{favoritedFiles:{...qi,file:ee("readableFile",[{userId:b("userId")},lr])},favoritedPrototypes:{...qi,prototype:ee("readablePrototype",[{userId:b("userId")},QY])},planlessFavoritedFiles:{...qi,file:ee("readableFile",[{userId:b("userId")},lr])},planlessFavoritedPrototypes:{...qi,prototype:ee("readablePrototype",[{userId:b("userId")},QY])}}]}]}};var HGe={args:[{name:"teamId",type:{kind:"bigint"}}],props:{sheddable:!1,priority:"p1"},fields:{team:[{id:x("teamId"),userId:b("userId")},{name:n,description:n,imgUrl:n,orgId:n,currentTeamUser:[{userId:b("userId")},{designPaidStatus:n,whiteboardPaidStatus:n}],projects:ee("allProjects",[{userId:b("userId")},{id:n,path:n,deletedAt:n,description:n,subscription:[{userId:b("userId")},{id:n}],teamId:n,orgId:n,canEdit:[{userId:b("userId")},n],filesPartial:lr}])}]}};var fR={id:n,path:n,deletedAt:n,description:n,subscription:[{userId:b("userId")},{id:n}],teamId:n,orgId:n,team:{orgId:n},canEdit:[{userId:b("userId")},n],filesPartial:lr};var KGe={args:[{name:"teamId",type:{kind:"bigint"}}],props:{sheddable:!1,priority:"p1"},fields:{team:[{id:x("teamId"),userId:b("userId")},{name:n,description:n,imgUrl:n,orgId:n,currentTeamUser:[{userId:b("userId")},{designPaidStatus:n,whiteboardPaidStatus:n,draftsProject:fR}],projects:ee("allProjects",[{userId:b("userId")},fR])}]}};var $Ge={id:n,feedCommentId:n,type:n,mediaType:n,altText:n,thumbnailUrl:n,imageUrl:n,createdAt:n,uploadedAt:n,metadata:{dimensions:{width:n,height:n},thumbnail_dimensions:{width:n,height:n},file_name:n}},ao={id:n,canRead:[{userId:b("userId")},n],publicUuid:n,backgroundColor:n,comments:{id:n,uuid:n,user:{id:n,handle:n,imgUrl:n},messageMeta:{t:n,user:{id:n,handle:n,imgUrl:n},link:n,styles:n,children:{children:{t:n,user:{id:n,handle:n,imgUrl:n},link:n,styles:n}}},createdAt:n,reactions:{id:n,feedResourceType:n,feedResourceId:n,emoji:n,user:{id:n,handle:n,imgUrl:n},createdAt:n},attachments:$Ge},content:ee("processedContentV2",n),createdAt:n,creator:{id:n,handle:n,imgUrl:n},descriptionMeta:{t:n,user:{id:n,handle:n,imgUrl:n},link:n,styles:n,children:{children:{t:n,user:{id:n,handle:n,imgUrl:n},link:n,styles:n}},isHashtag:n},fileKey:n,pollContent:n,reactions:{id:n,feedResourceType:n,feedResourceId:n,emoji:n,user:{id:n,handle:n,imgUrl:n},createdAt:n},title:n,containerId:n,containerTypeEnum:n,org:{id:n,name:n},workspace:{name:n},team:{name:n},project:{path:n}};var zGe={args:[{name:"postId",type:{kind:"bigint"}}],fields:{mobileFeedPost:[{id:x("postId")},{...ao,currentUserIsFollowing:ee("currentUserIsFollowingV2",[{userId:b("userId")},n]),numComments:n,views:{createdAt:n,user:{handle:n,id:n,imgUrl:n}}}]}};var JY={fileBrowserPreferences:{id:n,orderedTeamIds:n,orderedFavoritedResourceIds:n,orderedLicenseGroupIds:n,orderedSidebarSections:n},fileBrowserSectionPreferences:{id:n,sectionType:n,teamId:n,orderedFolderIds:n},orgUsers:{orgId:n,fileBrowserPreferences:{id:n,orgId:n,orderedTeamIds:n,orderedFavoritedResourceIds:n,orderedLicenseGroupIds:n,orderedSidebarSections:n},fileBrowserSectionPreferences:{id:n,orgId:n,sectionType:n,teamId:n,orderedFolderIds:n}}},XY={args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],fields:{currentUser:[{userId:b("userId")},{id:n,...JY,handle:n,email:n,imgUrl:n,name:n,studentValidatedAt:n,projectRoles:{id:n,pending:n,pendingEmail:n,level:n,updatedAt:n,createdAt:n,resourceId:n,resourceType:n,project:{id:n,path:n,orgId:n,teamId:n,subscription:[{userId:b("userId")},{id:n}],updatedAt:n,createdAt:n,deletedAt:n,viewOnlyAt:n,inviteOnlyAt:n,canRead:[{userId:b("userId")},n],canEdit:[{userId:b("userId")},n]}},teamRoles:{id:n,pending:n,pendingEmail:n,level:n,updatedAt:n,createdAt:n,resourceId:n,resourceType:n,team:{id:n,createdAt:n,deletedAt:n,orgId:n,name:n,studentTeamAt:n,studentAutoverifyingTeamAt:n,gracePeriodEnd:n,trialPeriodEnd:n,projectsCount:n,editorsCount:n,subscription:n,restrictionsList:n,orgAccess:n,canRead:[{userId:b("userId")},n],canEdit:[{userId:b("userId")},n],canAdmin:[{userId:b("userId")},n],projects:{id:n,path:n,orgId:n,teamId:n,subscription:[{userId:b("userId")},{id:n}],updatedAt:n,createdAt:n,deletedAt:n,viewOnlyAt:n,inviteOnlyAt:n,canRead:[{userId:b("userId")},n],canEdit:[{userId:b("userId")},n]},experimentSeed:n,experimentAssignments:{experimentId:n,treatmentId:n}}},allOrgUsers:{id:n,orgId:n,userId:n,accountType:n,whiteboardPaidStatus:n,devModePaidStatus:n,permission:n,draftsFolderId:n,updatedAt:n,disabledAt:n,createdAt:n,user:{id:n,name:n,email:n,imgUrl:n,handle:n}}}]}},ZY={args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],fields:{currentUser:[{userId:b("userId")},{id:n,...JY,handle:n,email:n,imgUrl:n,name:n,studentValidatedAt:n,draftsProject:{id:n,path:n,orgId:n,teamId:n,subscription:[{userId:b("userId")},{id:n}],updatedAt:n,createdAt:n,deletedAt:n,viewOnlyAt:n,inviteOnlyAt:n,description:n,ownerRole:{id:n,pending:n,pendingEmail:n,level:n,updatedAt:n,createdAt:n,resourceId:n,resourceType:n}},projectEditRoles:{id:n,pending:n,pendingEmail:n,level:n,updatedAt:n,createdAt:n,resourceId:n,resourceType:n,project:{id:n,path:n,orgId:n,teamId:n,subscription:[{userId:b("userId")},{id:n}],updatedAt:n,createdAt:n,deletedAt:n,viewOnlyAt:n,inviteOnlyAt:n,description:n}},teamRoles:{id:n,pending:n,pendingEmail:n,level:n,updatedAt:n,createdAt:n,resourceId:n,resourceType:n,team:{id:n,createdAt:n,deletedAt:n,name:n,imgUrl:n,restrictionsList:n,subscription:n,studentTeamAt:n,gracePeriodEnd:n,workspaceId:n,currentTeamUser:[{userId:b("userId")},{id:n,draftsFolderId:n,designPaidStatus:n,whiteboardPaidStatus:n}],orgId:n,licenseGroupId:n,trialPeriodEnd:n,orgAccess:n,eduGracePeriod:[{userId:b("userId")},{id:n,isValid:n}]}},teamEditRoles:{id:n,pending:n,pendingEmail:n,level:n,updatedAt:n,createdAt:n,resourceId:n,resourceType:n,team:{id:n,createdAt:n,deletedAt:n,orgId:n,name:n,imgUrl:n,studentTeamAt:n,studentAutoverifyingTeamAt:n,licenseGroupId:n,workspaceId:n,gracePeriodEnd:n,trialPeriodEnd:n,eduGracePeriod:[{userId:b("userId")},{id:n,isValid:n}],projectsCount:n,editorsCount:n,subscription:n,restrictionsList:n,orgAccess:n,projects:{id:n,path:n,orgId:n,teamId:n,subscription:[{userId:b("userId")},{id:n}],updatedAt:n,createdAt:n,deletedAt:n,viewOnlyAt:n,inviteOnlyAt:n,description:n},currentTeamUser:[{userId:b("userId")},{id:n,designPaidStatus:n,whiteboardPaidStatus:n,draftsFolderId:n}],experimentSeed:n,experimentAssignments:{experimentId:n,treatmentId:n}}},allOrgUsers:{id:n,orgId:n,userId:n,accountType:n,whiteboardPaidStatus:n,devModePaidStatus:n,permission:n,draftsFolderId:n,org:{id:n,name:n,imgUrl:n},draftsProject:{id:n,path:n,orgId:n,teamId:n,subscription:[{userId:b("userId")},{id:n}],updatedAt:n,createdAt:n,deletedAt:n,viewOnlyAt:n,inviteOnlyAt:n,description:n,ownerRole:{id:n,pending:n,pendingEmail:n,level:n,updatedAt:n,createdAt:n,resourceId:n,resourceType:n}},updatedAt:n,disabledAt:n,createdAt:n,user:{id:n,name:n,email:n,imgUrl:n,handle:n}}}]}};var eQ={args:[{name:"fileKey",type:{kind:"string"}}],props:{sheddable:!1,priority:"p1"},fields:{file:[{key:x("fileKey"),userId:b("userId")},{key:n,name:n,activeFileUsers:[{},{id:n,handle:n,imageUrl:n}]}]}};var tQ={args:[{name:"orgId",type:{kind:"bigint"}},{name:"actedOnIdOrKey",type:{kind:"string"}},{name:"userId",type:{kind:"bigint"},nullable:!0}],fields:{org:[{id:x("orgId"),userId:b("userId")},{activityLogByActedOnId:[{actedOnIdOrKey:x("actedOnIdOrKey"),userId:x("userId")},{id:n,actorId:n,actor:{name:n,imgUrl:n,email:n},teamId:n,createdAt:n,eventName:n,orgId:n,metadata:n,actedOnType:n,actedOnIdOrKey:n}]}]}};var rQ={args:[{name:"planType",type:{kind:"string"}},{name:"planId",type:{kind:"bigint"}},{name:"sortOrder",type:{kind:"string"},nullable:!0},{name:"filterParams",type:{kind:"string"},nullable:!0},{name:"firstPageSize",type:{kind:"int"},nullable:!0}],props:{sheddable:!0},fields:{adminRequestDashboardRows:[{userId:b("userId"),planType:x("planType"),planId:x("planId"),sortOrder:x("sortOrder"),filterParams:x("filterParams"),firstPageSize:x("firstPageSize")},{id:n,userId:n,request:{message:n,createdAt:n,licenseType:n},user:{name:n,handle:n,imgUrl:n,email:n,profile:{jobTitle:n}}}],adminRequestDashboardRowCount:[{userId:b("userId"),planType:x("planType"),planId:x("planId"),filterParams:x("filterParams")},{rowCount:n}]}};var iQ={args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],props:{sheddable:!1,priority:"p1"},fields:{currentUser:[{userId:b("userId")},{id:n,baseOrgUser:[{orgId:x("orgId")},{workspaceUsers:{id:n,permission:n,workspace:{id:n,name:n,imgUrl:n}}}]}]}};var lo={id:n,currentPluginVersionId:n,publishingStatus:n,isWidget:n,orgId:n,approvedAt:n,approvalStatus:n,communityPublishers:{isPending:n,profile:{id:n,profileHandle:n,user:{id:n,name:n},team:{id:n,name:n},org:{id:n,name:n}},role:n},currentPluginVersion:{id:n,name:n,version:n,releaseNotes:n,description:n,tagline:n,creatorPolicy:n,manifest:n,createdAt:n,iconPath:n,coverImagePath:n,codePath:n,plugin:{currentPluginVersionId:n},iconUrl:n,coverImageUrl:n}};var nQ={args:[{name:"orgId",type:{kind:"bigint"}}],fields:{org:[{userId:b("userId"),id:x("orgId")},{widgetsWhitelistEnforced:n,pluginsWhitelistEnforced:n,publicPluginsAllowed:n,allowlistedPlugins:ee("whitelistedPlugins",{id:n,pluginId:n,plugin:lo,createdAt:n,allowlistGroupType:n,allowlistedOrg:{id:n,name:n},allowlistedWorkspace:{id:n,name:n}})}]}};var sQ={args:[{name:"orgId",type:{kind:"bigint"}}],fields:{org:[{userId:b("userId"),id:x("orgId")},{widgetsWhitelistEnforced:n,pluginsWhitelistEnforced:n,publicPluginsAllowed:n,widgetRequestsAllowed:n,pluginRequestsAllowed:n}]}};var oQ={args:[{name:"fileKey",type:{kind:"string"}}],fields:{file:[{key:x("fileKey"),userId:b("userId")},{defaultColorPaletteData:{colorPaletteUuid:n,colorPalette:{id:n,name:n,baseColors:n,creatorId:n,teamId:n,uuid:n,isTeamDefault:n}},userColorPaletteOverrideData:[{userId:b("userId")},{colorPaletteUuid:n,colorPalette:{id:n,name:n,baseColors:n,creatorId:n,teamId:n,uuid:n,isTeamDefault:n}}]}]}};var aQ={args:[{name:"targetOrgId",type:{kind:"bigint"},nullable:!0},{name:"targetUserId",type:{kind:"bigint"},nullable:!0}],fields:{pluginPreferences:[{currentUserId:b("userId"),targetOrgId:x("targetOrgId"),targetUserId:x("targetUserId")},{autoRunPluginId:n,autoRunBehavior:n,orgId:n,autoRunPlugin:lo}]}};var lQ={args:[{name:"resourceId",type:{kind:"bigint"}},{name:"resourceType",type:{kind:"enum",name:"BillingTrialResourceType"}}],fields:{billingTrialForResource:[{resourceId:x("resourceId"),resourceType:x("resourceType")},{id:n,createdAt:n,updatedAt:n,deactivatedAt:n,trialPeriodStart:n,trialPeriodEnd:n,resourceType:n,resourceId:n,planType:n,metadata:n}]}};var uQ={args:[{name:"resourceId",type:{kind:"bigint"}},{name:"resourceType",type:{kind:"enum",name:"BillingTrialResourceType"}},{name:"planType",type:{kind:"enum",name:"BillingTrialPlanType"}}],fields:{billingTrialForResourceAndPlanType:[{resourceId:x("resourceId"),resourceType:x("resourceType"),planType:x("planType")},{id:n,createdAt:n,updatedAt:n,deactivatedAt:n,trialPeriodStart:n,trialPeriodEnd:n,resourceType:n,resourceId:n,planType:n,metadata:n}]}};var dQ={args:[{name:"fileKey",type:{kind:"string"}}],props:{sheddable:!1,priority:"p1"},fields:{file:[{key:x("fileKey"),userId:b("userId")},{id:n,key:n,name:n,updatedAt:n,teamId:n,folderId:n,editorType:n,canEdit:ee("canEditV2",[{userId:b("userId"),sessionId:b("sessionId")},n]),canView:ee("canViewV2",[{userId:b("userId"),sessionId:b("sessionId")},n]),canViewPrototype:ee("canViewPrototypeV2",[{userId:b("userId"),sessionId:b("sessionId")},n]),hasViewPrototypeRole:[{userId:b("userId")},n],linkAccess:n,protoLinkAccess:n}]}};var cQ={args:[],props:{sheddable:!1,priority:"p1"},fields:{currentUser:[{userId:b("userId")},{userFlags:{id:n,name:n,userId:n,createdAt:n,updatedAt:n}}]}};var pQ={id:n,key:n,fileRepoId:n,branchFileKey:n,reviewNumber:n,title:n,description:n,fileMergeId:n,closedAt:n,requestedAt:n,createdAt:n,owner:{id:n,handle:n,imgUrl:n},reviewers:{id:n,approvedAt:n,changesRequestedAt:n,notes:n,userId:n,user:{id:n,handle:n,imgUrl:n}}},mQ={args:[{name:"branchFileKey",type:{kind:"string"}}],fields:{file:[{key:x("branchFileKey"),userId:b("userId")},{name:n,trashedAt:n,sourceFile:{name:n},fileMerges:{direction:n,mergeResultCheckpointId:n,updatedAt:n,mergeRequest:pQ},openMergeRequest:{id:n,mergeRequest:pQ}}]}};var gQ={args:[{name:"currentOrgId",type:{kind:"bigint"}}],props:{sheddable:!1,priority:"p1"},fields:{currentUser:[{userId:b("userId")},{privilegedOrgUser:[{orgId:x("currentOrgId")},{licenseGroupMember:{licenseGroup:{id:n}},workspaceUsers:{workspaceId:n,isMainWorkspace:n}}],orgAwareTeamRoles:[{orgId:x("currentOrgId")},{team:{id:n}}]}]}};var fQ={args:[{name:"teamId",type:{kind:"bigint"}}],fields:{team:[{id:x("teamId"),userId:b("userId")},{id:n,editorsCount:n,projectsCount:n,editorsWhiteboardCount:n,editorsTotalUniqueCount:n,teamFileCounts:{designFileCount:n,whiteboardFileCount:n},sampledEditors:{designPaidStatus:n,whiteboardPaidStatus:n,user:{id:n,name:n,imgUrl:n,handle:n}}}]}};var bQ={args:[{name:"uuid",type:{kind:"uuid"}}],fields:{colorPaletteForUuid:[{uuid:x("uuid")},{id:n,name:n,baseColors:n,creatorId:n,teamId:n,uuid:n,isTeamDefault:n}]}};var yQ={args:[{name:"teamId",type:{kind:"bigint"}}],fields:{colorPalettesForTeam:[{teamId:x("teamId")},{id:n,teamId:n,name:n,baseColors:n,creatorId:n,uuid:n,isTeamDefault:n}]}};var hQ={args:[{name:"profileId",type:{kind:"bigint"}},{name:"hubFileId",type:{kind:"bigint"},nullable:!0},{name:"pluginId",type:{kind:"bigint"},nullable:!0}],fields:{communityHubLike:[{profileId:x("profileId"),hubFileId:x("hubFileId"),pluginId:x("pluginId")},{id:n}]}};var IQ={props:{sheddable:!0},args:[{name:"hubFileIds",type:{kind:"list",ofType:{kind:"bigint"}}}],fields:{communityLibraryByHubFileIds:[{hubFileIds:x("hubFileIds")},{hubFileId:n,name:n,numComponents:n,numStateGroups:n,numStyles:n,numVariables:n,numVariableSets:n,hubFile:{thumbnailUrl:n}}]}};var xQ={args:[{name:"monetizedResourceMetadataId",type:{kind:"bigint"}}],fields:{communityResourcePayment:[{userId:b("userId"),monetizedResourceMetadataId:x("monetizedResourceMetadataId")},{status:n,subscriptionExpiresAt:n,subscriptionCanceledAt:n,purchasedAt:n,refundReason:n,monetizedResourceMetadataId:n,subscriptionInterval:n}]}};var _Q={args:[{name:"profileId",type:{kind:"bigint"}}],fields:{communityProfile:[{profileId:x("profileId")},{id:n,createdAt:n,updatedAt:n,name:n,profileHandle:n,publicAt:n,website:n,description:n,location:n,coverImagePath:n,twitter:n,instagram:n,followerCount:n,followingCount:n,primaryUserId:n,teamId:n,orgId:n,pronouns:n,entityType:n,currentUser:[{userId:b("userId")},{id:n}],associatedUsers:{id:n,email:n},currentUserIsFollowing:[{userId:b("userId")},n],currentUserIsFollowed:[{userId:b("userId")},n],badges:{badgeType:n}}]}};var vQ={args:[{name:"hubFileId",type:{kind:"bigint"}},{name:"profileId",type:{kind:"bigint"}}],fields:{communityRatingForProfileAndResource:[{pluginId:null,hubFileId:x("hubFileId"),profileId:x("profileId")},{id:n,profileId:n,resourceVersionId:n,hubFileId:n,createdAt:n,editedAt:n,ratingValue:n,message:n,communityMessageMeta:{t:n,profileId:n,link:n,styles:n,children:{children:{t:n,profileId:n,link:n,styles:n}}}}],hubFile:[{id:x("hubFileId"),userId:b("userId")},{canRate:[{userId:b("userId"),profileId:x("profileId")},n]}]}};var OQ={args:[{name:"pluginId",type:{kind:"bigint"}},{name:"profileId",type:{kind:"bigint"}},{name:"orgId",type:{kind:"bigint"},nullable:!0}],fields:{communityRatingForProfileAndResource:[{hubFileId:null,pluginId:x("pluginId"),profileId:x("profileId")},{id:n,profileId:n,resourceVersionId:n,pluginId:n,createdAt:n,editedAt:n,ratingValue:n,message:n,communityMessageMeta:{t:n,profileId:n,link:n,styles:n,children:{children:{t:n,profileId:n,link:n,styles:n}}}}],plugin:[{pluginId:x("pluginId"),userId:b("userId"),orgId:null},{canRate:[{userId:b("userId"),profileId:x("profileId")},n]}]}};var bR={id:n,oneStars:n,twoStars:n,threeStars:n,fourStars:n,fiveStars:n,totalRatings:n,avgRating:n,createdAt:n,updatedAt:n},SQ={args:[{name:"hubFileId",type:{kind:"bigint"},nullable:!0},{name:"pluginId",type:{kind:"bigint"},nullable:!0},{name:"widgetId",type:{kind:"bigint"},nullable:!0}],fields:{communityRatingStatsForHubFile:[{hubFileId:x("hubFileId")},{...bR,hubFileId:n}],communityRatingStatsForWidget:[{widgetId:x("widgetId")},{...bR,widgetId:n}],communityRatingStatsForPlugin:[{pluginId:x("pluginId")},{...bR,pluginId:n}]}};var DQ={args:[{name:"monetizedResourceMetadataId",type:{kind:"bigint"}}],fields:{communityM10nResourceStat:[{sessionUserId:b("userId"),monetizedResourceMetadataId:x("monetizedResourceMetadataId")},{id:n,monetizedResourceMetadataId:n,allTimeTotalEarned:n,monthlyTotalEarned:n,numPurchases:n}]}};var qO={backgroundColor:n,name:n,nodeId:n,pageId:n,pageName:n};var BO={componentKey:n,containingFrame:{...qO,containingStateGroup:{nodeId:n,name:n}},contentHash:n,description:n,description_rt:n,id:n,minNodeHeight:n,minNodeWidth:n,name:n,nodeId:n,thumbnailUrl:n,unpublishedAt:n};var AQ={args:[{name:"key",type:{kind:"string"}}],fields:{component:[{componentKey:x("key"),userId:b("userId")},{...BO,file:{key:n,name:n,teamId:n}}]}};var FQ={args:[{name:"fileKey",type:{kind:"string"}}],fields:{file:[{key:x("fileKey"),userId:b("userId")},{name:n,fileRepoId:n,sourceFileKey:n,key:n,linkAccess:n,protoLinkAccess:n,orgAudience:n,orgBrowsable:n,hasFileLinkPassword:n,hasProtoLinkPassword:n,teamId:n,editorType:n,repo:{name:n,defaultFileKey:n,linkAccess:n,protoLinkAccess:n,orgAudience:n,orgBrowsable:n,hasFileLinkPassword:n,hasProtoLinkPassword:n,teamId:n},org:{id:n,name:n,domainCapture:n,workshopDisabledAt:n,figjamDisabledAt:n,inviteWhitelist:{guestInviteSetting:n},sharedOrgLicenseGroupSetting:{autogenPasswordControls:n,externalCollaborationControls:n,publicLinkControlsSetting:n,publicLinkControlsMaxExpiration:n},bigmaEnabledAt:n},project:[{userId:b("userId")},{path:n,teamId:n,inviteOnlyAt:n}],team:{name:n,canRead:[{userId:b("userId")},n],orgAccess:n}}]}};var PQ={args:[],props:{sheddable:!1,priority:"p1"},fields:{currentUser:[{userId:b("userId")},{id:n,name:n,email:n,recentFiles:[{userId:b("userId")},{id:n,userId:n,action:n,fileKey:n,actionAt:n,file:{id:n,name:n,key:n,editorType:n,parentOrgId:n,deletedAt:n,trashedAt:n,repo:{id:n,name:n,defaultFileKey:n}}}]}]}};var jQ={args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],props:{sheddable:!1,priority:"p1"},fields:{currentUser:[{userId:b("userId")},{baseOrgUser:[{orgId:x("orgId")},{workspaceUsers:{isMainWorkspace:n,workspaceId:n}}]}]}};var TQ={args:[{name:"fileKey",type:{kind:"string"}}],props:{sheddable:!1},fields:{file:[{key:x("fileKey"),userId:b("userId")},{key:n,name:n,team:{workspace:{id:n,name:n}}}]}};var CQ={args:[{name:"currentOrgId",type:{kind:"bigint"},nullable:!0}],props:{sheddable:!1,priority:"p1"},fields:{currentUser:[{userId:b("userId")},{id:n,favoritedFiles:[{orgId:x("currentOrgId")},{id:n,file:ee("readableFile",[{userId:b("userId")},{id:n,key:n}])}],favoritedPrototypes:[{orgId:x("currentOrgId")},{id:n,prototype:ee("readablePrototype",[{userId:b("userId")},{id:n}])}]}]}};var EQ={args:[{name:"key",type:{kind:"string"}},{name:"platform",type:{kind:"string"}}],props:{sheddable:!1,priority:"p1"},fields:{developerCodeSnippet:[{key:x("key"),platform:x("platform")},{id:n,key:n,code_snippet:n,platform:n,updatedAt:n,createdAt:n,last_updated_by:n}]}};var kQ={args:[{name:"key",type:{kind:"string"}}],props:{sheddable:!1,priority:"p1"},fields:{developerLinks:[{key:x("key")},{id:n,key:n,linkName:n,linkUrl:n}]}};var WO={id:n,nodeId:n,fileKey:n,linkName:n,linkUrl:n,linkPreviewJson:n,isUserOverride:n};var wQ={args:[{name:"fileKey",type:{kind:"string"}}],props:{sheddable:!1,priority:"p1"},fields:{file:[{key:x("fileKey"),userId:b("userId")},{developerRelatedLinks:WO}]}};var RQ={args:[{name:"fileKey",type:{kind:"string"}},{name:"nodeId",type:{kind:"string"}}],props:{sheddable:!1,priority:"p1"},fields:{file:[{key:x("fileKey"),userId:b("userId")},{developerRelatedLinksForNode:[{nodeId:x("nodeId")},WO]}]}};var MQ={fields:{currentUser:[{userId:b("userId")},{id:n,draftsFolderId:n,guestBaseOrgUsers:{id:n,orgId:n,draftsFolderId:n}}]}};var UQ={fields:{currentUser:[{userId:b("userId")},{eduPeriodEnd:n}]}};var LQ={args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],fields:{org:[{id:x("orgId"),userId:b("userId")},{bigmaEnabledAt:n,workspaces:{createdAt:n},licenseGroups:{id:n}}]}};var Rp={branchCheckpointId:n,clientMeta:ee("checkpointClientMeta",n),createdAt:n,creatorId:n,deletedAt:n,description:n,editUrl:n,editorType:n,fileRepoId:n,folderId:n,handoffUrl:n,hasFileLinkPassword:n,hasProtoLinkPassword:n,isFavorited:[{userId:b("userId")},n],isTeamTemplate:n,isTryFile:n,key:n,lastPublishedAt:n,license:n,linkAccess:n,name:n,orgAudience:n,orgBrowsable:n,parentOrgId:n,protoLinkAccess:n,prototypeUrl:n,scheme:n,sourceCheckpointId:n,sourceFileKey:n,teamId:n,thumbnailGuid:n,thumbnailUrl:ee("signedThumbnailUrl",n),thumbnailUrlOverride:ee("signedThumbnailUrlOverride",n),touchedAt:n,trackTags:{isTemplate:n,starterLibrarySrcFileKey:n},trashedAt:n,trashedUserId:n,updatedAt:n,url:n,viewerExportRestricted:n,repo:{createdAt:n,defaultFileKey:n,deletedAt:n,folderId:n,id:n,linkAccess:n,name:n,orgAudience:n,orgBrowsable:n,parentOrgId:n,protoLinkAccess:n,teamId:n,trashedAt:n,updatedAt:n}};var NQ={createdAt:n,deletedAt:n,description:n,id:n,isInviteOnly:n,isSubscribed:[{userId:b("userId")},n],isViewOnly:n,isFavorited:[{userId:b("userId")},n],name:n,orgId:n,parentPath:n,path:n,scheme:n,sharingAudienceControl:ee("sharingAudienceControlComputed",n),teamId:n,updatedAt:n,viewOnlyAt:n,roles:{createdAt:n,id:n,isShared:n,level:n,pending:n,pendingEmail:n,resourceId:n,resourceType:n,teamId:n,updatedAt:n,userId:n,user:{handle:n,id:n,imgUrl:n}}};var VQ={args:[{name:"draftsFolderId",type:{kind:"bigint"}},{name:"cursorColumn",type:{kind:"string"}},{name:"sortOrder",type:{kind:"string"}},{name:"firstPageSize",type:{kind:"int"}},{name:"editorType",type:{kind:"enum",name:"EditorType"},nullable:!0}],props:{sheddable:!1},fields:{currentUser:[{userId:b("userId")},{id:n,draftFiles:[{userId:b("userId"),draftsFolderId:x("draftsFolderId"),cursorColumn:x("cursorColumn"),sortOrder:x("sortOrder"),firstPageSize:x("firstPageSize"),editorType:x("editorType")},{id:n,key:n,createdAt:n,updatedAt:n,name:n,file:{...Rp}}]}],project:[{userId:b("userId"),id:x("draftsFolderId")},{...NQ}]}};var qQ={args:[{name:"publicUuid",type:{kind:"uuid"}}],fields:{feedPost:[{publicUuid:x("publicUuid")},{...ao,currentUserIsFollowing:ee("currentUserIsFollowingV2",[{userId:b("userId")},n]),isFollower:[{userId:b("userId")},{id:n}],numComments:n,viewCount:n,views:{createdAt:n,user:{handle:n,id:n,imgUrl:n}}}]}};var BQ={args:[{name:"publicUuid",type:{kind:"uuid"}}],fields:{feedPost:[{publicUuid:x("publicUuid")},{...ao,isFollower:[{userId:b("userId")},{id:n}],viewCount:n,views:{createdAt:n,user:{id:n,handle:n,imgUrl:n}}}]}};var WQ={args:[{name:"fileKey",type:{kind:"string"}}],fields:{file:[{key:x("fileKey"),userId:b("userId")},{feedPosts:ao}]}};var GQ={args:[{name:"currentOrgId",type:{kind:"bigint"},nullable:!0}],fields:{currentUser:[{userId:b("userId")},{feedPosts:[{orgId:x("currentOrgId")},{id:n,createdAt:n}]}]}};var HQ={fields:{currentUser:[{userId:b("userId")},{feedTagFollowers:{id:n,feedTag:{id:n,text:n,numUsages:n,lastUsedAt:n}}}]}};var KQ={args:[{name:"currentOrgId",type:{kind:"bigint"},nullable:!0}],fields:{currentUser:[{userId:b("userId")},{id:n,baseOrgUser:[{orgId:x("currentOrgId")},{fileBrowserPreferences:{migratedToSections:n,sidebarMigrationStatus:n}}]}]}};var $Q={args:[{name:"currentOrgId",type:{kind:"bigint"},nullable:!0}],fields:{currentUser:[{userId:b("userId")},{id:n,recentSearches:[{orgId:x("currentOrgId")},{searches:{query:n,timestamp:n}}]}]}};var od={id:n,path:n,orgId:n,teamId:n,updatedAt:n,createdAt:n,deletedAt:n,viewOnlyAt:n,inviteOnlyAt:n,canEdit:[{userId:b("userId")},n],description:n,team:{orgId:n}},yR={id:n,orgId:n,teamId:n,createdAt:n,updatedAt:n,resourceId:n,sidebarSectionId:n,file:ee("readableFile",[{userId:b("userId")},{id:n,key:n,name:n,fileRepoId:n,editorType:n,folderId:n,teamId:n,hasFileLinkPassword:n,thumbnailUrl:ee("signedThumbnailUrl",n),thumbnailUrlOverride:n,thumbnailGuid:n,clientMeta:n,canView:ee("canViewV2",[{userId:b("userId"),sessionId:b("sessionId")},n]),library:{numComponents:n,numStyles:n,numStateGroups:n,numVariableSets:n},figFileCheckpoint:{checkpointId:n,checkpoint:{clientMeta:n}},repo:{id:n,name:n,createdAt:n,deletedAt:n,trashedAt:n,updatedAt:n,linkAccess:n,protoLinkAccess:n,hasFileLinkPassword:n,hasProtoLinkPassword:n,orgAudience:n,orgBrowsable:n,hasActiveBranches:n},isTeamTemplate:n,project:ee("project",[{userId:b("userId")},od])}])},hR={id:n,orgId:n,teamId:n,createdAt:n,updatedAt:n,resourceId:n,sidebarSectionId:n,prototype:ee("readablePrototype",[{userId:b("userId")},{id:n,name:n,fileKey:n,pageId:n,thumbnailUrl:n,url:n,file:{parentOrgId:n,key:n,name:n,editorType:n,folderId:n,teamId:n,fileRepoId:n,hasProtoLinkPassword:n,protoLinkAccess:n,createdAt:n,trashedAt:n}}])},IR={id:n,orgId:n,teamId:n,createdAt:n,updatedAt:n,resourceId:n,sidebarSectionId:n,project:ee("readableProject",[{userId:b("userId")},{id:n,path:n,orgId:n,teamId:n,updatedAt:n,createdAt:n,deletedAt:n,viewOnlyAt:n,inviteOnlyAt:n,canEdit:[{userId:b("userId")},n],description:n,team:{id:n,name:n,licenseGroup:{name:n},orgId:n,studentTeamAt:n,eduGracePeriod:[{userId:b("userId")},{id:n,isValid:n}],restrictionsList:n,subscription:n,gracePeriodEnd:n,canEdit:[{userId:b("userId")},n],canAdmin:[{userId:b("userId")},n]}}])},zQ={args:[{name:"currentOrgId",type:{kind:"bigint"},nullable:!0},{name:"currentTeamId",type:{kind:"bigint"},nullable:!0}],props:{sheddable:!1,priority:"p1"},fields:{currentUser:[{userId:b("userId")},{id:n,fileBrowserPreferences:{id:n,migratedToSections:n,orderedTeamIds:n,orderedFavoritedResourceIds:n,orderedLicenseGroupIds:n,orderedSidebarSections:n},fileBrowserSectionPreferences:{id:n,sectionType:n,teamId:n,orderedFolderIds:n},privilegedOrgUser:[{orgId:x("currentOrgId")},{draftsProject:od,fileBrowserPreferences:{id:n,orgId:n,orderedTeamIds:n,orderedFavoritedResourceIds:n,orderedLicenseGroupIds:n,orderedSidebarSections:n},fileBrowserSectionPreferences:{id:n,orgId:n,sectionType:n,teamId:n,orderedFolderIds:n},licenseGroupMember:{licenseGroup:{id:n,name:n,createdAt:n}}}],baseOrgUser:[{orgId:x("currentOrgId")},{draftsProject:od,fileBrowserPreferences:{id:n,orgId:n,migratedToSections:n,sidebarMigrationStatus:n,orderedTeamIds:n,orderedFavoritedResourceIds:n,orderedLicenseGroupIds:n,orderedSidebarSections:n},fileBrowserSectionPreferences:{id:n,orgId:n,sectionType:n,teamId:n,orderedFolderIds:n},licenseGroupMember:{licenseGroup:{id:n,name:n,createdAt:n}},workspaceUsers:{workspaceId:n,isMainWorkspace:n}}],currentTeamUser:[{teamId:x("currentTeamId")},{draftsProject:od,favoritedFiles:yR,favoritedPrototypes:hR,favoritedProjects:IR,planlessFavoritedFiles:yR,planlessFavoritedPrototypes:hR,planlessFavoritedProjects:IR,fileBrowserPreferences:{id:n,teamId:n,migratedToSections:n,sidebarMigrationStatus:n,orderedFavoritedResourceIds:n,orderedSidebarSections:n,orderedLicenseGroupIds:n,orderedTeamIds:n}}],draftsProject:od,sharedProjectRoles:{project:od},projectSubscriptions:{id:n,projectV2:[{userId:b("userId")},od]},teamRoles:{id:n,pending:n,pendingEmail:n,level:n,updatedAt:n,createdAt:n,resourceId:n,resourceType:n,team:{id:n,createdAt:n,deletedAt:n,orgId:n,name:n,imgUrl:n,studentTeamAt:n,licenseGroupId:n,licenseGroup:{id:n,name:n,createdAt:n},studentAutoverifyingTeamAt:n,gracePeriodEnd:n,trialPeriodEnd:n,projectsCount:n,editorsCount:n,subscription:n,restrictionsList:n,orgAccess:n,canEdit:[{userId:b("userId")},n],canAdmin:[{userId:b("userId")},n],eduGracePeriod:[{userId:b("userId")},{id:n,isValid:n}],workspaceId:n,workspace:{id:n,name:n,mirroringLicenseGroup:{id:n}}}},favoritedFiles:[{orgId:x("currentOrgId")},yR],favoritedPrototypes:[{orgId:x("currentOrgId")},hR],favoritedProjects:[{orgId:x("currentOrgId")},IR],favoritedTeams:[{orgId:x("currentOrgId")},{id:n,orgId:n,createdAt:n,updatedAt:n,resourceId:n,sidebarSectionId:n,team:[{userId:b("userId")},{id:n,orgId:n,name:n,deletedAt:n,imgUrl:n,licenseGroup:{name:n}}]}],favoritedWorkspaces:[{orgId:x("currentOrgId")},{id:n,orgId:n,createdAt:n,updatedAt:n,resourceId:n,sidebarSectionId:n,licenseGroup:{id:n,name:n,createdAt:n},workspace:{id:n,name:n,imgUrl:n,canRead:[{userId:b("userId")},n],mirroringLicenseGroup:{id:n}}}],userSidebarSections:[{orgId:x("currentOrgId")},{id:n,createdAt:n,name:n,orderedFavoritedResourceIds:n}]}]}};var Fl={branchCheckpointId:n,checkpointId:n,checkpointKey:n,clientMeta:ee("checkpointClientMeta",n),createdAt:n,creatorId:n,deletedAt:n,description:n,editUrl:n,editorType:n,fileRepoId:n,folderId:n,handoffUrl:n,hasFileLinkPassword:n,hasProtoLinkPassword:n,isTryFile:n,key:n,lastPublishedAt:n,license:n,linkAccess:n,name:n,orgAudience:n,orgBrowsable:n,parentOrgId:n,protoLinkAccess:n,prototypeUrl:n,scheme:n,sourceCheckpointId:n,sourceFileKey:n,teamId:n,thumbnailGuid:n,thumbnailUrl:ee("signedThumbnailUrl",n),thumbnailUrlOverride:ee("signedThumbnailUrlOverride",n),touchedAt:n,trackTags:{isTemplate:n,starterLibrarySrcFileKey:n},trashedAt:n,trashedUserId:n,updatedAt:n,url:n,viewerExportRestricted:n};var YQ={args:[{name:"fileKey",type:{kind:"string"}}],fields:{file:[{key:x("fileKey"),userId:b("userId")},{id:n,key:n,canEdit:ee("canEditV2",[{userId:b("userId"),sessionId:b("sessionId")},n]),canRead:ee("canReadV2",[{userId:b("userId"),sessionId:b("sessionId")},n]),canViewPrototype:ee("canViewPrototypeV2",[{userId:b("userId"),sessionId:b("sessionId")},n]),hasViewPrototypeRole:[{userId:b("userId")},n],hasEditRole:[{userId:b("userId")},n],project:[{userId:b("userId")},{id:n,path:n}]}]}},QQ={args:[{name:"fileKey",type:{kind:"string"}}],fields:{file:[{key:x("fileKey"),userId:b("userId")},{...Fl}]}};var YGe={id:n,userId:n,fileKey:n,createdAt:n,allReadAt:n,readCanvasMentions:n,unreadCanvasMentions:n},JQ={args:[{name:"fileKey",type:{kind:"string"}}],fields:{file:[{key:x("fileKey"),userId:b("userId")},{fileCanvasMentions:[{userId:b("userId")},{id:n,fileKey:n,mentionedByUser:{id:n,handle:n,imgUrl:n},lastEditedByUser:{id:n,handle:n,imgUrl:n},messageMeta:{t:n,user:{id:n,handle:n,imgUrl:n},link:n,styles:n,children:{children:{t:n,user:{id:n,handle:n,imgUrl:n},link:n,styles:n}}},createdAt:n,editedAt:n,thumbnailUrl:n,nodeIdPath:n}],currentUserFileCanvasMentionReadStatus:[{userId:b("userId")},YGe]}]}};var XQ={args:[{name:"fileKey",type:{kind:"string"}}],fields:{file:[{key:x("fileKey"),userId:b("userId")},{key:n,name:n,team:{id:n,name:n,workspace:{id:n,name:n}}}]}};var ZQ={args:[{name:"fileKey",type:{kind:"string"}}],props:{sheddable:!1,priority:"p1"},fields:{file:[{key:x("fileKey"),userId:b("userId")},{id:n,key:n,fileRoleRequests:{id:n}}]}};var eJ={args:[{name:"figFileKey",type:{kind:"string"}}],props:{sheddable:!1,priority:"p1"},fields:{figFileLinkExpirationConfig:[{figFileKey:x("figFileKey")},{id:n,expiresAt:n,accessReverted:n}],file:[{key:x("figFileKey"),userId:b("userId")},{id:n,key:n,name:n,hasViewPrototypeRole:[{userId:b("userId")},n]}]}};var tJ={args:[{name:"fileKey",type:{kind:"string"}}],fields:{file:[{key:x("fileKey"),userId:b("userId")},{org:{cursorChatDisabledAt:n,voiceDisabledAt:n,widgetsWhitelistEnforced:n,pluginsWhitelistEnforced:n}}]}};var rJ={args:[{name:"fileKey",type:{kind:"string"}}],props:{sheddable:!0,priority:"p2"},fields:{file:[{key:x("fileKey"),userId:b("userId")},{canDelete:[{userId:b("userId"),sessionId:b("sessionId")},n]}]}};var xR={userId:n,level:n,pending:n},Mp={id:n,pending:n,pendingEmail:n,level:n,updatedAt:n,createdAt:n,resourceId:n,resourceType:n,userId:n,user:{id:n,handle:n,imgUrl:n,name:n,orgUser:[{orgId:x("currentOrgId")},{id:n,userId:n,accountType:n,permission:n,whiteboardPaidStatus:n}],guestOrgUser:[{orgId:x("currentOrgId")},{id:n,userId:n,accountType:n,permission:n,whiteboardPaidStatus:n}],teamUser:[{teamId:x("teamId")},{id:n,userId:n,teamId:n,designPaidStatus:n,whiteboardPaidStatus:n}]}};var Up={id:n,requesterUserId:n,status:n,level:n,requesterUser:{id:n,handle:n,imgUrl:n,email:n}};var GO={id:n,updatedAt:n,viewedOn:n,createdAt:n,fileKey:n,user:{id:n,handle:n,imgUrl:n,name:n}};var iJ={args:[{name:"fileKey",type:{kind:"string"}},{name:"projectId",type:{kind:"string"},nullable:!0},{name:"teamId",type:{kind:"string"},nullable:!0},{name:"repoId",type:{kind:"string"},nullable:!0},{name:"currentOrgId",type:{kind:"bigint"},nullable:!0}],props:{sheddable:!1,priority:"p1"},fields:{currentUser:[{userId:b("userId")},{id:n,allOrgUsers:{orgId:n,org:{id:n}}}],org:[{userId:b("userId"),id:x("currentOrgId")},{id:n,domainCapture:n,inviteWhitelist:{guestInviteSetting:n}}],file:[{key:x("fileKey"),userId:b("userId")},{canEdit:ee("canEditV2",[{userId:b("userId"),sessionId:b("sessionId")},n]),canRead:ee("canReadV2",[{userId:b("userId"),sessionId:b("sessionId")},n]),canView:ee("canViewV2",[{userId:b("userId"),sessionId:b("sessionId")},n]),canViewPrototype:ee("canViewPrototypeV2",[{userId:b("userId"),sessionId:b("sessionId")},n]),hasViewPrototypeRole:[{userId:b("userId")},n],hasEditRole:[{userId:b("userId")},n],clientMeta:n,createdAt:n,creator:{id:n},deletedAt:n,description:n,editorType:n,fileRepoId:n,folderId:n,key:n,license:n,linkAccess:n,name:n,org:{id:n,name:n,domainCapture:n,workshopDisabledAt:n,inviteWhitelist:{guestInviteSetting:n},currentOrgUser:[{userId:b("userId")},{id:n,permission:n,licenseGroupMember:{licenseGroupId:n}}],sharedOrgLicenseGroupSetting:{externalCollaborationControls:n,publicLinkControlsSetting:n,publicLinkControlsMaxExpiration:n}},orgAudience:n,orgBrowsable:n,parentOrgId:n,project:[{userId:b("userId")},{id:n,path:n,teamId:n,viewOnlyAt:n,inviteOnlyAt:n,orgDraftsFolderOwner:{id:n,accountType:n,whiteboardPaidStatus:n,userId:n,user:{id:n,handle:n,imgUrl:n,name:n}}}],repo:{id:n,name:n,teamId:n,folderId:n,defaultFileKey:n,updatedAt:n,createdAt:n,deletedAt:n,trashedAt:n,linkAccess:n,roles:Mp,protoLinkAccess:n,orgBrowsable:n,orgAudience:n,parentOrgId:n,canEdit:ee("canEditV2",[{userId:b("userId"),sessionId:b("sessionId")},n]),roleOnObjectForUser:[{userId:b("userId")},{id:n,isOwnerOfResource:n}]},roles:Mp,fileRoleRequests:Up,fileSeenStates:GO,protoLinkAccess:n,roleOnObjectForUser:[{userId:b("userId")},{id:n,isOwnerOfResource:n}],sourceFileKey:n,teamId:n,team:{id:n,name:n,studentTeamAt:n,subscription:n,trialPeriodEnd:n,gracePeriodEnd:n,canRead:[{userId:b("userId")},n]},thumbnailGuid:n,thumbnailUrl:ee("signedThumbnailUrl",n),thumbnailUrlOverride:n,trashedAt:n,trashedUser:{id:n,handle:n},trackTags:{isTemplate:n,starterLibrarySrcFileKey:n},updatedAt:n,viewerExportRestrictedAt:n}]}};var nJ={id:n,setByUser:{id:n,handle:n,imgUrl:n,name:n},expiresAt:n,prevPrivateLinkAccess:n,prevPrivateProtoLinkAccess:n,prevOrgBrowsable:n,accessReverted:n},sJ={args:[{name:"fileKey",type:{kind:"string"}},{name:"projectId",type:{kind:"string"},nullable:!0},{name:"teamId",type:{kind:"string"},nullable:!0},{name:"repoId",type:{kind:"string"},nullable:!0},{name:"currentOrgId",type:{kind:"bigint"},nullable:!0}],props:{sheddable:!1,priority:"p1"},fields:{currentUser:[{userId:b("userId")},{id:n,handle:n,imgUrl:n,name:n,allBaseOrgUsers:{orgId:n,org:{id:n}}}],org:[{userId:b("userId"),id:x("currentOrgId")},{id:n,domainCapture:n,inviteWhitelist:{guestInviteSetting:n},figjamDisabledAt:n,sharedOrgLicenseGroupSetting:{externalCollaborationControls:n,autogenPasswordControls:n,publicLinkControlsSetting:n,publicLinkControlsMaxExpiration:n},bigmaEnabledAt:n}],file:[{key:x("fileKey"),userId:b("userId")},{canEdit:ee("canEditV2",[{userId:b("userId"),sessionId:b("sessionId")},n]),canEditCanvas:[{userId:b("userId"),sessionId:b("sessionId")},n],canRead:ee("canReadV2",[{userId:b("userId"),sessionId:b("sessionId")},n]),canView:ee("canViewV2",[{userId:b("userId"),sessionId:b("sessionId")},n]),canViewPrototype:ee("canViewPrototypeV2",[{userId:b("userId"),sessionId:b("sessionId")},n]),hasViewPrototypeRole:[{userId:b("userId")},n],hasEditRole:[{userId:b("userId")},n],hasViewRole:[{userId:b("userId")},n],clientMeta:n,createdAt:n,creator:{id:n},deletedAt:n,description:n,editorType:n,fileRepoId:n,folderId:n,publishedHubFile:{id:n,unpublishedAt:n},isTryFile:n,key:n,license:n,linkAccess:n,name:n,org:{id:n,name:n,domainCapture:n,workshopDisabledAt:n,figjamDisabledAt:n,inviteWhitelist:{guestInviteSetting:n},sharedOrgLicenseGroupSetting:{externalCollaborationControls:n,autogenPasswordControls:n,publicLinkControlsSetting:n,publicLinkControlsMaxExpiration:n},currentPrivilegedOrgUser:[{userId:b("userId")},{id:n,permission:n,licenseGroupMember:{licenseGroupId:n}}],currentBaseOrgUser:[{userId:b("userId")},{id:n,permission:n,licenseGroupMember:{licenseGroupId:n},designPaidStatus:n,whiteboardPaidStatus:n}],orgDomains:{id:n,domain:n,orgId:n,createdAt:n,googleSsoOnlyAt:n,samlSsoOnlyAt:n},bigmaEnabledAt:n},orgAudience:n,orgBrowsable:n,parentOrgId:n,project:[{userId:b("userId")},{id:n,path:n,teamId:n,viewOnlyAt:n,inviteOnlyAt:n,orgDraftsFolderOwnerBaseOrgUser:{id:n,accountType:n,whiteboardPaidStatus:n,devModePaidStatus:n,userId:n,user:{id:n,handle:n,imgUrl:n,name:n}},roles:xR}],repo:{id:n,name:n,teamId:n,folderId:n,defaultFileKey:n,updatedAt:n,createdAt:n,deletedAt:n,trashedAt:n,linkAccess:n,roles:Mp,protoLinkAccess:n,orgBrowsable:n,orgAudience:n,parentOrgId:n,canEdit:ee("canEditV2",[{userId:b("userId"),sessionId:b("sessionId")},n]),roleOnObjectForUser:[{userId:b("userId")},{id:n,isOwnerOfResource:n}],hasFileLinkPassword:n,hasProtoLinkPassword:n,hasActiveBranches:n},roles:ee("readableRoles",[{userId:b("userId")},Mp]),fileRoleRequests:Up,fileSeenStates:GO,protoLinkAccess:n,roleOnObjectForUser:[{userId:b("userId")},{id:n,isOwnerOfResource:n}],sourceFileKey:n,teamId:n,team:{id:n,name:n,studentTeamAt:n,subscription:n,trialPeriodEnd:n,gracePeriodEnd:n,canRead:[{userId:b("userId")},n],orgAccess:n,roles:xR,workspaceSharedSetting:{autogenPasswordControls:n,publicLinkControlsSetting:n,publicLinkControlsMaxExpiration:n,externalCollaborationControls:n}},thumbnailGuid:n,thumbnailUrl:ee("signedThumbnailUrl",n),thumbnailUrlOverride:n,trashedAt:n,trashedUser:{id:n,handle:n},trackTags:{isTemplate:n,starterLibrarySrcFileKey:n},updatedAt:n,viewerExportRestrictedAt:n,hasFileLinkPassword:n,hasProtoLinkPassword:n,pwdConfig:{id:n,setByUser:{id:n,handle:n,imgUrl:n,name:n},updatedAt:n},fileLinkExpirationConfig:nJ,sourceFileLinkExpirationConfig:nJ}]}};var _R={pending:n,user:{id:n,email:n,handle:n,imgUrl:n}},oJ={args:[{name:"fileKey",type:{kind:"string"}}],fields:{file:[{key:x("fileKey"),userId:b("userId")},{id:n,roles:{..._R},project:[{userId:b("userId")},{inviteOnlyAt:n,roles:{..._R}}],team:{roles:{..._R}}}]}};var aJ={args:[{name:"fileKey",type:{kind:"string"}}],props:{sheddable:!1,priority:"p1"},fields:{file:[{key:x("fileKey"),userId:b("userId")},{id:n,key:n,presenter:{id:n,fileKey:n,presenterExists:n,userId:n,handle:n,imageURL:n,color:n}}]}};var lJ={args:[{name:"projectId",type:{kind:"bigint"}}],props:{sheddable:!1,priority:"p1"},fields:{project:[{id:x("projectId"),userId:b("userId")},{path:n}]}};var uJ={args:[{name:"fileKey",type:{kind:"string"}}],fields:{file:[{key:x("fileKey"),userId:b("userId")},{template:{id:n,fileKey:n,fileVersionId:n,name:n,description:n,publishScope:n,orgId:n,licenseGroupId:n,workspaceId:n,teamId:n,publishedByUserId:n,unpublishedAt:n,createdAt:n,updatedAt:n,publishedByUser:ee("publishedByUserNullable",{handle:n,imgUrl:n,name:n})}}]}};var HO={canView:ee("canViewV2",[{userId:b("userId"),sessionId:b("sessionId")},n]),canEdit:ee("canEditV2",[{userId:b("userId"),sessionId:b("sessionId")},n]),canRename:[{userId:b("userId"),sessionId:b("sessionId")},n],canDelete:[{userId:b("userId"),sessionId:b("sessionId")},n],canManage:[{userId:b("userId")},n],canFavorite:[{userId:b("userId"),sessionId:b("sessionId")},n],isFavorited:[{userId:b("userId")},n],isTrashed:n,folderId:n,viewerExportRestricted:n,isTeamTemplate:n,project:[{userId:b("userId")},{canView:ee("canRead",[{userId:b("userId")},n]),canEdit:[{userId:b("userId")},n]}]};var dJ={args:[{name:"fileKey",type:{kind:"string"}}],fields:{file:[{key:x("fileKey"),userId:b("userId")},{id:n,...HO}]}};var cJ={args:[{name:"fileKey",type:{kind:"string"}}],fields:{file:[{key:x("fileKey"),userId:b("userId")},{fileVersions:{id:n,label:n,description:n,view:n,updatedAt:n,user:{id:n,imgUrl:n,name:n,handle:n},checkpoint:{key:n,createdAt:n}}}]}};var pJ={id:n,uuid:n,key:n,orderId:n,parentId:n,createdAt:n,resolvedAt:n,user:{id:n,handle:n,imgUrl:n},clientMeta:{x:n,y:n,nodeId:n,pageId:n,nodeOffset:{x:n,y:n},inFrame:n,selectionBoxAnchor:{x:n,y:n},stablePath:n},messageMetaStylized:{t:n,user:{id:n,handle:n,imgUrl:n},link:n,styles:n,children:{children:{t:n,user:{id:n,handle:n,imgUrl:n},link:n,styles:n}}},commentPin:{id:n},messageMeta:{t:n,user:{id:n,handle:n,imgUrl:n}}},mJ={id:n,fileKey:n,fileCommentId:n,type:n,mediaType:n,altText:n,thumbnailUrl:n,imageUrl:n,createdAt:n,uploadedAt:n,metadata:{file_name:n,dimensions:{width:n,height:n},thumbnail_dimensions:{width:n,height:n}}},gJ={id:n,fileKey:n,fileCommentId:n,emoji:n,userId:n,user:{id:n,handle:n,imgUrl:n},createdAt:n,sortTimestamp:n},fJ={id:n,unreadComments:n,key:n,notificationPreference:n},bJ={id:n,userId:n,fileKey:n,createdAt:n,allReadAt:n,readComments:n,unreadComments:n},yJ={args:[{name:"fileKey",type:{kind:"string"}}],fields:{file:[{key:x("fileKey"),userId:b("userId")},{id:n,comments:ee("unresolvedComments",pJ),commentAttachments:mJ,reactions:gJ,currentUserFileFollower:[{userId:b("userId")},fJ],currentUserCommentReadStatus:[{userId:b("userId")},bJ]}]}},hJ={args:[{name:"fileKey",type:{kind:"string"}},{name:"rootId",type:{kind:"bigint"}}],fields:{file:[{key:x("fileKey"),userId:b("userId")},{name:n,mobileCommentThread:[{rootId:x("rootId")},{...pJ,reactions:gJ,attachments:mJ,thumbnailUrl:n}],currentUserCommentReadStatus:[{userId:b("userId")},bJ],currentUserFileFollower:[{userId:b("userId")},fJ],org:{id:n,currentOrgUser:[{userId:b("userId")},{id:n,permission:n}]},team:{id:n}}]}};var IJ={args:[{name:"teamId",type:{kind:"bigint"}},{name:"updatedAtTimestamp",type:{kind:"datetime"}}],props:{sheddable:!1,priority:"p2"},fields:{team:[{id:x("teamId"),userId:b("userId")},{fileUpdates:[{updatedAtTimestamp:x("updatedAtTimestamp")},{...Fl}]}]}};var xJ={args:[{name:"projectId",type:{kind:"bigint"}},{name:"updatedAtTimestamp",type:{kind:"datetime"}}],props:{sheddable:!1,priority:"p2"},fields:{project:[{id:x("projectId"),userId:b("userId")},{fileUpdates:[{updatedAtTimestamp:x("updatedAtTimestamp")},{...Fl}]}]}};var _J={args:[{name:"repoId",type:{kind:"bigint"}}],props:{sheddable:!1,priority:"p2"},fields:{repo:[{id:x("repoId"),userId:b("userId")},{files:{...Fl}}]}};var vJ={args:[{name:"teamId",type:{kind:"bigint"}}],props:{sheddable:!1},fields:{team:[{id:x("teamId"),userId:b("userId")},{name:n}]}};var KO={id:n,updatedAt:n,createdAt:n,path:n,description:n,deletedAt:n,viewOnlyAt:n,orgId:n,teamId:n,parentPath:n,name:n,isInviteOnly:n,isViewOnly:n,isSubscribed:[{userId:b("userId")},n]};var OJ={args:[{name:"teamId",type:{kind:"bigint"}}],props:{sheddable:!1,priority:"p2"},fields:{team:[{id:x("teamId"),userId:b("userId")},{allProjects:[{userId:b("userId")},{...KO}]}]}};var SJ={args:[{name:"fileKey",type:{kind:"string"}}],props:{sheddable:!1,priority:"p1"},fields:{file:[{key:x("fileKey"),userId:b("userId")},{id:n,key:n,prototypeLibCppConfig:{id:n,shouldLoad:n}}]}};var DJ={args:[{name:"fileKey",type:{kind:"string"}}],props:{sheddable:!1,priority:"p1"},fields:{file:[{key:x("fileKey"),userId:b("userId")},{id:n,key:n,fileRoleRequests:Up}]}};var AJ={args:[{name:"fileKey",type:{kind:"string"}}],props:{sheddable:!1,priority:"p1"},fields:{figFileWorkshopMode:[{fileKey:x("fileKey")},{id:n,expiresAt:n}]}};var $O={id:n,orgId:n,permission:n,draftsFolderId:n,createdAt:n,updatedAt:n,disabledAt:n,accountType:n,accountTypeChangedAt:n,description:n,userStateChangedAt:n,whiteboardPaidStatus:n,agreedToCommunityTosAt:n,showFigjamUserOnboarding:n,hasShownFigjamAdminOnboarding:n,hasShownFigjamAdminLaunchOnboarding:n,devModePaidStatus:n,designPaidStatus:n,userId:n,user:{id:n,email:n,emailValidatedAt:n,handle:n,imgUrl:n},licenseGroupMember:{id:n,licenseGroupId:n,orgUserId:n,createdAt:n,updatedAt:n,assignedAt:n,updateReason:n,actorUserId:n},licenseGroupAdmins:{id:n,licenseGroupId:n,orgUserId:n},workspaceUsers:{id:n,orgUserId:n,workspaceId:n,permission:n,createdAt:n,updatedAt:n,assignedAt:n,updateReason:n,actorUserId:n,isMainWorkspace:n,uuid:n}};var FJ={args:[],props:{sheddable:!1,priority:"p1"},fields:{currentUser:[{userId:b("userId")},{id:n,name:n,email:n,recentFiles:[{userId:b("userId")},{actionAt:n,file:{...Rp,orgDraftsFolderOwnerBaseOrgUser:{...$O}}}]}]}};var PJ={args:[],props:{sheddable:!1,priority:"p1"},fields:{currentUser:[{userId:b("userId")},{id:n,recentPrototypesByViewTime:{id:n,viewedAt:n,prototype:{deleted:n,fileKey:n,id:n,name:n,pageId:n,thumbnailMeta:n,thumbnailUrl:n,url:n,file:{...Rp,orgDraftsFolderOwnerBaseOrgUser:{...$O}}}}}]}};var jJ={args:[{name:"projectId",type:{kind:"string"}}],props:{sheddable:!1,priority:"p1"},fields:{project:[{id:x("projectId"),userId:b("userId")},{org:{id:n,name:n,domainCapture:n,figjamDisabledAt:n,inviteWhitelist:{guestInviteSetting:n},currentBaseOrgUser:[{userId:b("userId")},{id:n,permission:n,designPaidStatus:n,whiteboardPaidStatus:n}],orgDomains:{id:n,domain:n,orgId:n,createdAt:n,googleSsoOnlyAt:n,samlSsoOnlyAt:n},imgUrl:n},team:{id:n,name:n,org:{id:n,name:n,domainCapture:n,figjamDisabledAt:n,inviteWhitelist:{guestInviteSetting:n},currentBaseOrgUser:[{userId:b("userId")},{id:n,permission:n,designPaidStatus:n,whiteboardPaidStatus:n}],orgDomains:{id:n,domain:n,orgId:n,createdAt:n,googleSsoOnlyAt:n,samlSsoOnlyAt:n},imgUrl:n},currentTeamUser:[{userId:b("userId")},{id:n,designPaidStatus:n,whiteboardPaidStatus:n}],canAdmin:[{userId:b("userId")},n]},sharingAudienceControl:ee("sharingAudienceControlComputed",n),teamAccess:n,canEdit:[{userId:b("userId")},n],isOwner:[{userId:b("userId")},n],canRead:[{userId:b("userId")},n]}]}};var TJ={args:[{name:"teamId",type:{kind:"bigint"}}],props:{sheddable:!1,priority:"p1"},fields:{team:[{id:x("teamId"),userId:b("userId")},{name:n,imgUrl:n,studentTeamAt:n,gracePeriodEnd:n,subscription:n,restrictionsList:n,canAdmin:[{userId:b("userId")},n],canEdit:[{userId:b("userId")},n],sharingAudienceControl:n,org:{id:n,name:n,domainCapture:n,inviteWhitelist:{guestInviteSetting:n},currentBaseOrgUser:[{userId:b("userId")},{id:n,permission:n}],orgDomains:{id:n,domain:n,orgId:n,createdAt:n,googleSsoOnlyAt:n,samlSsoOnlyAt:n},imgUrl:n}}]}};var CJ={args:[{name:"hubFileId",type:{kind:"bigint"}}],fields:{hubFile:[{id:x("hubFileId"),userId:b("userId")},{id:n,createdAt:n,unpublishedAt:n,publishingStatusUpdatedAt:n,contentVerifiedAt:n,contentBlockedAt:n,profileId:n,currentHubFileVersionId:n,publishingStatus:n,currentHubFileVersion:{id:n,name:n},duplicateCount:n,likeCount:n,viewCount:n,viewerMode:n,monetizedResourceMetadataId:n}]}};var EJ={installedPlugins:{id:n,pluginId:n,pinnedStatus:n,createdAt:n,plugin:[{userId:b("userId"),orgId:x("orgId")},{id:n,currentPluginVersionId:n,publishingStatus:n,isWidget:n,orgId:n,approvedAt:n,approvalStatus:n,communityPublishers:{isPending:n,profile:{id:n,profileHandle:n,user:{id:n,name:n},team:{id:n,name:n},org:{id:n,name:n}},role:n},currentPluginVersion:{id:n,name:n,version:n,releaseNotes:n,description:n,tagline:n,creatorPolicy:n,manifest:n,createdAt:n,iconPath:n,coverImagePath:n,codePath:n,plugin:{currentPluginVersionId:n}},viewableInEditor:[{userId:b("userId"),orgId:x("orgId")},n]}]}},kJ={args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],props:{sheddable:!1,priority:"p1"},fields:{currentUser:[{userId:b("userId")},EJ],org:[{userId:b("userId"),id:x("orgId")},EJ]}};var wJ={args:[{name:"deviceType",type:{kind:"enum",name:"DeviceType"}}],fields:{latestClipboardData:[{userId:b("userId"),deviceType:x("deviceType")},{id:n,deviceType:n,timestamp:n,presignedDownloadUrl:n}]}};var RJ={args:[{name:"fileKey",type:{kind:"string"}}],fields:{file:[{key:x("fileKey"),userId:b("userId")},{stylesWithLegacySourceAssets:{key:n,legacySourceAsset:{key:n}}}]}};var MJ={id:n,name:n};var Pl={checkpoint:{key:n},variableThumbnailsUrl:n,modes:MJ,version:n,description:n,id:n,key:n,name:n,nodeId:n,unpublishedAt:n};var vR={version:n,description:n,id:n,key:n,name:n,nodeId:n,unpublishedAt:n,variableType:n,sortPosition:n,scopes:n},zO={...vR,variableCollection:{key:n,version:n,nodeId:n,checkpoint:{key:n}}};var Lp={...Pl,variables:zO};var YO={containingFrame:qO,defaultStateKey:n,description:n,description_rt:n,id:n,key:n,minNodeHeight:n,minNodeWidth:n,name:n,nodeId:n,thumbnailUrl:n,version:n,unpublishedAt:n};var OR={checkpoint:{key:n},contentHash:n,description:n,description_rt:n,id:n,key:n,meta:n,nodeId:n,sortPosition:n,styleType:n,thumbnailUrl:n},jl={...OR,name:n,unpublishedAt:n,movedByFigma:n};var UJ={args:[{name:"fileKey",type:{kind:"string"}}],fields:{file:[{key:x("fileKey"),userId:b("userId")},{key:n,name:n,teamId:n,library:{numComponents:n,numStateGroups:n,numStyles:n,numStylesFill:n,numStylesText:n,numStylesEffect:n,numStylesGrid:n,numVariableSets:n,numVariables:n,numVariablesBoolean:n,numVariablesColor:n,numVariablesFloat:n,numVariablesString:n},variableCollections:Lp,libraryHierarchyPaths:{pageName:n,containingFrameName:n,nameHierarchyPath:n,components:BO,stateGroups:YO,styles:jl}}]}};var LJ={args:[{name:"projectId",type:{kind:"bigint"}}],fields:{project:[{id:x("projectId"),userId:b("userId")},{id:n,path:n,teamId:n}]}};var NJ={args:[{name:"fileKey",type:{kind:"string"}},{name:"orgId",type:{kind:"string"}}],fields:{file:[{key:x("fileKey"),userId:b("userId")},{key:n,name:n,orgAudience:n,orgBrowsable:n,linkAccess:n,protoLinkAccess:n,hasFileLinkPassword:n,hasProtoLinkPassword:n,library:{updatedAt:n,approvedLibraries:{id:n,resourceId:n,resourceType:n}},repo:{ownerRole:{user:{id:n,email:n,imgUrl:n,name:n}}},ownerRole:{user:{id:n,email:n,imgUrl:n,name:n}},teamId:n}],org:[{id:x("orgId"),userId:b("userId")},{id:n,name:n,librarySubscriptionByLibraryKey:[{fileKey:x("fileKey")},{id:n,isSubscribed:n,figJamSubscribed:n}],licenseGroups:{id:n,name:n,librarySubscriptionByLibraryKey:[{fileKey:x("fileKey")},{id:n,isSubscribed:n,figJamSubscribed:n}],mirroredWorkspaceId:n},workspaces:{id:n,name:n,librarySubscriptionByLibraryKey:[{fileKey:x("fileKey")},{id:n,isSubscribed:n,figJamSubscribed:n}]},sharedOrgLicenseGroupSetting:{autogenPasswordControls:n,externalCollaborationControls:n,publicLinkControlsSetting:n,publicLinkControlsMaxExpiration:n}}]}};var VJ={...Pl,numVariables:n};var qJ={args:[{name:"fileKey",type:{kind:"string"}}],fields:{file:[{key:x("fileKey"),userId:b("userId")},{key:n,name:n,teamId:n,library:{numVariables:n},variableCollections:VJ}]}};var BJ={args:[{name:"id",type:{kind:"uuid"}}],fields:{libraryPublishV2:[{id:x("id"),userId:b("userId")},{id:n,fileKey:n,fileCheckpointId:n,count:n,createdAt:n,userId:n,error:n,assetSuccessCount:n,assetFailureCount:n,assetPendingCount:n,firstAssetError:n}]}};var WJ={args:[{name:"fileKey",type:{kind:"string"}}],fields:{file:[{key:x("fileKey"),userId:b("userId")},{key:n,name:n,teamId:n,library:{numStyles:n,numStylesFill:n,numStylesText:n,numStylesEffect:n,numStylesGrid:n},libraryHierarchyPaths:{pageName:n,containingFrameName:n,nameHierarchyPath:n,styles:jl}}]}},GJ={args:[{name:"hubFileId",type:{kind:"bigint"}}],fields:{communityLibraryByHubFileId:[{hubFileId:x("hubFileId")},{hubFileId:n,name:n,numStyles:n,numStylesFill:n,numStylesText:n,numStylesEffect:n,numStylesGrid:n,libraryHierarchyPaths:{pageName:n,containingFrameName:n,nameHierarchyPath:n,styles:jl}}]}};var HJ={args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],props:{sheddable:!1,priority:"p1"},fields:{org:[{id:x("orgId"),userId:b("userId")},{librarySubscriptions:{id:n,fileKey:n,isSubscribed:n,figJamSubscribed:n},licenseGroups:{name:n,id:n,librarySubscriptions:{id:n,fileKey:n,isSubscribed:n,figJamSubscribed:n}},workspaces:{name:n,id:n,librarySubscriptions:{id:n,fileKey:n,isSubscribed:n,figJamSubscribed:n}}}]}};var KJ={args:[{name:"fileKey",type:{kind:"string"}}],fields:{file:[{key:x("fileKey"),userId:b("userId")},{key:n,name:n,teamId:n,variableCollections:Pl,library:{numVariableSets:n,numVariables:n,numVariablesBoolean:n,numVariablesColor:n,numVariablesFloat:n,numVariablesString:n}}]}};var $J={args:[{name:"fileKey",type:{kind:"string"}}],fields:{file:[{key:x("fileKey"),userId:b("userId")},{key:n,name:n,teamId:n,variableCollections:Lp,library:{numVariableSets:n,numVariables:n,numVariablesBoolean:n,numVariablesColor:n,numVariablesFloat:n,numVariablesString:n}}]}};var zJ={args:[{name:"fileKey",type:{kind:"string"}}],props:{sheddable:!1,priority:"p1"},fields:{file:[{key:x("fileKey"),userId:b("userId")},{team:{licenseGroup:{librarySubscriptions:{fileKey:n,isSubscribed:n,figJamSubscribed:n}}}}]}};var YJ={args:[{name:"id",type:{kind:"bigint"}}],props:{sheddable:!1,priority:"p1"},fields:{licenseGroup:[{id:x("id"),userId:b("userId")},{licenseGroupMemberCounts:[{userId:b("userId")},{fullPaidStatusCounts:{licenseType:n,count:n}}]}]}};var QJ={args:[{name:"teamId",type:{kind:"string"}}],props:{sheddable:!1,priority:"p1"},fields:{team:[{id:x("teamId"),userId:b("userId")},{licenseGroup:{librarySubscriptions:{fileKey:n,isSubscribed:n,figJamSubscribed:n}}}]}};var JJ={args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],fields:{currentUser:[{userId:b("userId")},{id:n,teamEditRoles:{id:n,pending:n,team:{id:n,name:n,imgUrl:n,projects:{id:n,path:n,teamId:n,inviteOnlyAt:n,viewOnlyAt:n},roles:{user:{id:n,name:n,email:n,imgUrl:n,handle:n}},studentTeamAt:n,deletedAt:n,eduGracePeriod:[{userId:b("userId")},{id:n,isValid:n}],restrictionsList:n,subscription:n,gracePeriodEnd:n,canEdit:[{userId:b("userId")},n],canAdmin:[{userId:b("userId")},n]}}}]}};var XJ={args:[{name:"fileKey",type:{kind:"string"}}],props:{sheddable:!1,priority:"p1"},fields:{file:[{key:x("fileKey"),userId:b("userId")},{nodeStatusUsagesForFile:{id:n,nodeId:n,nodeStatusType:n,position:n}}]}};var ZJ={args:[{name:"fileKey",type:{kind:"string"}},{name:"nodeId",type:{kind:"string"}}],props:{sheddable:!1,priority:"p1"},fields:{file:[{key:x("fileKey"),userId:b("userId")},{nodeStatusUsagesForNode:[{nodeId:x("nodeId")},{id:n,nodeId:n,nodeStatusType:n,position:n}]}]}};var eX={args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],props:{sheddable:!1,priority:"p1"},fields:{org:[{id:x("orgId"),userId:b("userId")},{memberCount:[{userId:b("userId")},{data:n}],discoverableTeamCount:[{userId:b("userId")},{data:n}]}]}},tX={args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],props:{sheddable:!1,priority:"p1"},fields:{org:[{id:x("orgId"),userId:b("userId")},{memberCount:[{userId:b("userId")},{data:n}],workspaceCount:[{userId:b("userId")},{data:n}]}]}};var ur={id:n,status:n,fileKey:n};var rX={args:[{name:"fileKey",type:{kind:"string"}}],fields:{file:[{key:x("fileKey"),userId:b("userId")},{id:n,key:n,name:n,_name:n,teamId:n,clientMeta:n,org:{figjamDisabledAt:n,inviteWhitelist:{guestInviteSetting:n},name:n},currentOrgUser:[{userId:b("userId")},{draftsFolderId:n,whiteboardPaidStatus:n,accountType:n,designOrgAccountTypeRequest:ur,whiteboardOrgAccountTypeRequest:ur,designAccountTypeRequest:ur,whiteboardAccountTypeRequest:ur,devModeAccountTypeRequest:ur}],ownerRole:{userId:n},isTeamTemplate:n,currentPartialOrgUser:[{userId:b("userId")},{draftsFolderId:n,whiteboardPaidStatus:n,accountType:n,designOrgAccountTypeRequest:ur,whiteboardOrgAccountTypeRequest:ur,designAccountTypeRequest:ur,whiteboardAccountTypeRequest:ur,devModeAccountTypeRequest:ur}],currentTeamUser:[{userId:b("userId")},{whiteboardPaidStatus:n,designPaidStatus:n,designProAccountTypeRequest:ur,whiteboardProAccountTypeRequest:ur,designAccountTypeRequest:ur,whiteboardAccountTypeRequest:ur}],team:{id:n,name:n,orgId:n,subscription:n,restrictionsList:n,deletedAt:n,gracePeriodEnd:n,trialPeriodEnd:n,createdAt:n,imgUrl:n,studentTeamAt:n,licenseGroupId:n,licenseGroup:{id:n,name:n},workspaceId:n,eduGracePeriod:[{userId:b("userId")},{id:n,isValid:n}],orgAccess:n},folderId:n,project:[{userId:b("userId")},{id:n,orgId:n,teamId:n,path:n,viewOnlyAt:n,inviteOnlyAt:n,subscription:[{userId:b("userId")},{id:n}],canEdit:[{userId:b("userId")},n]}],license:n,orgBrowsable:n,editorType:n,parentOrgId:n,fileRepoId:n,repo:{id:n,name:n,folderId:n,teamId:n,defaultFileKey:n},sourceFileKey:n,sourceFile:{key:n,name:n,fileRepoId:n},linkAccess:n,hasFileLinkPassword:n,hasProtoLinkPassword:n,updatedAt:n,trashedAt:n,deletedAt:n,creatorId:n,createdAt:n,sourceCheckpointId:n,canDelete:[{userId:b("userId"),sessionId:b("sessionId")},n],canEdit:ee("canEditV2",[{userId:b("userId"),sessionId:b("sessionId")},n]),canEditCanvas:[{userId:b("userId"),sessionId:b("sessionId")},n],canEditIgnoreEduGracePeriod:[{userId:b("userId"),sessionId:b("sessionId")},n],canManage:[{userId:b("userId")},n],canView:ee("canViewV2",[{userId:b("userId"),sessionId:b("sessionId")},n]),canAccessFullDevMode:[{userId:b("userId"),sessionId:b("sessionId")},n],thumbnailGuid:n,publishedHubFile:{id:n,profile:{id:n,entityType:n},currentHubFileVersion:{id:n,createdAt:n},unpublishedAt:n,verificationStatus:n,publishingStatus:n,publishingStatusUpdatedAt:n,publishedByUser:{id:n,name:n}},figFileLinks:{id:n,sourceFileKey:n,destinationFileKey:n,name:n,sortPosition:n,linkType:n},trackTags:{isTemplate:n},isTryFile:n,votingSessions:{id:n,inProgress:n,title:n,userId:n,createdAt:n,userVoteLimit:n},template:{id:n,fileKey:n,fileVersionId:n,name:n,description:n,thumbnailUrl:n,thumbnailGuid:n,publishScope:n,orgId:n,licenseGroupId:n,workspaceId:n,teamId:n,publishedByUserId:n,unpublishedAt:n,createdAt:n,updatedAt:n,publishedByUser:ee("publishedByUserNullable",{handle:n,imgUrl:n,name:n})},canPublishTemplate:[{userId:b("userId"),sessionId:b("sessionId")},n],viewerExportRestricted:n}]}};var iX={args:[{name:"currentOrgId",type:{kind:"bigint"},nullable:!0}],fields:{currentUser:[{userId:b("userId")},{id:n,recentSearches:[{orgId:x("currentOrgId")},{searches:Ej({query:n,timestamp:n})}]}]}};var nX={id:n,orgUserId:n,reason:n,createdAt:n,actorId:n,actor:{id:n,handle:n},resourceType:n,resourceId:n,resourceFile:{file:{id:n,name:n}},resourceTeam:{team:{name:n}},resourceRepo:{repo:{name:n}},resourceProject:{project:{path:n}},editorType:n,licenseType:n},sX={enterpriseFields:{costCenter:n,department:n,division:n,organization:n},figmaEnterpriseFields:{figmaPermission:n,figjamPermission:n},figmaPermission:n,figjamPermission:n},oX={args:[{name:"orgId",type:{kind:"bigint"}},{name:"queryParams",type:{kind:"string"}},{name:"firstPageSize",type:{kind:"int"},nullable:!0}],fields:{org:[{id:x("orgId"),userId:b("userId")},{featuredScimMetadata:n,vatGstId:n,taxIdVerificationStatus:n}],orgAdminUsersInfo:[{orgId:x("orgId"),userId:b("userId")},{totalUserCount:n,designEditorCutoff:{editorCount:n,orgUserId:n,timestamp:n},designEditorBuffer:{buffer:n,orgUserIds:n},whiteboardEditorCutoff:{editorCount:n,orgUserId:n,timestamp:n},whiteboardEditorBuffer:{buffer:n,orgUserIds:n},canRoleSetWithScim:n}],orgAdminUsers:[{orgId:x("orgId"),queryParams:x("queryParams"),firstPageSize:x("firstPageSize"),userId:b("userId")},{orgUserId:n,orgUser:{id:n,user:{id:n,name:n,handle:n,imgUrl:n,email:n,description:n,emailValidatedAt:n,externalRestrictedOrgId:n,idpUser:{scim:sX}},orgId:n,draftsFolderId:n,createdAt:n,updatedAt:n,disabledAt:n,whiteboardPaidStatus:n,devModePaidStatus:n,showFigjamUserOnboarding:n,hasShownFigjamAdminOnboarding:n,hasShownFigjamAdminLaunchOnboarding:n,accountType:n,accountTypeChangedAt:n,description:n,permission:n,userStateChangedAt:n,agreedToCommunityTosAt:n,mostRecentDesignUserUpgrade:[{userId:b("userId")},{...nX}],mostRecentWhiteboardUserUpgrade:[{userId:b("userId")},{...nX}],licenseGroupMember:{id:n,licenseGroupId:n,assignedAt:n,createdAt:n,actorUserId:n,updateReason:n,updatedAt:n,orgUserId:n},licenseGroupAdmins:{id:n},workspaceUsers:{actorUserId:n,assignedAt:n,createdAt:n,id:n,isMainWorkspace:n,orgUserId:n,permission:n,updateReason:n,updatedAt:n,uuid:n,workspaceId:n}},idpUserId:n,idpUser:{id:n,createdAt:n,updatedAt:n,userName:n,scim:sX},orgInviteId:n,orgInvite:{id:n,orgId:n,email:n,accountType:n,createdAt:n,updatedAt:n,licenseGroupId:n},type:n,lastEdit:n,lastSeen:n,lastDesignEdit:n,lastWhiteboardEdit:n,lastDesignSeen:n,lastWhiteboardSeen:n}]}};var aX={args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],fields:{org:[{id:x("orgId"),userId:b("userId")},{bigmaEnabledAt:n,workspaces:{id:n}}]}};var lX={args:[{name:"workspaceId",type:{kind:"bigint"}}],fields:{workspace:[{id:x("workspaceId"),userId:b("userId")},{name:n}]}};var uX={args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],props:{sheddable:!1,priority:"p1"},fields:{orgJoinRequest:[{userId:b("userId"),orgId:x("orgId")},{id:n}]}};var dX={args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],fields:{org:[{id:x("orgId"),userId:b("userId")},{sharedOrgLicenseGroupSetting:{id:n,autogenPasswordControls:n,externalCollaborationControls:n,publicLinkControlsSetting:n,publicLinkControlsMaxExpiration:n}}]}};var cX={args:[{name:"orgId",type:{kind:"bigint"}}],fields:{org:[{id:x("orgId"),userId:b("userId")},{vatGstId:n,taxIdVerificationStatus:n}]}};var pX={args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],props:{sheddable:!1,priority:"p1"},fields:{org:[{id:x("orgId"),userId:b("userId")},{teamsWithSummary:[{userId:b("userId")},{team:{id:n,imgUrl:n,name:n,workspaceId:n}}]}]}};var mX={args:[{name:"orgId",type:{kind:"bigint"}}],fields:{org:[{id:x("orgId"),userId:b("userId")},{teamsWithSummary:[{userId:b("userId")},{id:n,memberCount:n}]}]}};var gX={fields:{currentUser:[{userId:b("userId")},{id:n,orgUsers:{id:n,org:[{userId:b("userId")},{id:n,name:n,imgUrl:n}]},allOrgUsers:{id:n,org:{id:n,name:n,imgUrl:n}}}]}};var fX={args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],fields:{org:[{id:x("orgId"),userId:b("userId")},{sharedOrgLicenseGroupSetting:{publicLinkControlsSetting:n,publicLinkControlsMaxExpiration:n},workspaces:{id:n,name:n,imgUrl:n,publicLinkControlsSetting:n,publicLinkControlsMaxExpiration:n,hasCustomPublicLinkControlsSetting:n}}]}};var bX={args:[{name:"orgId",type:{kind:"bigint"}},{name:"feedFilter",type:{kind:"string"},nullable:!0},{name:"firstPageSize",type:{kind:"int"},nullable:!0},{name:"refreshNonce",type:{kind:"int"},nullable:!1}],fields:{feedPosts:[{orgId:x("orgId"),userId:b("userId"),feedFilter:x("feedFilter"),firstPageSize:x("firstPageSize")},{id:n,publicUuid:n,type:n,createdAt:n,forYou:n,currentTagFilterId:n,feedPost:{...ao,currentUserIsFollowing:ee("currentUserIsFollowingV2",[{userId:b("userId")},n]),isFollower:[{userId:b("userId")},{id:n}],numComments:n,viewCount:n,views:{createdAt:n,user:{id:n,handle:n,imgUrl:n}}}}]},props:{sheddable:!1}};var yX={args:[{name:"teamId",type:{kind:"bigint"}}],fields:{team:[{id:x("teamId"),userId:b("userId")},{id:n,pendingTeamRoleRequests:[{userId:b("userId")},{id:n,status:n,teamId:n,requesterUserId:n,level:n,user:{id:n,handle:n,name:n,email:n,imgUrl:n}}]}]}};var hX={args:[{name:"fileCommentId",type:{kind:"bigint"}}],props:{sheddable:!1,priority:"p1"},fields:{pendingUserMentions:[{fileCommentId:x("fileCommentId")},{inviteeEmail:n,inviterUserId:n,id:n}]}};var IX={args:[{name:"folderId",type:{kind:"bigint"}}],props:{sheddable:!1,priority:"p1"},fields:{project:[{id:x("folderId"),userId:b("userId")},{id:n,pinnedFiles:{pinnedByUser:{id:n,name:n},file:{key:n,name:n,thumbnailUrlOverride:n,thumbnailUrl:ee("signedThumbnailUrl",n),createdAt:n,editorType:n,fileRepoId:n,thumbnailGuid:n,folderId:n,clientMeta:n,hasFileLinkPassword:n,hasProtoLinkPassword:n,linkAccess:n,isTeamTemplate:n,figFileCheckpoint:{checkpointId:n,checkpoint:{clientMeta:n}}}}}]}};var xX={args:[{name:"pluginId",type:{kind:"bigint"}},{name:"orgId",type:{kind:"bigint"},nullable:!0}],props:{sheddable:!1,priority:"p1"},fields:{plugin:[{pluginId:x("pluginId"),userId:b("userId"),orgId:x("orgId")},lo]}};var _X={args:[{name:"pluginId",type:{kind:"bigint"}},{name:"orgId",type:{kind:"bigint"}}],fields:{plugin:[{userId:b("userId"),pluginId:x("pluginId"),orgId:x("orgId")},{id:n,installCount:n,communityPublishers:{profile:{id:n,entityType:n,profileHandle:n,user:{name:n,imgUrl:n},team:{name:n,imgUrl:n},org:{name:n,imgUrl:n}}},isWidget:n,currentPluginVersion:{id:n,name:n,description:n,manifest:n,creatorPolicy:n,iconUrl:n,coverImageUrl:n,playgroundFigFileKey:n,hasPlaygroundFile:n},monetizedResourceMetadataId:n,pluginRequests:[{orgId:x("orgId")},{id:n,orgUser:{id:n,user:{id:n,name:n,handle:n,imgUrl:n,email:n},workspaceUsers:{id:n,workspaceId:n}},pluginId:n,createdAt:n,updatedAt:n,status:n,requesterNote:n,workspaceId:n,declineNote:n}]}],org:[{id:x("orgId"),userId:b("userId")},{id:n,name:n,workspaces:{name:n,id:n,isPluginAllowlisted:[{pluginId:x("pluginId")},n]},isPluginAllowlisted:[{pluginId:x("pluginId")},n]}]}};var vX={args:[{name:"pluginId",type:{kind:"bigint"}}],fields:{pluginInstall:[{userId:b("userId"),pluginId:x("pluginId")},{createdAt:n}]}};var OX={args:[{name:"targetOrgId",type:{kind:"bigint"},nullable:!0},{name:"targetUserId",type:{kind:"bigint"},nullable:!0}],fields:{pluginPreferences:[{currentUserId:b("userId"),targetOrgId:x("targetOrgId"),targetUserId:x("targetUserId")},{id:n,preferences:{pins:{pluginId:n,inherited:n,plugin:lo},removedInheritedPins:n,codegenSettings:{language:{type:n,id:n,pluginLanguage:n},preferences:{scaleFactor:n,unit:n,customSettings:n},behavior:n}}}]}};var SX={args:[{name:"orgId",type:{kind:"bigint"}}],fields:{org:[{userId:b("userId"),id:x("orgId")},{pluginRequests:{id:n,orgUser:{id:n,user:{id:n,name:n,handle:n,imgUrl:n,email:n}},pluginId:n,plugin:lo,createdAt:n,updatedAt:n,status:n,declineNote:n,requesterNote:n,workspaceId:n},allowlistedPlugins:ee("whitelistedPlugins",{id:n,pluginId:n})}]}};var DX={args:[{name:"pluginId",type:{kind:"string"}}],fields:{pluginSecurityFormResponse:[{pluginId:x("pluginId")},{id:n,status:n,responses:n,pluginId:n,formVersion:n,updatedAt:n,createdAt:n}]}};var AX={args:[{name:"teamId",type:{kind:"string"}}],props:{sheddable:!1,priority:"p1"},fields:{team:[{id:x("teamId"),userId:b("userId")},{id:n,adminRoles:{id:n,level:n,pending:n,user:{id:n,handle:n,email:n,imgUrl:n,name:n}}}]}};var FX={args:[{name:"folderId",type:{kind:"bigint"}}],fields:{project:[{id:x("folderId"),userId:b("userId")},{id:n,canEdit:[{userId:b("userId")},n],canRead:[{userId:b("userId")},n]}]}},PX={args:[{name:"projectId",type:{kind:"bigint"}}],fields:{project:[{id:x("projectId"),userId:b("userId")},{id:n,path:n,team:{orgId:n},orgId:n}]}},jX={args:[{name:"projectId",type:{kind:"bigint"}}],props:{sheddable:!1,priority:"p2"},fields:{project:[{id:x("projectId"),userId:b("userId")},{...KO}]}};var TX={args:[{name:"projectId",type:{kind:"bigint"}}],props:{sheddable:!0},fields:{project:[{id:x("projectId"),userId:b("userId")},{untrashedFiles:{id:n,fileRepoId:n}}]}};var QO={canRead:[{userId:b("userId")},n],canEdit:[{userId:b("userId")},n],isOwner:[{userId:b("userId")},n],canCreateDesignFile:[{userId:b("userId")},n],canCreateFigJamFile:[{userId:b("userId")},n],team:{canAdmin:[{userId:b("userId")},n],canEdit:[{userId:b("userId")},n],canAccessProFeature:n},isEditingLockedForUser:[{userId:b("userId")},n],isEmpty:n,isOwned:n,inviteOnlyAt:n,viewOnlyAt:n,isOrphanedOrgProject:n,currentPrivilegedOrgUser:[{userId:b("userId")},{id:n,permission:n}]};var CX={args:[{name:"projectId",type:{kind:"string"}}],fields:{project:[{id:x("projectId"),userId:b("userId")},{id:n,...QO}]}};var JO={isFavorited:[{userId:b("userId"),orgId:null},n],canRead:[{userId:b("userId")},n]};var EX={args:[{name:"prototypeId",type:{kind:"bigint"}}],fields:{prototype:[{id:x("prototypeId"),userId:b("userId")},{id:n,...JO}]}};var kX={args:[{name:"repoId",type:{kind:"bigint"}}],fields:{repo:[{id:x("repoId"),userId:b("userId")},{id:n,canRead:ee("canReadV2",[{userId:b("userId"),sessionId:b("sessionId")},n]),canEdit:ee("canEditV2",[{userId:b("userId"),sessionId:b("sessionId")},n])}]}};var wX={id:n,key:n,reviewNumber:n,title:n,description:n,owner:{id:n,handle:n,imgUrl:n},closer:{id:n,handle:n,imgUrl:n},closedAt:n,fileMergeId:n,reviewers:{user:{id:n,handle:n,imgUrl:n},notes:n,changesRequestedAt:n,approvedAt:n},mergeSummaryNotes:n,requestedAt:n,updatedAt:n,createdAt:n},RX={args:[{name:"repoId",type:{kind:"bigint"}}],fields:{repo:[{id:x("repoId"),userId:b("userId")},{id:n,name:n,defaultFileKey:n,updatedAt:n,trashedAt:n,linkAccess:n,protoLinkAccess:n,orgBrowsable:n,orgAudience:n,canEdit:ee("canEditV2",[{userId:b("userId"),sessionId:b("sessionId")},n]),roleOnObjectForUser:[{userId:b("userId")},{id:n,isOwnerOfResource:n}],files:{id:n,key:n,name:n,_name:n,sourceFileKey:n,sourceCheckpointId:n,fileRepoId:n,folderId:n,parentOrgId:n,teamId:n,createdAt:n,trashedAt:n,updatedAt:n,deletedAt:n,trashedUserId:n,orgBrowsable:n,orgAudience:n,linkAccess:n,protoLinkAccess:n,editorType:n,description:n,figFileCheckpoint:{checkpointId:n},openMergeRequest:{id:n,mergeRequestKey:n,mergeRequest:wX,branchFileKey:n},fileMerges:{id:n,userId:n,user:{id:n,name:n,handle:n},direction:n,checkpointDiffId:n,mergeResultCheckpointId:n,mergeResultFileversionId:n,updatedAt:n,createdAt:n,mergeRequest:wX},canEdit:ee("canEditV2",[{userId:b("userId"),sessionId:b("sessionId")},n]),canManage:[{userId:b("userId")},n],roleOnObjectForUser:[{userId:b("userId")},{id:n,isOwnerOfResource:n}],fileVersions:{id:n,label:n,description:n,view:n,updatedAt:n,user:{id:n,imgUrl:n,name:n,handle:n,isSystemUser:n},checkpoint:{key:n,createdAt:n}},creator:{id:n,imgUrl:n,name:n,handle:n}}}]}};var XO={key:n,canView:ee("canViewV2",[{userId:b("userId"),sessionId:b("sessionId")},n]),canEdit:ee("canEditV2",[{userId:b("userId"),sessionId:b("sessionId")},n]),isFavorited:[{userId:b("userId")},n],viewerExportRestricted:n,parentOrgId:n},ZO={parentOrgId:n,canRead:ee("canReadV2",[{userId:b("userId"),sessionId:b("sessionId")},n]),canEdit:ee("canEditV2",[{userId:b("userId"),sessionId:b("sessionId")},n]),project:{canView:ee("canRead",[{userId:b("userId")},n]),canEdit:[{userId:b("userId")},n]},sourceFile:{...XO},branches:ee("files",{...XO}),isTrashed:n};var MX={args:[{name:"repoId",type:{kind:"bigint"}}],fields:{repo:[{id:x("repoId"),userId:b("userId")},{id:n,...ZO}]}};var UX={args:[{name:"fileKey",type:{kind:"string"}}],fields:{file:[{key:x("fileKey"),userId:b("userId")},{resolvedComments:{id:n,uuid:n,key:n,orderId:n,parentId:n,createdAt:n,resolvedAt:n,user:{id:n,handle:n,imgUrl:n},commentPin:{id:n},clientMeta:{x:n,y:n,nodeId:n,pageId:n,nodeOffset:{x:n,y:n},inFrame:n,selectionBoxAnchor:{x:n,y:n},stablePath:n},messageMetaStylized:{t:n,user:{id:n,handle:n,imgUrl:n},link:n,styles:n,children:{children:{t:n,user:{id:n,handle:n,imgUrl:n},link:n,styles:n}}},messageMeta:{t:n,user:{id:n,handle:n,imgUrl:n}}}}]}};var LX={args:[{name:"hubFileId",type:{kind:"bigint"}}],fields:{resourceSave:[{userId:b("userId"),hubFileId:x("hubFileId")},{createdAt:n}]}};var NX={props:{sheddable:!0},fields:{resourceSaves:[{userId:b("userId")},{createdAt:n,hubFileId:n,hubFile:{viewerMode:n}}]}};var VX={args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],props:{sheddable:!1,priority:"p1"},fields:{org:[{id:x("orgId"),userId:b("userId")},{workspaces:{id:n,name:n,canView:[{userId:b("userId")},n]}}],currentUser:[{userId:b("userId")},{baseOrgUser:[{orgId:x("orgId")},{workspaceUsers:{workspaceId:n,isMainWorkspace:n}}]}]}};var eS={id:n,sharedAt:n,sharedBy:n,sharedByUser:{id:n,name:n},sharedByText:n,orgOrTeamName:n,resourceId:n,resourceType:n,file:{createdAt:n,creatorId:n,deletedAt:n,description:n,editorType:n,fileRepoId:n,folderId:n,teamId:n,parentOrgId:n,hasFileLinkPassword:n,hasProtoLinkPassword:n,id:n,isTeamTemplate:n,isTryFile:n,key:n,license:n,linkAccess:n,name:n,thumbnailGuid:n,checkpointClientMeta:n,...HO},parentTeam:{id:n,imgUrl:n,name:n},parentOrg:{id:n,imgUrl:n,name:n},thumbnailUrl:n,thumbnailUrlOverride:n},tS={sharedAt:n,sharedBy:n,sharedByText:n,sharedByUser:{id:n,name:n},orgOrTeamName:n,resourceId:n,resourceType:n,folder:{id:n,createdAt:n,updatedAt:n,path:n,description:n,teamId:n,viewOnlyAt:n,orgId:n,deletedAt:n,...QO},parentTeam:{id:n,imgUrl:n,name:n},parentOrg:{id:n,imgUrl:n,name:n}},rS={sharedAt:n,sharedBy:n,sharedByUser:{id:n,name:n},sharedByText:n,orgOrTeamName:n,resourceId:n,resourceType:n,repo:{id:n,folderId:n,teamId:n,name:n,defaultFileKey:n,updatedAt:n,createdAt:n,deletedAt:n,trashedAt:n,linkAccess:n,protoLinkAccess:n,hasFileLinkPassword:n,hasProtoLinkPassword:n,hasActiveBranches:n,orgAudience:n,orgBrowsable:n,...ZO,branches:ee("files",{createdAt:n,creatorId:n,deletedAt:n,description:n,editorType:n,fileRepoId:n,folderId:n,hasFileLinkPassword:n,hasProtoLinkPassword:n,id:n,isTeamTemplate:n,isTryFile:n,key:n,license:n,linkAccess:n,name:n,thumbnailUrl:ee("signedThumbnailUrl",n),thumbnailGuid:n,thumbnailUrlOverride:ee("signedThumbnailUrlOverride",n),checkpointClientMeta:n,...XO})},parentTeam:{id:n,imgUrl:n,name:n},parentOrg:{id:n,imgUrl:n,name:n}},iS={sharedAt:n,sharedBy:n,sharedByUser:{id:n,name:n},sharedByText:n,orgOrTeamName:n,resourceId:n,resourceType:n,prototype:{id:n,name:n,fileKey:n,pageId:n,thumbnailUrl:n,thumbnailMeta:n,deleted:n,fig_file:ee("file",{createdAt:n,creatorId:n,deletedAt:n,description:n,editorType:n,fileRepoId:n,folderId:n,hasFileLinkPassword:n,hasProtoLinkPassword:n,id:n,isTeamTemplate:n,isTryFile:n,key:n,license:n,linkAccess:n,name:n}),...JO},parentTeam:{id:n,imgUrl:n,name:n},parentOrg:{id:n,imgUrl:n,name:n},thumbnailUrl:n};var qX={args:[{name:"id",type:{kind:"bigint"}}],props:{sheddable:!1,priority:"p1"},fields:{sharedWithYouFile:[{id:x("id"),userId:b("userId")},eS]}};var BX={args:[{name:"id",type:{kind:"bigint"}}],props:{sheddable:!1,priority:"p1"},fields:{sharedWithYouFolder:[{id:x("id"),userId:b("userId")},tS]}};var WX={args:[{name:"id",type:{kind:"bigint"}}],props:{sheddable:!1,priority:"p1"},fields:{sharedWithYouPrototype:[{id:x("id"),userId:b("userId")},iS]}};var GX={args:[{name:"id",type:{kind:"bigint"}}],props:{sheddable:!1,priority:"p1"},fields:{sharedWithYouRepo:[{id:x("id"),userId:b("userId")},rS]}};var HX={args:[{name:"resourceTypes",type:{kind:"list",ofType:{kind:"string"}}},{name:"firstPageSize",type:{kind:"int"}},{name:"sortOrder",type:{kind:"string"}},{name:"cursorColumn",type:{kind:"string"}},{name:"sharedBy",type:{kind:"bigint"},nullable:!0},{name:"planId",type:{kind:"bigint"},nullable:!0},{name:"planType",type:{kind:"string"},nullable:!0},{name:"fileType",type:{kind:"string"},nullable:!0},{name:"orgDeletedDrafts",type:{kind:"string"},nullable:!0}],props:{sheddable:!1,priority:"p1"},fields:{sharedWithYouResources:[{userId:b("userId"),resourceTypes:x("resourceTypes"),firstPageSize:x("firstPageSize"),sortOrder:x("sortOrder"),cursorColumn:x("cursorColumn"),sharedBy:x("sharedBy"),planId:x("planId"),planType:x("planType"),fileType:x("fileType"),orgDeletedDrafts:x("orgDeletedDrafts")},{id:n,sharedWithYouFile:eS,sharedWithYouFolder:tS,sharedWithYouRepo:rS,sharedWithYouPrototype:iS}]}};var nS={canAdmin:[{userId:b("userId")},n],canRead:[{userId:b("userId")},n],roleOnObjectForUser:[{userId:b("userId")},{level:n}],currentPrivilegedOrgUser:[{userId:b("userId")},{permission:n}]};var KX={args:[{name:"id",type:{kind:"bigint"}}],props:{sheddable:!1,priority:"p1"},fields:{sharedWithYouTeam:[{id:x("id"),userId:b("userId")},{sharedAt:n,sharedBy:n,sharedByText:n,orgOrTeamName:n,resourceId:n,resourceType:n,team:{id:n,...nS},canRead:[{userId:b("userId")},n]}]}};var $X={args:[{name:"key",type:{kind:"string"}}],props:{sheddable:!1},fields:{file:[{key:x("key"),userId:b("userId")},{linkAccess:n,team:{isStarterTeam:n},roles:{userId:n}}]}};var zX={args:[{name:"key",type:{kind:"string"}}],fields:{stateGroup:[{key:x("key"),userId:b("userId")},{...YO,file:{key:n,name:n,teamId:n}}]}};var YX={args:[{name:"currentOrgId",type:{kind:"bigint"},nullable:!0}],props:{sheddable:!1,priority:"p1"},fields:{currentUser:[{userId:b("userId")},{id:n,fileBrowserPreferences:{orderedTeamIds:n},teamRoles:{pending:n,team:{id:n,deletedAt:n,orgId:n,createdAt:n}}}]}};var QX={args:[{name:"key",type:{kind:"string"}},{name:"openFileKey",type:{kind:"string"},nullable:!0}],props:{sheddable:!1,priority:"p1"},fields:{styleWithDestinationAssetV2:[{key:x("key"),userId:b("userId"),openFileKey:x("openFileKey")},{file:{key:n,name:n,teamId:n},hubFile:{id:n,currentHubFileVersion:{name:n}},...jl,destinationAsset:{file:{key:n,name:n,teamId:n},hubFile:{id:n,currentHubFileVersion:{name:n}},...jl}}]}};var XX={numComponents:n,numStateGroups:n,numStyles:n,numStylesFill:n,numStylesText:n,numStylesEffect:n,numStylesGrid:n,numVariableSets:n,numVariables:n,numVariablesBoolean:n,numVariablesColor:n,numVariablesFloat:n,numVariablesString:n},ad={...XX,file:{name:n,key:n,parentOrgId:n}},JX={...XX,name:n,hubFileId:n},ZX={args:[{name:"fileKey",type:{kind:"string"}},{name:"teamId",type:{kind:"bigint"}},{name:"licenseGroupId",type:{kind:"bigint"},nullable:!0},{name:"workspaceId",type:{kind:"bigint"},nullable:!0},{name:"orgId",type:{kind:"bigint"},nullable:!0}],props:{sheddable:!1,priority:"p1"},fields:{file:[{key:x("fileKey"),userId:b("userId")},{libraryFileSubscriptions:[{userId:b("userId")},{library:ad}],communityLibraryFileSubscriptions:[{userId:b("userId")},{isSubscribed:n,communityLibrary:JX}],communityQuickstartLibraries:[{userId:b("userId")},{communityLibrary:JX}],libraryTeamSubscriptions:[{userId:b("userId")},{library:ad,libraryFileSubscriptionOverride:[{subscribingFileKey:x("fileKey")},{}]}],libraryUserSubscriptions:[{userId:b("userId")},{library:ad,libraryFileSubscriptionOverride:[{subscribingFileKey:x("fileKey")},{}]}],team:{licenseGroup:{librarySubscriptions:{isSubscribed:n,library:ad,libraryFileSubscriptionOverride:[{subscribingFileKey:x("fileKey")},{}],libraryTeamSubscriptionOverride:[{subscribingFileTeamId:x("teamId")},{}]}},workspace:{librarySubscriptions:{isSubscribed:n,library:ad,libraryFileSubscriptionOverride:[{subscribingFileKey:x("fileKey")},{}],libraryTeamSubscriptionOverride:[{subscribingFileTeamId:x("teamId")},{}]}}},libraryOrgSubscriptions:[{userId:b("userId")},{library:ad,libraryFileSubscriptionOverride:[{subscribingFileKey:x("fileKey")},{}],libraryTeamSubscriptionOverride:[{subscribingFileTeamId:x("teamId")},{}],libraryLicenseGroupSubscriptionOverride:[{subscribingFileLicenseGroupId:x("licenseGroupId")},{}],libraryWorkspaceSubscriptionOverride:[{subscribingFileWorkspaceId:x("workspaceId")},{}],libraryUserSubscriptionOverride:[{subscribingUserId:b("userId")},{}]}],currentUser:[{userId:b("userId")},{orgAwareTeamRoles:[{orgId:x("orgId")},{team:{libraryTeamSubscriptions:[{userId:b("userId")},{library:ad,libraryFileSubscriptionOverride:[{subscribingFileKey:x("fileKey")},{}],libraryUserSubscriptionOverride:[{subscribingUserId:b("userId")},{}]}]}}]}]}]}};var eZ={args:[{name:"id",type:{kind:"uuid"}}],props:{sheddable:!0,priority:"p3"},fields:{subscriptionUpdateSloData:[{id:x("id")},{id:n,key:n,updatedAt:n,createdAt:n}]}};var tZ={args:[{name:"teamId",type:{kind:"bigint"}}],fields:{team:[{id:x("teamId"),userId:b("userId")},{id:n,canRead:[{userId:b("userId")},n],canEdit:[{userId:b("userId")},n],canAdmin:[{userId:b("userId")},n]}]}};var rZ={args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],props:{sheddable:!1,priority:"p1"},fields:{org:[{id:x("orgId"),userId:b("userId")},{workspaces:{id:n,name:n,canCreateTeam:[{userId:b("userId")},n],orgAccess:n,imgUrl:n}}],currentUser:[{userId:b("userId")},{baseOrgUser:[{orgId:x("orgId")},{workspaceUsers:{workspaceId:n,isMainWorkspace:n},permission:n}]}]}};var iZ={args:[{name:"teamId",type:{kind:"bigint"}}],fields:{team:[{id:x("teamId"),userId:b("userId")},{teamFileCounts:{id:n,designFileCount:n,whiteboardFileCount:n}}]}};var nZ={args:[{name:"projectId",type:{kind:"bigint"}}],fields:{project:[{id:x("projectId"),userId:b("userId")},{team:{id:n,restrictionsList:n,studentTeamAt:n,gracePeriodEnd:n,subscription:n,teamFileCounts:{designFileCount:n,whiteboardFileCount:n}}}]}},sZ={args:[{name:"teamId",type:{kind:"bigint"}}],fields:{team:[{id:x("teamId"),userId:b("userId")},{id:n,restrictionsList:n,studentTeamAt:n,gracePeriodEnd:n,subscription:n,teamFileCounts:{designFileCount:n,whiteboardFileCount:n}}]}};var oZ={args:[{name:"teamId",type:{kind:"string"}}],props:{sheddable:!1,priority:"p1"},fields:{team:[{id:x("teamId"),userId:b("userId")},{org:{id:n,name:n,domainCapture:n,inviteWhitelist:{guestInviteSetting:n},currentBaseOrgUser:[{userId:b("userId")},{id:n,permission:n}],orgDomains:{id:n,domain:n,orgId:n,createdAt:n,googleSsoOnlyAt:n,samlSsoOnlyAt:n},figjamDisabledAt:n,imgUrl:n},canEdit:[{userId:b("userId")},n],canAdmin:[{userId:b("userId")},n],canRead:[{userId:b("userId")},n],sharingAudienceControl:n,orgBrowsable:n,hidden:n}]}};var aZ={args:[{name:"teamId",type:{kind:"bigint"}}],fields:{team:[{id:x("teamId"),userId:b("userId")},{vatGstId:n,taxIdVerificationStatus:n}]}};var lZ={args:[{name:"teamId",type:{kind:"bigint"}}],props:{sheddable:!1,priority:"p1"},fields:{team:[{id:x("teamId"),userId:b("userId")},{...nS}]}};var uZ={args:[{name:"teamId",type:{kind:"bigint"}}],props:{sheddable:!1,priority:"p1"},fields:{team:[{id:x("teamId"),userId:b("userId")},{id:n,currentTeamUser:[{userId:b("userId")},{designPaidStatus:n,whiteboardPaidStatus:n,designProAccountTypeRequest:ur,whiteboardProAccountTypeRequest:ur,designAccountTypeRequest:ur,whiteboardAccountTypeRequest:ur}],currentOrgUser:[{userId:b("userId")},{whiteboardPaidStatus:n,accountType:n,designOrgAccountTypeRequest:ur,whiteboardOrgAccountTypeRequest:ur,designAccountTypeRequest:ur,whiteboardAccountTypeRequest:ur}]}]}};var dZ={args:[],props:{sheddable:!1,priority:"p1"},fields:{userColorProfilePreference:[{userId:b("userId")},{id:n,colorProfilePreference:n}]}};var ld={value:n,updatedAt:n},cZ={args:[],fields:{currentUser:[{userId:b("userId")},{id:n,email:n,emailValidatedAt:n,imgUrl:n,createdAt:n,draftsFolderId:n,studentValidatedAt:n,userFlags:{id:n,name:n,createdAt:n,updatedAt:n},teamRoles:{id:n,team:{id:n,trialPeriodEnd:n,gracePeriodEnd:n,gracePeriodType:n,canEdit:[{userId:b("userId")},n],canAdmin:[{userId:b("userId")},n],subscription:n,studentTeamAt:n,orgId:n,restrictionsList:n}},profile:{jobTitle:n,usagePurpose:n},onboardingSignals:{signals:{workLocationV1:ld,expandedUsagePurposeV1:ld,howCollabV1:ld,howCollabV2:ld,howWillYouUseFigmaV1:ld,expandedUsagePurposeV2:ld,haveUsedFigmaProductsBeforeV1:ld}},communityProfile:{followingCount:n},hasSavedPlugins:n,hasCreatedPlugins:n,userMonetizationMetadata:{cmtySellerAcceptedAt:n},orgUsers:{id:n,orgId:n,draftsFolderId:n,permission:n,userId:n,licenseGroupMember:{licenseGroupId:n},org:[{userId:b("userId")},{id:n,bigmaEnabledAt:n,templatePickerDisabled:n,figjamDisabledAt:n,voiceDisabledAt:n,canRead:[{userId:b("userId")},n],canAdmin:[{userId:b("userId")},n],widgetsWhitelistEnforced:n,customTemplatesAllowed:n}]},accountManagerMessages:{id:n,amName:n,amEmail:n,amAvatarUrl:n,ctaUrl:n,sentAt:n,reminderSentAt:n}}]}};var pZ={args:[],props:{sheddable:!1,priority:"p1"},fields:{currentUser:[{userId:b("userId")},{id:n,favoritedFiles:ee("globalFavoritedFiles",{id:n,orgId:n,teamId:n,createdAt:n,updatedAt:n,resourceId:n,sidebarSectionId:n,file:ee("readableFile",[{userId:b("userId")},{id:n,name:n,key:n,editorType:n,createdAt:n,deletedAt:n,trashedAt:n,parentOrgId:n}])})}]}};var mZ={args:[],props:{sheddable:!0,priority:"p1"},fields:{currentUser:[{userId:b("userId")},{jamboardOfferEligibility:{id:n,isEligible:n,ineligibilityReason:n,promoCodeId:n,promoExpirationDate:n}}]}};var gZ={args:[{name:"userId",type:{kind:"string"},nullable:!0}],fields:{userMonetizationMetadata:[{sessionUserId:b("userId"),userId:x("userId")},{id:n,stripeCmtyCreatorStatsMeta:n,cmtySellerAcceptedAt:n}]}};var fZ={args:[],props:{sheddable:!1,priority:"p1"},fields:{userNotificationBell:[{userId:b("userId")},{id:n,bell:n,notificationSpaceId:n,userId:n,timestamp:n}]}};var bZ={args:[{name:"orgId",type:{kind:"bigint"}}],props:{sheddable:!1,priority:"p1"},fields:{currentUser:[{userId:b("userId")},{orgUser:[{orgId:x("orgId")},{orgBrowsableFiles:{id:n},visibleTeams:{id:n,projects:{id:n,files:{id:n}}}}]}]}};var yZ={args:[],props:{sheddable:!1,priority:"p1"},fields:{currentUser:[{userId:b("userId")},{id:n,recentSharedWithYouFiles:{id:n,sharedAt:n,resourceId:n,resourceType:n,file:{id:n,name:n,key:n,editorType:n,createdAt:n,deletedAt:n,trashedAt:n,parentOrgId:n}}}]}};var hZ={args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],fields:{currentUser:[{userId:b("userId")},{fileRoles:{file:{id:n,key:n}},repoRoles:{repo:{id:n,name:n,project:{id:n}}},projectRoles:{project:{id:n,files:{id:n,key:n}}},teamRoles:{team:{id:n,projects:{id:n,files:{id:n,key:n}}}},orgUser:[{orgId:x("orgId")},{orgBrowsableFiles:{id:n,key:n},visibleTeams:{id:n,projects:{id:n,files:{id:n,key:n}}}}]}]}};var IZ={fields:{currentUser:[{userId:b("userId")},{id:n,teamRoles:{id:n,team:{id:n,canRead:[{userId:b("userId")},n],canEdit:[{userId:b("userId")},n],canAdmin:[{userId:b("userId")},n],subscription:n,orgId:n}}}]}};var xZ={args:[{name:"key",type:{kind:"string"}}],fields:{variable:[{key:x("key"),userId:b("userId")},{...zO,file:{key:n,name:n,teamId:n}}]}};var _Z={args:[{name:"key",type:{kind:"string"}}],fields:{variableCollection:[{key:x("key"),userId:b("userId")},{...Pl,file:{key:n,name:n,teamId:n}}]}};var vZ={args:[{name:"variableCollectionKey",type:{kind:"string"}}],fields:{variableCollection:[{key:x("variableCollectionKey"),userId:b("userId")},{...Lp,file:{key:n,name:n,teamId:n}}]}};var OZ={args:[{name:"workspaceId",type:{kind:"bigint"},nullable:!1}],props:{sheddable:!1,priority:"p1"},fields:{workspace:[{id:x("workspaceId"),userId:b("userId")},{publicLinkControlsSetting:n}]}};var SZ={args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],props:{sheddable:!1,priority:"p1"},fields:{org:[{id:x("orgId"),userId:b("userId")},{workspaces:{id:n,canCreateTeam:[{userId:b("userId")},n]},sharedOrgLicenseGroupSetting:{teamCreationControls:n}}],currentUser:[{userId:b("userId")},{baseOrgUser:[{orgId:x("orgId")},{workspaceUsers:{workspaceId:n,isMainWorkspace:n},permission:n}]}]}};var DZ={args:[{name:"orgId",type:{kind:"bigint"}}],fields:{currentUser:[{userId:b("userId")},{id:n,baseOrgUser:[{orgId:x("orgId")},{pluginRequests:{id:n,createdAt:n,status:n,pluginId:n,workspaceId:n}}]}]}};var AZ={args:[{name:"workspaceId",type:{kind:"bigint"},nullable:!1}],props:{sheddable:!1,priority:"p1"},fields:{workspace:[{id:x("workspaceId"),userId:b("userId")},{orgAccess:n}]}};var FZ={args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],props:{sheddable:!1,priority:"p1"},fields:{org:[{id:x("orgId"),userId:b("userId")},{workspaces:{id:n,name:n,imgUrl:n,canView:[{userId:b("userId")},n]}}]}};var PZ={args:[{name:"fileKey",type:{kind:"string"}}],props:{sheddable:!1,priority:"p1"},fields:{file:[{key:x("fileKey"),userId:b("userId")},{team:{workspace:{librarySubscriptions:{fileKey:n,isSubscribed:n,figJamSubscribed:n}}}}]}};var jZ={args:[{name:"teamId",type:{kind:"string"}}],props:{sheddable:!1,priority:"p1"},fields:{team:[{id:x("teamId"),userId:b("userId")},{workspace:{librarySubscriptions:{fileKey:n,isSubscribed:n,figJamSubscribed:n}}}]}};var TZ={args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],props:{sheddable:!1,priority:"p1"},fields:{org:[{id:x("orgId"),userId:b("userId")},{workspaces:{id:n,name:n,canAdmin:[{userId:b("userId")},n]}}]}};var CZ={args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],props:{sheddable:!1,priority:"p1"},fields:{org:[{id:x("orgId"),userId:b("userId")},{workspaces:{id:n,name:n,orgId:n,mirroringLicenseGroup:{id:n},imgUrl:n,colorConfig:{colors:n},description:n,canAdmin:[{userId:b("userId")},n],canView:[{userId:b("userId")},n],admins:{id:n,baseOrgUser:{id:n,user:{id:n,handle:n,imgUrl:n,email:n}}},orgAccess:n}}],currentUser:[{userId:b("userId")},{id:n,baseOrgUser:[{orgId:x("orgId")},{workspaceUsers:{id:n,workspaceId:n,isMainWorkspace:n}}]}]}};var EZ={args:[{name:"orgId",type:{kind:"bigint"},nullable:!0}],props:{sheddable:!1,priority:"p1"},fields:{org:[{id:x("orgId"),userId:b("userId")},{workspaces:{id:n,name:n,imgUrl:n,orgAccess:n,admins:{id:n,baseOrgUser:{id:n,user:{id:n,handle:n,imgUrl:n}}}}}]}};var kZ={args:[{name:"workspaceId",type:{kind:"bigint"}}],props:{sheddable:!1,priority:"p1"},fields:{workspace:[{id:x("workspaceId"),userId:b("userId")},{id:n,name:n,defaultTeams:{teamId:n,team:{workspace:{name:n}}}}]}};var wZ={args:[{name:"workspaceId",type:{kind:"bigint"}}],props:{sheddable:!1,priority:"p1"},fields:{workspace:[{id:x("workspaceId"),userId:b("userId")},{name:n,approvedLibraries:{fileKey:n,resourceId:n,resourceType:n}}]}};var RZ={args:[{name:"workspaceId",type:{kind:"bigint"}}],props:{sheddable:!1,priority:"p1"},fields:{workspace:[{id:x("workspaceId"),userId:b("userId")},{members:{id:n,baseOrgUser:{id:n,user:{id:n,handle:n,imgUrl:n,email:n}},permission:n}}]}};var MZ={args:[],props:{sheddable:!0,priority:"p1"},fields:{jamboardOfferRedeemedAt:[{userId:b("userId")},{id:n,userId:n,redeemedAt:n}]}};var UZ={args:[{name:"themeKey",type:{kind:"string"},nullable:!0}],fields:{slidesTheme:[{themeKey:x("themeKey")},{userId:n,themeKey:n,variableSet:{id:n,version:n,key:n,checkpoint:{key:n}},variables:{key:n,version:n,variable:{...vR}},styles:{key:n,version:n,style:{...OR}},file:{key:n,name:n,teamId:n}}]}};var QGe={version:"1.13.2",session:{args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"sessionId",type:{kind:"string"},nullable:!0}]},views:{...$Y,...SR},objects:[{name:"root",fields:[{name:"currentUser",type:{kind:"object",name:"User"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["id","=",D("userId")]},{name:"team",type:{kind:"object",name:"Team"},args:[{name:"id",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["id","=",D("id")],checkCanRead:{userId:D("userId")},nullable:!0},{name:"project",type:{kind:"object",name:"Project"},args:[{name:"id",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["id","=",D("id")],checkCanRead:{userId:D("userId")},nullable:!0},{name:"recentPrototypes",type:{kind:"objects",name:"RecentPrototype"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["userId","=",D("userId")]},{name:"lastFrameSelection",type:{kind:"object",name:"LastFrameSelection"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["id","=",D("userId")]},{name:"latestClipboardData",type:{kind:"object",name:"LatestClipboardData"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"deviceType",type:{kind:"enum",name:"DeviceType"}}],filter:{and:[["id","=",D("userId")],["deviceType","=",D("deviceType")]]},orderBy:[["timestamp","DESC"]],expectedMaxCount:1},{name:"file",type:{kind:"object",name:"File"},args:[{name:"key",type:{kind:"string"}},{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["key","=",D("key")],checkCanRead:{fieldName:"canReadV2",userId:D("userId"),sessionId:b("sessionId")},nullable:!0},{name:"hubFile",type:{kind:"object",name:"HubFile"},args:[{name:"id",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["id","=",D("id")],checkCanRead:{userId:D("userId")},nullable:!0},{name:"figFileWorkshopMode",type:{kind:"object",name:"FigFileWorkshopMode"},args:[{name:"fileKey",type:{kind:"string"}}],filter:["fileKey","=",D("fileKey")],nullable:!0},{name:"figFileLinkExpirationConfig",type:{kind:"object",name:"FigFileLinkExpirationConfig"},args:[{name:"figFileKey",type:{kind:"string"}}],filter:["figFileKey","=",D("figFileKey")],nullable:!0},{name:"repo",type:{kind:"object",name:"Repo"},args:[{name:"id",type:{kind:"bigint"},nullable:!0},{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["id","=",D("id")],checkCanRead:{fieldName:"canReadV2",userId:D("userId"),sessionId:b("sessionId")},nullable:!0},{name:"prototype",type:{kind:"object",name:"Prototype"},args:[{name:"id",type:{kind:"bigint"},nullable:!0},{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["id","=",D("id")],checkCanRead:{userId:D("userId")},nullable:!0},{name:"org",type:{kind:"object",name:"Org"},args:[{name:"id",type:{kind:"bigint"},nullable:!0},{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["id","=",D("id")],checkCanRead:{userId:D("userId")},nullable:!0},{name:"orgJoinRequest",type:{kind:"object",name:"OrgJoinRequest"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"orgId",type:{kind:"bigint"},nullable:!0}],filter:{and:[["requesterUserId","=",D("userId")],["orgId","=",D("orgId")],["status","=","pending"]]},nullable:!0},{name:"workspace",type:{kind:"object",name:"Workspace"},args:[{name:"id",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["id","=",D("id")],checkCanRead:{userId:D("userId")},nullable:!0},{name:"licenseGroup",type:{kind:"object",name:"LicenseGroup"},args:[{name:"id",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["id","=",D("id")],nullable:!0,checkCanRead:{userId:D("userId")}},{name:"health",type:{kind:"object",name:"User"},filter:["id","<>","-1"],nullable:!0,expectedMaxCount:1},{name:"style",type:{kind:"object",name:"Style"},args:[{name:"key",type:{kind:"string"}},{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["key","=",D("key")],nullable:!0,checkCanRead:{userId:D("userId")}},{name:"styleWithDestinationAsset",type:{kind:"object",name:"StyleWithDestinationAsset"},args:[{name:"key",type:{kind:"string"}},{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["key","=",D("key")],nullable:!0,checkCanRead:{userId:D("userId")}},{name:"styleWithDestinationAssetV2",type:{kind:"object",name:"StyleWithDestinationAssetV2"},args:[{name:"key",type:{kind:"string"}},{name:"openFileKey",type:{kind:"string"},nullable:!0},{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["key","=",D("key")],nullable:!0,checkCanRead:{userId:D("userId"),openFileKey:D("openFileKey")}},{name:"libraryPublish",type:{kind:"object",name:"LibraryPublish"},args:[{name:"id",type:{kind:"uuid"}},{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["id","=",D("id")],nullable:!0,checkCanRead:{userId:D("userId")}},{name:"libraryPublishV2",type:{kind:"object",name:"LibraryPublishV2"},args:[{name:"id",type:{kind:"uuid"}},{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["id","=",D("id")],nullable:!0,checkCanRead:{userId:D("userId")}},{name:"component",type:{kind:"object",name:"Component"},args:[{name:"componentKey",type:{kind:"string"}},{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["componentKey","=",D("componentKey")],nullable:!0,checkCanRead:{userId:D("userId")}},{name:"stateGroup",type:{kind:"object",name:"StateGroup"},args:[{name:"key",type:{kind:"string"}},{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["key","=",D("key")],nullable:!0,checkCanRead:{userId:D("userId")}},{deprecated:{reason:"Use variableCollection instead",date:"2023-04-27"},name:"variableSet",type:{kind:"object",name:"VariableSet"},args:[{name:"key",type:{kind:"string"}},{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["key","=",D("key")],nullable:!0,checkCanRead:{userId:D("userId")}},{name:"variableCollection",type:{kind:"object",name:"VariableSet"},args:[{name:"key",type:{kind:"string"}},{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["key","=",D("key")],nullable:!0,checkCanRead:{userId:D("userId")}},{name:"variable",type:{kind:"object",name:"Variable"},args:[{name:"key",type:{kind:"string"}},{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["key","=",D("key")],nullable:!0,checkCanRead:{userId:D("userId")}},{name:"plugin",type:{kind:"object",name:"Plugin"},args:[{name:"pluginId",type:{kind:"string"}},{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"orgId",type:{kind:"bigint"},nullable:!0}],filter:["id","=",D("pluginId")],nullable:!0,checkCanRead:{userId:D("userId"),orgId:D("orgId")}},{name:"pluginPreferences",type:{kind:"object",name:"PluginPreferences"},args:[{name:"currentUserId",type:{kind:"bigint"},nullable:!0},{name:"targetUserId",type:{kind:"bigint"},nullable:!0},{name:"targetOrgId",type:{kind:"bigint"},nullable:!0}],nullable:!0,checkCanRead:{targetUserId:D("targetUserId"),targetOrgId:D("targetOrgId"),currentUserId:D("currentUserId")},filter:{or:[{and:[["userId","=",D("targetUserId")],["userId","<>",null]]},{and:[["orgId","=",D("targetOrgId")],["orgId","<>",null]]}]}},{name:"pluginSecurityFormResponse",args:[{name:"pluginId",type:{kind:"string"}}],type:{kind:"object",name:"PluginSecurityFormResponses"},nullable:!0,filter:["pluginId","=",D("pluginId")]},{name:"communityProfile",type:{kind:"object",name:"Profile"},args:[{name:"profileId",type:{kind:"bigint"}}],filter:{and:[["id","=",D("profileId")],["publicAt","<>",null]]},nullable:!0},{name:"communityHubLike",type:{kind:"object",name:"CommunityHubLike"},args:[{name:"profileId",type:{kind:"bigint"}},{name:"hubFileId",type:{kind:"bigint"},nullable:!0},{name:"pluginId",type:{kind:"bigint"},nullable:!0}],filter:{and:[["profileId","=",D("profileId")],["hubFileId","=",D("hubFileId")],["pluginId","=",D("pluginId")]]},nullable:!0,checkCanRead:{userId:b("userId"),profileId:D("profileId")}},{name:"communityResourcePayment",type:{kind:"object",name:"CommunityResourcePayment"},args:[{name:"monetizedResourceMetadataId",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["monetizedResourceMetadataId","=",D("monetizedResourceMetadataId")],nullable:!0,checkCanRead:{userId:D("userId")}},{name:"communityRatingStatsForHubFile",type:{kind:"object",name:"CommunityRatingStats"},args:[{name:"hubFileId",type:{kind:"bigint"},nullable:!0}],filter:{and:[["hubFileId","=",D("hubFileId")],["hubFileId","<>",null]]},nullable:!0},{name:"communityRatingStatsForWidget",type:{kind:"object",name:"CommunityRatingStats"},args:[{name:"widgetId",type:{kind:"bigint"},nullable:!0}],filter:{and:[["widgetId","=",D("widgetId")],["widgetId","<>",null]]},nullable:!0},{name:"communityRatingStatsForPlugin",type:{kind:"object",name:"CommunityRatingStats"},args:[{name:"pluginId",type:{kind:"bigint"},nullable:!0}],filter:{and:[["pluginId","=",D("pluginId")],["pluginId","<>",null]]},nullable:!0},{name:"communityRatingForProfileAndResource",type:{kind:"object",name:"CommunityComment"},args:[{name:"pluginId",type:{kind:"bigint"},nullable:!0},{name:"hubFileId",type:{kind:"bigint"},nullable:!0},{name:"profileId",type:{kind:"bigint"}}],filter:{and:[["ratingValue","<>",null],["profileId","=",D("profileId")],{or:[{and:[["pluginId","=",D("pluginId")],["pluginId","<>",null]]},{and:[["hubFileId","=",D("hubFileId")],["hubFileId","<>",null]]}]}]},nullable:!0},{name:"monetizedResourceMetadata",type:{kind:"object",name:"MonetizedResourceMetadata"},args:[{name:"id",type:{kind:"bigint"}}],filter:["id","=",D("id")],nullable:!0},{name:"communityM10nResourceStat",type:{kind:"object",name:"CommunityM10nResourceStat"},args:[{name:"sessionUserId",type:{kind:"bigint"},nullable:!0},{name:"monetizedResourceMetadataId",type:{kind:"bigint"}}],filter:["monetizedResourceMetadataId","=",D("monetizedResourceMetadataId")],nullable:!0,checkCanRead:{monetizedResourceMetadataId:D("monetizedResourceMetadataId"),sessionUserId:D("sessionUserId")}},{name:"userMonetizationMetadata",type:{kind:"object",name:"UserMonetizationMetadata"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"sessionUserId",type:{kind:"bigint"},nullable:!0}],filter:["userId","=",D("userId")],nullable:!0,checkCanRead:{userId:D("userId"),sessionUserId:D("sessionUserId")}},{name:"feedPost",type:{kind:"object",name:"FeedPost"},args:[{name:"publicUuid",type:{kind:"uuid"}}],filter:["publicUuid","=",D("publicUuid")],nullable:!0,checkCanRead:{userId:b("userId")}},{name:"mobileFeedPost",type:{kind:"object",name:"FeedPost"},args:[{name:"id",type:{kind:"bigint"}}],filter:["id","=",D("id")],nullable:!0,checkCanRead:{userId:b("userId")}},{name:"developerLinks",type:{kind:"objects",name:"DeveloperLink"},args:[{name:"key",type:{kind:"string"}}],filter:["key","=",D("key")],nullable:!0,expectedMaxCount:10},{name:"developerRelatedLinks",type:{kind:"objects",name:"DeveloperRelatedLink"},args:[{name:"nodeId",type:{kind:"string"}},{name:"fileKey",type:{kind:"string"}}],filter:{and:[["nodeId","=",D("nodeId")],["fileKey","=",D("fileKey")]]},nullable:!0},{name:"developerCodeSnippet",type:{kind:"object",name:"DeveloperCodeSnippet"},args:[{name:"key",type:{kind:"string"}},{name:"platform",type:{kind:"string"}}],filter:{and:[["key","=",D("key")],["platform","=",D("platform")]]},nullable:!0},{name:"libraryByFileKey",type:{kind:"object",name:"Library"},args:[{name:"fileKey",type:{kind:"string"}}],filter:{and:[["fileKey","=",D("fileKey")],["hubFileId","=",null]]},nullable:!0},{name:"communityLibraryByHubFileId",type:{kind:"object",name:"CommunityLibrary"},args:[{name:"hubFileId",type:{kind:"bigint"}}],filter:["hubFileId","=",D("hubFileId")],nullable:!0,checkCanRead:{userId:b("userId")}},{name:"communityLibraryByHubFileIds",type:{kind:"objects",name:"CommunityLibrary"},args:[{name:"hubFileIds",type:{kind:"list",ofType:{kind:"bigint"}}}],filter:{and:[["hubFileId","<>",null],["hubFileId","in",D("hubFileIds")]]},nullable:!0,checkCanRead:{userId:b("userId")}},{name:"orgAdminUsers",type:{kind:"objects",name:"OrgAdminUserSearchResult"},args:[{name:"orgId",type:{kind:"bigint"}},{name:"queryParams",type:{kind:"string"},nullable:!0},{name:"firstPageSize",type:{kind:"int"},nullable:!0},{name:"userId",type:{kind:"bigint"},nullable:!0}],nullable:!0,resolver:{type:"HTTP",uri:"/api/internal/livegraph/pagination_resolver/org_admin",queryParams:{org_id:D("orgId"),query_params:D("queryParams"),userId:D("userId")},realtimePolicy:{type:"Static"}},pagination:{firstPageSize:D("firstPageSize")},orderBy:"Unordered"},{name:"orgAdminUsersInfo",type:{kind:"object",name:"OrgAdminUsersInfo"},args:[{name:"orgId",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"},nullable:!0}],resolver:{type:"HTTP",uri:"/api/internal/livegraph/sinatra_resolver/org_admin_users_info",queryParams:{org_id:D("orgId"),userId:D("userId")},realtimePolicy:{type:"Static"}}},{name:"feedPosts",type:{kind:"objects",name:"FeedPostResult"},args:[{name:"orgId",type:{kind:"bigint"},nullable:!0},{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"feedFilter",type:{kind:"string"},nullable:!0},{name:"firstPageSize",type:{kind:"int"},nullable:!0}],orderBy:[["createdAt","DESC"]],pagination:{firstPageSize:D("firstPageSize")},resolver:{type:"HTTP",uri:"/api/internal/livegraph/pagination_resolver/feed_posts",queryParams:{userId:D("userId"),org_id:D("orgId"),feedFilter:D("feedFilter")},realtimePolicy:{type:"Static"}}},{name:"profile",type:{kind:"object",name:"Profile"},args:[{name:"profileId",type:{kind:"bigint"},nullable:!0}],filter:["id","=",D("profileId")]},{name:"sharedWithYouResources",type:{kind:"objects",name:"SharedWithYouResource"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"resourceTypes",type:{kind:"list",ofType:{kind:"string"}}},{name:"firstPageSize",type:{kind:"int"}},{name:"sortOrder",type:{kind:"string"}},{name:"cursorColumn",type:{kind:"string"}},{name:"sharedBy",type:{kind:"bigint"},nullable:!0},{name:"planId",type:{kind:"bigint"},nullable:!0},{name:"planType",type:{kind:"string"},nullable:!0},{name:"fileType",type:{kind:"string"},nullable:!0},{name:"orgDeletedDrafts",type:{kind:"string"},nullable:!0}],pagination:{firstPageSize:D("firstPageSize")},resolver:{type:"HTTP",uri:"/api/internal/livegraph/pagination_resolver/shared_with_you_resources",queryParams:{userId:D("userId"),resource_types:D("resourceTypes"),sort_order:D("sortOrder"),cursor_column:D("cursorColumn"),sharer_id:D("sharedBy"),plan_id:D("planId"),plan_type:D("planType"),file_type:D("fileType"),org_deleted_drafts:D("orgDeletedDrafts")},realtimePolicy:{type:"Static"}},orderBy:"Unordered"},{name:"sharedWithYouFile",type:{kind:"object",name:"SharedWithYouFile"},args:[{name:"id",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"},nullable:!0}],checkCanRead:{userId:D("userId"),sessionId:b("sessionId")},nullable:!0,filter:["id","=",D("id")]},{name:"sharedWithYouRepo",type:{kind:"object",name:"SharedWithYouRepo"},args:[{name:"id",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"},nullable:!0}],checkCanRead:{userId:D("userId"),sessionId:b("sessionId")},nullable:!0,filter:["id","=",D("id")]},{name:"sharedWithYouPrototype",type:{kind:"object",name:"SharedWithYouPrototype"},args:[{name:"id",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"},nullable:!0}],checkCanRead:{userId:D("userId"),sessionId:b("sessionId")},nullable:!0,filter:["id","=",D("id")]},{name:"sharedWithYouFolder",type:{kind:"object",name:"SharedWithYouFolder"},args:[{name:"id",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"},nullable:!0}],checkCanRead:{userId:D("userId")},nullable:!0,filter:["id","=",D("id")]},{name:"sharedWithYouTeam",type:{kind:"object",name:"SharedWithYouTeam"},args:[{name:"id",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"},nullable:!0}],checkCanRead:{userId:D("userId")},nullable:!0,filter:["id","=",D("id")]},{name:"userNotificationBell",type:{kind:"object",name:"UserNotificationBell"},args:[{name:"userId",type:{kind:"string"},nullable:!0}],filter:{and:[["userId","=",D("userId")]]},nullable:!0},{name:"userColorProfilePreference",type:{kind:"object",name:"UserColorProfilePreference"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["userId","=",D("userId")],nullable:!0},{name:"colorPalettesForTeam",type:{kind:"objects",name:"ColorPalette"},args:[{name:"teamId",type:{kind:"bigint"}}],filter:["teamId","=",D("teamId")],checkCanRead:{userId:b("userId")},nullable:!0},{name:"resourceSave",type:{kind:"object",name:"ResourceSave"},args:[{name:"hubFileId",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:{and:[["hubFileId","=",D("hubFileId")],["userId","=",D("userId")]]},nullable:!0},{name:"resourceSaves",type:{kind:"objects",name:"ResourceSave"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["userId","=",D("userId")],nullable:!0},{name:"pluginInstall",type:{kind:"object",name:"PluginInstall"},args:[{name:"pluginId",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:{and:[["pluginId","=",D("pluginId")],["userId","=",D("userId")]]},nullable:!0},{name:"colorPaletteForUuid",type:{kind:"object",name:"ColorPalette"},args:[{name:"uuid",type:{kind:"uuid"}}],filter:["uuid","=",D("uuid")],checkCanRead:{userId:b("userId")},nullable:!0},{name:"appliedColorPaletteForFile",type:{kind:"object",name:"FileColorPalette"},args:[{name:"fileKey",type:{kind:"string"}}],filter:{and:[["fileKey","=",D("fileKey")]]},deprecated:{reason:`The view AppliedColorPaletteForFile now reads the defaultColorPaletteData
              and userColorPaletteOverrideData fields from the file object directly.`,date:"2023-06-27"},nullable:!0},{name:"pendingUserMentions",type:{kind:"objects",name:"PendingUserMentions"},args:[{name:"fileCommentId",type:{kind:"bigint"}}],filter:["fileCommentId","=",D("fileCommentId")],nullable:!0},{name:"billingTrialForResourceAndPlanType",type:{kind:"object",name:"BillingTrial"},args:[{name:"resourceId",type:{kind:"bigint"}},{name:"resourceType",type:{kind:"enum",name:"BillingTrialResourceType"}},{name:"planType",type:{kind:"enum",name:"BillingTrialPlanType"}}],filter:{and:[["resourceId","=",D("resourceId")],["resourceType","=",D("resourceType")],["planType","=",D("planType")]]},orderBy:[["createdAt","DESC"]],expectedMaxCount:1,nullable:!0},{name:"billingTrialForResource",type:{kind:"object",name:"BillingTrial"},args:[{name:"resourceId",type:{kind:"bigint"}},{name:"resourceType",type:{kind:"enum",name:"BillingTrialResourceType"}}],filter:{and:[["resourceId","=",D("resourceId")],["resourceType","=",D("resourceType")]]},orderBy:[["createdAt","DESC"]],expectedMaxCount:1,nullable:!0},{name:"jamboardOfferRedeemedAt",type:{kind:"object",name:"JamboardOfferRedeemedAt"},args:[{name:"userId",type:{kind:"bigint"},nullable:!0}],filter:["userId","=",D("userId")],expectedMaxCount:1,nullable:!0},{name:"subscriptionUpdateSloData",type:{kind:"object",name:"SubscriptionUpdateSloData"},args:[{name:"id",type:{kind:"uuid"}}],filter:["id","=",D("id")],nullable:!0},{name:"slidesTheme",type:{kind:"objects",name:"SlidesTheme"},args:[{name:"themeKey",type:{kind:"string"},nullable:!0}],filter:["themeKey","=",D("themeKey")],nullable:!0},{name:"adminRequestDashboardRows",type:{kind:"objects",name:"AdminRequestDashboardRow"},args:[{name:"planType",type:{kind:"string"}},{name:"planId",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"sortOrder",type:{kind:"string"},nullable:!0},{name:"filterParams",type:{kind:"string"},nullable:!0},{name:"firstPageSize",type:{kind:"int"},nullable:!0}],orderBy:"Unordered",pagination:{firstPageSize:D("firstPageSize")},resolver:{type:"HTTP",uri:"/api/internal/livegraph/pagination_resolver/admin_request_dashboard",queryParams:{userId:D("userId"),plan_type:D("planType"),plan_id:D("planId"),sort_order:D("sortOrder"),filter_params:D("filterParams")},realtimePolicy:{type:"Static"}},nullable:!0},{name:"adminRequestDashboardRowCount",type:{kind:"object",name:"AdminRequestDashboardRowCount"},args:[{name:"planType",type:{kind:"string"}},{name:"planId",type:{kind:"bigint"}},{name:"userId",type:{kind:"bigint"},nullable:!0},{name:"filterParams",type:{kind:"string"},nullable:!0}],resolver:{type:"HTTP",uri:"/api/internal/livegraph/sinatra_resolver/admin_request_dashboard_row_count",queryParams:{userId:D("userId"),plan_type:D("planType"),plan_id:D("planId"),filter_params:D("filterParams")},realtimePolicy:{type:"Static"}},nullable:!0}]},I4,h4,V_,b4,y4,C4,w4,N4,y$,e3,_4,v4,k4,E4,V3,w$,o3,e6,j$,j4,i5,o6,g6,u5,t5,o5,s6,h$,I$,m6,a6,B4,b$,P$,c$,v$,m$,g$,f$,F$,l6,C$,R$,M$,U$,r6,d6,V$,q$,S$,f3,b3,y3,m3,g3,I3,x3,p3,h3,_3,S3,D3,A3,w3,L3,x$,_$,S5,p5,h5,f5,A$,B3,H4,$4,Q4,J4,X4,Z4,S4,A4,i3,n3,j3,G$,k3,sp,E6,k6,j6,I6,I5,_5,O5,H$,K$,l3,c4,f4,a4,l4,D$,B$,Y$,Q$,s3,W$,F3,T3,J$,X$,$$,z$,Z$,R3,M3,U3,D4,u3,d3,c3,T4,T$,o4,s5,p$,b5,P4,x4,s4,r4,e4,t4,n4,i4,A5,F5,P5,E$,k$,K3,W3,H3,G3,$3,z3,y5,r5,JK,c6,h6,D5,n5,XK,t6,C3,E3,P3,v3,O3,u4,g5,Y3,Q3,s$,i$,n$,o$,a$,l$,u$,d$,q_,a5,p6,g4,m4,p4,u6,x6,O6,v6,_6,S6,D6,d4,O4,c5,f6,z4,K4,W4,Y4,q3,L$,F4,q4,O$,b6,y6,ZK,R4,M4,U4,L4,d5,V4,a3,T6,N3,m5,N$,l5,P6,F6,A6,C6,x5,v5,t3,r3,G4],enums:QK,legacyConfigDef:{exemptions:{viewArg:{string:{bigint:["FilePermissions.file.repo.roles.user.teamUser.teamId","FilePermissions.file.roles.user.teamUser.teamId","FilePermissionsV2.file.readableRoles.user.teamUser.teamId","FilePermissionsV2.file.repo.roles.user.teamUser.teamId","FolderCanEdit.project.id","FolderCanView.project.id","FolderIsOwner.project.id","FolderPermissions.project.projectId","LibraryManagementData.org.orgId","LicenseGroupSubscribedLibrariesForTeam.team.teamId","ProRequestUpgradeModalData.team.teamId","ProjectTilePermissions.project.projectId","RepoCanEdit.repo.id","RepoCanViewPrototype.repo.id","TeamCanAdmin.team.id","TeamCanEdit.team.id","TeamCanView.team.id","TeamIsOwner.team.id","TeamPermissions.team.teamId","UserMonetizationMetadata.userMonetizationMetadata.userId","WorkspaceSubscribedLibrariesForTeam.team.teamId"]}},filterArg:{string:{bigint:["Component"+".user.id","FavoritedProject"+".readableProject.id","FavoritedPrototype"+".prototype.id","FavoritedPrototype"+".readablePrototype.id","FavoritedTeam"+".team.id","FavoritedWorkspace"+".licenseGroup.id","FavoritedWorkspace"+".workspace.id","File"+".linkExpirationConfig.figFileKey","File"+".mainFileLinkExpirationConfig.figFileKey","File"+".fileLinkExpirationConfig.figFileKey","File"+".sourceFileLinkExpirationConfig.figFileKey","File"+".publishedHubFile.figFileId","File"+".pwdConfig.figFileId","OrgAwareTeamRole"+".team.id","OrgUserUpgradeWithProject"+".project.id","OrgUserUpgradeWithRepo"+".repo.id","OrgUserUpgradeWithTeam"+".team.id","ProjectRole"+".project.id","Repo"+".linkExpirationConfig.figFileKey","Repo"+".mainFileLinkExpirationConfig.figFileKey","RepoRole"+".repo.id","SharedWithYouFolder"+".folder.id","SharedWithYouRepo"+".repo.id","SharedWithYouTeam"+".team.id","StateGroup"+".user.id","Style"+".user.id","StyleWithDestinationAsset"+".user.id","StyleWithDestinationAssetV2"+".user.id","StyleWithLegacySourceAsset"+".user.id","TeamRole"+".team.id","Template"+".publishedByUser.id","Template"+".publishedByUserNullable.id","Variable"+".user.id","VariableSet"+".user.id","root.developerLinks.key","root.figFileLinkExpirationConfig.figFileKey","root.plugin.id","root.pluginSecurityFormResponse.pluginId"]}},computedFieldArg:{string:{bigint:["UserMonetizationMetadata"+".canRead.root.user.userId"]}}},allowAllExemptions:!1}},DR=QGe;var aKe=Ie(qZ(),1),lKe=Ie(RR(),1),uKe=Ie(MR(),1),HR=Ie(WR(),1),dKe=Ie(Lee(),1);var Nee;(o=>(o._name="FileCanViewPrototype",o._argKeys=["key"],o._hash="c6eab60defed17a0ed437c8f32580c9f8cf6778c71ff81e7f2083f634e44cf94"))(Nee||(Nee={}));var Vee;(o=>(o._name="FileCanView",o._argKeys=["key"],o._hash="48ac38814b2237c2065d4ff4882b2cb209c6d3f198aba1f4bd50abb022009ae8"))(Vee||(Vee={}));var qee;(o=>(o._name="FileCanEdit",o._argKeys=["key"],o._hash="643c2a05daae274b5d3321fbdcf7b17b79f2e79a1034d438797472bd97393a01"))(qee||(qee={}));var Bee;(o=>(o._name="FileCanEditCanvas",o._argKeys=["key"],o._hash="b194dd9783ee6bd825ae9732a909db2484305b9d2d5af4b6fb642551cb6f50a6"))(Bee||(Bee={}));var Wee;(o=>(o._name="FileCanPublishTemplate",o._argKeys=["key"],o._hash="f696820ab1ffdbad28ffce0853e92df9d8eb2da66767ddca8195afd60d158944"))(Wee||(Wee={}));var Gee;(o=>(o._name="FileCanInsertTemplate",o._argKeys=["key"],o._hash="529bb846add2c9dbc6426845a8fc1254c172e901b5adc1eb75f85d2fdfdc550e"))(Gee||(Gee={}));var Hee;(o=>(o._name="FileCanManage",o._argKeys=["key"],o._hash="987682370bd275428a4963c11e323f210d666369bcf37a9fec09d1fe8f03e4cd"))(Hee||(Hee={}));var Kee;(o=>(o._name="FileCanDiscover",o._argKeys=["key"],o._hash="a57917afbc9a52e771a2a5566b0c529662df75214079ecc0680441ed10dc03e2"))(Kee||(Kee={}));var $ee;(o=>(o._name="FileCanRename",o._argKeys=["key"],o._hash="87b5d4e2825560b69bb48e783bfaba67be824394071da2587fbd076dbf7092cb"))($ee||($ee={}));var zee;(o=>(o._name="FileCanDelete",o._argKeys=["key"],o._hash="0cd796892bea0225acd729c588699af6b239b42550319a5480f137aa4d6002ca"))(zee||(zee={}));var Yee;(o=>(o._name="FileCanFavorite",o._argKeys=["key"],o._hash="2000b071aacee9da5b005acecd19b3e342f9cd1e070cbfc827d16da1f16498d5"))(Yee||(Yee={}));var Qee;(o=>(o._name="FileCanViewAndCreateComments",o._argKeys=["key"],o._hash="f99edfef6ff5371941de0561998a310d8c1637346a4965485361e74ae8b9cf43"))(Qee||(Qee={}));var Jee;(o=>(o._name="FileCanMoveComments",o._argKeys=["key"],o._hash="d9915d3d90f7af6d8edb43274eb01eb3245181d8c985c6549fcf4ad42a0768d1"))(Jee||(Jee={}));var Xee;(o=>(o._name="FileCanEditIgnorePaidStatus",o._argKeys=["key"],o._hash="c0645a63f9c8296d39565df1a8b6bcc3a73169457943ccea99ab43aedac93eb1"))(Xee||(Xee={}));var Zee;(o=>(o._name="FileCanEditIgnoreEduGracePeriod",o._argKeys=["key"],o._hash="d9ccbe4d68d2818003c0eff67ad8b2f75afdbff87659840ed1a96477ba4a20f6"))(Zee||(Zee={}));var ete;(o=>(o._name="FileCanAccessBasicDevMode",o._argKeys=["key"],o._hash="96f827fc76f379984b3006fcdb7dd1740c8c5fa989768cc87bd51abb90411090"))(ete||(ete={}));var tte;(o=>(o._name="FileCanAccessFullDevMode",o._argKeys=["key"],o._hash="302fbd5879cecb4610fe6df0a296cc2451f6080d9856a69158f09c4e496b5f34"))(tte||(tte={}));var rte;(o=>(o._name="RepoCanViewPrototype",o._argKeys=["id"],o._hash="675ae8e00e683fd367418a29ed69f3ea04cfbcfe82c195a2145097418e2cfc0b"))(rte||(rte={}));var ite;(o=>(o._name="RepoCanEdit",o._argKeys=["id"],o._hash="690bd4ed85e298f5ace65f86eab428eccb15a47ea6c4c3ab15891bbd2fed0397"))(ite||(ite={}));var nte;(o=>(o._name="FolderCanView",o._argKeys=["id"],o._hash="70ecb44b81d469b5104c6b0eaedb2720da5bd071d4736c4dd120b7c335c75609"))(nte||(nte={}));var ste;(o=>(o._name="FolderCanEdit",o._argKeys=["id"],o._hash="d99e6e3bdbc0fb50136cd9e5277b9f10d6d3cd990f6b174e494f0fe791501f02"))(ste||(ste={}));var ote;(o=>(o._name="FolderIsOwner",o._argKeys=["id"],o._hash="ad6da55833e7710a0860da6f293d3c401700a70c6670310bd93c0328e6f1b152"))(ote||(ote={}));var ate;(o=>(o._name="TeamCanView",o._argKeys=["id"],o._hash="f91074f4851884b6957717ce7253f5da45b4e76b3d61e9a209c39cfd4e3b60fd"))(ate||(ate={}));var lte;(o=>(o._name="TeamCanEdit",o._argKeys=["id"],o._hash="aed3e798b36291c9381d2dbef51e0e662efaf8848c388e3d20542172e19bf178"))(lte||(lte={}));var ute;(o=>(o._name="TeamCanAdmin",o._argKeys=["id"],o._hash="ee6e0cc473b7fb71ab34c563834a9dd0b82c39552594b1e690a96509361d603c"))(ute||(ute={}));var dte;(o=>(o._name="TeamIsOwner",o._argKeys=["id"],o._hash="2dacb181fae79b9852eeee4a1e5fa0d471de7905779396addd012bc96b415c94"))(dte||(dte={}));var cte;(o=>(o._name="AccessibleFolders",o._argKeys=["orgId"],o._hash="646a01f44021bd8c180e60c462c824caadcd867410c40a40aa11c754a698a85c"))(cte||(cte={}));var pte;(o=>(o._name="AccessibleFoldersV2",o._argKeys=["orgId"],o._hash="4971731a4e063523799d86eccfc5ff7b89fb066e6071cf181ab957035ed92246"))(pte||(pte={}));var mte;(o=>(o._name="ActiveFileUsersForFileView",o._argKeys=["fileKey"],o._hash="5f1d95341891783b9628176ec323d3e47e0cecc92f5f55840722cecc727b5af6"))(mte||(mte={}));var gte;(o=>(o._name="ExtensionActivityLogHistoryView",o._argKeys=["orgId","actedOnIdOrKey","userId"],o._hash="aca0968c8a26d8435b000c3d50bb73f508727dc01fdf175cc58692dd78344e5c"))(gte||(gte={}));var fte;(o=>(o._name="AdminRequestDashboardView",o._argKeys=["planType","planId","sortOrder","filterParams","firstPageSize"],o._hash="007bd918f3f3e8199d99c197feb0010d434f702635a1c36fe000bcca0ca5177b"))(fte||(fte={}));var bte;(o=>(o._name="AdminSettingsSelectorView",o._argKeys=["orgId"],o._hash="4147f294bfa4efbd6a993605ee12d8918bf2aba79ae900c6cd30e3041551e95f"))(bte||(bte={}));var yte;(o=>(o._name="AllowlistPluginsSectionView",o._argKeys=["orgId"],o._hash="5669b9ba8dd4c8250841695e86b87b4755ab5b8c5b5eed238c02eb8e6623adf6"))(yte||(yte={}));var hte;(o=>(o._name="AllowlistSettingsModalView",o._argKeys=["orgId"],o._hash="0c693a1d2129815e969eaf337d6e3f543053dc7b7e5d4e715d172f6e76fe91ba"))(hte||(hte={}));var Ite;(o=>(o._name="AppliedColorPaletteForFile",o._argKeys=["fileKey"],o._hash="d7bb73a2b34fc6a8b262a0d3c6a14139aabe2f321f2198e9a8f64aaad1aaa3c3"))(Ite||(Ite={}));var xte;(o=>(o._name="AutoRunPluginsView",o._argKeys=["targetOrgId","targetUserId"],o._hash="c7138f978fb394c9c609f3d73b2e69b5d4a275e015d4e45bf73c584aecd940b9"))(xte||(xte={}));var _te;(o=>(o._name="BillingTrialForResource",o._argKeys=["resourceId","resourceType"],o._hash="eae7e0970266b809811d071443b722e7cd0bcea765f60ea9ac150d6c8983076a"))(_te||(_te={}));var vte;(o=>(o._name="BillingTrialForResourceAndPlanType",o._argKeys=["resourceId","resourceType","planType"],o._hash="266a0830caf0d0cc90461eff7153ec71964454cca44fc69221bed13689cded69"))(vte||(vte={}));var Ote;(o=>(o._name="BlockingPrototypeData",o._argKeys=["fileKey"],o._hash="b83030f85414f748104fcf5fc4ac7e59335c82388a0a2cd9e1443f1a9d4fed74"))(Ote||(Ote={}));var Ste;(o=>(o._name="BlockingUserState",o._argKeys=[],o._hash="f156dee134b054963ffc5c9cb4b70eecc8779fbb2f3248d04dbae4c7a95ae28e"))(Ste||(Ste={}));var Dte;(o=>(o._name="BranchOpenMergeRequest",o._argKeys=["branchFileKey"],o._hash="f8edbf534eda2e25b28944111acba2c4a4389bdabbe3317aad41c398fada7496"))(Dte||(Dte={}));var Ate;(o=>(o._name="BrowseTemplatesView",o._argKeys=["currentOrgId"],o._hash="ace64503f7e7ab64486ebbba35dbde191c4a7771ffedaa84bf681954f3708f25"))(Ate||(Ate={}));var Fte;(o=>(o._name="ChurnFrictionPersonalizedModalView",o._argKeys=["teamId"],o._hash="a7851e2e2978128a48b7cde5603fe7034be5a4f549fb433cd971790c5e6acf0c"))(Fte||(Fte={}));var Pte;(o=>(o._name="ColorPaletteForUuid",o._argKeys=["uuid"],o._hash="b6e5b57e1dbc8191b78905643b482d34f17bcba290a2ffbfe235f2944f96d331"))(Pte||(Pte={}));var jte;(o=>(o._name="ColorPalettesForTeam",o._argKeys=["teamId"],o._hash="4ee8f8daf1158220a88697aa5b15cd63e62423c791e11329a99da157f201368f"))(jte||(jte={}));var Tte;(o=>(o._name="CommunityHubLikeForProfile",o._argKeys=["profileId","hubFileId","pluginId"],o._hash="0b2c5247975aa8bfb0f1b20240405ca5c36298ce51f868b46e4272567df5ba7c"))(Tte||(Tte={}));var Cte;(o=>(o._name="CommunityLibraries",o._argKeys=["hubFileIds"],o._hash="7c3cc81ce028b9870ba4d08842a8b3710b3ca7cc60b280fe8ec60bd293b7c88f"))(Cte||(Cte={}));var Ete;(o=>(o._name="CommunityPayment",o._argKeys=["monetizedResourceMetadataId"],o._hash="0fc7e090505e4843be46ef517e18e051b23d36baebf2d6a9f90897b1e630fbcb"))(Ete||(Ete={}));var kte;(o=>(o._name="CommunityProfileView",o._argKeys=["profileId"],o._hash="6671d8587961b8af52b5b57c1ea9342a3b4808efd7a51d720a873fc4f3996066"))(kte||(kte={}));var wte;(o=>(o._name="CommunityRatingHubFileView",o._argKeys=["hubFileId","profileId"],o._hash="0e79dab7a17cc14186f061777e89f5a3562e534ddd129f353a28550d2d2c0b6a"))(wte||(wte={}));var Rte;(o=>(o._name="CommunityRatingPluginView",o._argKeys=["pluginId","profileId","orgId"],o._hash="317ecefdc69796041428a80b335b462be9dbdf0f2a77d3cab9999ab2b788d44a"))(Rte||(Rte={}));var Mte;(o=>(o._name="CommunityRatingStats",o._argKeys=["hubFileId","pluginId","widgetId"],o._hash="c76053f46a7802dcb936528692afdf6d9fa247546e730d3afacd2274c759ea61"))(Mte||(Mte={}));var Ute;(o=>(o._name="CommunityResourceStat",o._argKeys=["monetizedResourceMetadataId"],o._hash="a5bf64bfc576c2d4da406f8ef240d196c2892b5013607631d1a9bf8edb429452"))(Ute||(Ute={}));var Lte;(o=>(o._name="ComponentByKey",o._argKeys=["key"],o._hash="66aefe53c73e612da6c8123a109d37c2ad9527c43b653180ab552001518c9f5a"))(Lte||(Lte={}));var Nte;(o=>(o._name="CopyLinkFileData",o._argKeys=["fileKey"],o._hash="bee17c0e9834586fcf204d79f360e73440eb63dbf301d258f67356badd05fc42"))(Nte||(Nte={}));var bS;(o=>(o._name="CurrentUserFileRecentsView",o._argKeys=[],o._hash="f9da04ed7a95ef4d8bd39f8431b9d41e174762399394bbff4516d1568f707f90"))(bS||(bS={}));var Vte;(o=>(o._name="CurrentUserAssignedWorkspaceView",o._argKeys=["orgId"],o._hash="728344fed7184255d8ebdfc4a58a2d0cb7c8f2e5e6a6ba163c3c6314bde44891"))(Vte||(Vte={}));var qte;(o=>(o._name="CurrentWorkspaceView",o._argKeys=["fileKey"],o._hash="b37ca03df4ca9a6b339690368ea9b85fb1b4fa8d6a7624a425b8d47d45da4f74"))(qte||(qte={}));var Bte;(o=>(o._name="DesktopNewTabData",o._argKeys=["currentOrgId"],o._hash="a7b0f6cd51d7d3f51b365907c971514862180a076dd2b971c9046e92b4086d12"))(Bte||(Bte={}));var Wte;(o=>(o._name="DeveloperCodeSnippet",o._argKeys=["key","platform"],o._hash="82280a26081a8b1f915c38ed90de18d0718888d60da48c26227ac1e271b5bb09"))(Wte||(Wte={}));var Gte;(o=>(o._name="DeveloperLinks",o._argKeys=["key"],o._hash="3522a726905686c70d0b9f2779ad86564010292cadb5746484f39bb9ad913e1f"))(Gte||(Gte={}));var Hte;(o=>(o._name="DeveloperRelatedLinks",o._argKeys=["fileKey"],o._hash="d31ac965ef03c0e34554d512dfdf62bd711d232e5e9f45682c6502ee4719917c"))(Hte||(Hte={}));var Kte;(o=>(o._name="DeveloperRelatedLinksForNode",o._argKeys=["fileKey","nodeId"],o._hash="76977ed58868a6fc5f10775c6ab56a7ae1c0edc9a9f855c28aa52f358f7dc558"))(Kte||(Kte={}));var $te;(o=>(o._name="DraftsToMoveFoldersByUserId",o._argKeys=[],o._hash="8d7a8cd8c7f9d3a61a4e7071fc76629f4bfd0186e89a3977274c172888dc944d"))($te||($te={}));var zte;(o=>(o._name="EduOffboardingData",o._argKeys=[],o._hash="b36370e9d9b4fd8b042eb53c67bf3670b11a97c010b837d98a399a9588170670"))(zte||(zte={}));var Yte;(o=>(o._name="EnterpriseOrgAdminOnboardingSequenceView",o._argKeys=["orgId"],o._hash="7f06e9c84f1ac1d2b8d915830ffec5d7ccdb5e394b8131f3136384716959c338"))(Yte||(Yte={}));var Qte;(o=>(o._name="DraftFilesView",o._argKeys=["draftsFolderId","cursorColumn","sortOrder","firstPageSize","editorType"],o._hash="c671d8ad0880c07fa6b5a9644109b086c95c50a4cee2d688e0c39cb8d374ed41"))(Qte||(Qte={}));var Jte;(o=>(o._name="FeedPostSummary",o._argKeys=["publicUuid"],o._hash="4d0d2704139d2a644fc8138116b3b42d2a86a7985668e5f8a019a6b4e948cd95"))(Jte||(Jte={}));var Xte;(o=>(o._name="FeedPostWithDetails",o._argKeys=["publicUuid"],o._hash="24b29c30b4006f2bed17488c340866ce7f577c71191065971e50044e5d9158dc"))(Xte||(Xte={}));var Zte;(o=>(o._name="FeedPostsByFileKey",o._argKeys=["fileKey"],o._hash="4f99ff364198b2984daa23a81f15a669866d20e88aa2d7e8ef2211645c41b40f"))(Zte||(Zte={}));var ere;(o=>(o._name="FeedPostsByUser",o._argKeys=["currentOrgId"],o._hash="8793493a8be41b4438c4380c01a50f17f818f4df57f8dcd4f4ec10b0c45bdf7d"))(ere||(ere={}));var tre;(o=>(o._name="FeedTagFollowsByUser",o._argKeys=[],o._hash="38d570f9ec2e0437c0574aa998634962b9940dba9d47b09e4a882042279d686a"))(tre||(tre={}));var rre;(o=>(o._name="FileBrowserMigratedToSections",o._argKeys=["currentOrgId"],o._hash="61324977b6249907be4795334b6c532fa6dfc8d9a1bfdd07e9035be7e5c6e3b6"))(rre||(rre={}));var ire;(o=>(o._name="FileBrowserSearchBarData",o._argKeys=["currentOrgId"],o._hash="38ed175c128f4f8f5bf24a9edee93e58cd7403b18b3def89b85d87194ab2a6f0"))(ire||(ire={}));var nre;(o=>(o._name="FileBrowserSidebarData",o._argKeys=["currentOrgId","currentTeamId"],o._hash="ebd7adb36d2b532f59219d3a1d1e5215757a23530e6b19c77b23735f9dc60b53"))(nre||(nre={}));var sre;(o=>(o._name="FileByKey",o._argKeys=["fileKey"],o._hash="b91344234c35868c628b5b83db75b8399078e3ad4b31a3aa8228f84297a21815"))(sre||(sre={}));var ore;(o=>(o._name="FileByKeyForRealtimeShim",o._argKeys=["fileKey"],o._hash="6deb781e705fcc5be01bfb676906b3ecc8e5835f324bf6cb46e3ea6f38dd8cef"))(ore||(ore={}));var are;(o=>(o._name="FileCanvasMentionsByFileKey",o._argKeys=["fileKey"],o._hash="dc35c2dcd175108676c65c93f504e05adbd8888169b22866551f85905a6e8e4e"))(are||(are={}));var lre;(o=>(o._name="FileContext",o._argKeys=["fileKey"],o._hash="8cc187b44b38fec43bdb46aa20835e670a620079611851c36642b9410213edc5"))(lre||(lre={}));var ure;(o=>(o._name="FileEditRequestExistence",o._argKeys=["fileKey"],o._hash="55b97a4e6d343306b9e53426dd411854cb998677ff56f3733553024d41bc28cd"))(ure||(ure={}));var dre;(o=>(o._name="FileExpirationView",o._argKeys=["figFileKey"],o._hash="63f1f8b76ce0bf7092a474a9eb29db91e07f6414d0307424f2134a55e9b5767a"))(dre||(dre={}));var cre;(o=>(o._name="FileFeaturesEnabled",o._argKeys=["fileKey"],o._hash="3e849cdd44aa88387c5f239dff61de34b50b1a524cbfd9b4c80ab5cd6dfb95fe"))(cre||(cre={}));var pre;(o=>(o._name="FileManagePermission",o._argKeys=["fileKey"],o._hash="f2037b0da799497926535c4f9da6c1ee298943013d6185fcb953b66330d0fd63"))(pre||(pre={}));var mre;(o=>(o._name="FilePermissions",o._argKeys=["fileKey","projectId","teamId","repoId","currentOrgId"],o._hash="be4b4ed4f884faf2ad70b58abaf4d854c1c2661e101ca1a99a42b14d90b7c207"))(mre||(mre={}));var gre;(o=>(o._name="FilePermissionsV2",o._argKeys=["fileKey","projectId","teamId","repoId","currentOrgId"],o._hash="032b725cc803628c8056b0ab024dd09eaac526f31452eac007ddb96b57e42e91"))(gre||(gre={}));var fre;(o=>(o._name="FilePermittedUsers",o._argKeys=["fileKey"],o._hash="eaf21b21c08ab0e243d9b446fa82b5542538b3bfa0274b46ae6489a1e9f8983a"))(fre||(fre={}));var bre;(o=>(o._name="FilePresenterData",o._argKeys=["fileKey"],o._hash="0508e03c1064490b32dd1ef8d46d6c4fb0666684e8ede6c521a9b93e105b789a"))(bre||(bre={}));var yre;(o=>(o._name="FileSearchResult",o._argKeys=["projectId"],o._hash="7aec367ec7d989f848385aa24d88615661b904010261788704b616a78ebad9d6"))(yre||(yre={}));var hre;(o=>(o._name="FileTemplateView",o._argKeys=["fileKey"],o._hash="07af256a60fd0adcd20542e38051ae1f3f25a2182e1aef4328379f740dda7af7"))(hre||(hre={}));var Ire;(o=>(o._name="FileTilePermissions",o._argKeys=["fileKey"],o._hash="e01852436e88d17ed052fcd17a12b9cc6e6df45bcf0e1e86660e6ca4aae839f6"))(Ire||(Ire={}));var xre;(o=>(o._name="FileVersions",o._argKeys=["fileKey"],o._hash="2bbf04757525ff3398275f549744fb8e051a34e74d6649ef877a562d8d9e3904"))(xre||(xre={}));var _re;(o=>(o._name="FileWithCommentsAndReactions",o._argKeys=["fileKey"],o._hash="c21719880d2c1e0d749e8c42caa85b7e7dfbd5754050c5a28e7ef8202e6af09c"))(_re||(_re={}));var vre;(o=>(o._name="QuickReply_CommentThreadByRootComment",o._argKeys=["fileKey","rootId"],o._hash="f9f84224f4976023038cbe85f45296e5f02afa666e1f0233135a07b243008b1f"))(vre||(vre={}));var Ore;(o=>(o._name="FilesForTeam",o._argKeys=["teamId","updatedAtTimestamp"],o._hash="35416924bc0498dc7d942e623b67b601a26f18ed0c8dc051f5353455b84bbf94"))(Ore||(Ore={}));var Sre;(o=>(o._name="FilesForProject",o._argKeys=["projectId","updatedAtTimestamp"],o._hash="677f943c730faed76448c10788ef0ec5be3c4b52b9bec1d981e890a87a433d60"))(Sre||(Sre={}));var Dre;(o=>(o._name="FilesForRepo",o._argKeys=["repoId"],o._hash="da21f057e7e46e35afcf2a2644a3990776943128200c997bd9b886d98be2434a"))(Dre||(Dre={}));var Are;(o=>(o._name="FolderSearchResult",o._argKeys=["teamId"],o._hash="1c275c6f099475f4d0b36826c52c718fe51bd3d6c4f0744d4e03ed5c2cd6d9ce"))(Are||(Are={}));var Fre;(o=>(o._name="ProjectsForTeam",o._argKeys=["teamId"],o._hash="de767181d97beed84323939e47ae56b528561dce93a2e23febd43e997a7a8728"))(Fre||(Fre={}));var Pre;(o=>(o._name="FileWithPrototypeLibCppConfig",o._argKeys=["fileKey"],o._hash="b6e690ba356644698f4f6e319463c7c53338f202f1d4337e6191fc54b810352e"))(Pre||(Pre={}));var jre;(o=>(o._name="FileWithRoleRequests",o._argKeys=["fileKey"],o._hash="90cffea1776cfa15881b4478aa311df28f8cf5692108cff7e7ebfe86b609445d"))(jre||(jre={}));var Tre;(o=>(o._name="FileWorkshopMode",o._argKeys=["fileKey"],o._hash="8e1a7b5f2c1eee980cebed68b2d38c1bf666c1f4185a414780d92a7d2a8deb50"))(Tre||(Tre={}));var Cre;(o=>(o._name="GlobalRecentFilesView",o._argKeys=[],o._hash="e0d6897f86ae3528835e5c199aab1d84621734375bae489af94f00d82c075370"))(Cre||(Cre={}));var Ere;(o=>(o._name="GlobalRecentPrototypesView",o._argKeys=[],o._hash="5e15fe5ce264b2047341e13ae885d26e04b72bf0155bb68d6a4dfdddd86ef8e4"))(Ere||(Ere={}));var kre;(o=>(o._name="FolderPermissions",o._argKeys=["projectId"],o._hash="40c0ca8fa460c4cef2fc06938512ddac20dadfd5915a58baebbcafbc2b810ee1"))(kre||(kre={}));var wre;(o=>(o._name="FolderCreation",o._argKeys=["teamId"],o._hash="0cb86bd80e740b4d5a0217b27f0d26099ee9b62be60d520cc9887dff296b07f9"))(wre||(wre={}));var Rre;(o=>(o._name="HubFile",o._argKeys=["hubFileId"],o._hash="0ba241a00f8f41866b8d1ae20bf6dab97ffddcffa707d6a73f0c2c8720a46d82"))(Rre||(Rre={}));var Mre;(o=>(o._name="InstalledPlugins",o._argKeys=["orgId"],o._hash="9593041733352121e252a44de76821ed6e7fe88bfae3053810103068c08f70c1"))(Mre||(Mre={}));var Ure;(o=>(o._name="LatestClipboardData",o._argKeys=["deviceType"],o._hash="3c1dd779caffff794462c41b79f3cacfb0033e75573957e37745d40493147bab"))(Ure||(Ure={}));var Lre;(o=>(o._name="LegacySourceStyleData",o._argKeys=["fileKey"],o._hash="c356c1498340da843e2b6ea447d0d4e1102ac906470fd8be22670134799b9a7c"))(Lre||(Lre={}));var Nre;(o=>(o._name="LibraryData",o._argKeys=["fileKey"],o._hash="b8a6d8b1bea53936bdc829b71eee6fcea58140055a94cced50216e8c048c335b"))(Nre||(Nre={}));var Vre;(o=>(o._name="LibraryFileSelect",o._argKeys=["projectId"],o._hash="2efc1533087a59d375256eb54a80d19b4810c3c1e690bd43de7eb1a50885344e"))(Vre||(Vre={}));var qre;(o=>(o._name="LibraryManagementData",o._argKeys=["fileKey","orgId"],o._hash="08f2ed2c86aae20b3824ebae4c12f2ab509c83501908b402cebea81854dd9f81"))(qre||(qre={}));var Bre;(o=>(o._name="LibraryModalVariablesData",o._argKeys=["fileKey"],o._hash="6069f34e7999085e5be35091c5cc57dc9eb20ebac4fb9fe027c97237342eac35"))(Bre||(Bre={}));var Wre;(o=>(o._name="LibraryPublish",o._argKeys=["id"],o._hash="3e64e9a71ee0b93508c0a26db41e3fa684e3e8c5d347433e4267fcf24785ead2"))(Wre||(Wre={}));var Gre;(o=>(o._name="LibraryStyleData",o._argKeys=["fileKey"],o._hash="2aee6c0a3ce790d6ef2900feb07c1a5a9f98e319bcb0401de6f8dc92d42020a8"))(Gre||(Gre={}));var Hre;(o=>(o._name="CommunityLibraryStyleData",o._argKeys=["hubFileId"],o._hash="10dde21b69675421d1d7cc5fe0e18d1069c0d22ee85be52013dca2a0e29edfe9"))(Hre||(Hre={}));var Kre;(o=>(o._name="LibrarySubscriptionView",o._argKeys=["orgId"],o._hash="23bf3f80fe0c294b5c45dd4ea645061759c17232d4ffeda856af48c1ee22837c"))(Kre||(Kre={}));var $re;(o=>(o._name="LibraryVariableCollectionData",o._argKeys=["fileKey"],o._hash="cfde331ec6e9d382c6e17ebb37e92235bb928dd632f5fb5292073da049f63c90"))($re||($re={}));var zre;(o=>(o._name="LibraryVariableCollectionDataWithVariables",o._argKeys=["fileKey"],o._hash="8e3aa0cd53e8bec235fa72ffee5a9d444ce114affddb2f2a1c8e5eb299c51391"))(zre||(zre={}));var Yre;(o=>(o._name="LicenseGroupSubscribedLibrariesForFile",o._argKeys=["fileKey"],o._hash="0b1dc6856b4a4f015392a9dfacd0331b02a672e53aa84f85147c6a2172256efd"))(Yre||(Yre={}));var Qre;(o=>(o._name="LicenseGroupCountView",o._argKeys=["id"],o._hash="cc35594fda6bd42dabbbeab0eadc41177b7f90a4f37cc87c8d62903c47374d9d"))(Qre||(Qre={}));var Jre;(o=>(o._name="LicenseGroupSubscribedLibrariesForTeam",o._argKeys=["teamId"],o._hash="f3f944cc36b8b498488c4151cf6b53ac001efe06f9e821b09dda7bbb382fc4ba"))(Jre||(Jre={}));var Xre;(o=>(o._name="MoveDraftsTeamData",o._argKeys=["orgId"],o._hash="06a518f09b7c9628ba0e5cba571764d189d2782eba661565a2978550c699a5ee"))(Xre||(Xre={}));var Zre;(o=>(o._name="NodeStatusUsagesForFileView",o._argKeys=["fileKey"],o._hash="b5681faaceea4d92007981cff74ff7879ee06224c5cefd1f25dcf9a91810f3e2"))(Zre||(Zre={}));var eie;(o=>(o._name="NodeStatusUsagesForNodeView",o._argKeys=["fileKey","nodeId"],o._hash="30d8f1dda0487ba6539c7350e0600df0f4ab42cc2649132904b2cd40345ccc0d"))(eie||(eie={}));var tie;(o=>(o._name="NonEnterpriseOrgMetaContentView",o._argKeys=["orgId"],o._hash="53d873035f628159f51813efcdfb587bb9577177db47e1b1e8ef6d17a13e3f73"))(tie||(tie={}));var rie;(o=>(o._name="EnterpriseOrgMetaContentView",o._argKeys=["orgId"],o._hash="acb6ee879323a6c741bca7ec3081a037bacf15e35dae88c34dac8051ce40d299"))(rie||(rie={}));var iie;(o=>(o._name="OpenEditorFileData",o._argKeys=["fileKey"],o._hash="4591a65321a60d7094b30d079a9d561a08bf7acf9dae9809c80da153c2fd4564"))(iie||(iie={}));var nie;(o=>(o._name="OptionalFileBrowserSearchBarData",o._argKeys=["currentOrgId"],o._hash="38ed175c128f4f8f5bf24a9edee93e58cd7403b18b3def89b85d87194ab2a6f0"))(nie||(nie={}));var sie;(o=>(o._name="OrgAdminUserView",o._argKeys=["orgId","queryParams","firstPageSize"],o._hash="cdbe1c35a3015995b0f8e224a8cd8756246d0635cffb595851030774134d109b"))(sie||(sie={}));var oie;(o=>(o._name="OrgHasWorkspacesView",o._argKeys=["orgId"],o._hash="04a21fd542b7ee3ef85f0a3c726075db2de4b464fb727c10032948d303c867d7"))(oie||(oie={}));var aie;(o=>(o._name="OrgInviteModalView",o._argKeys=["workspaceId"],o._hash="bd8427fe6392a84d4bf32d02363bb03f27531cc12a9644f97d0c31abf15702c1"))(aie||(aie={}));var lie;(o=>(o._name="OrgJoinRequestExistence",o._argKeys=["orgId"],o._hash="b5a651cbe35528ced6f03c9517a92b337f71e1d197f43441754b582162cf41c9"))(lie||(lie={}));var uie;(o=>(o._name="OrgSharedSettingView",o._argKeys=["orgId"],o._hash="8a2e3b30e423dcb15b616183a8cb743d24d06f971f198c2c34a10224b6be728d"))(uie||(uie={}));var die;(o=>(o._name="OrgTaxIdView",o._argKeys=["orgId"],o._hash="9011eb989e780c0c9e3027ea36fa5d2884ac6a6e073ef2ca456e4874b14d3c52"))(die||(die={}));var cie;(o=>(o._name="OrgTeamSummariesView",o._argKeys=["orgId"],o._hash="211e1eeaa8cef57a7ce84c3de249e78031ce61cfe613d10305a5f148ed41102c"))(cie||(cie={}));var pie;(o=>(o._name="OrgTeamsWithSummary",o._argKeys=["orgId"],o._hash="9c449917efab1632aa02bd60d5e48fe956dfe1338f4e5064961a7e3cb0491ad0"))(pie||(pie={}));var mie;(o=>(o._name="OrgsByUser",o._argKeys=[],o._hash="c2233f314a024de371778ae2c588c84ee3c3fa8e3c39fd03a7658ca6e45513ab"))(mie||(mie={}));var gie;(o=>(o._name="OrgWithWorkspacesPublicLinkControlsSettingView",o._argKeys=["orgId"],o._hash="7ee6e30e1dea903be949acb5912f60a92be4543f794ec9e745d5ce50f25b1072"))(gie||(gie={}));var fie;(o=>(o._name="PaginatedFigFeed",o._argKeys=["orgId","feedFilter","firstPageSize","refreshNonce"],o._hash="e432b51943f6052494725450387dd52eb6dd765e736db1f7054f4e9da9449d4f"))(fie||(fie={}));var bie;(o=>(o._name="PendingTeamRoleRequestsByTeamId",o._argKeys=["teamId"],o._hash="463c4bc82f5c6b746e6182ef362fa13571fb668b0cd618b12286b210543e45fd"))(bie||(bie={}));var yie;(o=>(o._name="PendingUserMentionByCommentView",o._argKeys=["fileCommentId"],o._hash="98448f91af1f453b5b6734a0b5e8618acc07797291f479b99596c129d9a6edb9"))(yie||(yie={}));var hie;(o=>(o._name="PinnedFiles",o._argKeys=["folderId"],o._hash="e5a5124b232e2406edf9edae796bf6c354daf66699724fe35f1d1d509b4f7a4e"))(hie||(hie={}));var Iie;(o=>(o._name="Plugin",o._argKeys=["pluginId","orgId"],o._hash="65017a02ad1232e123e321f3439b6b3d0e62e860b0a62dd400a89680d6ba0865"))(Iie||(Iie={}));var xie;(o=>(o._name="PluginAllowlistManagementModalView",o._argKeys=["pluginId","orgId"],o._hash="4a73858240acadfc6aa74940ec6792343f5829aa657673657c70f3b26629a9a6"))(xie||(xie={}));var _ie;(o=>(o._name="PluginInstall",o._argKeys=["pluginId"],o._hash="66405de17bb150329949be4c676d33ebbd2731be034a4512d2f6efd562624a6f"))(_ie||(_ie={}));var vie;(o=>(o._name="PluginPreferencesView",o._argKeys=["targetOrgId","targetUserId"],o._hash="1472f21418262d0196eac31a4c2d028a9980171a2182c884604fb5f9b204a15d"))(vie||(vie={}));var Oie;(o=>(o._name="PluginRequests",o._argKeys=["orgId"],o._hash="2466a0e0ddaabd4fdea4bdd8988dc793fa968f72e8958fd9ac0266f3a4613300"))(Oie||(Oie={}));var Sie;(o=>(o._name="PluginSecurityFormResponse",o._argKeys=["pluginId"],o._hash="ed6f9188040a98a2c1f2bf4010ff7559a4d6e6e0aec6449fd736e89f5256b763"))(Sie||(Sie={}));var Die;(o=>(o._name="ProRequestUpgradeModalData",o._argKeys=["teamId"],o._hash="50be44e91a9140285877ee5a5dbd2de4d02855331c1018e3048cac21afecf80f"))(Die||(Die={}));var Aie;(o=>(o._name="ProjectById",o._argKeys=["folderId"],o._hash="dffd181a5f5788646e708eb596da585a4ac225b22830c65e83df69f8cff4f659"))(Aie||(Aie={}));var Fie;(o=>(o._name="ProjectNameById",o._argKeys=["projectId"],o._hash="167370bf522cffa374d2936870d611915820b53dd89a514f2ce691652fab7965"))(Fie||(Fie={}));var Pie;(o=>(o._name="ProjectByIdForRealtimeShim",o._argKeys=["projectId"],o._hash="f944680b6c28e7b0da4d55dd3f5caf76e9646fd47fc9e456958465c115b79ef5"))(Pie||(Pie={}));var jie;(o=>(o._name="ProjectFileCount",o._argKeys=["projectId"],o._hash="ec94b29e7e19f15b6d4c59b2cf69d5fcd55b0707ea9ad2ba3586d326d9e58579"))(jie||(jie={}));var Tie;(o=>(o._name="ProjectTilePermissions",o._argKeys=["projectId"],o._hash="56ba7bf57f80ae800fe6bb0912c067e3a8efdf0380d6e5f7208ce11235247a60"))(Tie||(Tie={}));var Cie;(o=>(o._name="PrototypeTilePermissions",o._argKeys=["prototypeId"],o._hash="977169b7f1e74b6a39209b07d77356440fe1425c9f181465b6b94ab06d8cd6f3"))(Cie||(Cie={}));var Eie;(o=>(o._name="RepoById",o._argKeys=["repoId"],o._hash="7e27271f1ae41220739c8de23ff0693d45df42ee7db77518cb2d7050d84e42c7"))(Eie||(Eie={}));var kie;(o=>(o._name="RepoFiles",o._argKeys=["repoId"],o._hash="2215eda70bd58e3f3bcdea00f2f6aad87b7ff85957c07c65643d35b338d509ad"))(kie||(kie={}));var wie;(o=>(o._name="RepoTilePermissions",o._argKeys=["repoId"],o._hash="5e59c3e3f4c19b63d574b1db80b9a678975f9296e820f30b06fe9c1b2c36456d"))(wie||(wie={}));var Rie;(o=>(o._name="ResolvedComments",o._argKeys=["fileKey"],o._hash="7b5ece4b590e0ceeb80a1dcd7a7bba3427da3ab5e5c56e469d8d213acd73ccab"))(Rie||(Rie={}));var Mie;(o=>(o._name="ResourceSave",o._argKeys=["hubFileId"],o._hash="f6ddfc1d3bf83cc30494e8398600aea2a8ea0a742536e8130876f93809535bf9"))(Mie||(Mie={}));var Uie;(o=>(o._name="ResourceSaves",o._argKeys=[],o._hash="6110b1ef6de911647c9448774b9881d6f8f4637bc86acc83a2d4e60a98ac417a"))(Uie||(Uie={}));var Lie;(o=>(o._name="SearchFilterWorkspaceView",o._argKeys=["orgId"],o._hash="130ec2bbc72113b8e1233d4a0abd1896574662972483dee3600bdf6a98524b62"))(Lie||(Lie={}));var Nie;(o=>(o._name="SharedWithYouFile",o._argKeys=["id"],o._hash="5599b334cdf61760a6f2f5c73c64410f1069cb00f9c039e0726a5547e1c525cf"))(Nie||(Nie={}));var Vie;(o=>(o._name="SharedWithYouFolder",o._argKeys=["id"],o._hash="7fb459924547b4058d4ef98738f776f6be109101a083a028f7a389f8ec26e269"))(Vie||(Vie={}));var qie;(o=>(o._name="SharedWithYouPrototype",o._argKeys=["id"],o._hash="cb7e27a9147d49660c1e77504e1016480044c4de27720e7b708487dfc6a08b1c"))(qie||(qie={}));var Bie;(o=>(o._name="SharedWithYouRepo",o._argKeys=["id"],o._hash="9bf3ae1c588825b61d1f9c7f86070fb68fbbfb5e4198acc2d0f082a55d31e885"))(Bie||(Bie={}));var Wie;(o=>(o._name="SharedWithYouResources",o._argKeys=["resourceTypes","firstPageSize","sortOrder","cursorColumn","sharedBy","planId","planType","fileType","orgDeletedDrafts"],o._hash="0268aa9333913dc9c62d22856d32a0df9c49b7c064541fad180fb1ec3e415c64"))(Wie||(Wie={}));var Gie;(o=>(o._name="SharedWithYouTeam",o._argKeys=["id"],o._hash="a531fc89dbfaec53a7e648e6e6f2a7d7004f3d9eb5ac893505cd52d89d3683f5"))(Gie||(Gie={}));var Hie;(o=>(o._name="StarterFileEditConfirmation",o._argKeys=["key"],o._hash="306fab1005683bff30970fb35e1d55519ac7f792441b5e76c8a96f73406e907a"))(Hie||(Hie={}));var Kie;(o=>(o._name="StateGroupByKey",o._argKeys=["key"],o._hash="7ce33b4d8174a4ca6137dc60d5ab98f85ebb33c0fa93bfa88c13fa8477e7d293"))(Kie||(Kie={}));var $ie;(o=>(o._name="StatsigTeamsOrderView",o._argKeys=["currentOrgId"],o._hash="75513768b3c4f5dd170727d4cb2c746a34fccc6cbcf648c0cb937c740905618b"))($ie||($ie={}));var zie;(o=>(o._name="StyleByKey",o._argKeys=["key","openFileKey"],o._hash="997cbda3d641cd65aadd22a85bf954ab3705a37145d63546ad67549c840e2313"))(zie||(zie={}));var Yie;(o=>(o._name="SubscribedLibrariesForFile",o._argKeys=["fileKey","teamId","licenseGroupId","workspaceId","orgId"],o._hash="1a49b88cf1336827e32bd699a36280e9a1ed8cf9d8245744ede6c790be79c2b7"))(Yie||(Yie={}));var Qie;(o=>(o._name="SubscriptionUpdateSloData",o._argKeys=["id"],o._hash="6045b83d38bf38732a0efc83edc2666a35d0c8896c9cc8202bbe2a2895613563"))(Qie||(Qie={}));var Jie;(o=>(o._name="TeamById",o._argKeys=["teamId"],o._hash="0a1076a2e5e3ed64cac3a2a5d696e5c21572eb45f504b3ea9749392aa8584f79"))(Jie||(Jie={}));var Xie;(o=>(o._name="TeamCreationWorkspaceView",o._argKeys=["orgId"],o._hash="35ba21389e67dd7ab06172a6ffd613dfe76efabdb65771ea81b86f77884bfc51"))(Xie||(Xie={}));var Zie;(o=>(o._name="TeamFileCountsByTeamId",o._argKeys=["teamId"],o._hash="65ed3efce57070adbe8851dcf9106feaaacc012da35c8289aae0a48316c20f76"))(Zie||(Zie={}));var ene;(o=>(o._name="TeamFileLimitsInfoByProject",o._argKeys=["projectId"],o._hash="b4a57aee9df16a05176fa1704f425b199e6549e9d3801f314ce679e6c2018889"))(ene||(ene={}));var tne;(o=>(o._name="TeamFileLimitsInfo",o._argKeys=["teamId"],o._hash="dbd52a7bea92c586923a33dc05e8df1462fcebe2695aba9a1e173958b70c61e7"))(tne||(tne={}));var rne;(o=>(o._name="TeamPermissions",o._argKeys=["teamId"],o._hash="0c6a813573c72247c10c884c9b3face3e63d1b43efbe2abedd0f5088f2eb159c"))(rne||(rne={}));var ine;(o=>(o._name="TeamTaxIdView",o._argKeys=["teamId"],o._hash="2966b65fefa5448a27d6a8b1078b4ee075ec4f65aad8d14bbc036d95f86a2bfd"))(ine||(ine={}));var nne;(o=>(o._name="TeamTilePermissions",o._argKeys=["teamId"],o._hash="c722850f6e18857a80a2aa359f468725d35d86c9a376cc4a86e5545c62d89f0f"))(nne||(nne={}));var sne;(o=>(o._name="TeamUserStatusAndRequests",o._argKeys=["teamId"],o._hash="35aae8d56dc8866beb839fb6c9dac9b1bbc696d9bc4d86b71cb09ff856341985"))(sne||(sne={}));var one;(o=>(o._name="UserColorProfilePreferenceView",o._argKeys=[],o._hash="216d0bed6c38dd4b9d6b5287c2398707f4b0513ada63f2fb0e62d6dc7d7c31a4"))(one||(one={}));var yS;(o=>(o._name="UserForRcs",o._argKeys=[],o._hash="a2a9a0c9360366fd91cc4aafc59fc1ea44c00aee9c4fb5293171f5b06ef0c20c"))(yS||(yS={}));var hS;(o=>(o._name="UserGlobalFavoritedFiles",o._argKeys=[],o._hash="060a5deb32caaa1651aeeb663093b61f20cfbecf2150bff3decece28aaa6acf6"))(hS||(hS={}));var ane;(o=>(o._name="UserJamboardOfferEligibility",o._argKeys=[],o._hash="5b95ac3232a1b7dc3dd0992b440a2646c779175e5b575ee24cb6a27e3f523e99"))(ane||(ane={}));var lne;(o=>(o._name="UserMonetizationMetadata",o._argKeys=["userId"],o._hash="446a7c94ab10360ad76751b775dc2df202993c5f35bcf54ee5158ec756678857"))(lne||(lne={}));var IS;(o=>(o._name="UserNotificationBellData",o._argKeys=[],o._hash="f810ff62e7be4e26566efa0fe5bd428b02df1c72065e6e418971bc1000460d8c"))(IS||(IS={}));var une;(o=>(o._name="UserOrgResources",o._argKeys=["orgId"],o._hash="09a08c07a3b3a052ae7f24622c94682591a57488f5eef0975e22b98b5b2bb1e2"))(une||(une={}));var xS;(o=>(o._name="UserRecentSharedWithYouFiles",o._argKeys=[],o._hash="0546cff09bc7e36bcf7a5c094bfa5f6f0092e5d7ca935b5496a7606b8dbeed3c"))(xS||(xS={}));var dne;(o=>(o._name="UserResources",o._argKeys=["orgId"],o._hash="924151e606882bd408bf158bd40427ef0a90133b9e5edf0cb122394683433bc1"))(dne||(dne={}));var cne;(o=>(o._name="UserWithTeams",o._argKeys=[],o._hash="76d3fc49455d3f5149aab864569fc920b934779fe705daa48b69aeb46f827c97"))(cne||(cne={}));var pne;(o=>(o._name="VariableByKey",o._argKeys=["key"],o._hash="0effe4055b6a8697b4ac2290dc26b04cb16fdaf6a63d9b24ce393f902ac3453a"))(pne||(pne={}));var mne;(o=>(o._name="VariableCollectionByKey",o._argKeys=["key"],o._hash="df3051f2bdda9be3374536066c783a5e505421504584965ed3ff595d4d72e536"))(mne||(mne={}));var gne;(o=>(o._name="VariablesByVariableCollectionKey",o._argKeys=["variableCollectionKey"],o._hash="77d260b3150117f0177ebbdf13ae1b053eb5dcf56ab7b76a3327da6b667b904a"))(gne||(gne={}));var fne;(o=>(o._name="WorkspaceAdminSettingsView",o._argKeys=["workspaceId"],o._hash="e9d4b5e07c27bb396767fb42f9d4c9ffab9ec8f614cff335dd18b7a9f77ade29"))(fne||(fne={}));var bne;(o=>(o._name="WorkspaceCanCreateTeamView",o._argKeys=["orgId"],o._hash="624d2078031fa6e8eedaba0d89f2f014c16a4fbc07fa5fa0410d8f6bf32b3dce"))(bne||(bne={}));var yne;(o=>(o._name="WorkspaceModalPluginRequests",o._argKeys=["orgId"],o._hash="58f1c2b1c207cc030538bd134a593b0dd005064421d73d4b233e4ca6b39fe66e"))(yne||(yne={}));var hne;(o=>(o._name="WorkspaceOrgAccessView",o._argKeys=["workspaceId"],o._hash="2ea6b7b77a99e0f64a2dc4c3a99d321329456144a7d426dcd28b298ca4984d32"))(hne||(hne={}));var Ine;(o=>(o._name="WorkspaceSelectorView",o._argKeys=["orgId"],o._hash="e79cd448237eab7578fc7eb0b24e581e70040587b2cfc7e70f2667c05124f10c"))(Ine||(Ine={}));var xne;(o=>(o._name="WorkspaceSubscribedLibrariesForFile",o._argKeys=["fileKey"],o._hash="9783a40f5685699e137b97362dd44d724627714770984f7f89baf5b44d69a639"))(xne||(xne={}));var _ne;(o=>(o._name="WorkspaceSubscribedLibrariesForTeam",o._argKeys=["teamId"],o._hash="b586aab82a9caa53fa01a5d02b1deda0c2ae1eaa847592432b720bc29cc80142"))(_ne||(_ne={}));var vne;(o=>(o._name="WorkspacesCanAdminView",o._argKeys=["orgId"],o._hash="f54bfc15a44d957cbab31af6b9113a5387c7d7e7aaada067a70e869a56046df1"))(vne||(vne={}));var One;(o=>(o._name="WorkspacesDirectoryView",o._argKeys=["orgId"],o._hash="9cf8efca0d39d3fd3e912f1b5660ea1adbf049f119c35eb2c592f9d9e1723251"))(One||(One={}));var Sne;(o=>(o._name="WorkspacesTableView",o._argKeys=["orgId"],o._hash="34a4cf2dcdcf208bd8151cac65bf45abeed11f564ef956d26617a0661f9ec3cf"))(Sne||(Sne={}));var Dne;(o=>(o._name="WorkspaceDefaultTeamsView",o._argKeys=["workspaceId"],o._hash="3b9c11f1672dd9f6a7697af213e9a82c73bbe88dcbd406347ad5752e53332ec2"))(Dne||(Dne={}));var Ane;(o=>(o._name="ApprovedLibrariesView",o._argKeys=["workspaceId"],o._hash="7f2ec7aca97487f9be3570e48b42ea0b633b276b8ed0be6c4d95c571dabb6b93"))(Ane||(Ane={}));var Fne;(o=>(o._name="WorkspacePageMembersView",o._argKeys=["workspaceId"],o._hash="429826704124cb0727562d1386b41181a3dc57776e6b0cfb27121e5d2bf8cdd8"))(Fne||(Fne={}));var Pne;(o=>(o._name="JamboardOfferRedeemedAt",o._argKeys=[],o._hash="d1630e0a777d88bf1598a975fc759895e1f5367fa93c59198952752c8065a2ce"))(Pne||(Pne={}));var jne;(o=>(o._name="SlidesTheme",o._argKeys=["themeKey"],o._hash="47b571ea2a760aae5e21564ac383214316cf09a822067d352768a8a99e5f7ad3"))(jne||(jne={}));var Tne;(o=>(o._name="Mobile_CommentThreadByRootComment",o._argKeys=["fileKey","rootId"],o._hash="e963627d4851908622b9be87e56fc6f20ac39f267a3939b23496d2ca4c30aec3"))(Tne||(Tne={}));var Cne;(o=>(o._name="Mobile_FileCommentThreadsByFile",o._argKeys=["fileKey"],o._hash="31195248fcd84aa6211490074c73701edfaa0d234f2534179887a63259e1abfc"))(Cne||(Cne={}));var Ene;(o=>(o._name="Mobile_FavoritedFigJamBoards",o._argKeys=["orgId"],o._hash="c06e850aa68f6dcbd629a0d59f64594b655fe5318b4da38056178149f435f8a5"))(Ene||(Ene={}));var kne;(o=>(o._name="Mobile_FavoritedResources",o._argKeys=["orgId"],o._hash="d4ec674d9c82c7c33f11f6b73b1c66ab3d8b9ecf3c5081fdb8e79795ed3e39ac"))(kne||(kne={}));var wne;(o=>(o._name="Mobile_FileByKey",o._argKeys=["fileKey"],o._hash="0923dc670451bcf152bf71b8643034095daa7ece54cc5d09c5c69c45f5ac65fd"))(wne||(wne={}));var Rne;(o=>(o._name="Mobile_LastFrameSelection",o._argKeys=[],o._hash="32108c98a328aef3e0a4f3484cdaed51bac777c1236469fd15e3c4401185bab5"))(Rne||(Rne={}));var Mne;(o=>(o._name="Mobile_OrgSummary",o._argKeys=["orgId"],o._hash="7e9b1a2fded8c036ef117e3896c1ac85b3b60f7b71510d61931f9c4413f3df19"))(Mne||(Mne={}));var Une;(o=>(o._name="Mobile_OrgsByUser",o._argKeys=[],o._hash="1b60664ef3ad37dc114c5a92ce1775d8d6ede530146a2af3b0addc23dddc95b8"))(Une||(Une={}));var Lne;(o=>(o._name="Mobile_OrgsByUserV2",o._argKeys=[],o._hash="7cfe39cadc1b63a2563a3a68d7057f3bed377646d58e245ac491ccd835c38d34"))(Lne||(Lne={}));var Nne;(o=>(o._name="Mobile_ProjectFigJamBoards",o._argKeys=["projectId"],o._hash="3ee58effe03d7d6277663f49608d9321624885a40112b540e0218fffb1a3eb14"))(Nne||(Nne={}));var Vne;(o=>(o._name="Mobile_ProjectFiles",o._argKeys=["projectId"],o._hash="79a38d5a1ac973a1814ec9082362b510fc807a57ef7015abf9e793e05d3b9a5f"))(Vne||(Vne={}));var qne;(o=>(o._name="Mobile_RecentlyViewedPrototypes",o._argKeys=[],o._hash="69ccb8ddb686caa75b1a573c4a219fb68b19f9b9d0807514c65e08cb134cc6d9"))(qne||(qne={}));var Bne;(o=>(o._name="Mobile_SharedProjectsWithFilesPreview",o._argKeys=["filesPartialInitialPageSize"],o._hash="e66b218e077818b4cd82633dd1fbb11dd8b8a319a5bb0ef6d6d3c48fd0d2f8ad"))(Bne||(Bne={}));var Wne;(o=>(o._name="Mobile_SpacesByUser",o._argKeys=[],o._hash="1cd455516360f9c2eb8b1b68be480c87df1057375a0b7e18b02702f60636e9d3"))(Wne||(Wne={}));var Gne;(o=>(o._name="Mobile_TeamFavoritedFigJamBoards",o._argKeys=["teamId"],o._hash="9692b85f617b178297cd53c2c7dd31de8a2ebbf42e8e0cffba18bccc70493fff"))(Gne||(Gne={}));var Hne;(o=>(o._name="Mobile_TeamFavoritedResources",o._argKeys=["teamId"],o._hash="6b19aa39e24916849c0c3a002535480c57ead80ad0ca9e1500703ce2ea1a6f01"))(Hne||(Hne={}));var Kne;(o=>(o._name="Mobile_TeamProjectsWithFilesPreview",o._argKeys=["teamId"],o._hash="cb7adfccfe801784d1b604df4a7b7aebc808df026960f60f454a5dcd0ab620c7"))(Kne||(Kne={}));var $ne;(o=>(o._name="Mobile_TeamSummary",o._argKeys=["teamId"],o._hash="5ee3dadc8175ad1891c03371fe386e3124a5bc74dc5f48a4c1142af681f2a252"))($ne||($ne={}));var zne;(o=>(o._name="Mobile_FeedPostSummary",o._argKeys=["postId"],o._hash="b3c0ce9fd84f5e0e48393d0cbe1e112cc9e47cfe18db6694e1e7a0813dbfde02"))(zne||(zne={}));var nue=Ie(require("vscode")),CD=Ie(ah()),gm=nue.window.createOutputChannel("Figma for VS Code",{log:!0}),fm=class{constructor(e){this.maxSize=e;this.nextIndex=0;this.length=0;this.entries=new Array(e)}push(e){this.entries[this.nextIndex]={time:new Date,data:e},this.nextIndex=(this.nextIndex+1)%this.maxSize,this.length<this.maxSize&&this.length++}get(){return this.entries.slice(this.nextIndex,this.length).concat(this.entries.slice(0,this.nextIndex))}},Zl=new fm(1e3),Je={trace:(t,...e)=>{},debug:(t,...e)=>{Zl.push({level:"debug",message:t,extra:{args:e}}),gm.debug(t,...e),console.debug(t,...e)},info:(t,...e)=>{Zl.push({level:"info",message:t,extra:{args:e}}),gm.info(t,...e),console.info(t,...e)},warn:(t,...e)=>{Zl.push({level:"warn",message:t,extra:{args:e}}),gm.warn(t,...e),console.warn(t,...e)},error:(t,...e)=>{CD.captureMessage(t,{level:"error",extra:{...e}}),Zl.push({level:"error",message:t,extra:{args:e}}),gm.error(t,...e),console.error(t,...e)},exception:(t,e)=>{let r=t&&typeof t=="object"&&"message"in t&&t.message&&typeof t.message=="string"?t.message:"Exception";CD.captureException(t,{level:"error",extra:e}),Zl.push({level:"exception",message:r,extra:e}),gm.error(r,e),console.error(r,e)}};var Ao=Ie(ah()),Due=Ie(Sue()),Aue=Ie(require("path")),iQe=Ie(require("vscode"));var Gd=Ie(require("vscode")),wD=Ie(require("os"));var kD="0.3.0";function Hd(){let t=kD;return{platform:wD.platform(),release:wD.release(),vscodeVersion:Gd.version,extensionVersion:t,environment:Gd.env.appName,editorLanguage:Gd.env.language,machineId:Gd.env.machineId,sessionId:Gd.env.sessionId}}async function au(t,e,r){let i=new Date().toISOString(),s=await bm(t),o=zt(t);if(o!=="dev")try{let a=await Bs({url:`${Or[o]}/api/figment-proxy/put`,method:"POST",headers:{"Content-Type":"application/json"},data:[{data:{event:e,properties:{...r,...Hd()},sentAt:i,timestamp:i,userId:s,context:{forwardToDatadog:!0}},figment_metadata:{namespace:"figweb"}}]});Je.debug(`figment response for ${e}:`,a.statusText)}catch(a){Je.error(a)}}var D0=new fm(1e3);async function Fue(t){Ao.init({dsn:"https://457bcda058d9460fbef246ba4a4e3d15@o22594.ingest.sentry.io/4505234156355584",environment:"prod",release:"d134c760bccc4cab5018d51a232da4ce48a91c58",attachStacktrace:!0,integrations:r=>r.map(i=>i.name==="OnUncaughtException"?new Ao.Integrations.OnUncaughtException({exitEvenIfOtherHandlersAreRegistered:!1}):i).filter(i=>i.name!=="OnUnhandledRejection").concat([new Due.RewriteFrames({root:Aue.default.join(t.extensionUri.fsPath,"out"),prefix:"figma://"})]),beforeSend(r){let i=r.exception?.values?.some(s=>s.stacktrace?.frames?.some(o=>o.filename?.includes("figma-for-vs-code.js")||!1));return delete r.server_name,i?(D0.push(r),r):null}}),Ao.setTags({...Hd()});let e=await bm(t);RD(e)}function RD(t){Ao.setUser({id:t})}var A0=new fm(1e3);function Mt(t){A0.push(t),Ao.addBreadcrumb(t)}var nQe=!1,sQe=60*1e3,Pue;function oQe(t){return class extends HR.default{constructor(r){let i=E0()||"";super(r,void 0,{origin:Or[zt(t)],headers:{Cookie:`${Ig[zt(t)]}=${i||""}`}})}}}function aQe(t,e,r){let i=oQe(t),s=`wss://${Or[zt(t)].replace("https://","")}/api/livegraph?${r??""}`,o={tags:{commitHash:"d134c760bccc4cab5018d51a232da4ce48a91c58",clientType:"vscode"}},a=new Zc(DR),u=new uf(DR.views,a),d=m=>new i(m),p=new df({userId:e},a,u,s,d,o);return p.addEventListener(m=>{if(nQe&&Je.trace("Livegraph debug log",m),m.type==="ERROR"){let f=m.error?.errorCode,y=m.error.message,v=Object.getOwnPropertySymbols(m.error).reduce((O,A)=>(O[A.toString()]=m.error[A],O),{});Je.exception(new Ko(`Recieved an error event from LiveGraph: code: ${f||"no error code"}, message: ${y}`),v)}}),Pue=setTimeout(()=>{try{p.connect()}catch{}},sQe),p}var Kd={recentFiles:{status:"uninitialized",errors:null},sharedWithYouFiles:{status:"uninitialized",errors:null},favoritedFiles:{status:"uninitialized",errors:null},userNotificationBell:{status:"uninitialized",errors:null},userForRcs:{status:"uninitialized",errors:null}},F0=new Nt,P0=new Nt,j0=new Nt,T0=new Nt,C0=new Nt,Fo;async function lh(t){if(Mt({category:"livegraph",message:"setupLivegraph called"}),!Xi(t)){Mt({category:"livegraph",message:"setupLivegraph returning early: not logged in"});return}if(!E0()){Mt({category:"livegraph",message:"setupLivegraph returning early: no integ cookie"});return}let e=await k0(t);if(!e){Mt({category:"livegraph",message:"setupLivegraph returning early: no user ID"});return}Mt({category:"livegraph",message:`setupLivegraph called with user ID ${e}`});let r=await Tue(t);Fo=aQe(t,e,r),await Fo.connect(),Mt({category:"livegraph",message:"setupLivegraph client connected"}),Fo.subscribe(IS,{},i=>{Kd.userNotificationBell={status:i.status,errors:i.errors},i.errors&&i.errors.length>0&&Je.exception(new Ko("Livegraph query error for UserNotificationBellData"),{liveGraphErrors:i.errors}),T0.invoke(i.status,Boolean(i.data?.userNotificationBell?.bell),i.errors)}),Fo.subscribe(bS,{},i=>{Kd.recentFiles={status:i.status,errors:i.errors},i.errors&&i.errors.length>0&&Je.exception(new Ko("Livegraph query error for CurrentUserFileRecentsView"),{liveGraphErrors:i.errors}),i.status==="loaded"&&i.data?.currentUser.recentFiles===null&&Je.error("Livegraph returned null for recent files"),F0.invoke(i.status,i.data?.currentUser.recentFiles,i.errors)}),Fo.subscribe(xS,{},i=>{Kd.sharedWithYouFiles={status:i.status,errors:i.errors},i.errors&&i.errors.length>0&&Je.exception(new Ko("Livegraph query error for UserRecentSharedWithYouFiles"),{liveGraphErrors:i.errors}),i.status==="loaded"&&i.data?.currentUser.recentSharedWithYouFiles===null&&Je.error("Livegraph returned null for shared with you files"),P0.invoke(i.status,i.data?.currentUser.recentSharedWithYouFiles,i.errors)}),Fo.subscribe(hS,{},i=>{Kd.favoritedFiles={status:i.status,errors:i.errors},i.errors&&i.errors.length>0&&Je.exception(new Ko("Livegraph query error for UserGlobalFavoritedFiles"),{liveGraphErrors:i.errors}),i.status==="loaded"&&i.data?.currentUser.favoritedFiles===null&&Je.error("Livegraph returned null for favorited files"),j0.invoke(i.status,i.data?.currentUser.favoritedFiles,i.errors)}),Fo.subscribe(yS,{},i=>{Kd.userForRcs={status:i.status,errors:i.errors},i.errors&&i.errors.length>0&&Je.exception(new Ko("Livegraph query error for UserForRcs"),{liveGraphErrors:i.errors}),C0.invoke(i.status,i.data?.currentUser.userFlags,i.errors)}),Mt({category:"livegraph",message:"setupLivegraph end"})}async function jue(){return await Fo?.connection?.closeWithoutReconnecting(),Fo?.connection?.reconnect()}async function uh(){return clearTimeout(Pue),Fo?.close()}var Cue=Ie(require("vscode"));function di(t){Je.error(t),Cue.window.showErrorMessage(t)}var kt=Ie(require("vscode")),Eue=Ie(require("path")),Rn={TopLevel:String.fromCharCode(0),SelectedLayer:String.fromCharCode(0),Token:String.fromCharCode(1),Ambient:String.fromCharCode(2)};function w0(t){let e=kt.window.activeTextEditor;if(!e)return;let r=e.selection.active;return e.edit(i=>{i.insert(r,t)})}function kue(t){let e=kt.window.activeTextEditor;if(e)return e.insertSnippet(new kt.SnippetString(t))}function R0(){return kt.workspace.workspaceFolders?.[0]?.uri}function lQe(){let t=R0()?.fsPath;return t?`${t}/`:""}function wue(t){let e=(t||kt.window.activeTextEditor?.document.uri||(kt.window.visibleTextEditors?.length>0?kt.window.visibleTextEditors[0].document.uri:void 0))?.fsPath;if(!e)return;let r=lQe();return r?e.replace(r,""):e}async function Rue(t){let e=kt.workspace.workspaceFolders?.[0];if(!e)return;let[r,i]=t.split(":"),s=kt.Uri.joinPath(e.uri,...r.split("/"));if(await kt.workspace.fs.stat(s)){let o=await kt.workspace.openTextDocument(s);if(await kt.window.showTextDocument(o,kt.ViewColumn.One),i!==void 0){let a=kt.window.activeTextEditor;if(!a)return;let u=new kt.Selection(Number(i),0,Number(i),0);a.selection=u,a.revealRange(u,kt.TextEditorRevealType.InCenter)}}}async function Mue(t,e,r){let i=kt.window.createQuickPick();i.onDidAccept(async()=>{await e(i.activeItems),i.hide()}),i.items=[],i.show(),i.title=r,i.placeholder="Loading...",i.busy=!0,i.enabled=!1;let s=await t();i.items=s,i.activeItems=s.filter(o=>o._quickPickActive),i.placeholder=void 0,i.busy=!1,i.enabled=!0}function M0(t){return t===kt.ColorThemeKind.Dark?"dark":"light"}function U0(){return M0(kt.window.activeColorTheme.kind)}function Uue(){let t=kt.window.activeTextEditor;if(t){let e=t.document.uri.fsPath;return Eue.default.extname(e)}else return""}function MD(){return parseFloat(kt.version)<1.75}function Lue(){return kt.version.endsWith("-insider")}var ci=Ie(require("vscode"));var Nue="Figma";async function L0(t,e,r,i,s,o){if(!r.userHasCompletedOnboarding){let v={title:"Accept on figma.com"};await ci.window.showErrorMessage("Accept the Figma Dev Mode Beta terms of service before continuing",v,{title:"Cancel",isCloseAffordance:!0})===v&&await ci.env.openExternal(ci.Uri.parse(`${Or[zt(t)]}/file/${i}?type=design&mode=dev`));return}let a=await LD(t),u=ji.createOrShow(t.extensionUri,Or[zt(t)],s);N0(t).then(v=>{if(!v){di("There was an authentication error, please login again."),V0(t);return}}),e.setPanel(u);let d=U0(),p=new URL(`https://figma.com/${i}`);p.searchParams.set("theme",d),o&&p.searchParams.set("node-id",o);let m=p.pathname.slice(1)+p.search+p.hash,f=()=>{e.sendLoadIframe(a.value,m),e.iframeContainerReadyListeners.remove(f)};e.iframeContainerReadyListeners.add(f);let y=()=>{e.sendInitialSetup(kD,U0()),e.figmaReadyListeners.remove(y)};e.figmaReadyListeners.add(y),e.setWebview(u.getWebview())}async function UD(t,e,r,i){r.extensionOpen?e.sendOpenFigmaFileUrl(i):await L0(t,e,r,i)}function uQe(t){return{enableScripts:!0,retainContextWhenHidden:!0}}var dn=class{constructor(e,r,i,s=void 0,o=!1){this._disposables=[];this._id=void 0;this._login=!1;this._panel=e,this._extensionUri=r,this._id=s,this._login=o,this._baseUrl=i,this._update(),this._panel.onDidDispose(()=>this.dispose(),null,this._disposables),this._panel.onDidChangeViewState(()=>{this._panel.visible&&this._update()},null,this._disposables)}static createOrShow(e,r,i=Nue,s=void 0,o=!1){if(dn.currentPanel)return dn.currentPanel._panel.reveal(ci.ViewColumn.Two),dn.currentPanel;let a=ci.window.createWebviewPanel(dn.viewType,i,ci.ViewColumn.Two,uQe(e));return a.iconPath={light:ci.Uri.joinPath(e,"resources","logo-tab-icon-light.svg"),dark:ci.Uri.joinPath(e,"resources","logo-tab-icon-dark.svg")},dn.currentPanel=new dn(a,e,r,s,o),dn.onOpen(),dn.currentPanel}static revive(e,r){dn.currentPanel=new dn(e,r,"")}getWebview(){return this._panel.webview}dispose(){for(dn.currentPanel=void 0,this._panel.dispose(),dn.onClose();this._disposables.length;){let e=this._disposables.pop();e&&e.dispose()}}bringToFront(){this._panel.reveal()}setTitle(e){this._panel.title=e||Nue}getTitle(){return this._panel.title}_update(){let e=this._panel.webview;switch(this._panel.viewColumn){case ci.ViewColumn.Two:this._updateHtml(e);return;case ci.ViewColumn.Three:this._updateHtml(e);return;case ci.ViewColumn.One:default:this._updateHtml(e);return}}_updateHtml(e){this._panel.webview.html=this._getHtmlForWebview(e)}_getHtmlForWebview(e){let r=ci.Uri.joinPath(this._extensionUri,"resources","webview.js"),i=ci.Uri.joinPath(this._extensionUri,"resources","webview.css"),s=e.asWebviewUri(r);return`<!DOCTYPE html>
      <html lang="en">
      <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="${e.asWebviewUri(i).toString()}" />
      </head>
      <body>
        <div id="iframe-container">
          <iframe id="figma-iframe" frameBorder="0" src="${this._login?`${this._baseUrl}/integrations/login?integration_host=msft&cont=/integrations/vscode`:`${this._baseUrl}/integrations/vscode`}"></iframe>
        </div>

        <div id="loader">
          <div class="progress_bar--outer">
            <div
              class="progress_bar--centerContainerStatic progress_bar--centerContainer"
            >
              <div class="progress_bar--strokedLogo progress_bar--designLogoStroke">
                <span class="svg-container progress_bar--staticLogo">
                  <svg
                    class="svg"
                    width="23"
                    height="32"
                    viewBox="0 0 23 32"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M0 5.986c0 2.094 1.085 3.937 2.727 5.007C1.085 12.063 0 13.906 0 16c0 2.094 1.085 3.937 2.727 5.007C1.085 22.077 0 23.92 0 26.014 0 29.327 2.738 32 6.067 32c3.358 0 6.121-2.698 6.121-6.04v-5.53c1.073.967 2.498 1.556 4.063 1.556h.11c3.335 0 6.039-2.68 6.039-5.986 0-2.094-1.085-3.937-2.727-5.007C21.315 9.923 22.4 8.08 22.4 5.986 22.4 2.68 19.696 0 16.36 0H6.04C2.703 0 0 2.68 0 5.986zm16.36 5.987h-.109c-2.244 0-4.063 1.803-4.063 4.027 0 2.224 1.82 4.027 4.063 4.027h.11c2.244 0 4.063-1.803 4.063-4.027 0-2.224-1.82-4.027-4.063-4.027zm0-1.96c2.245 0 4.064-1.802 4.064-4.027 0-2.224-1.82-4.027-4.063-4.027h-4.173v8.055h4.173zm-6.148 1.96H6.039c-2.244 0-4.063 1.803-4.063 4.027 0 2.224 1.82 4.027 4.063 4.027h4.173v-8.054zM6.039 21.986h4.173v3.973c0 2.247-1.864 4.082-4.145 4.082-2.251 0-4.09-1.81-4.09-4.027 0-2.225 1.818-4.028 4.062-4.028zm4.173-11.972H6.039c-2.244 0-4.063-1.803-4.063-4.028 0-2.224 1.82-4.027 4.063-4.027h4.173v8.055z"
                      fill-rule="evenodd"
                      fill-opacity="1"
                      stroke="none"
                    ></path>
                  </svg>
                </span>
              </div>
            </div>
          </div>
        </div>

        <script src=${s.toString()}></script>
      </body>
      </html>`}},ji=dn;ji.viewType="FigmaWebviewPanel",ji.onOpen=()=>{},ji.onClose=()=>{};var Vue="thumbnailCache",que="figfileApiCache",dQe=1,cQe=1;function Bue(t,e){switch(e){case"THUMBNAIL":return`${Vue}_v${dQe}_${t}`;case"FIGFILE_API":return`${que}_v${cQe}_${t}`}}async function Wue(t,e,r){let i=Bue(e,r);return await t.workspaceState.get(i)||null}function Gue(t,e,r,i){let s=Bue(e,r);try{t.workspaceState.update(s,i)}catch(o){Je.error(`Error setting cache entry ${s}:`,o)}}function Hue(t){let r=t.workspaceState.keys().filter(i=>i.startsWith(Vue)||i.startsWith(que)).map(i=>t.workspaceState.update(i,void 0));return Promise.all(r)}var pQe=1e3*60*60,ND={key:"integCookie"},VD={key:"userId"},B0={key:"appAuthSessionCookie"},$ue={key:"pageLoadToken"},$d;async function zue(t){t.secrets.onDidChange(async e=>{e.key===Yr(t,ND)?await mQe(t):e.key===Yr(t,VD)&&await gQe(t)});try{let e=await Zue(t);$d=e?e.value:void 0}catch{}}async function mQe(t){let e=await Zue(t);$d=e?e.value:void 0}async function gQe(t){$d?await Que(t):await Yue(t),await t.secrets.delete(Yr(t,B0))}async function W0(t){if(await cn.window.showInformationMessage("Log in to Figma for VS Code to open this file","Log in")==="Log in")try{await H0(t)}catch(r){Je.error("Authentication error",r)}}async function N0(t){try{return await zd(t,"user"),!0}catch{return!1}}async function ym(t,e=!0){try{hm(t,"post","session/logout")}catch(r){e&&Je.error("Error calling /session/logout API",r)}await t.secrets.delete(Yr(t,ND)),await t.secrets.delete(Yr(t,VD)),await Hue(t),await Yue(t),ji.currentPanel&&ji.currentPanel.dispose()}var G0=new Nt;async function Yue(t){Mt({category:"auth",message:"handleLoggedOut start"}),await cn.commands.executeCommand("setContext","figma.loggedIn",!1),await oj(t,!1),RD(void 0),G0.invoke(),await sj(t,null),await cn.commands.executeCommand("setContext","figma.userOrgs",0),Mt({category:"auth",message:"handleLoggedOut end"})}async function Que(t){Mt({category:"auth",message:"handleLoggedIn start"}),await cn.commands.executeCommand("setContext","figma.loggedIn",!0),await cn.commands.executeCommand("setContext","figma.loggingIn",!1),au(t,"vscode.login_successful"),await BD(t),await oj(t,!0),await lh(t);let e=(await dh(t)).length;await cn.commands.executeCommand("setContext","figma.userOrgs",e),Mt({category:"auth",message:"handleLoggedIn end"})}var Kue=Lue()?"vscode-insiders":"vscode";async function H0(t){Mt({category:"auth",message:"authenticateWithFigma called"});try{let e=await K0(t,"integrations/session/app_auth",{app_type:Kue});if(!e.headers["set-cookie"])throw new Error("No set-cookie headers found");let i=q0.parse(e.headers["set-cookie"]).find(s=>s.name==="figma.session")?.value;if(!i)throw new Error("No figma.session cookie in authenticateWithFigma");await t.secrets.store(Yr(t,B0),i),Mt({category:"auth",message:"authenticateWithFigma got session cookie"}),await cn.env.openExternal(cn.Uri.parse(`${Or[zt(t)]}/app_auth/${e.data.meta.id}/grant?desktop_protocol=${Kue}`,!0)),Mt({category:"auth",message:"authenticateWithFigma opened browser"})}catch(e){throw cn.window.showErrorMessage("Error starting login. Please contact Figma support if this problem persists."),new rx("Error starting authentication session",e)}}async function Jue(t,e){Mt({category:"auth",message:"redeemAppAuth called"});let r=await t.secrets.get(Yr(t,B0));if(!r)throw new Error("No figma.session cookie in redeemAppAuth");try{let i=await K0(t,"session/app_auth/redeem",{g_secret:e},{Cookie:`figma.session=${r}`});if(Mt({category:"auth",message:"redeemAppAuth got result from server"}),!await Xue(i,t))throw new Error("figma.integ cookie not found in redeemAppAuth");Mt({category:"auth",message:"redeemAppAuth got integ cookie"}),await t.secrets.store(Yr(t,VD),i.data.meta.workspace.userId),RD(i.data.meta.workspace.userId),Mt({category:"auth",message:"redeemAppAuth stored used ID"}),await Que(t)}catch(i){throw Je.exception(i),ex(i)&&i.response&&i.response.status===403&&di("Your user has idle timeout configured and is not currently able to use Figma for VS Code"),await cn.commands.executeCommand("setContext","figma.loggingIn",!1),i}}async function Xue(t,e){if(!t.headers["set-cookie"])return!1;let i=q0.parse(t.headers["set-cookie"],{decodeValues:!1}).find(s=>s.name===Ig[zt(e)]);return i&&i.value?(await e.secrets.store(Yr(e,ND),JSON.stringify({value:i.value,expires:i.expires})),$d=i.value,await jue(),!0):!1}async function LD(t){let e=await t.secrets.get(Yr(t,ND));if(!e)throw $d=void 0,new ku("No figma.integ cookie stored in secrets");let r=JSON.parse(e);return $d=r.value,r}async function Zue(t){try{return await LD(t)}catch{return}}function E0(){return $d}async function k0(t){let e=await t.secrets.get(Yr(t,VD));if(!e)throw new ku("No user ID stored in secrets");return e}async function bm(t){try{return await k0(t)}catch{return}}async function fQe(t){let e=await LD(t);return{cookie:`${Ig[zt(t)]}=${e.value}`,origin:Or[zt(t)]}}async function ede(t,e){try{let r=await fQe(e),i=await t(r);return await Xue(i,e),i}catch(r){throw Xi(e)&&(Bs.isAxiosError(r)&&r.response?.status===401||r instanceof ku)?(Je.error("Authenticated API call received 401 Unauthorized",r),await V0(e),new ku(r.message)):r}}async function V0(t){await ym(t),await W0(t)}async function dh(t){return(await zd(t,"orgs")).data.meta}async function tde(t){await Mue(async()=>{let e=await dh(t),r=wu(t);return[{label:"All organizations",id:null,_quickPickActive:r===null},...e.map(i=>({label:i.name,id:i.id,_quickPickActive:r===i.id}))]},async e=>{e.length>0&&await sj(t,e[0].id)},"Select an organization")}function rde(t){return setInterval(()=>{Xi(t)&&(N0(t),BD(t),uh(),lh(t))},pQe)}async function bQe(t,e){return(await dh(t)).filter(i=>i.id===e)[0]}async function qD(t){let e=wu(t),r="All";if(e!==null){let i=await bQe(t,e);i&&(r=i.name)}return r}async function Tue(t){return await t.secrets.get(Yr(t,$ue))}async function yQe(t,e){await t.secrets.store(Yr(t,$ue),e)}async function BD(t){try{let r=(await ide(t,"dev_handoff/vscode/initial_options")).data?.meta?.page_load_token;r&&await yQe(t,r)}catch(e){Je.error("VS Code: Couldn't get page load token",e),await ym(t)}}async function ide(t,e,r={},i){let s=Bs.create();return Wo(s,{retries:2,retryDelay:o=>{let a=Math.pow(2,o)*1e3,u=Math.random()*2e3;return a+u}}),s.get(`${Or[zt(t)]}/api/${e}`,{headers:{accept:"application/json",origin:Or[zt(t)],...r},...i})}async function K0(t,e,r,i={},s){return Bs.post(`${Or[zt(t)]}/api/${e}`,r,{headers:{accept:"application/json",origin:Or[zt(t)],...i},...s})}async function hm(t,e,r,i,s){return ede(o=>Bs(`${Or[zt(t)]}/api/${r}`,{method:e,data:i,headers:{...o,accept:"application/json",Origin:Or[zt(t)]},...s}),t)}async function zd(t,e,r){return hm(t,"get",e,void 0,r)}var sde=require("vscode"),hQe=Ie(require("vscode"));function nde(t,e,r){return t.asWebviewUri(sde.Uri.joinPath(e,...r))}function IQe(){let t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let r=0;r<32;r++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}var WD=class{constructor(e,r,i=s=>{}){this.webviewName=e;this.context=r;this.handleMessage=i}resolveWebviewView(e){this._view=e,e.webview.options={enableScripts:!0,localResourceRoots:[this.context.extensionUri]},e.webview.html=this._getHtmlForWebview(e.webview),e.webview.onDidReceiveMessage(this.handleMessage),this.onViewFirstVisible()}sendMessage(e){return this._view?.webview?.postMessage(e)}setDescription(e){this._view&&(this._view.description=e)}onViewFirstVisible(){}_getHtmlForWebview(e){let r=nde(e,this.context.extensionUri,["webviews","build","assets",`${this.webviewName}.css`]),i=nde(e,this.context.extensionUri,["webviews","build","assets",`${this.webviewName}.js`]),s=IQe();return`
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="Content-Security-Policy" content="default-src 'none'; img-src *; style-src ${e.cspSource}; script-src 'nonce-${s}';">
    <link rel="stylesheet" type="text/css" href="${r}">
  </head>
  <body>
    <div id="root"></div>
    <script type="module" nonce="${s}" src="${i}"></script>
  </body>
</html>
        `}};var xQe=new Set(["AtMentionCommentNotif","FileCommentNotif","FileCommentNotifV2","FileCommentReactionNotif","FileCommentReactionNotifV2","FileCommentReplyNotif","FileCommentReplyNotifV2","BatchedFileCommentNotif"]),_Qe=[/type=whiteboard/],$0=class extends WD{constructor(r,i,s){super("notifications",r,o=>{switch(o.type){case"NOTIFICATION_CLICKED":this.openNotification(o.data.notificationId);break;case"VIEW_LOADED":this._notificationsUpdated(),ade(r,this);break;default:console.warn("Received a notificiations message that doesn't have a handler",o)}});this._context=r;this._figmaCommunication=i;this._extensionState=s;this.notifications=[];T0.add(()=>{try{this.refresh()}catch{}})}async _notificationsUpdated(){await this.sendMessage({type:"NOTIFICATIONS_UPDATED",data:{notifications:this.notifications}})}updateBadge(){if(this._view){let r=this.notifications.filter(i=>i.isUnread).length;this._view.badge={tooltip:`${r} unread notification${r>1?"s":""}`,value:r}}}async markNotificationRead(r){await hm(this._context,"put","user_notifications",{id:r,resolved_at:!0,medium:"vscode"}),this.notifications=this.notifications.map(i=>i.id===r?{...i,isUnread:!1}:i),await this._notificationsUpdated()}async openNotification(r){let i=this.notifications.find(d=>d.id===r);if(!i){console.warn("Cannot find the notification being clicked on");return}if(au(this._context,"vscode.notification_clicked",{type:i?.type}),i.openInBrowser||!i.href){await Im.env.openExternal(Im.Uri.parse(i.href||Or[zt(this._context)])),await this.markNotificationRead(r);return}let s=new URL(i.href);if(i.type==="BatchedFileCommentNotif"){let d=await hm(this._context,"get",`user_notifications/${r}/batched_notification_latest_comment_deeplink`);s=new URL(d.data.meta.href)}let o=s.pathname.slice(1).split("/");if(o[0]!=="file"){console.warn("Notification href is not a file");return}s.searchParams.append("show-canvas","1");let u=o.slice(1).join("/")+"?"+s.searchParams.toString()+s.hash;await UD(this._context,this._figmaCommunication,this._extensionState,u),await this.markNotificationRead(r)}async refresh(){try{let r=await zd(this._context,`user_notifications/server_driven/plan?current_plan_id=${wu(this._context)??-1}&currentView=teamFeed&is_plan_org=true`,{params:{currentView:"feed"}});this.notifications=r.data.meta.map(i=>({id:i.notification_id,type:i.notification_type,isUnread:i.is_unread,href:i.deeplink?.href,createdAt:i.preferred_attachments[0].body.created_at,title:i.preferred_attachments[0].body.title?.map(s=>s.html_text).join(" "),description:i.preferred_attachments[0].body.description?.map(s=>s.html_text).join(" "),thumbnail:i.preferred_attachments[0].body.thumbnail,avatars:i.avatars,plan:i.plan?{name:i.plan?.name,img_url:i.plan?.img_url}:void 0,openInBrowser:!xQe.has(i.notification_type)||_Qe.some(s=>i.deeplink?.href?.match(s)),isActionable:i.preferred_attachments.some(s=>s._block_type==="ActionableAttachment")})),this.updateBadge(),await this._notificationsUpdated()}catch(r){throw Je.error(`Error fetching notifications: ${ex(r)?r.response?.status||"no response":"other"}`,r),r}}onViewFirstVisible(){this.updateBadge()}};function ode(t,e,r){let i=new $0(t,e,r);t.subscriptions.push(Im.window.registerWebviewViewProvider("figma.views.notifications",i)),_g.add(()=>{ade(t,i),Xi(t)&&i.refresh()})}async function ade(t,e){let r=await qD(t);e.setDescription(r)}var GD=class{constructor(){this.layers={};this.onSVGsChanged=e=>{};this.selectedLayerGuidListeners=new Nt;this.selectedPageGuidListeners=new Nt;this.cssPropertiesListeners=new Nt}setCssPropertiesByLayer(e){this.cssPropertiesByLayer=e??void 0,this.cssPropertiesListeners.invoke()}setFileKey(e){this.fileKey=e}setText(e){this.text=e}setSelectedLayerGuid(e){this.selectedLayerGuid=e,this.selectedLayerGuidListeners.invoke(e)}setSelectedPageGuid(e){this.selectedPageGuid=e,this.selectedPageGuidListeners.invoke(e)}setLayersAndRootNodeId(e,r){this.layers=e,this.rootNodeId=r}};var ps=Ie(require("vscode"));var Ki=Ie(require("vscode")),age=Ie(sge());var oge=Ie(require("path"));var mu=require("fs");var tc;(a=>{let t="plugin_dev_settings.json",e=null,r=null;function i(u){if(r)return;let d=u.globalStorageUri.fsPath;(0,mu.existsSync)(d)||(0,mu.mkdirSync)(d,{recursive:!0}),r=oge.default.join(d,t)}a.initFilePath=i;function s(){if(!r)return;let u={localFileExtensions:Ir.saveToJson()},d=JSON.stringify(u);d!==e&&(0,mu.writeFileSync)(r,d,{encoding:"utf8"})}a.save=s;function o(){if(r)try{if(e=(0,mu.readFileSync)(r,{encoding:"utf8"}),!e)return;let u=JSON.parse(e);"localFileExtensions"in u&&Ir.loadFromJson(u.localFileExtensions)}catch(u){Je.error("Error reading file",u)}}a.read=o})(tc||(tc={}));var mV=Ie(require("path"));var Ir=new age.LocalFileExtensionRegistry(Je,tc.save);async function lge(t,e){let r=[],i=[],s=await Ki.window.showOpenDialog(t);return s?(await Promise.all(s.map(o=>Ir.processEntry({entryPath:o.path,depth:e,topLevel:!0,added:r,existed:i}))),{added:r,existed:i}):{added:r,existed:i}}async function uge(t){let e=Ir.getPath(t),r=mV.default.dirname(e),i=Ki.Uri.file(r);if(rr.fileKey&&gu){let a=ji.currentPanel?.getTitle();await u2(gu,{fileKey:rr.fileKey,fileName:a})}let s=Ki.workspace.workspaceFolders,o=s&&s.length>0;await Ki.commands.executeCommand("vscode.openFolder",i,{forceNewWindow:o}),Ki.commands.executeCommand("workbench.view.explorer")}async function dge(t){let e=Ir.getPath(t),r=Ki.Uri.file(e);return await Ki.commands.executeCommand("vscode.open",r),Ki.commands.executeCommand("workbench.view.explorer")}async function cge(){return Ki.commands.executeCommand("workbench.action.toggleDevTools")}async function pge(t){let{manifest:e,manifestFile:r}=Ir.validateExtensionDirectory(t),i=Ir.sanitizeFileName(t.name),s=await Ki.window.showSaveDialog({title:e.name?"Choose plugin directory location":"Choose plugin name and directory location",defaultUri:Ki.Uri.file(i)});if(!s)return;let o=s.path;await Ir.writeExtensionDirectory(o,t,e,r);let a=Ir.addManifestPath(mV.default.join(o,Ir.MANIFEST_FILE_NAME));if(a.existed)throw new Error("Extension unexpectedly already added");return a.id}var Th=Ie(pV());var vA=class{constructor(e,r){this.figmaState=e;this.context=r;this.ready=!1;this.htmlSkeletonReceivedListeners=new Nt;this.gotoCodeReceivedListeners=new Nt;this.fontImportsReceivedListeners=new Nt;this.iframeContainerReadyListeners=new Nt;this.figmaReadyListeners=new Nt;this.relatedLinkCreatedListeners=new Nt;this.relatedLinkRemovedListeners=new Nt;this.configureAutocompleteListeners=new Nt;this.generatedCodeListeners=new Nt;this.openRelatedLinkListeners=new Nt;this.assetReceivedListeners=new Nt;this.figmaRegisteredCallbacks={};this.figmaReadyPromise=new Promise(e=>{this.figmaReadyListeners.add(()=>{e()})});this.setWebview=e=>{this.webview=e,e.onDidReceiveMessage(this.handleMessage)};this.setPanel=e=>{this.panel=e};this.handleMessage=async e=>{switch(e.type){case"OPEN_EXTENSION_MANIFEST":await dge(e.data.id);break;case"OPEN_EXTENSION_DIRECTORY":await uge(e.data.id);break;case"TOGGLE_DEV_TOOLS":await cge();break;case"WRITE_NEW_EXTENSION_DIRECTORY_TO_DISK":this.sendMessage({...e,response:await pge(e.request)});break;case"GET_ALL_LOCAL_FILE_EXTENSION_IDS":this.sendMessage({...e,response:Ir.getAllManifestIds()});break;case"REMOVE_LOCAL_FILE_EXTENSION":this.sendMessage({...e,response:Ir.removePath(e.request.id)});break;case"GET_LOCAL_MANIFEST_FILE_EXTENSION_IDS_TO_CACHED_CONTAINS_WIDGET_MAP":this.sendMessage({...e,response:Ir.getManifestIdsToCachedContainsWidgetMap()});break;case"REGISTER_UI_CHANGE_OBSERVER":case"REGISTER_CODE_CHANGE_OBSERVER":this.registerCallback({callbackId:e.callbackId,callback:r=>{this.sendMessage({...e,callbackData:r})},add:r=>{Ir.addFileObserver(e.type==="REGISTER_CODE_CHANGE_OBSERVER"?Th.ExtensionFileType.CODE:Th.ExtensionFileType.UI,r)},remove:r=>{Ir.removeFileObserver(e.type==="REGISTER_CODE_CHANGE_OBSERVER"?Th.ExtensionFileType.CODE:Th.ExtensionFileType.UI,r)}});break;case"REGISTER_MANIFEST_CHANGE_OBSERVER":this.registerCallback({callbackId:e.callbackId,callback:r=>{this.sendMessage({...e,callbackData:r})},add:r=>{Ir.addManifestObserver(r)},remove:r=>{Ir.removeManifestObserver(r)}});break;case"CANCEL_CALLBACK":this.unregisterCallback(e.request.callbackId);break;case"GET_LOCAL_MANIFEST_FILE_EXTENSION_IDS_TO_CACHED_METADATA_MAP":this.sendMessage({...e,response:Ir.getManifestIdsToCachedMetadataMap()});break;case"UPDATE_CACHED_CONTAINS_WIDGET":this.sendMessage({...e,response:Ir.updateCachedContainsWidget(e.request.id,e.request.cachedContainsWidget)});break;case"GET_LOCAL_FILE_EXTENSION_SOURCE":this.sendMessage({...e,response:await Ir.getLocalFileExtensionSource(e.request.id)});break;case"CREATE_MULTIPLE_NEW_LOCAL_FILE_EXTENSIONS":this.sendMessage({...e,response:await lge(e.request.options,e.request.depth)});break;case"GET_LOCAL_FILE_EXTENSION_MANIFEST":this.sendMessage({...e,response:await Ir.loadExtensionManifest(e.request.id)});break;case"CONFIGURE_AUTOCOMPLETE":this.configureAutocompleteListeners.invoke(e.data.providers);break;case"GENERATED_CODE":this.generatedCodeListeners.invoke(e.data.sections);break;case"IFRAME_CONTAINER_READY":this.iframeContainerReadyListeners.invoke();break;case"FIGMA_READY":this.ready=!0,this.figmaReadyListeners.invoke();break;case"CSS_PROPERTIES":this.figmaState.setCssPropertiesByLayer(e.data.cssProperties);break;case"TEXT":this.figmaState.setText(e.data.text);break;case"LAYERS":this.figmaState.setLayersAndRootNodeId(e.data.layers,e.data.rootNodeId);break;case"HTML_SKELETON":this.htmlSkeletonReceivedListeners.invoke(e.data.htmlSkeleton);break;case"GOTO_CODE":this.gotoCodeReceivedListeners.invoke();break;case"FONT_IMPORTS":this.fontImportsReceivedListeners.invoke(e.data.fontImports);break;case"SELECTED_LAYER_GUID":this.figmaState.setSelectedLayerGuid(e.data.guid);break;case"SELECTED_PAGE_GUID":this.figmaState.setSelectedPageGuid(e.data.guid);break;case"OPEN_IN_BROWSER":{let i=e.data.href.startsWith("/")?`${Or[zt(this.context)]}${e.data.href}`:e.data.href;ps.env.openExternal(ps.Uri.parse(i));break}case"FILE_NAME":this.panel?.setTitle(e.data.name);break;case"RELATED_LINK_CREATED":this.relatedLinkCreatedListeners.invoke(e.data.link);break;case"RELATED_LINK_REMOVED":this.relatedLinkRemovedListeners.invoke(e.data.link);break;case"OPEN_RELATED_LINK":this.openRelatedLinkListeners.invoke(e.data.href);break;case"CREATE_FILE_LINK":ps.window.showQuickPick(ps.window.visibleTextEditors.filter(r=>r.document&&r.document.uri.scheme==="file").map(r=>r.document.fileName)).then(r=>{r&&ps.commands.executeCommand("figma.createRelatedLinkForCurrentFile",r)});break;case"ASSET":this.assetReceivedListeners.invoke(e.data.asset);break;case"OPEN_AUTOCOMPLETE_LINE_SETTINGS":ps.commands.executeCommand("workbench.action.openSettings","figma.autocompleteProperties");break;case"OPEN_AUTOCOMPLETE_BLOCK_SETTINGS":ps.commands.executeCommand("workbench.action.openSettings","figma.autocompleteBlocks");break;case"IDLE_LOGOUT":await ym(this.context),await ps.window.showInformationMessage("You have been logged out of Figma for VSCode due to inactivity.");break;case"SET_INDEX_PAGE_CACHE_ENTRY":Gue(this.context,e.data.key,e.data.type,e.data.value);break;case"GET_INDEX_PAGE_CACHE_ENTRY":this.sendMessage({...e,response:{entry:await Wue(this.context,e.request.key,e.request.type)}},{skipReadyCheck:!0});break;default:Je.error(`Message type "${e.type}" from Figma not handled`)}};this.sendGetHtmlSkeleton=()=>{this.sendMessage({type:"GET_HTML_SKELETON"})};this.sendGetFontImports=()=>{this.sendMessage({type:"GET_FONT_IMPORTS"})};this.sendSelectLayer=e=>{this.sendMessage({type:"SELECT_LAYER",data:{guid:e}})};this.sendSelectParentLayer=()=>{this.sendMessage({type:"SELECT_PARENT_LAYER"})};this.sendExpandLayer=()=>{this.sendMessage({type:"EXPAND_LAYER"})};this.sendSelectNextLayer=()=>{this.sendMessage({type:"SELECT_NEXT_LAYER"})};this.sendSelectPreviousLayer=()=>{this.sendMessage({type:"SELECT_PREVIOUS_LAYER"})};this.sendLinkCode=e=>{this.sendMessage({type:"CREATE_RELATED_LINK",data:{url:e}})};this.removeCodeLink=e=>{this.sendMessage({type:"REMOVE_RELATED_LINK",data:{url:e}})};this.sendLoadIframe=(e,r)=>{this.sendMessage({type:"LOAD_IFRAME",data:{cookieValue:e,href:r}},{skipReadyCheck:!0})};this.sendLoadFile=(e,r)=>{this.sendMessage({type:"LOAD_FILE",data:{fileKey:e,nodeId:r}},{skipReadyCheck:!0})};this.sendGotoPage=e=>{this.sendMessage({type:"GOTO_PAGE",data:{nodeId:e}})};this.sendOpenFigmaFileUrl=e=>{this.sendMessage({type:"OPEN_FIGMA_FILE_URL",data:{href:e}})};this.sendInitialSetup=(e,r)=>{this.sendMessage({type:"INITIAL_SETUP",data:{version:e,theme:r}})};this.sendSetTheme=e=>{this.sendMessage({type:"SET_THEME",data:{theme:e}})};this.sendTrackEvent=(e,r)=>{this.sendMessage({type:"TRACK_EVENT",data:{eventName:e,eventProperties:{...r,...Hd()}}})};this.sendMessage=(e,r={})=>{let{skipReadyCheck:i=!1}=r;if(!this.webview)return Je.error("No Figma webview",e.type);if(!this.ready&&!i){this.figmaReadyPromise.then(()=>{this.sendMessage(e,{...r})});return}Je.trace("VS Code sending message to Figma",e),this.webview.postMessage({...e,source:"figma-vscode"})}}isReady(){return this.ready&&this.webview}registerCallback({callbackId:e,callback:r,add:i,remove:s}){Je.trace("VS Code registering callback",e),i(r),this.figmaRegisteredCallbacks[e]=s}unregisterCallback(e){let r=this.figmaRegisteredCallbacks[e];r&&(Je.trace("VS Code unregistering callback",e),r(this.figmaRegisteredCallbacks[e]),delete this.figmaRegisteredCallbacks[e])}};var rc=Ie(require("vscode"));var Wtt=10;function Gtt(t,e){return e.file?{label:e.file.name,command:{title:"Open File",command:"figma.openFile",arguments:[e.file.key,e.file.name]},iconPath:rc.Uri.joinPath(t.extensionUri,"resources","icons","figma-file.svg")}:{}}function gV(t){return{label:t,command:{title:t,command:"figma.disabledCommand"}}}function fV(t,e){return{label:t,collapsibleState:e==="Recents"?rc.TreeItemCollapsibleState.Expanded:rc.TreeItemCollapsibleState.Collapsed,id:e}}function Tm(){return{status:"loading",files:void 0}}var OA=class{constructor(e){this.context=e;this.recentFiles=Tm();this.sharedFiles=Tm();this.favoritedFiles=Tm();this._onDidChangeTreeData=new rc.EventEmitter;this.onDidChangeTreeData=this._onDidChangeTreeData.event;F0.add((r,i,s)=>{this.handleLiveGraphListener(r,i,s,this.recentFiles,"recent")}),P0.add((r,i,s)=>{this.handleLiveGraphListener(r,i,s,this.sharedFiles,"shared")}),j0.add((r,i,s)=>{this.handleLiveGraphListener(r,i,s,this.favoritedFiles,"favorited")})}handleLiveGraphListener(e,r,i,s,o){if(s.status=e,s.files=r,e==="errors")try{Je.error(`Error loading ${o} files`,JSON.stringify(i))}catch(a){Je.error(`Error loading ${o} files. Error stringifying errors.`,a)}this._onDidChangeTreeData.fire(null)}reset(){this.recentFiles=Tm(),this.sharedFiles=Tm(),this.favoritedFiles=Tm(),this._onDidChangeTreeData.fire(null)}refresh(){this._onDidChangeTreeData.fire(null)}getFiles(e,r){if(e.status==="loading"||e.status==="disabled")return[gV("Loading...")];if(e.status==="errors")return[gV("Error loading files")];if(e.files?.length===0)return[gV(r)];let i=wu(this.context);return(e.files?.filter(s=>s.file?.editorType==="design"&&(i===null||s.file?.parentOrgId===i)).slice(0,Wtt)||[]).map(s=>Gtt(this.context,s))}getChildren(e){if(!e)return[fV("Recents","Recents"),fV("Shared Files","SharedFiles"),fV("Starred","Starred")].filter(r=>Boolean(r));switch(e.id){case"Recents":return this.getFiles(this.recentFiles,"Recently viewed files in Figma will appear here");case"SharedFiles":return this.getFiles(this.sharedFiles,"Files shared with you in Figma will appear here");case"Starred":return this.getFiles(this.favoritedFiles,"Add files to the sidebar in Figma to see them here")}return[]}getTreeItem(e){return e}};var bV=Ie(require("vscode"));function Htt(t){let e={},r=/className\s*=\s*"\$\{[0-9]*:([^"]*)\}"/g,i=/dataFigmaNodeId\s*=\s*"([^"]*)"/g,s;for(;s=r.exec(t);){let o=i.exec(t);if(o){let a=o[1];e[s[1]]=a}}return e}var Ch;function mge(t,e){let r=bV.window.activeTextEditor,i=Htt(t);if(!r)return;let s=t.replace(/\sdataFigmaNodeId="[^"]*"/g,"");kue(s),Ch&&Ch.dispose(),Ch=bV.window.onDidChangeTextEditorSelection(o=>{let a=i[r.document.getText(o.selections[0])];a&&e.sendSelectLayer(a)})}function gge(){Ch&&Ch.dispose()}var yV=Ie(require("vscode"));var SA=class{constructor(){this.extensionOpen=!1;this.userHasCompletedOnboarding=!1;this.setExtensionOpen=async e=>(this.extensionOpen=e,yV.commands.executeCommand("setContext","figma.extensionOpen",e));this.setRelatedLinks=e=>{this.relatedLinks=e};C0.add((e,r)=>{if(e==="loaded"){this.userHasCompletedOnboarding=Boolean(r?.some(s=>s.name==="dev_handoff_seen_config_wizard"));let i=sx(gu);i&&yV.commands.executeCommand("figma.openFile",i.fileKey),d2(gu)}else this.userHasCompletedOnboarding=!1})}};var bge=Ie(require("vscode"));var iir=require("path");function fge(t){switch(t.type){case"asset":return"image";case"stack":return t.stackMode==="HORIZONTAL"?"horizontal":t.stackMode==="VERTICAL"?"vertical":t.type;case"symbol":return"instance";case"text":return"text";case"generic":return"frame";default:return""}}function yge(t,e){let r=!1,i=t.selectedLayerGuid,s=bge.window.createQuickPick(),o=a(!0);function a(u){return Object.values(t.layers).map(d=>({label:(u?"   ".repeat(d.depth):"")+`$(figma-${fge(d)}) `+d.name,description:d.text?`${d.text}`:"",detail:(u?"   ".repeat(d.depth):"")+`Type: ${d.type}`,layer:d}))}s.onDidChangeActive(()=>{s.selectedItems&&e.sendSelectLayer(s.activeItems[0].layer.guid)}),s.onDidAccept(()=>{r=!0,s.hide()}),s.onDidChangeValue(()=>{s.value!==""?s.items=a(!1):s.items=a(!0)}),s.onDidHide(()=>{!r&&i&&e.sendSelectLayer(i),r=!1}),s.placeholder="Search for a Figma layer",s.items=o,s.activeItems=o.filter(u=>u.layer.guid===t.selectedLayerGuid),s.matchOnDescription=!0,s.matchOnDetail=!0,s.show()}var DA=Ie(require("vscode"));function hge(t){DA.window.registerUriHandler({async handleUri(e){Mt({category:"uri_handler",message:"handleUri",data:{uri:e.toString()}});let[r,...i]=e.path.slice(1).split("/");switch(r){case"open":{let[s,o,a]=i;DA.commands.executeCommand("figma.openFile",s,o,a);break}case"app_auth_redeem":try{await Jue(t,e.query.split("=")[1])}catch(s){let o=new tx("Handler for app_auth_redeem failed",s);throw Je.exception(o),o}break}}})}var Ms=Ie(require("vscode"));var Cm=Ie(require("vscode"));var Ktt={github:{remotePrefixes:["git@github.com:","https://github.com/"],webPrefix:"https://github.com/",webSourceUrlPrefix:"blob"},gitlab:{remotePrefixes:["git@gitlab.com:","https://gitlab.com/"],webPrefix:"https://gitlab.com/",webSourceUrlPrefix:"-/blob"},bitbucket:{remotePrefixes:["git@bitbucket.org:","https://bitbucket.org/"],webPrefix:"https://bitbucket.org/",webSourceUrlPrefix:"src"}};function $tt(t){return Object.values(Ktt).find(e=>e.remotePrefixes.some(r=>t.startsWith(r)))}function ztt(){return Cm.extensions.getExtension("vscode.git")?.exports}function Ige(){let t=ztt();if(t)try{return t.getAPI(1).repositories[0]}catch(e){console.error("Error initialising git extension: ",e);return}}function xge(){let t=Ige();if(!t)return;let e=t.state.remotes[0]?.fetchUrl;if(!e)return;let r=$tt(e);if(!r)return;let i=r.remotePrefixes.find(s=>e.startsWith(s));if(i)return{provider:r,webRepoUrl:e.replace(new RegExp(`^${i}`),r.webPrefix).replace(/.git$/,"")}}function Ytt(){let t=Ige();if(t)return t.state.HEAD?.name}function Na(t=!1,e){let r=xge(),i=Ytt(),s=wue(e);return r?s?i?`${r.webRepoUrl}/${r.provider.webSourceUrlPrefix}/${i}/${s}`:t?di("git branch could not be identified"):void 0:t?di("File not found"):void 0:t?di("Workspace must have a git remote configured"):void 0}async function _ge(t){let e=R0();if(!e)return;let r=xge();if(t=t.replace("https://www.","https://"),!(r&&t.startsWith(r?.webRepoUrl)))return;let i=new RegExp(`${r.webRepoUrl}/${r.provider.webSourceUrlPrefix}/[^/]+/(.*)`),s=t.match(i);if(!s||s.length<2)return;let o=s[1];try{return await Cm.workspace.fs.stat(Cm.Uri.joinPath(e,o)),o}catch{return}}var ic={},vge=1e3,Qtt=60*1e3,nc;function hV(t,e){if(!Xi(t))return;Ms.commands.executeCommand("setContext","figma.showRelatedLinkIcon",!1);let r=Na();if(!r)return;let i=ic[r];i&&IV(e,r,ic[r].links,!1);let s=i?Math.max(vge,Qtt-(new Date().getTime()-i.time.getTime())):vge;nc&&clearTimeout(nc),nc=setTimeout(()=>{Na()===r&&Jtt(t,e,r)},s)}async function Jtt(t,e,r){let i=await zd(t,"search/related_links?include_file_names=true",{params:{link_url:r}}),{links:s}=i.data.meta;IV(e,r,s)}function IV(t,e,r,i=!0){e===Na()&&(i&&(ic[e]={links:r,time:new Date}),Ms.commands.executeCommand("setContext","figma.showRelatedLinkIcon",r&&r.length>0),t.setRelatedLinks(r))}function Oge(t,e,r=0){Na()?hV(t,e):r<10&&setTimeout(()=>Oge(t,e,r+1),500)}function Sge(t,e,r){Oge(t,e),Ms.window.onDidChangeActiveTextEditor(()=>{nc&&clearTimeout(nc),hV(t,e)}),Ms.workspace.onDidCloseTextDocument(i=>{let s=Na(!1,i.uri);s&&delete ic[s]}),r.relatedLinkCreatedListeners.add(i=>{let s=ic[i.link_url]?ic[i.link_url]?.links?.concat(i):[i];IV(e,i.link_url,s)}),r.relatedLinkRemovedListeners.add(i=>{nc&&clearTimeout(nc),delete ic[i.link_url],hV(t,e)}),r.openRelatedLinkListeners.add(async i=>{let s=await _ge(i);s?await Rue(s):Ms.env.openExternal(Ms.Uri.parse(i))})}async function xV(t,e,r,i){await UD(t,e,r,`${i.file_key}/?node-id=${i.node_id}`)}var _V=Ie(require("vscode"));function Xtt(t){return Object.keys(t).includes("provideInlineCompletionItems")||typeof t.provideInlineCompletionItems=="function"}function Ztt(t){return Object.keys(t).includes("provideCompletionItems")||typeof t.provideCompletionItems=="function"}var AA=class{constructor(e,r,i){this.context=e;this.state=r;this.communication=i;this.createProviders=()=>[];this.providerDisposables=[]}setProviders(e){this.createProviders=e,this.cssPropertiesListenerDisposable&&this.cssPropertiesListenerDisposable.dispose(),this.cssPropertiesListenerDisposable=this.state.cssPropertiesListeners.add(()=>{this.registerProviders()}),this.registerProviders()}registerProviders(){this.providerDisposables.forEach(e=>{e.dispose()}),this.providerDisposables=[];for(let e of this.createProviders(this.state)){let r=e.providerFunction;if(Xtt(r)){let i=_V.languages.registerInlineCompletionItemProvider(e.selector,r);this.context.subscriptions.push(i),this.providerDisposables.push(i)}if(Ztt(r)){let i=_V.languages.registerCompletionItemProvider(e.selector,r,...e.triggerCharacters??[]);this.context.subscriptions.push(i),this.providerDisposables.push(i)}}}};var To=Ie(require("vscode"));var kh=Ie(Dge());function FA(t){let e=Fge(Pge(t)).replace(/[A-Z]+(?![a-z])|[A-Z]|[0-9]+/g,(r,i)=>(i!==0?"-":"")+r.toLowerCase()).replace(/^[^A-Za-z]+/,"");return e===""?"unnamed":e}function Age(t){let e=Fge(t);return e.match(/^\d/g)&&(e=`_${e}`),e=Pge(e).replace(/\W/g,"_"),e||"_"}function Fge(t){return(0,kh.words)(t.replace(/['\u2019]/g,"")).reduce((e,r,i)=>i?e+(0,kh.upperFirst)(r):e+r,"")}function Pge(t){return t.replace(/[\u007F-\uFFFF]/g,"").replace(/'/g,"").replace(/"/g,"").replace(/\r\n/g," ").replace(/\n/g," ").replace(/\r/g," ")}function jge(t){t.assetReceivedListeners.add(e=>{ert(e)})}async function ert(t){let e=t.assetName.lastIndexOf("."),r=t.assetName.slice(0,e),i=t.assetName.slice(e),s=`${Age(r)}`,o=t.buffer,a=To.workspace.workspaceFolders;if(!a)return di("No workspace folders found.");let u=a[0],d=`${FA(s)}${i}`,p=(a2()||"public/images")+"/"+d,m=await To.window.showInputBox({title:"Path to save exported asset",value:p,valueSelection:[p.lastIndexOf("/")+1,p.lastIndexOf(".")]});if(!m)return;let f=To.Uri.joinPath(u.uri,m),y=f.path.split("/"),v=(l2()||"/images")+"/"+y[y.length-1],O=new Uint8Array(o);return To.workspace.fs.writeFile(f,O).then(()=>{To.env.clipboard.writeText(v),To.window.showInformationMessage(`Saved ${s} to ${m} and copied path to clipboard`)},A=>{console.error(A)})}var wh=Ie(require("vscode"));function Tge(t){return{provideCompletionItems(r,i,s,o){if(Object.keys(t.layers).length<=0)return[];if(r.lineAt(i).text.trim()!==".")return[];if(r.fileName.endsWith(".html")||r.fileName.endsWith(".vue")){let m=new wh.Position(0,0),f=r.getText(new wh.Range(m,i));if(f.lastIndexOf("<style>")<=f.lastIndexOf("</style>"))return[]}let u=r.lineAt(i),d=new wh.Range(u.range.start.translate(0,u.text.search(/\S/)),u.range.end);return Object.values(t.layers).map(m=>{let f={command:"figma.selectLayer",title:"Select matching layer in Figma",arguments:[m.guid]},y=FA(m.name);return{sortText:Rn.TopLevel,label:`(Figma) .${y}`,filterText:`.${y}`,insertText:`.${y}`,detail:"Figma Layer",command:f,range:d}})}}}var Fr=Ie(require("vscode"));function vV(t){return t.replace(/-([a-z])/g,function(e,r){return r.toUpperCase()})}function OV(t){return(t.startsWith("Webkit")?"-":"")+t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function SV(t){return t.includes("#")||t.includes("rgb")||t.includes("hsl")||t.includes("hwb")}function DV(t){return/#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3}|[A-Fa-f0-9]{8})/.exec(t)?.[0]??null}var trt=/(?:(?:\s)*((?:[.#][\w\-:.]+\s?)+)\s{((?:[\s\w$#-_!])*)}\s*)/g,Ege=/(?:(?:\s)*((?:[.#][\w\-:.]+\s?)+)\s{)/g,rrt=/(?:\s*(?:\s*(.+):\s?(.+);\s?))\s*/gi;function Cge(t){let e=[],r;for(;r=rrt.exec(t);){let{1:i,2:s}=r;i!==void 0&&s!==void 0&&e.push({key:i,value:s})}return e.length>0?e:null}function kge(t){let e,r=[];for(;e=trt.exec(t);){let{0:i,1:s,2:o}=e;if(s){let a=Cge(o);a&&r.push(new PA(i.trim(),s,a))}}if(r.length===0){let i=Cge(t);i&&r.push(new PA(t.trim(),".css",i))}return r}var PA=class{constructor(e,r,i){this.raw=e;this.selector=r;this.rules=i}};var wge=Ie(require("vscode"));function Rge(t,e){let r=t.lineAt(e).range;return t.getText(r)}function jA(t,e){let r=t.lineAt(e).range,s=t.getText(r).search(/\S/);return new wge.Range(s>-1?r.start.translate(0,s):r.start,r.end)}var km=Ie(require("vscode"));function irt(t,e){let r=Rge(t,e).trim();return r.startsWith(".")||r.startsWith("#")}function nrt(t,e){return Va(t,e,/style={\s?{/,"{")}function srt(t,e){return Va(t,e,Ege,"{")||Va(t,e,/css`/,"`")||Va(t,e,/styled.[\w()]+`/,"`")}function ort(t){return t.fileName.endsWith(".html")||t.fileName.endsWith(".vue")}function art(t,e){let r=new km.Position(0,0),i=t.getText(new km.Range(r,e));return!(i.lastIndexOf("<style>")<=i.lastIndexOf("</style>"))}var TA=class{constructor(e){this.rulesets=e}provideItems(e,r,i){let s=e.lineAt(r).range,o=e.getText(s).trim(),a=jA(e,r);if(o.trim()===""||this.rulesets.length===0)return[];if(ort(e)&&!art(e,r))return[];if(irt(e,r))return this.rulesets.filter(d=>d.selector.startsWith(o)).map(d=>i?{filterText:d.raw,insertText:d.raw,range:jA(e,r)}:{label:`(Figma) ${d.selector}`,filterText:d.raw,insertText:d.raw,range:jA(e,r),sortText:Rn.SelectedLayer,kind:km.CompletionItemKind.Value,detail:"Generated code",documentation:"This suggestion comes from the generated code of the current active Figma plugin, matching the code of the selected layer."});if(srt(e,r)){let u=new Set;return this.rulesets.map(p=>p.rules.map(m=>({key:m.key,value:m.value,ruleset:p}))).flat().filter(p=>{let m=`${p.key}: ${p.value}`,f=!u.has(m);return u.add(m),f&&m.startsWith(o.trim())}).map(p=>{let m=`${p.key}: ${p.value}`;return i?{filterText:`${m};`,insertText:`${m};`,range:a}:{label:`(Figma) ${m}`,filterText:`${m};`,insertText:`${m};`,sortText:Rn.SelectedLayer,kind:CA(m),detail:p.ruleset.selector,range:a,documentation:p.ruleset.raw}})}if(nrt(e,r)){let u=new Set;return this.rulesets.map(p=>p.rules.map(m=>({key:m.key,value:m.value,ruleset:p}))).flat().filter(p=>{let m=`${vV(p.key)}: "${p.value}"`,f=!u.has(m);return u.add(m),f&&m.startsWith(o.trim())}).map(p=>{let m=`${vV(p.key)}: "${p.value}"`;return i?{filterText:`${m}`,insertText:`${m}`,range:a}:{label:`(Figma) ${m}`,filterText:`${m}`,insertText:`${m}`,sortText:Rn.SelectedLayer,kind:CA(m),detail:p.ruleset.selector,range:a,documentation:p.ruleset.raw}})}return[]}provideCompletionItems(e,r){return this.provideItems(e,r)}provideInlineCompletionItems(e,r){return this.provideItems(e,r,!0)}};function lrt(t,e,r){let i=urt[r],s=e.line,o=0;for(;s<t.lineCount;){let a=s===e.line?e.character:0,u=t.lineAt(s).text;for(;a<u.length;){if(u[a]===r&&r!==i&&o++,u[a]===i)if(o>0)o--;else return new Fr.Range(e,new Fr.Position(s,a));a++}s++}return null}var urt={"{":"}","`":"`"};function Va(t,e,r,i){for(let s=0;s<t.lineCount;s++){let o=t.lineAt(s),a,u;if(r instanceof RegExp){let d=r.exec(o.text);if(!d?.[0])continue;u=d[0],a=o.text.indexOf(u)}else{if(a=o.text.indexOf(r),a<0)continue;u=r}if(u){let d=lrt(t,new Fr.Position(s,a+u.length),i);if(d&&d.contains(e)){if(d.end.character===0){let p=d.end.line-1;return new Fr.Range(d.start.translate(0,1),d.end.translate(-1,t.lineAt(p).text.length))}return new Fr.Range(d.start.translate(0,1),d.end.translate(0,-1))}}}return null}function AV(t,e,r){for(r of Array.isArray(r)?r:[r]){let i;if(r.type==="react-prop"){let s=`${r.propName}={`;r.propType==="object"&&(s+="{"),i=Va(t,e,s,"{")}else if(r.type==="object")i=Va(t,e,"{","{");else if(r.type==="css-block")i=Va(t,e,/([.#].*{)/,"{");else if(r.type==="template-string"){let s=new RegExp(`${r.prefix}\``);i=Va(t,e,s,"`")}else if(r.type==="global"&&t.lineAt(e).text==="")return new Fr.Range(e,e);if(i)return i}return null}function CA(t){return SV(t)?Fr.CompletionItemKind.Color:Fr.CompletionItemKind.Value}function wm(t,e){return{command:"figma.trackEvent",title:"",arguments:["vscode.suggestion_accepted",{suggestionType:t,suggestionContentType:e,fileExtension:Uue(),selectedNodeId:rr.selectedLayerGuid,fileKey:rr.fileKey}]}}function EA(t,e,r="",i){let o=DV(t)??t;return{label:"(Figma) "+t,filterText:t+r,insertText:t+r,sortText:Rn.SelectedLayer,kind:CA(t),detail:"Selected Figma Layer",range:i,documentation:o,command:wm(e,"single-property")}}function Mge(t,e){return!!t.match(new RegExp(e))}function Uge(t){switch(t){case"css-property":return`;
`;case"object-property":return`,
`;case"dot-notation-property":return".";default:throw new Error("Unknown item type")}}function Lge(t){switch(t){case"css-property":return";";case"object-property":return"";case"dot-notation-property":return"";default:throw new Error("Unknown item type")}}function drt(t,e,r){if(!nx())return;let{code:i,scope:s,itemType:o,insertSeparatorAfterCompletion:a=!0}=t,u=AV(e,r,s);if(u===null)return[];let d=e.lineAt(r).range.intersection(u),p=e.getText(d),m=d&&p.trim()!==""?new Fr.Range(d.start.translate(0,p.search(/\S/)),d.end):void 0,f=Uge(o),y=Lge(o),v=e.getText(u),O=i.lastIndexOf(y),A=(O>-1?i.slice(0,O):i).split(f).map($=>$.trim());if(Mge(v.trim(),"^$"))return[{label:"Add all styling from selected Figma layer",insertText:i,sortText:Rn.TopLevel,kind:Fr.CompletionItemKind.Value,documentation:new Fr.MarkdownString(`Inserts the following code based on the layer selection in Figma:
\`\`\`text
${i}
\`\`\`
`),command:wm("autocomplete","all-styles")},...A.map($=>EA($,"autocomplete",a?f:"",m))];let k=A.filter($=>!v?.includes($)),U=k.map($=>EA($,"autocomplete",a?f:"",m));return p.trim()===""&&U.push({label:"Add missing styling from selected Figma layer",insertText:k.join(f)+y,sortText:Rn.TopLevel,kind:Fr.CompletionItemKind.Value,documentation:new Fr.MarkdownString(`Inserts the following code based on the layer selection in Figma:
\`\`\`text
${k.join(f)}
\`\`\`
`),command:wm("autocomplete","missing-styles")}),U}function crt(t,e,r){if(!ix())return[];let{code:i,scope:s,itemType:o}=t,a=Uge(o),u=Lge(o),d=AV(e,r,s);if(d===null)return[];if(e.getText(e.lineAt(r).range.intersection(d)).trim()!=="")return[];let p=i.lastIndexOf(u),m=(p>-1?i.slice(0,p):i).split(a).map(O=>O.trim()),f=e.lineAt(r).text.match(/^\s*/)?.[0]??"",y=e.getText(d);if(Mge(y,"^$"))return[{label:"Add all styling from selected Figma layer",insertText:i.split(a).map((A,k)=>k>0?`${f}${A}`:A).join(a)+u,sortText:Rn.TopLevel,kind:Fr.CompletionItemKind.Value,command:wm("inline","all-styles")},...m.map(A=>EA(A,"inline",a))];let v=m.filter(O=>!y?.includes(O));return[{label:"Add missing styling from selected Figma layer",insertText:v.map((O,A)=>A>0?`${f}${O}`:O).join(a)+u,sortText:Rn.TopLevel,kind:Fr.CompletionItemKind.Value,command:wm("inline","missing-styles")},...v.map(O=>EA(O,"inline",u))]}function prt(t,e,r){let{scope:i,items:s}=t,o=AV(e,r,i);if(o===null||!s)return[];let a=e.lineAt(r).range.intersection(o),u=e.getText(a);return u.trim()===""||!a?[]:s.map(d=>{let m=DV(d.insertText)??d.documentation,f=new Fr.Range(a.start.translate(0,u.search(/\S/)),a.end);return{label:"(Figma) "+d.label,filterText:d.insertText,insertText:d.insertText,sortText:Rn.Ambient,kind:SV(d.insertText)?Fr.CompletionItemKind.Color:Fr.CompletionItemKind.Value,range:f,detail:d.detail,documentation:m,command:wm("ambient","single-property")}})}function Nge({code:t,language:e}){return e==="CSS"?{selector:["typescriptreact","javascriptreact",...Rh],providerFunction:new TA(kge(t))}:null}function sc(t){return{selector:t.documentSelector,providerFunction:{provideCompletionItems(e,r,i,s){return"items"in t?prt(t,e,r):drt(t,e,r)}},triggerCharacters:t.triggerCharacters??[":"]}}function FV(t){return{selector:t.documentSelector,providerFunction:{provideInlineCompletionItems(e,r,i,s){return"code"in t?crt(t,e,r):[]}},triggerCharacters:t.triggerCharacters??[]}}var mrt=9,grt=["boxShadow","color","borderRadius","border","borderTop","borderRight","borderBottom","borderLeft","transform","padding","background","backgroundColor","fontSize","fontFamily","letterSpacing","textShadow","lineHeight","gap","rowGap","opacity","width","height"];function Vge(t,e){if(!t.cssPropertiesByLayer||!t.selectedLayerGuid)return[];let r=new Set,i={};return Object.values(t.cssPropertiesByLayer).flatMap(s=>s&&s.guid!==t.selectedLayerGuid?s.cssProperties.map(({property:o,value:a})=>{if(!grt.includes(o))return;let u=e(o,a);if(!(r.has(u)||i?.[o]>=mrt))return r.add(u),i[o]=i[o]?i[o]+1:1,{insertText:u,label:`${u} [${s.layerName}]`,detail:s.layerName,documentation:a}}):void 0).filter(s=>!!s)}var Rh=["html","vue","css","scss",{pattern:"**/*.{less,sass,pcss,postcss,css}"}];function qge(t){if(!t.cssPropertiesByLayer||!t.selectedLayerGuid)return[];let e=`;
`,r=";";t.cssPropertiesByLayer[t.selectedLayerGuid]||Je.error("no CSS properties for node",t.selectedLayerGuid,t.cssPropertiesByLayer);let o={code:t.cssPropertiesByLayer[t.selectedLayerGuid].cssProperties.map(({property:m,value:f})=>`${OV(m)}: ${f}`).join(e)+r,documentSelector:["typescriptreact","javascriptreact",...Rh],scope:[{type:"css-block"},{prefix:"css",type:"template-string"},{prefix:"(styled..*)",type:"template-string"}],itemType:"css-property"},a=FV(o),u=sc(o),d=Vge(t,(m,f)=>`${OV(m)}: ${f}${e}`),p=sc({documentSelector:o.documentSelector,scope:o.scope,items:d,itemType:o.itemType});return[u,a,p]}function Bge(t){if(!t.cssPropertiesByLayer||!t.selectedLayerGuid)return[];let e=`,
`,s={code:t.cssPropertiesByLayer[t.selectedLayerGuid].cssProperties.map(({property:p,value:m})=>`${p}: "${m}"`).join(e),documentSelector:["typescriptreact","javascriptreact"],scope:{propName:"style",type:"react-prop",propType:"object"},itemType:"object-property"},o=FV(s),a=sc(s),u=Vge(t,(p,m)=>`${p}: "${m}"`),d=sc({documentSelector:["typescriptreact","javascriptreact"],scope:{propName:"style",type:"react-prop",propType:"object"},items:u,itemType:"object-property"});return[a,o,d]}var Wge=Ie(require("vscode")),Gge=Ie(ah());function Hge(){let t={sendEventData:()=>{},sendErrorData:(e,r)=>{Gge.captureException(e,{extra:r})}};Wge.env.createTelemetryLogger(t,{})}var Kge=require("fs"),$ge=require("os"),zge=Ie(ah());var Yge=[],rr,gu=null;async function frt(t){if(gu=t,await Fue(t),je.commands.executeCommand("setContext","figma.isUnsupportedVersion",MD()),MD()&&!p2(t)&&(c2(t),await je.window.showInformationMessage("Figma for VS Code is not compatible with your version of Visual Studio Code. Please install an updated version of VS Code by checking for updates or [downloading the latest version](https://code.visualstudio.com/download).","Check for updates")==="Check for updates"&&je.commands.executeCommand("update.checkForUpdate")),!MD()){Hge();try{await brt(t)}catch(e){let r=new xg("Failed to activate extension",e);throw Je.exception(r),r}}}async function brt(t){Mt({category:"extension",message:"activateExtension started"}),Je.info("Figma for VS Code started activation"),await BD(t),Yge.push(rde(t));let e=Xi(t);je.commands.executeCommand("setContext","figma.loggedIn",e),je.commands.executeCommand("setContext","figma.isInternalBuild",!1);let r=0;if(Xi(t))try{r=(await dh(t)).length}catch(R){Je.error("Error fetching orgs at startup",R)}je.commands.executeCommand("setContext","figma.userOrgs",r),Mt({category:"extension",message:"activateExtension loggedIn",data:{loggedIn:e}}),je.commands.registerCommand("figma.disabledCommand",()=>{});let i=new SA;rr=new GD;let s=new vA(rr,t),o=new AA(t,rr,s);await zue(t);try{await lh(t)}catch(R){let z=new xg("setupLivegraph failed",R);throw Je.exception(z),z}hge(t),p(),m(),y(),v(),O(),A(),k(),jge(s),u(),f(),$(),tc.initFilePath(t),tc.read(),a(),Mt({category:"extension",message:"activateExtension activated"}),Je.info("Figma for VS Code active");function a(){let R=sx(t);if(R){let z=`Figma for VS Code reopening ${R.fileName?`\u201C${R.fileName}\u201D`:"a file"}`;je.window.showInformationMessage(z)}}function u(){function R(z){let fe={selector:Rh,triggerCharacters:["."],providerFunction:Tge(z)},Q=qge(z),be=Bge(z);return[fe,...Q,...be]}o.setProviders(z=>R(z)),s.configureAutocompleteListeners.add(z=>{z?o.setProviders(()=>z.map(fe=>sc(fe))):o.setProviders(fe=>R(fe))}),s.generatedCodeListeners.add(z=>{z!==void 0&&z.length>0&&o.setProviders(()=>z.map(fe=>Nge(fe)).filter(fe=>fe!==null))})}async function d(R){R.description=await qD(t)}function p(){let R=new OA(t),z=je.window.createTreeView("figma.views.files",{treeDataProvider:R});d(z),G0.add(()=>{R.reset()}),_g.add(()=>{d(z),R.refresh()}),ode(t,s,i)}function m(){t.subscriptions.push(je.commands.registerCommand("figma.login",async()=>{Mt({category:"auth",message:"figma.login invoked"}),await je.commands.executeCommand("setContext","figma.loggingIn",!0),await H0(t)}),je.commands.registerCommand("figma.logout",async()=>{Mt({category:"auth",message:"figma.logout invoked"}),await je.commands.executeCommand("setContext","figma.loggingIn",!1),uh(),await ym(t)}),je.commands.registerCommand("figma.selectOrg",async()=>{await tde(t)}))}function f(){je.workspace.onDidChangeConfiguration(R=>{let z,fe="boolean",Q;if(R.affectsConfiguration("figma.autocompleteBlocks"))z="autocompleteBlocks",Q=ix();else if(R.affectsConfiguration("figma.autocompleteProperties"))z="autocompleteProperties",Q=nx();else return;au(t,"vscode.settings_changed",{settingName:z,settingType:fe,settingValueBoolean:Q})}),t.subscriptions.push(je.commands.registerCommand("figma.trackEvent",(R,z)=>{s.sendTrackEvent(R,z)}),je.commands.registerCommand("figma.clickLogin",()=>{Mt({category:"auth",message:"Login button clicked"}),au(t,"vscode.login_clicked"),je.commands.executeCommand("figma.login")}),je.commands.registerCommand("figma.clickStartAgain",()=>{Mt({category:"auth",message:"Restart login button clicked"}),au(t,"vscode.login_start_again_clicked"),je.commands.executeCommand("figma.login")}))}function y(){ji.onOpen=()=>{i.setExtensionOpen(!0)},ji.onClose=()=>{i.setExtensionOpen(!1),rr.setSelectedLayerGuid(void 0),rr.setLayersAndRootNodeId({},void 0),rr.setCssPropertiesByLayer({})},t.subscriptions.push(je.commands.registerCommand("figma.openFile",async(R,z,fe)=>{if(!Xi(t)){await W0(t);return}rr.setFileKey(R),i.extensionOpen?(s.sendLoadFile(R,fe),ji.currentPanel?.setTitle(z),ji.currentPanel?.bringToFront()):await L0(t,s,i,R,z,fe)}),je.commands.registerCommand("figma.openUrl",async()=>{let R=await je.window.showInputBox({placeHolder:"Enter Figma URL"});if(R){let z=new URL(R);if(!z.host.includes("figma."))return di("URL must be a valid Figma URL");if(!(z.searchParams.get("type")==="design"||z.searchParams.get("mode")==="dev")){je.env.openExternal(je.Uri.parse(z.href));return}let[Q,be,ae,re]=z.pathname.split("/"),ve=z.searchParams.get("node-id");if(!ae)return di("URL must be a valid Figma URL");je.commands.executeCommand("figma.openFile",ae,re,ve)}})),rr.selectedLayerGuidListeners.add(R=>{rr.fileKey&&R&&aj(t,rr.fileKey,{nodeId:R})}),rr.selectedPageGuidListeners.add(R=>{rr.fileKey&&(rr.selectedLayerGuid||aj(t,rr.fileKey,{nodeId:R}))})}function v(){t.subscriptions.push(je.commands.registerCommand("figma.getHtmlSkeletonForSelectedLayer",()=>{s.sendGetHtmlSkeleton(),s.sendTrackEvent("vscode.html_skeleton_command_used")}),je.commands.registerCommand("figma.getTextForSelectedLayer",()=>{rr.text&&(w0(rr.text),s.sendTrackEvent("vscode.get_text_command_used"))}),je.commands.registerCommand("figma.getFontsImport",()=>{s.sendGetFontImports()})),s.htmlSkeletonReceivedListeners.add(R=>{mge(R,s)}),s.fontImportsReceivedListeners.add(R=>{R&&w0(R)})}function O(){t.subscriptions.push(je.commands.registerCommand("figma.selectLayer",R=>{s.sendSelectLayer(R)}),je.commands.registerCommand("figma.quickPickLayer",()=>{yge(rr,s)}),je.commands.registerCommand("figma.selectParentLayer",()=>{s.sendSelectParentLayer()}),je.commands.registerCommand("figma.expandLayer",()=>{s.sendExpandLayer()}),je.commands.registerCommand("figma.selectNextLayer",()=>{s.sendSelectNextLayer()}),je.commands.registerCommand("figma.selectPreviousLayer",()=>{s.sendSelectPreviousLayer()}),je.commands.registerCommand("figma.gotoPage",R=>{s.sendGotoPage(R)}))}function A(){t.subscriptions.push(je.commands.registerCommand("figma.createRelatedLinkForCurrentFile",R=>{if(!i.extensionOpen)return di("Open a Figma file and select a layer before creating a link");if(!rr.selectedLayerGuid)return di("Select a layer before creating a link");let z;R?z=Na(!0,je.Uri.file(R)):z=Na(!0),z&&(s.sendLinkCode(z),s.sendTrackEvent("vscode.related_link_created"),je.window.withProgress({location:je.ProgressLocation.Notification,title:"Code link created",cancellable:!1},async fe=>new Promise(Q=>{for(let be=0;be<30;be++)setTimeout(()=>{be===29&&Q(),fe.report({increment:10})},50*be)})))}),je.commands.registerCommand("figma.removeRelatedLinkForCurrentFile",async()=>{if(!i.relatedLinks||!i.relatedLinks.length){di("No related links for this file");return}if(i.relatedLinks.length===1)s.removeCodeLink(i.relatedLinks[0].link_url);else{let R=await je.window.showQuickPick(i.relatedLinks.map(z=>({label:`${z.link_name} (${z.file_name})`,relatedLink:z})),{placeHolder:"Select linked Figma component to remove link to"});R&&s.removeCodeLink(R.relatedLink.link_url)}}),je.commands.registerCommand("figma.gotoRelatedComponentForCurrentFile",async()=>{if(!i.relatedLinks||!i.relatedLinks.length){di("No related links for this file");return}if(i.relatedLinks.length===1)await xV(t,s,i,i.relatedLinks[0]);else{let R=await je.window.showQuickPick(i.relatedLinks.map(z=>({label:`${z.link_name} (${z.file_name})`,relatedLink:z})),{placeHolder:"Select linked Figma component to open"});R&&await xV(t,s,i,R.relatedLink)}})),s.gotoCodeReceivedListeners.add(()=>{je.commands.executeCommand("figma.gotoCodeForComponent")}),Sge(t,i,s)}function k(){je.window.onDidChangeActiveColorTheme(R=>{s.isReady()&&s.sendSetTheme(M0(R.kind))})}function U(){}function $(){t.subscriptions.push(je.commands.registerCommand("figma.saveDebugInformation",async()=>{await je.window.showInformationMessage("Select a location to save a file containing debug information to, then send the file to Figma support as an attachment","Continue");let R=await je.window.showSaveDialog({title:"Select a location to save Figma for VS Code debug information",defaultUri:je.Uri.joinPath(je.Uri.file((0,$ge.homedir)()),"Desktop","Figma for VS Code Debug Info.json")});if(!R)return;let z={};z["VS Code environment"]=Hd(),z["Extension state"]={loggedIn:Xi(t),userId:await bm(t),userHasCompletedOnboarding:i.userHasCompletedOnboarding,extensionOpen:i.extensionOpen},z["Extension config"]=je.workspace.getConfiguration("figma"),z["LiveGraph state"]=Kd,z["Sentry errors"]=D0.get(),z.Breadcrumbs=A0.get(),z.Log=Zl.get(),z["Installed extensions"]=je.extensions.all.map(fe=>fe.id),(0,Kge.writeFileSync)(R.fsPath,JSON.stringify(z))}),je.commands.registerCommand("figma.createTestSentryError",()=>{setTimeout(()=>{throw new Error("Test error")},500)}),je.commands.registerCommand("figma.createTestSentryMessage",()=>{zge.captureMessage("Test message")}),je.commands.registerCommand("figma.createTestSentryException",()=>{Je.exception("Test exception",{data:"Test Data"})}))}}function yrt(){Yge.forEach(t=>{clearInterval(t)}),gge(),uh()}0&&(module.exports={activate,deactivate,extensionContext,figmaState});
/*! Bundled license information:

mime-db/index.js:
  (*!
   * mime-db
   * Copyright(c) 2014 Jonathan Ong
   * Copyright(c) 2015-2022 Douglas Christopher Wilson
   * MIT Licensed
   *)

mime-types/index.js:
  (*!
   * mime-types
   * Copyright(c) 2014 Jonathan Ong
   * Copyright(c) 2015 Douglas Christopher Wilson
   * MIT Licensed
   *)

cookie/index.js:
  (*!
   * cookie
   * Copyright(c) 2012-2014 Roman Shtylman
   * Copyright(c) 2015 Douglas Christopher Wilson
   * MIT Licensed
   *)

localforage/dist/localforage.js:
  (*!
      localForage -- Offline Storage, Improved
      Version 1.10.0
      https://localforage.github.io/localForage
      (c) 2013-2017 Mozilla, Apache License 2.0
  *)

normalize-path/index.js:
  (*!
   * normalize-path <https://github.com/jonschlinkert/normalize-path>
   *
   * Copyright (c) 2014-2018, Jon Schlinkert.
   * Released under the MIT License.
   *)

is-extglob/index.js:
  (*!
   * is-extglob <https://github.com/jonschlinkert/is-extglob>
   *
   * Copyright (c) 2014-2016, Jon Schlinkert.
   * Licensed under the MIT License.
   *)

is-glob/index.js:
  (*!
   * is-glob <https://github.com/jonschlinkert/is-glob>
   *
   * Copyright (c) 2014-2017, Jon Schlinkert.
   * Released under the MIT License.
   *)

is-number/index.js:
  (*!
   * is-number <https://github.com/jonschlinkert/is-number>
   *
   * Copyright (c) 2014-present, Jon Schlinkert.
   * Released under the MIT License.
   *)

to-regex-range/index.js:
  (*!
   * to-regex-range <https://github.com/micromatch/to-regex-range>
   *
   * Copyright (c) 2015-present, Jon Schlinkert.
   * Released under the MIT License.
   *)

fill-range/index.js:
  (*!
   * fill-range <https://github.com/jonschlinkert/fill-range>
   *
   * Copyright (c) 2014-present, Jon Schlinkert.
   * Licensed under the MIT License.
   *)

lodash/lodash.js:
  (**
   * @license
   * Lodash <https://lodash.com/>
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   *)
*/
//# sourceMappingURL=figma-for-vs-code.js.map
